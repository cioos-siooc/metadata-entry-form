/*! For license information please see main.77c81a1e.js.LICENSE.txt */
(()=>{var e={8660:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Cite:()=>lt,logger:()=>z,plugins:()=>v,util:()=>b,version:()=>on});var r={};n.r(r),n.d(r,{currentVersion:()=>T,retrieveLastVersion:()=>S,retrieveVersion:()=>C,save:()=>O,undo:()=>k});var i={};n.r(i),n.d(i,{defaultOptions:()=>N,options:()=>D});var o={};n.r(o),n.d(o,{dataTypeOf:()=>B,typeOf:()=>M});var a={};n.r(a),n.d(a,{applyGraph:()=>Q,removeGraph:()=>U});var s={};n.r(s),n.d(s,{DataParser:()=>ne,FormatParser:()=>re,TypeParser:()=>te});var l={};n.r(l),n.d(l,{clean:()=>he});var c={};n.r(c),n.d(c,{add:()=>Le,addDataParser:()=>Oe,addTypeParser:()=>K,chain:()=>ve,chainAsync:()=>ye,chainLink:()=>be,chainLinkAsync:()=>_e,data:()=>ke,dataAsync:()=>Se,get:()=>Re,has:()=>De,hasDataParser:()=>Ae,hasTypeParser:()=>Y,list:()=>Me,listDataParser:()=>Pe,listTypeParser:()=>J,remove:()=>Ne,removeDataParser:()=>je,removeTypeParser:()=>Z,treeTypeParser:()=>X,type:()=>$,typeMatcher:()=>ee,util:()=>Be});var u={};n.r(u),n.d(u,{add:()=>Ue,addAsync:()=>Fe,reset:()=>He,set:()=>ze,setAsync:()=>qe});var d={};n.r(d),n.d(d,{sort:()=>Ke});var p={};n.r(p),n.d(p,{async:()=>Ye,validateOptions:()=>R,validateOutputOptions:()=>L});var h={};n.r(h),n.d(h,{add:()=>Xe,format:()=>rt,has:()=>tt,list:()=>nt,register:()=>Je,remove:()=>et});var f={};n.r(f),n.d(f,{format:()=>ot,get:()=>at,getIds:()=>it});var m={};n.r(m),n.d(m,{add:()=>ut,get:()=>ft,has:()=>pt,htmlDict:()=>mt,list:()=>ht,register:()=>ct,remove:()=>dt,textDict:()=>gt});var g={};n.r(g),n.d(g,{add:()=>bt,get:()=>yt,has:()=>_t,list:()=>wt,remove:()=>xt});var v={};n.r(v),n.d(v,{add:()=>Ct,config:()=>g,dict:()=>m,has:()=>St,input:()=>c,list:()=>Ot,output:()=>h,remove:()=>kt});var b={};n.r(b),n.d(b,{Grammar:()=>zt,Register:()=>Ze,TokenStack:()=>Ft,Translator:()=>Wt,deepCopy:()=>me,fetchFile:()=>Mt,fetchFileAsync:()=>Bt,fetchId:()=>Qe,setUserAgent:()=>Qt});var y={};n.r(y),n.d(y,{parse:()=>Gt});var _={};n.r(_),n.d(_,{parse:()=>Mt,parseAsync:()=>Bt});var x={};n.r(x),n.d(x,{default:()=>$t,parse:()=>$t});var w={};n.r(w),n.d(w,{parse:()=>Kt});var E={};n.r(E),n.d(E,{parse:()=>Yt});const T=function(){return this.log.length},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(e<=0||e>this.currentVersion())return null;{const[t,n]=this.log[e-1],r=new lt(JSON.parse(t),JSON.parse(n));return r.log=this.log.slice(0,e),r}},k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.retrieveVersion(this.currentVersion()-e)},S=function(){return this.retrieveVersion(this.currentVersion())},O=function(){return this.log.push([JSON.stringify(this.data),JSON.stringify(this._options)]),this},A=["real","string"],j=["json","html","string","rtf"],P=["csl","bibtex","bibtxt","citation-*","ris","ndjson"],I=["string","function"];function L(e){if("object"!==typeof e)throw new TypeError("Options not an object!");const{format:t,type:n,style:r,lang:i,append:o,prepend:a}=e;if(t&&!A.includes(t))throw new TypeError('Option format ("'.concat(t,'") should be one of: ').concat(A));if(n&&!j.includes(n))throw new TypeError('Option type ("'.concat(n,'") should be one of: ').concat(j));if(r&&!P.includes(r)&&!/^citation/.test(r))throw new TypeError('Option style ("'.concat(r,'") should be one of: ').concat(P));if(i&&"string"!==typeof i)throw new TypeError("Option lang should be a string, but is a ".concat(typeof i));if(a&&!I.includes(typeof a))throw new TypeError("Option prepend should be a string or a function, but is a ".concat(typeof a));if(o&&!I.includes(typeof o))throw new TypeError("Option append should be a string or a function, but is a ".concat(typeof o));if(/^citation/.test(r)&&"json"===n)throw new Error("Combination type/style of json/citation-* is not valid: ".concat(n,"/").concat(r));return!0}function R(e){if("object"!==typeof e)throw new TypeError("Options should be an object");if(e.output)L(e.output);else{if(e.maxChainLength&&"number"!==typeof e.maxChainLength)throw new TypeError("Option maxChainLength should be a number");if(e.forceType&&"string"!==typeof e.forceType)throw new TypeError("Option forceType should be a string");if(null!=e.generateGraph&&"boolean"!==typeof e.generateGraph)throw new TypeError("Option generateGraph should be a boolean");if(null!=e.strict&&"boolean"!==typeof e.strict)throw new TypeError("Option strict should be a boolean");if(null!=e.target&&"string"!==typeof e.target)throw new TypeError("Option target should be a boolean")}return!0}const N={format:"real",type:"json",style:"csl",lang:"en-US"},D=function(e,t){return L(e),t&&this.save(),Object.assign(this._options,e),this},M=e=>{switch(e){case void 0:return"Undefined";case null:return"Null";default:return e.constructor.name}},B=e=>{switch(typeof e){case"string":return"String";case"object":if(Array.isArray(e))return"Array";if("Object"===M(e))return"SimpleObject";if("Null"!==M(e))return"ComplexObject";default:return"Primitive"}},Q=(e,t)=>{if(e._graph){const n=t.findIndex((e=>{let{type:t}=e;return"@else/list+object"===t}));-1!==n&&t.splice(n+1,0,...e._graph.slice(0,-1))}return e._graph=t,e},U=e=>(delete e._graph,e),F={_output(e,t,n){this._log.push(t,n),this._levels.indexOf(e)<this._levels.indexOf(this.level)||this._console.log(t,...n)},_console:null,_log:[],_levels:["http","debug","unmapped","info","warn","error","silent"],level:"silent"};for(const an of F._levels)F[an]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return F._output(an,e,n)};"function"===typeof console.Console?F._console=new console.Console(process.stderr):F._console=console;const z=F,q={},H={},W={},G=(e,t)=>{switch(t){case"Array":return 0===e.length||e.every((e=>"@csl/object"===$(e)))?"@csl/list+object":"@else/list+object";case"SimpleObject":case"ComplexObject":return"@csl/object";default:return"@invalid"}},V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;for(const n of e)if(q[n].predicate(t))return V(q[n].extensions,t)||n},$=e=>{const t=B(e);if("Array"===t&&0===e.length)return G(e,t);return V(H[t],e)||G(e,t)},K=(e,t)=>{let{dataType:n,predicate:r,extends:i}=t,o=[];e in W&&(o=W[e],delete W[e],z.debug("[core]",'Subclasses "'.concat(o,'" finally registered to parent type "').concat(e,'"')));const a={predicate:r,extensions:o};if(q[e]=a,i){const t=q[i];t?t.extensions.push(e):(W[i]||(W[i]=[]),W[i].push(e),z.debug("[core]",'Subclass "'.concat(e,'" is waiting on parent type "').concat(i,'"')))}else{(H[n]||(H[n]=[])).push(e)}},Y=e=>Object.prototype.hasOwnProperty.call(q,e),Z=e=>{delete q[e];const t=[...Object.keys(H).map((e=>H[e])),...Object.keys(q).map((e=>q[e].extensions)).filter((e=>e.length>0))];t.forEach((t=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}))},J=()=>Object.keys(q),X=()=>{const e=t=>({name:t,children:q[t].extensions.map(e)});return{name:"Type tree",children:Object.keys(H).map((t=>({name:t,children:H[t].map(e)})))}},ee=/^(?:@(.+?))(?:\/(?:(.+?)\+)?(?:(.+)))?$/;class te{constructor(e){var t,n,r;r=["String","Array","SimpleObject","ComplexObject","Primitive"],(n="validDataTypes")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.data=e}validateDataType(){const e=this.data.dataType;if(e&&!this.validDataTypes.includes(e))throw new RangeError("dataType was ".concat(e,"; expected one of ").concat(this.validDataTypes))}validateParseType(){const e=this.data.predicate;if(e&&!(e instanceof RegExp||"function"===typeof e))throw new TypeError("predicate was ".concat(typeof e,"; expected RegExp or function"))}validateTokenList(){const e=this.data.tokenList;if(e&&"object"!==typeof e)throw new TypeError("tokenList was ".concat(typeof e,"; expected object or RegExp"))}validatePropertyConstraint(){const e=this.data.propertyConstraint;if(e&&"object"!==typeof e)throw new TypeError("propertyConstraint was ".concat(typeof e,"; expected array or object"))}validateElementConstraint(){const e=this.data.elementConstraint;if(e&&"string"!==typeof e)throw new TypeError("elementConstraint was ".concat(typeof e,"; expected string"))}validateExtends(){const e=this.data.extends;if(e&&"string"!==typeof e)throw new TypeError("extends was ".concat(typeof e,"; expected string"))}validate(){if(null===this.data||"object"!==typeof this.data)throw new TypeError("typeParser was ".concat(typeof this.data,"; expected object"));this.validateDataType(),this.validateParseType(),this.validateTokenList(),this.validatePropertyConstraint(),this.validateElementConstraint(),this.validateExtends()}parseTokenList(){let e=this.data.tokenList;if(!e)return[];e instanceof RegExp&&(e={token:e});const{token:t,split:n=/\s+/,trim:r=!0,every:i=!0}=e,o=i?"every":"some";return[e=>(e=>r?e.trim():e)(e).split(n)[o]((e=>t.test(e)))]}parsePropertyConstraint(){return[].concat(this.data.propertyConstraint||[]).map((e=>{let{props:t,match:n,value:r}=e;switch(t=[].concat(t),n){case"any":case"some":return e=>t.some((t=>t in e&&(!r||r(e[t]))));case"none":return e=>!t.some((t=>t in e&&(!r||r(e[t]))));default:return e=>t.every((t=>t in e&&(!r||r(e[t]))))}}))}parseElementConstraint(){const e=this.data.elementConstraint;return e?[t=>t.every((t=>$(t)===e))]:[]}parsePredicate(){return this.data.predicate instanceof RegExp?[this.data.predicate.test.bind(this.data.predicate)]:this.data.predicate?[this.data.predicate]:[]}getCombinedPredicate(){const e=[...this.parsePredicate(),...this.parseTokenList(),...this.parsePropertyConstraint(),...this.parseElementConstraint()];return 0===e.length?()=>!0:1===e.length?e[0]:t=>e.every((e=>e(t)))}getDataType(){return this.data.dataType?this.data.dataType:this.data.predicate instanceof RegExp||this.data.tokenList?"String":this.data.elementConstraint?"Array":"Primitive"}get dataType(){return this.getDataType()}get predicate(){return this.getCombinedPredicate()}get extends(){return this.data.extends}}class ne{constructor(e){let{async:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.parser=e,this.async=t}validate(){const e=this.parser;if("function"!==typeof e)throw new TypeError("parser was ".concat(typeof e,"; expected function"))}}class re{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.format=e,t.parseType&&(this.typeParser=new te(t.parseType)),t.parse&&(this.dataParser=new ne(t.parse,{async:!1})),t.parseAsync&&(this.asyncDataParser=new ne(t.parseAsync,{async:!0}))}validateFormat(){const e=this.format;if(!ee.test(e))throw new TypeError('format name was "'.concat(e,"\"; didn't match expected pattern"))}validate(){this.validateFormat(),this.typeParser&&this.typeParser.validate(),this.dataParser&&this.dataParser.validate(),this.asyncDataParser&&this.asyncDataParser.validate()}}var ie=n(6112);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const le={article:!0,"article-journal":!0,"article-magazine":!0,"article-newspaper":!0,bill:!0,book:!0,broadcast:!0,chapter:!0,classic:!0,collection:!0,dataset:!0,document:!0,entry:!0,"entry-dictionary":!0,"entry-encyclopedia":!0,event:!0,figure:!0,graphic:!0,hearing:!0,interview:!0,legal_case:!0,legislation:!0,manuscript:!0,map:!0,motion_picture:!0,musical_score:!0,pamphlet:!0,"paper-conference":!0,patent:!0,performance:!0,periodical:!0,personal_communication:!0,post:!0,"post-weblog":!0,regulation:!0,report:!0,review:!0,"review-book":!0,software:!0,song:!0,speech:!0,standard:!0,thesis:!0,treaty:!0,webpage:!0,"journal-article":"article-journal","book-chapter":"chapter","posted-content":"manuscript","proceedings-article":"paper-conference"},ce={author:2,"collection-editor":2,composer:2,"container-author":2,editor:2,"editorial-director":2,director:2,interviewer:2,illustrator:2,"original-author":2,"reviewed-author":2,recipient:2,translator:2,accessed:3,container:3,"event-date":3,issued:3,"original-date":3,submitted:3,type:4,categories:"object",id:["string","number"],language:"string",journalAbbreviation:"string",shortTitle:"string",abstract:"string",annote:"string",archive:"string",archive_location:"string","archive-place":"string",authority:"string","call-number":"string","chapter-number":"string","citation-number":"string","citation-label":"string","collection-number":"string","collection-title":"string","container-title":"string","container-title-short":"string",dimensions:"string",DOI:"string",edition:["string","number"],event:"string","event-place":"string","first-reference-note-number":"string",genre:"string",ISBN:"string",ISSN:"string",issue:["string","number"],jurisdiction:"string",keyword:"string",locator:"string",medium:"string",note:"string",number:["string","number"],"number-of-pages":"string","number-of-volumes":["string","number"],"original-publisher":"string","original-publisher-place":"string","original-title":"string",page:"string","page-first":"string",PMCID:"string",PMID:"string",publisher:"string","publisher-place":"string",references:"string","reviewed-title":"string",scale:"string",section:"string",source:"string",status:"string",title:"string","title-short":"string",URL:"string",version:"string",volume:["string","number"],"year-suffix":"string"},ue=function(e,t){return"object"===typeof e&&null!==e&&(e.literal||e.given||e.family)?e:t&&"string"===typeof e?(0,ie.parse)(e):void 0},de=function(e,t){return e.every((e=>"number"===typeof e))?e:!t||e.some((e=>isNaN(parseInt(e))))?void 0:e.map((e=>parseInt(e)))},pe=function(e,t,n){const r=[].concat(ce[e]);switch(ce[e]){case 1:return ue(t,n);case 2:return function(e,t){if(e instanceof Array){const n=e.map((e=>ue(e,t))).filter(Boolean);return n.length?n:void 0}}(t,n);case 3:return function(e,t){const n="date-parts";if("object"===typeof e&&null!==e){if(e[n]instanceof Array&&e[n].every((e=>e instanceof Array))){const r=e[n].map((e=>de(e,t))).filter(Boolean);return r.length?ae(ae({},e),{},{"date-parts":r}):void 0}if(e instanceof Array&&e.every((e=>e[n]instanceof Array))){const r=e.map((e=>de(e[n],t))).filter(Boolean);return r.length?{"date-parts":r}:void 0}if(e[n]instanceof Array){const r=de(e[n],t);return r&&{"date-parts":[r]}}return"literal"in e||"raw"in e?e:void 0}}(t,n);case 4:return function(e,t){return e=pe("language",e,t),!0===le[e]?e:t&&e in le?le[e]:void 0}(t,n)}if(/^_/.test(e))return t;if(n){if("string"===typeof t&&r.includes("number")&&!r.includes("string")&&!isNaN(+t))return parseFloat(t);if("number"===typeof t&&r.includes("string")&&!r.includes("number"))return t.toString();if(Array.isArray(t)&&t.length)return pe(e,t[0],n)}return r.includes(typeof t)?t:void 0},he=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.map((function(e){const n={};for(const r in e){const i=pe(r,e[r],t);void 0!==i&&(n[r]=i)}return n}))};function fe(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if("object"!==typeof e||null===e||e.constructor!==Object&&e.constructor!==Array)return e;if(n.has(e))throw new TypeError("Recursively copying circular structure");if(n.add(e),e.constructor===Array)t=e.map((e=>fe(e,n)));else{const r={};for(const t in e)r[t]=fe(e[t],n);t=r}return n.delete(e),t}const me=fe;class ge{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.options=Object.assign({generateGraph:!0,forceType:$(e),maxChainLength:10,strict:!0,target:"@csl/list+object"},t),this.type=this.options.forceType,this.data="object"===typeof e?me(e):e,this.graph=[{type:this.type,data:e}],this.iteration=0}iterate(){if(0!==this.iteration){const e=Re(this.type);e&&e.outputs?this.type=e.outputs:this.type=$(this.data),this.graph.push({type:this.type})}return!this.error&&this.type!==this.options.target&&(this.iteration>=this.options.maxChainLength?(this.error=new RangeError("Max. number of parsing iterations reached (".concat(this.graph.reduce(((e,t)=>{const n=e[e.length-1];return n&&n.type===t.type?n.count=n.count+1||2:e.push(t),e}),[]).map((e=>(e.count>1?e.count+"x ":"")+e.type)).join(" -> "),")")),!1):(this.iteration++,!0))}end(){if(this.error){if(z.error("[core]",this.error.message),!1!==this.options.strict)throw this.error;return[]}return"@csl/list+object"===this.options.target?this.data.map(this.options.generateGraph?e=>Q(e,this.graph):U):this.data}}const ve=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new ge(...t);for(;r.iterate();)try{r.data=ke(r.data,r.type)}catch(i){r.error=i}return r.end()},be=e=>{const t=$(e),n=t.match(/array|object/)?me(e):e;return ke(n,t)},ye=async function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new ge(...t);for(;r.iterate();)r.data=await Se(r.data,r.type).catch((e=>{r.error=e}));return r.end()},_e=async e=>{const t=$(e),n=t.match(/array|object/)?me(e):e;return Se(n,t)},xe=e=>[].concat(...e),we={},Ee={},Te={"@csl/object":e=>[e],"@csl/list+object":e=>e,"@else/list+object":e=>xe(e.map(ve)),"@invalid":()=>{throw new Error("This format is not supported or recognized")}},Ce={"@else/list+object":async e=>xe(await Promise.all(e.map(ye)))},ke=(e,t)=>{if("function"===typeof we[t])return we[t](e);if("function"===typeof Te[t])return Te[t](e);throw new TypeError("No synchronous parser found for ".concat(t))},Se=async(e,t)=>{if("function"===typeof Ee[t])return Ee[t](e);if("function"===typeof Ce[t])return Ce[t](e);if(Ae(t,!1))return ke(e,t);throw new TypeError("No parser found for ".concat(t))},Oe=(e,t)=>{let{parser:n,async:r}=t;r?Ee[e]=n:we[e]=n},Ae=(e,t)=>t?Ee[e]||Ce[e]:we[e]||Te[e],je=(e,t)=>{delete(t?Ee:we)[e]},Pe=e=>Object.keys(e?Ee:we),Ie={},Le=(e,t)=>{const n=new re(e,t);n.validate();const r=Ie[e]||(Ie[e]={});n.typeParser&&(K(e,n.typeParser),r.type=!0),n.dataParser&&(Oe(e,n.dataParser),r.data=!0),n.asyncDataParser&&(Oe(e,n.asyncDataParser),r.asyncData=!0),t.outputs&&(r.outputs=t.outputs)},Re=e=>Ie[e],Ne=e=>{const t=Ie[e];t&&(t.type&&Z(e),t.data&&je(e),t.asyncData&&je(e,!0),delete Ie[e])},De=e=>e in Ie,Me=()=>Object.keys(Ie),Be=Object.assign({},o,a,s,l),Qe=function(e,t){let n;for(;void 0===n||e.includes(n);)n="".concat(t).concat(Math.random().toString().slice(2));return n},Ue=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!0!==t&&!0!==(arguments.length>2&&void 0!==arguments[2]&&arguments[2])||this.save(),this.data.push(...ve(e,t)),this.data.filter((e=>!Object.prototype.hasOwnProperty.call(e,"id"))).forEach((e=>{e.id=Qe(this.getIds(),"temp_id_")})),this},Fe=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!0!==t&&!0!==(arguments.length>2&&void 0!==arguments[2]&&arguments[2])||this.save(),this.data.push(...await ye(e,t)),this.data.filter((e=>!Object.prototype.hasOwnProperty.call(e,"id"))).forEach((e=>{e.id=Qe(this.getIds(),"temp_id_")})),this},ze=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!0!==t&&!0!==(arguments.length>2&&void 0!==arguments[2]&&arguments[2])||this.save(),this.data=[],"boolean"!==typeof t?this.add(e,t):this.add(e)},qe=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!0!==t&&!0!==(arguments.length>2&&void 0!==arguments[2]&&arguments[2])||this.save(),this.data=[],"boolean"!==typeof t?this.addAsync(e,t):this.addAsync(e)},He=function(e){return e&&this.save(),this.data=[],this._options={},this},We=e=>{if("citation-label"in e)return e["citation-label"];let t="";return e.author&&(t+=e.author[0].family||e.author[0].literal),e.issued&&e.issued["date-parts"]&&e.issued["date-parts"][0]&&(t+=e.issued["date-parts"][0][0]),e["year-suffix"]?t+=e["year-suffix"]:e.title&&(t+=e.title.replace(/<\/?.*?>/g,"").match(/^(?:(?:the|a|an)\s+)?(\S+)/i)[1]),t},Ge={label:e=>e.reduce(((e,t)=>(e[t.id]=We(t),e)),{})},Ve=function(e,t){let n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label"===t)?We(e):e[t];switch(t){case"author":case"editor":return n.map((e=>e.literal||e.family||(0,ie.format)(e)));case"accessed":case"issued":return n["date-parts"][0];case"page":return n.split("-").map((e=>parseInt(e)));case"edition":case"issue":case"volume":return n=parseInt(n),isNaN(n)?-1/0:n;default:return n||-1/0}},$e=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:/^!/.test(n);n=n.replace(/^!/,"");const i=Ve(e,n),o=Ve(t,n);return(r?-1:1)*(i>o?1:i<o?-1:0)},Ke=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(arguments.length>1?arguments[1]:void 0)&&this.save(),this.data.sort("function"===typeof e?e:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(e,n)=>{const r=t.slice();let i=0;for(;!i&&r.length;)i=$e(e,n,r.shift());return i}}(...e,"label")),this},Ye=function(e,t,n){"function"!==typeof t||n||(n=t,t=void 0);const r=lt().setAsync(e,t);return"function"===typeof n?void r.then(n):r};const Ze=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.data=e}set(e,t){return this.data[e]=t,this}add(){return this.set(...arguments)}delete(e){return delete this.data[e],this}remove(){return this.delete(...arguments)}get(e){return this.data[e]}has(e){return Object.prototype.hasOwnProperty.call(this.data,e)}list(){return Object.keys(this.data)}},Je=new Ze,Xe=(e,t)=>{((e,t)=>{if("string"!==typeof e)throw new TypeError("Invalid output format name, expected string, got ".concat(typeof e));if("function"!==typeof t)throw new TypeError("Invalid formatter, expected function, got ".concat(typeof t))})(e,t),Je.set(e,t)},et=e=>{Je.remove(e)},tt=e=>Je.has(e),nt=()=>Je.list(),rt=function(e,t){if(!Je.has(e))throw new Error('Output format "'.concat(e,'" unavailable'));for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Je.get(e)(t,...r)};function it(){return this.data.map((e=>e.id))}function ot(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return rt(e,he(this.data),...n)}function at(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};L(e);const t=Object.assign({},this.defaultOptions,this._options.output,e),{type:n,style:r}=t,[i,o]=r.split("-"),a="citation"===i?"bibliography":"csl"===i?"data":i,s="string"===n?"text":"json"===n?"object":n;let l;switch(a){case"bibliography":{const{lang:e,append:n,prepend:r}=t;l={template:o,lang:e,format:s,append:n,prepend:r};break}case"data":case"bibtex":case"bibtxt":case"ndjson":case"ris":l={type:s};break;default:throw new Error('Invalid style "'.concat(a,'"'))}const c=this.format(a,Object.assign(l,e._newOptions)),{format:u}=t;if("real"===u&&"html"===s&&"undefined"!==typeof document&&"function"===typeof document.createElement){const e=document.createElement("div");return e.innerHTML=c,e.firstChild}return"string"===u&&"object"===typeof c?JSON.stringify(c):c}function st(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this instanceof st?(this._options=t,this.log=[],this.data=[],this.set(e,t),this.options(t),this):new st(e,t)}Object.assign(st.prototype,r,i,u,d,f),st.prototype[Symbol.iterator]=function*(){yield*this.data},Object.assign(st,p);const lt=st,ct=new Ze({html:{bibliographyContainer:['<div class="csl-bib-body">',"</div>"],entry:['<div class="csl-entry">',"</div>"],list:['<ul style="list-style-type:none">',"</ul>"],listItem:["<li>","</li>"]},text:{bibliographyContainer:["","\n"],entry:["","\n"],list:["\n",""],listItem:["\t","\n"]}}),ut=(e,t)=>{((e,t)=>{if("string"!==typeof e)throw new TypeError("Invalid dict name, expected string, got ".concat(typeof e));if("object"!==typeof t)throw new TypeError("Invalid dict, expected object, got ".concat(typeof t));for(const n in t){const e=t[n];if(!Array.isArray(e)||e.some((e=>"string"!==typeof e)))throw new TypeError('Invalid dict entry "'.concat(n,'", expected array of strings'))}})(e,t),ct.set(e,t)},dt=e=>{ct.remove(e)},pt=e=>ct.has(e),ht=()=>ct.list(),ft=e=>{if(!ct.has(e))throw new Error('Dict "'.concat(e,'" unavailable'));return ct.get(e)},mt={wr_start:'<div class="csl-bib-body">',wr_end:"</div>",en_start:'<div class="csl-entry">',en_end:"</div>",ul_start:'<ul style="list-style-type:none">',ul_end:"</ul>",li_start:"<li>",li_end:"</li>"},gt={wr_start:"",wr_end:"\n",en_start:"",en_end:"\n",ul_start:"\n",ul_end:"",li_start:"\t",li_end:"\n"},vt={},bt=(e,t)=>{vt[e]=t},yt=e=>vt[e],_t=e=>Object.prototype.hasOwnProperty.call(vt,e),xt=e=>{delete vt[e]},wt=()=>Object.keys(vt),Et={input:c,output:h,dict:m,config:g},Tt={},Ct=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Tt[e]={};for(const r in t){if("config"===r){n.config={[e]:t.config},Et.config.add(e,t.config);continue}const i=n[r]={},o=t[r];for(const e in o){const t=o[e];i[e]=!0,Et[r].add(e,t)}}},kt=e=>{const t=Tt[e];for(const n in t){const e=t[n];for(const t in e)Et[n].remove(t)}delete Tt[e]},St=e=>e in Tt,Ot=()=>Object.keys(Tt);var At=n(5296),jt=n.n(At),Pt=(n(3256),n(6144));const It="undefined"!==typeof location&&"undefined"!==typeof document;let Lt=It?"":"Citation.js/".concat(Pt.version," Node.js/").concat(process.version);function Rt(e){const t={},n=e instanceof Headers||e instanceof jt().Headers?Array.from(e):Object.entries(e);for(const[r,i]of n)t[r.toLowerCase()]=i.toString();return t}function Nt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={headers:{accept:"*/*"},method:"GET",checkContentType:e.checkContentType};if(Lt&&!It&&(t.headers["user-agent"]=Lt),e.body){t.method="POST";const n="string"!==typeof e.body;t.body=n?JSON.stringify(e.body):e.body,t.headers["content-type"]=n?"application/json":"text/plain"}return e.headers&&Object.assign(t.headers,Rt(e.headers)),t}function Dt(e,t){const{status:n,headers:r}=e;let i;if(n>=400?i=new Error("Server responded with status code ".concat(n)):!0!==t.checkContentType||function(e,t){if(!e.accept||"*/*"===e.accept||!t["content-type"])return!0;const[n,r]=t["content-type"].split(";")[0].trim().split("/");return e.accept.split(",").map((e=>e.split(";")[0].trim().split("/"))).some((e=>{let[t,i]=e;return(t===n||"*"===t)&&(i===r||"*"===i)}))}(t.headers,Rt(r))||(i=new Error("Server responded with content-type ".concat(r.get("content-type")))),i)throw i.status=n,i.headers=r,i.body=e.body,i;return e}function Mt(e,t){const n=Nt(t);z.http("[core]",n.method,e,n);return Dt(jt()(e,n),n).text()}async function Bt(e,t){const n=Nt(t);return z.http("[core]",n.method,e,n),fetch(e,n).then((e=>Dt(e,n))).then((e=>e.text()))}function Qt(e){Lt=e}class Ut{constructor(e){this.stack=e,this.index=0,this.current=this.stack[this.index]}static getPatternText(e){return'"'.concat(e instanceof RegExp?e.source:e,'"')}static getMatchCallback(e){if(Array.isArray(e)){const t=e.map(Ut.getMatchCallback);return e=>t.some((t=>t(e)))}return e instanceof Function?e:e instanceof RegExp?t=>e.test(t):t=>e===t}tokensLeft(){return this.stack.length-this.index}matches(e){return Ut.getMatchCallback(e)(this.current,this.index,this.stack)}matchesSequence(e){const t=this.stack.slice(this.index,this.index+e.length).join("");return"string"===typeof e?t===e:e.every(((e,n)=>Ut.getMatchCallback(e)(t[n])))}consumeToken(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/^[\s\S]$/,{inverse:t=!1,spaced:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n&&this.consumeWhitespace();const r=this.current;if(!Ut.getMatchCallback(e)(r,this.index,this.stack))throw new SyntaxError("Unexpected token at index ".concat(this.index,": Expected ").concat(Ut.getPatternText(e),', got "').concat(r,'"'));return this.current=this.stack[++this.index],n&&this.consumeWhitespace(),r}consumeWhitespace(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/^\s$/,{optional:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.consume(e,{min:+!t})}consumeN(e){if(this.tokensLeft()<e)throw new SyntaxError("Not enough tokens left");const t=this.index;for(;e--;)this.current=this.stack[++this.index];return this.stack.slice(t,this.index).join("")}consumeSequence(e){if(this.matchesSequence(e))return this.consumeN(e.length);throw new SyntaxError('Expected "'.concat(e,'", got "').concat(this.consumeN(e.length),'"'))}consume(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/^[\s\S]$/,{min:t=0,max:n=1/0,inverse:r=!1,tokenMap:i,tokenFilter:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=this.index,s=Ut.getMatchCallback(e);for(;s(this.current,this.index,this.stack)!==r;)this.current=this.stack[++this.index];let l=this.stack.slice(a,this.index);if(l.length<t)throw new SyntaxError("Not enough ".concat(Ut.getPatternText(e)));if(l.length>n)throw new SyntaxError("Too many ".concat(Ut.getPatternText(e)));return i&&(l=l.map(i)),o&&(l=l.filter(o)),l.join("")}}const Ft=Ut;class zt{constructor(e,t){this.rules=e,this.defaultState=t,this.mainRule=Object.keys(e)[0],this.log=[]}parse(e,t){return this.lexer=e,this.token=this.lexer.next(),this.state=fe(this.defaultState),this.log=[],this.consumeRule(t||this.mainRule)}matchEndOfFile(){return!this.token}matchToken(e){return this.token&&e===this.token.type}consumeToken(e,t){const n=this.token;if(!e||n&&n.type===e)return this.token=this.lexer.next(),n;if(!t){const t=n?'"'.concat(n.type,'"'):"EOF",r=new SyntaxError(this.lexer.formatError(n,'expected "'.concat(e,'", got ').concat(t)));throw r.message+=" (".concat(this.log.join("->"),")"),r}}consumeRule(e){this.log.push(e);const t=this.rules[e].call(this);return this.log.pop(),t}}function qt(e,t){let n,r,i,o;if("string"===typeof e)n=r=e;else{if(!e)return null;n=t?e.target:e.source,r=t?e.source:e.target,e.convert&&(i=t?e.convert.toSource:e.convert.toTarget),e.when&&(o=t?e.when.target:e.when.source,null!=o&&(o=function(e){return function(t){return"boolean"===typeof e?e:Object.keys(e).every((n=>{const r=e[n];return!0===r?n in t:!1===r?!(n in t):"function"===typeof r?r(t[n]):Array.isArray(r)?r.includes(t[n]):t[n]===r}))}}(o)))}return n=[].concat(n).filter(Boolean),r=[].concat(r).filter(Boolean),{inputProp:n,outputProp:r,convert:i,condition:o}}function Ht(e,t){return t=t===Wt.CONVERT_TO_SOURCE,e=e.map((e=>qt(e,t))).filter(Boolean),function(t){const n={};for(const{inputProp:i,outputProp:o,convert:a,condition:s}of e){if(0===o.length)continue;if(s&&!s(t))continue;if(0!==i.length&&i.every((e=>!(e in t))))continue;let e=i.map((e=>t[e]));if(a)try{const n=a.apply(t,e);e=1===o.length?[n]:n}catch(r){throw new Error("Failed to convert ".concat(i," to ").concat(o),{cause:r})}o.forEach(((t,r)=>{const i=e[r];void 0!==i&&(n[t]=i)}))}return n}}class Wt{constructor(e){this.convertToSource=Ht(e,Wt.CONVERT_TO_SOURCE),this.convertToTarget=Ht(e,Wt.CONVERT_TO_TARGET)}}Wt.CONVERT_TO_SOURCE=Symbol("convert to source"),Wt.CONVERT_TO_TARGET=Symbol("convert to target");const Gt=()=>[],Vt=[[/((?:\[|:|,)\s*)'((?:\\'|[^'])*?[^\\])?'(?=\s*(?:\]|}|,))/g,'$1"$2"'],[/((?:(?:"|]|}|\/[gmiuys]|\.|(?:\d|\.|-)*\d)\s*,|{)\s*)(?:"([^":\n]+?)"|'([^":\n]+?)'|([^":\n]+?))(\s*):/g,'$1"$2$3$4"$5:']],$t=function(e){if("string"!==typeof e)return JSON.parse(e);try{return JSON.parse(e)}catch(t){return z.debug("[plugin-common]","Invalid JSON, switching to experimental parser"),Vt.forEach((t=>{let[n,r]=t;e=e.replace(n,r)})),JSON.parse(e)}};function Kt(e){return e.val()||e.text()||e.html()}function Yt(e){return e.value||e.textContent}const Zt={"@empty/text":{parse:Gt,parseType:{dataType:"String",predicate:e=>""===e}},"@empty/whitespace+text":{parse:Gt,parseType:{dataType:"String",predicate:/^\s+$/}},"@empty":{parse:Gt,parseType:{dataType:"Primitive",predicate:e=>null==e}},"@else/json":{parse:$t,parseType:{dataType:"String",predicate:/^\s*(\{[\S\s]*\}|\[[\S\s]*\])\s*$/}},"@else/url":{parse:Mt,parseAsync:Bt,parseType:{dataType:"String",predicate:/^https?:\/\/(([\w-]+\.)*[\w-]+)(:\d+)?(\/[^?/]*)*(\?[^#]*)?(#.*)?$/i}},"@else/jquery":{parse:Kt,parseType:{dataType:"ComplexObject",predicate:e=>"undefined"!==typeof jQuery&&e instanceof jQuery}},"@else/html":{parse:Yt,parseType:{dataType:"ComplexObject",predicate:e=>"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}}},Jt=(e,t,n)=>e+(t<n.length-1?",":""),Xt=function(e,t){const n=Array.isArray(e);let r;return r=n?e.map((e=>en(e,t))):Object.keys(e).filter((t=>JSON.stringify(e[t]))).map((n=>'"'.concat(n,'": ').concat(en(e[n],t)))),r=r.map(Jt).map((e=>t.listItem.join(e))),r=t.list.join(r.join("")),n?"[".concat(r,"]"):"{".concat(r,"}")},en=function(e,t){return"object"===typeof e&&null!==e?0===e.length?"[]":0===Object.keys(e).length?"{}":Xt(e,t):JSON.stringify(e)},tn=function(e,t){let n=e.map((e=>Xt(e,t)));return n=n.map(Jt).map((e=>t.entry.join(e))),n=n.join(""),t.bibliographyContainer.join("[".concat(n,"]"))};const nn={data(e){let{type:t,format:n=t||"text"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"object"===n?me(e):"text"===n?JSON.stringify(e,null,2):(z.warn("[core]","This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144"),tn(e,ft(n)))},ndjson:e=>e.map((e=>JSON.stringify(e))).join("\n")},rn=Object.assign({},nn,Ge);Ct("@else",{input:Zt,output:rn});const on=Pt.version},6116:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n={_output(e,t,n){this._log.push(t,n),this._levels.indexOf(e)<this._levels.indexOf(this.level)||this._console.log(t,...n)},_console:null,_log:[],_levels:["http","debug","unmapped","info","warn","error","silent"],level:"silent"};for(const i of n._levels)n[i]=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return n._output(i,e,r)};"function"===typeof console.Console?n._console=new console.Console(process.stderr):n._console=console;var r=n;t.default=r},2169:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;t.parse=()=>[]},8968:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e){return e.value||e.textContent}},7767:(e,t,n)=>{"use strict";t.a8=void 0;var r=c(n(2169)),i=c(n(68)),o=c(n(2956)),a=c(n(8788)),s=c(n(8968));function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const u={empty:r,url:i,json:o,jquery:a,html:s};t.a8=u;r.parse,r.parse,r.parse,o.parse,i.parse,i.parseAsync,a.parse,s.parse},8788:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e){return e.val()||e.text()||e.html()}},2956:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=t.default=void 0;var r,i=(r=n(6116))&&r.__esModule?r:{default:r};const o=[[/((?:\[|:|,)\s*)'((?:\\'|[^'])*?[^\\])?'(?=\s*(?:\]|}|,))/g,'$1"$2"'],[/((?:(?:"|]|}|\/[gmiuys]|\.|(?:\d|\.|-)*\d)\s*,|{)\s*)(?:"([^":\n]+?)"|'([^":\n]+?)'|([^":\n]+?))(\s*):/g,'$1"$2$3$4"$5:']];t.default=t.parse=function(e){if("string"!==typeof e)return JSON.parse(e);try{return JSON.parse(e)}catch(t){return i.default.debug("[plugin-common]","Invalid JSON, switching to experimental parser"),o.forEach((t=>{let[n,r]=t;e=e.replace(n,r)})),JSON.parse(e)}}},68:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return r.fetchFile}}),Object.defineProperty(t,"parseAsync",{enumerable:!0,get:function(){return r.fetchFileAsync}});var r=n(4320)},6532:(e,t,n)=>{"use strict";t.c=void 0;var r=o(n(2032)),i=o(n(5796));function o(e){return e&&e.__esModule?e:{default:e}}var a=Object.assign({},r.default,i.default);t.c=a},2032:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getJsonWrapper=function(e){return p(e,i.dict.get("html"))};var r,i=l(n(7252)),o=l(n(4320)),a=(r=n(6116))&&r.__esModule?r:{default:r};function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}const c=(e,t,n)=>e+(t<n.length-1?",":""),u=function(e,t){const n=Array.isArray(e);let r;return r=n?e.map((e=>d(e,t))):Object.keys(e).filter((t=>JSON.stringify(e[t]))).map((n=>'"'.concat(n,'": ').concat(d(e[n],t)))),r=r.map(c).map((e=>t.listItem.join(e))),r=t.list.join(r.join("")),n?"[".concat(r,"]"):"{".concat(r,"}")},d=function(e,t){return"object"===typeof e&&null!==e?0===e.length?"[]":0===Object.keys(e).length?"{}":u(e,t):JSON.stringify(e)},p=function(e,t){let n=e.map((e=>u(e,t)));return n=n.map(c).map((e=>t.entry.join(e))),n=n.join(""),t.bibliographyContainer.join("[".concat(n,"]"))};var h={data(e){let{type:t,format:n=t||"text"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"object"===n?o.deepCopy(e):"text"===n?JSON.stringify(e,null,2):(a.default.warn("[core]","This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144"),p(e,i.dict.get(n)))},ndjson:e=>e.map((e=>JSON.stringify(e))).join("\n")};t.default=h},5796:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLabel=t.default=void 0;const n=e=>{if("citation-label"in e)return e["citation-label"];let t="";return e.author&&(t+=e.author[0].family||e.author[0].literal),e.issued&&e.issued["date-parts"]&&e.issued["date-parts"][0]&&(t+=e.issued["date-parts"][0][0]),e["year-suffix"]?t+=e["year-suffix"]:e.title&&(t+=e.title.replace(/<\/?.*?>/g,"").match(/^(?:(?:the|a|an)\s+)?(\S+)/i)[1]),t};t.getLabel=n;var r={label:e=>e.reduce(((e,t)=>(e[t.id]=n(t),e)),{})};t.default=r},1624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove=t.list=t.has=t.get=t.add=void 0;const n={};t.add=(e,t)=>{n[e]=t};t.get=e=>n[e];t.has=e=>Object.prototype.hasOwnProperty.call(n,e);t.remove=e=>{delete n[e]};t.list=()=>Object.keys(n)},2040:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.textDict=t.remove=t.register=t.list=t.htmlDict=t.has=t.get=t.add=void 0;var r,i=(r=n(8060))&&r.__esModule?r:{default:r};const o=new i.default({html:{bibliographyContainer:['<div class="csl-bib-body">',"</div>"],entry:['<div class="csl-entry">',"</div>"],list:['<ul style="list-style-type:none">',"</ul>"],listItem:["<li>","</li>"]},text:{bibliographyContainer:["","\n"],entry:["","\n"],list:["\n",""],listItem:["\t","\n"]}});t.register=o;t.add=(e,t)=>{((e,t)=>{if("string"!==typeof e)throw new TypeError("Invalid dict name, expected string, got ".concat(typeof e));if("object"!==typeof t)throw new TypeError("Invalid dict, expected object, got ".concat(typeof t));for(const n in t){const e=t[n];if(!Array.isArray(e)||e.some((e=>"string"!==typeof e)))throw new TypeError('Invalid dict entry "'.concat(n,'", expected array of strings'))}})(e,t),o.set(e,t)};t.remove=e=>{o.remove(e)};t.has=e=>o.has(e);t.list=()=>o.list();t.get=e=>{if(!o.has(e))throw new Error('Dict "'.concat(e,'" unavailable'));return o.get(e)};t.htmlDict={wr_start:'<div class="csl-bib-body">',wr_end:"</div>",en_start:'<div class="csl-entry">',en_end:"</div>",ul_start:'<ul style="list-style-type:none">',ul_end:"</ul>",li_start:"<li>",li_end:"</li>"};t.textDict={wr_start:"",wr_end:"\n",en_start:"",en_end:"\n",ul_start:"\n",ul_end:"",li_start:"\t",li_end:"\n"}},7252:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove=t.output=t.list=t.input=t.has=t.dict=t.config=t.add=void 0;var r=l(n(6440));t.input=r;var i=l(n(548));t.output=i;var o=l(n(2040));t.dict=o;var a=l(n(1624));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}t.config=a;const c={input:r,output:i,dict:o,config:a},u={};t.add=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=u[e]={};for(const r in t){if("config"===r){n.config={[e]:t.config},c.config.add(e,t.config);continue}const i=n[r]={},o=t[r];for(const e in o){const t=o[e];i[e]=!0,c[r].add(e,t)}}};t.remove=e=>{const t=u[e];for(const n in t){const e=t[n];for(const t in e)c[n].remove(t)}delete u[e]};t.has=e=>e in u;t.list=()=>Object.keys(u)},3300:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chainLinkAsync=t.chainLink=t.chainAsync=t.chain=void 0;var r=c(n(1964)),i=c(n(6116)),o=n(8904),a=n(9624),s=n(9320),l=n(2704);function c(e){return e&&e.__esModule?e:{default:e}}class u{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.options=Object.assign({generateGraph:!0,forceType:(0,a.type)(e),maxChainLength:10,strict:!0,target:"@csl/list+object"},t),this.type=this.options.forceType,this.data="object"===typeof e?(0,r.default)(e):e,this.graph=[{type:this.type,data:e}],this.iteration=0}iterate(){if(0!==this.iteration){const e=(0,o.get)(this.type);e&&e.outputs?this.type=e.outputs:this.type=(0,a.type)(this.data),this.graph.push({type:this.type})}return!this.error&&this.type!==this.options.target&&(this.iteration>=this.options.maxChainLength?(this.error=new RangeError("Max. number of parsing iterations reached (".concat(this.graph.reduce(((e,t)=>{const n=e[e.length-1];return n&&n.type===t.type?n.count=n.count+1||2:e.push(t),e}),[]).map((e=>(e.count>1?e.count+"x ":"")+e.type)).join(" -> "),")")),!1):(this.iteration++,!0))}end(){if(this.error){if(i.default.error("[core]",this.error.message),!1!==this.options.strict)throw this.error;return[]}return"@csl/list+object"===this.options.target?this.data.map(this.options.generateGraph?e=>(0,l.applyGraph)(e,this.graph):l.removeGraph):this.data}}t.chain=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new u(...t);for(;r.iterate();)try{r.data=(0,s.data)(r.data,r.type)}catch(i){r.error=i}return r.end()};t.chainLink=e=>{const t=(0,a.type)(e),n=t.match(/array|object/)?(0,r.default)(e):e;return(0,s.data)(n,t)};t.chainAsync=async function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=new u(...t);for(;r.iterate();)r.data=await(0,s.dataAsync)(r.data,r.type).catch((e=>{r.error=e}));return r.end()};t.chainLinkAsync=async e=>{const t=(0,a.type)(e),n=t.match(/array|object/)?(0,r.default)(e):e;return(0,s.dataAsync)(n,t)}},5888:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clean=void 0;var r=n(6112);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s={article:!0,"article-journal":!0,"article-magazine":!0,"article-newspaper":!0,bill:!0,book:!0,broadcast:!0,chapter:!0,classic:!0,collection:!0,dataset:!0,document:!0,entry:!0,"entry-dictionary":!0,"entry-encyclopedia":!0,event:!0,figure:!0,graphic:!0,hearing:!0,interview:!0,legal_case:!0,legislation:!0,manuscript:!0,map:!0,motion_picture:!0,musical_score:!0,pamphlet:!0,"paper-conference":!0,patent:!0,performance:!0,periodical:!0,personal_communication:!0,post:!0,"post-weblog":!0,regulation:!0,report:!0,review:!0,"review-book":!0,software:!0,song:!0,speech:!0,standard:!0,thesis:!0,treaty:!0,webpage:!0,"journal-article":"article-journal","book-chapter":"chapter","posted-content":"manuscript","proceedings-article":"paper-conference"},l={author:2,"collection-editor":2,composer:2,"container-author":2,editor:2,"editorial-director":2,director:2,interviewer:2,illustrator:2,"original-author":2,"reviewed-author":2,recipient:2,translator:2,accessed:3,container:3,"event-date":3,issued:3,"original-date":3,submitted:3,type:4,categories:"object",id:["string","number"],language:"string",journalAbbreviation:"string",shortTitle:"string",abstract:"string",annote:"string",archive:"string",archive_location:"string","archive-place":"string",authority:"string","call-number":"string","chapter-number":"string","citation-number":"string","citation-label":"string","collection-number":"string","collection-title":"string","container-title":"string","container-title-short":"string",dimensions:"string",DOI:"string",edition:["string","number"],event:"string","event-place":"string","first-reference-note-number":"string",genre:"string",ISBN:"string",ISSN:"string",issue:["string","number"],jurisdiction:"string",keyword:"string",locator:"string",medium:"string",note:"string",number:["string","number"],"number-of-pages":"string","number-of-volumes":["string","number"],"original-publisher":"string","original-publisher-place":"string","original-title":"string",page:"string","page-first":"string",PMCID:"string",PMID:"string",publisher:"string","publisher-place":"string",references:"string","reviewed-title":"string",scale:"string",section:"string",source:"string",status:"string",title:"string","title-short":"string",URL:"string",version:"string",volume:["string","number"],"year-suffix":"string"},c=function(e,t){return"object"===typeof e&&null!==e&&(e.literal||e.given||e.family)?e:t&&"string"===typeof e?(0,r.parse)(e):void 0},u=function(e,t){return e.every((e=>"number"===typeof e))?e:!t||e.some((e=>isNaN(parseInt(e))))?void 0:e.map((e=>parseInt(e)))},d=function(e,t,n){const r=[].concat(l[e]);switch(l[e]){case 1:return c(t,n);case 2:return function(e,t){if(e instanceof Array){const n=e.map((e=>c(e,t))).filter(Boolean);return n.length?n:void 0}}(t,n);case 3:return function(e,t){const n="date-parts";if("object"===typeof e&&null!==e){if(e[n]instanceof Array&&e[n].every((e=>e instanceof Array))){const r=e[n].map((e=>u(e,t))).filter(Boolean);return r.length?o(o({},e),{},{"date-parts":r}):void 0}if(e instanceof Array&&e.every((e=>e[n]instanceof Array))){const r=e.map((e=>u(e[n],t))).filter(Boolean);return r.length?{"date-parts":r}:void 0}if(e[n]instanceof Array){const r=u(e[n],t);return r&&{"date-parts":[r]}}return"literal"in e||"raw"in e?e:void 0}}(t,n);case 4:return function(e,t){return e=d("language",e,t),!0===s[e]?e:t&&e in s?s[e]:void 0}(t,n)}if(/^_/.test(e))return t;if(n){if("string"===typeof t&&r.includes("number")&&!r.includes("string")&&!isNaN(+t))return parseFloat(t);if("number"===typeof t&&r.includes("string")&&!r.includes("number"))return t.toString();if(Array.isArray(t)&&t.length)return d(e,t[0],n)}return r.includes(typeof t)?t:void 0};t.clean=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.map((function(e){const n={};for(const r in e){const i=d(r,e[r],t);void 0!==i&&(n[r]=i)}return n}))}},9320:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeDataParser=t.listDataParser=t.hasDataParser=t.dataAsync=t.data=t.addDataParser=void 0;var r=n(3300);const i=e=>[].concat(...e),o={},a={},s={"@csl/object":e=>[e],"@csl/list+object":e=>e,"@else/list+object":e=>i(e.map(r.chain)),"@invalid":()=>{throw new Error("This format is not supported or recognized")}},l={"@else/list+object":async e=>i(await Promise.all(e.map(r.chainAsync)))},c=(e,t)=>{if("function"===typeof o[t])return o[t](e);if("function"===typeof s[t])return s[t](e);throw new TypeError("No synchronous parser found for ".concat(t))};t.data=c;t.dataAsync=async(e,t)=>{if("function"===typeof a[t])return a[t](e);if("function"===typeof l[t])return l[t](e);if(u(t,!1))return c(e,t);throw new TypeError("No parser found for ".concat(t))};t.addDataParser=(e,t)=>{let{parser:n,async:r}=t;r?a[e]=n:o[e]=n};const u=(e,t)=>t?a[e]||l[e]:o[e]||s[e];t.hasDataParser=u;t.removeDataParser=(e,t)=>{delete(t?a:o)[e]};t.listDataParser=e=>Object.keys(e?a:o)},4040:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeOf=t.dataTypeOf=void 0;const n=e=>{switch(e){case void 0:return"Undefined";case null:return"Null";default:return e.constructor.name}};t.typeOf=n;t.dataTypeOf=e=>{switch(typeof e){case"string":return"String";case"object":if(Array.isArray(e))return"Array";if("Object"===n(e))return"SimpleObject";if("Null"!==n(e))return"ComplexObject";default:return"Primitive"}}},2704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeGraph=t.applyGraph=void 0;t.applyGraph=(e,t)=>{if(e._graph){const n=t.findIndex((e=>{let{type:t}=e;return"@else/list+object"===t}));-1!==n&&t.splice(n+1,0,...e._graph.slice(0,-1))}return e._graph=t,e};t.removeGraph=e=>(delete e._graph,e)},6440:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={util:!0};t.util=void 0;var i=h(n(4040)),o=h(n(2704)),a=h(n(5944)),s=h(n(5888)),l=n(8904);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var c=n(3300);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var u=n(9624);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var d=n(9320);function p(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}Object.keys(d).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===d[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}}))}));const f=Object.assign({},i,o,a,s);t.util=f},5944:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeParser=t.FormatParser=t.DataParser=void 0;var r=n(9624);class i{constructor(e){var t,n,r;r=["String","Array","SimpleObject","ComplexObject","Primitive"],(n="validDataTypes")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this.data=e}validateDataType(){const e=this.data.dataType;if(e&&!this.validDataTypes.includes(e))throw new RangeError("dataType was ".concat(e,"; expected one of ").concat(this.validDataTypes))}validateParseType(){const e=this.data.predicate;if(e&&!(e instanceof RegExp||"function"===typeof e))throw new TypeError("predicate was ".concat(typeof e,"; expected RegExp or function"))}validateTokenList(){const e=this.data.tokenList;if(e&&"object"!==typeof e)throw new TypeError("tokenList was ".concat(typeof e,"; expected object or RegExp"))}validatePropertyConstraint(){const e=this.data.propertyConstraint;if(e&&"object"!==typeof e)throw new TypeError("propertyConstraint was ".concat(typeof e,"; expected array or object"))}validateElementConstraint(){const e=this.data.elementConstraint;if(e&&"string"!==typeof e)throw new TypeError("elementConstraint was ".concat(typeof e,"; expected string"))}validateExtends(){const e=this.data.extends;if(e&&"string"!==typeof e)throw new TypeError("extends was ".concat(typeof e,"; expected string"))}validate(){if(null===this.data||"object"!==typeof this.data)throw new TypeError("typeParser was ".concat(typeof this.data,"; expected object"));this.validateDataType(),this.validateParseType(),this.validateTokenList(),this.validatePropertyConstraint(),this.validateElementConstraint(),this.validateExtends()}parseTokenList(){let e=this.data.tokenList;if(!e)return[];e instanceof RegExp&&(e={token:e});const{token:t,split:n=/\s+/,trim:r=!0,every:i=!0}=e,o=i?"every":"some";return[e=>(e=>r?e.trim():e)(e).split(n)[o]((e=>t.test(e)))]}parsePropertyConstraint(){return[].concat(this.data.propertyConstraint||[]).map((e=>{let{props:t,match:n,value:r}=e;switch(t=[].concat(t),n){case"any":case"some":return e=>t.some((t=>t in e&&(!r||r(e[t]))));case"none":return e=>!t.some((t=>t in e&&(!r||r(e[t]))));default:return e=>t.every((t=>t in e&&(!r||r(e[t]))))}}))}parseElementConstraint(){const e=this.data.elementConstraint;return e?[t=>t.every((t=>(0,r.type)(t)===e))]:[]}parsePredicate(){return this.data.predicate instanceof RegExp?[this.data.predicate.test.bind(this.data.predicate)]:this.data.predicate?[this.data.predicate]:[]}getCombinedPredicate(){const e=[...this.parsePredicate(),...this.parseTokenList(),...this.parsePropertyConstraint(),...this.parseElementConstraint()];return 0===e.length?()=>!0:1===e.length?e[0]:t=>e.every((e=>e(t)))}getDataType(){return this.data.dataType?this.data.dataType:this.data.predicate instanceof RegExp||this.data.tokenList?"String":this.data.elementConstraint?"Array":"Primitive"}get dataType(){return this.getDataType()}get predicate(){return this.getCombinedPredicate()}get extends(){return this.data.extends}}t.TypeParser=i;class o{constructor(e){let{async:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.parser=e,this.async=t}validate(){const e=this.parser;if("function"!==typeof e)throw new TypeError("parser was ".concat(typeof e,"; expected function"))}}t.DataParser=o;t.FormatParser=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.format=e,t.parseType&&(this.typeParser=new i(t.parseType)),t.parse&&(this.dataParser=new o(t.parse,{async:!1})),t.parseAsync&&(this.asyncDataParser=new o(t.parseAsync,{async:!0}))}validateFormat(){const e=this.format;if(!r.typeMatcher.test(e))throw new TypeError('format name was "'.concat(e,"\"; didn't match expected pattern"))}validate(){this.validateFormat(),this.typeParser&&this.typeParser.validate(),this.dataParser&&this.dataParser.validate(),this.asyncDataParser&&this.asyncDataParser.validate()}}},8904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove=t.list=t.has=t.get=t.add=void 0;var r=n(5944),i=n(9624),o=n(9320);const a={};t.add=(e,t)=>{const n=new r.FormatParser(e,t);n.validate();const s=a[e]||(a[e]={});n.typeParser&&((0,i.addTypeParser)(e,n.typeParser),s.type=!0),n.dataParser&&((0,o.addDataParser)(e,n.dataParser),s.data=!0),n.asyncDataParser&&((0,o.addDataParser)(e,n.asyncDataParser),s.asyncData=!0),t.outputs&&(s.outputs=t.outputs)};t.get=e=>a[e];t.remove=e=>{const t=a[e];t&&(t.type&&(0,i.removeTypeParser)(e),t.data&&(0,o.removeDataParser)(e),t.asyncData&&(0,o.removeDataParser)(e,!0),delete a[e])};t.has=e=>e in a;t.list=()=>Object.keys(a)},9624:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeMatcher=t.type=t.treeTypeParser=t.removeTypeParser=t.listTypeParser=t.hasTypeParser=t.addTypeParser=void 0;var r,i=(r=n(6116))&&r.__esModule?r:{default:r},o=n(4040);const a={},s={},l={},c=(e,t)=>{switch(t){case"Array":return 0===e.length||e.every((e=>"@csl/object"===d(e)))?"@csl/list+object":"@else/list+object";case"SimpleObject":case"ComplexObject":return"@csl/object";default:return"@invalid"}},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;for(const n of e)if(a[n].predicate(t))return u(a[n].extensions,t)||n},d=e=>{const t=(0,o.dataTypeOf)(e);if("Array"===t&&0===e.length)return c(e,t);return u(s[t],e)||c(e,t)};t.type=d;t.addTypeParser=(e,t)=>{let{dataType:n,predicate:r,extends:o}=t,c=[];e in l&&(c=l[e],delete l[e],i.default.debug("[core]",'Subclasses "'.concat(c,'" finally registered to parent type "').concat(e,'"')));const u={predicate:r,extensions:c};if(a[e]=u,o){const t=a[o];t?t.extensions.push(e):(l[o]||(l[o]=[]),l[o].push(e),i.default.debug("[core]",'Subclass "'.concat(e,'" is waiting on parent type "').concat(o,'"')))}else{(s[n]||(s[n]=[])).push(e)}};t.hasTypeParser=e=>Object.prototype.hasOwnProperty.call(a,e);t.removeTypeParser=e=>{delete a[e];const t=[...Object.keys(s).map((e=>s[e])),...Object.keys(a).map((e=>a[e].extensions)).filter((e=>e.length>0))];t.forEach((t=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}))};t.listTypeParser=()=>Object.keys(a);t.treeTypeParser=()=>{const e=t=>({name:t,children:a[t].extensions.map(e)});return{name:"Type tree",children:Object.keys(s).map((t=>({name:t,children:s[t].map(e)})))}};t.typeMatcher=/^(?:@(.+?))(?:\/(?:(.+?)\+)?(?:(.+)))?$/},548:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove=t.register=t.list=t.has=t.format=t.add=void 0;var r,i=(r=n(8060))&&r.__esModule?r:{default:r};const o=new i.default;t.register=o;t.add=(e,t)=>{((e,t)=>{if("string"!==typeof e)throw new TypeError("Invalid output format name, expected string, got ".concat(typeof e));if("function"!==typeof t)throw new TypeError("Invalid formatter, expected function, got ".concat(typeof t))})(e,t),o.set(e,t)};t.remove=e=>{o.remove(e)};t.has=e=>o.has(e);t.list=()=>o.list();t.format=function(e,t){if(!o.has(e))throw new Error('Output format "'.concat(e,'" unavailable'));for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return o.get(e)(t,...r)}},1964:(e,t)=>{"use strict";function n(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if("object"!==typeof e||null===e||e.constructor!==Object&&e.constructor!==Array)return e;if(r.has(e))throw new TypeError("Recursively copying circular structure");if(r.add(e),e.constructor===Array)t=e.map((e=>n(e,r)));else{const i={};for(const t in e)i[t]=n(e[t],r);t=i}return r.delete(e),t}Object.defineProperty(t,"__esModule",{value:!0}),t.deepCopy=n,t.default=void 0;var r=n;t.default=r},5992:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.fetchFile=p,t.fetchFileAsync=async function(e,t){const n=u(t);return i.default.http("[core]",n.method,e,n),fetch(e,n).then((e=>d(e,n))).then((e=>e.text()))},t.setUserAgent=function(e){l=e};var r=a(n(5296));n(3256);var i=a(n(6116)),o=a(n(6144));function a(e){return e&&e.__esModule?e:{default:e}}const s="undefined"!==typeof location&&"undefined"!==typeof document;let l=s?"":"Citation.js/".concat(o.default.version," Node.js/").concat(process.version);function c(e){const t={},n=e instanceof Headers||e instanceof r.default.Headers?Array.from(e):Object.entries(e);for(const[r,i]of n)t[r.toLowerCase()]=i.toString();return t}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={headers:{accept:"*/*"},method:"GET",checkContentType:e.checkContentType};if(l&&!s&&(t.headers["user-agent"]=l),e.body){t.method="POST";const n="string"!==typeof e.body;t.body=n?JSON.stringify(e.body):e.body,t.headers["content-type"]=n?"application/json":"text/plain"}return e.headers&&Object.assign(t.headers,c(e.headers)),t}function d(e,t){const{status:n,headers:r}=e;let i;if(n>=400?i=new Error("Server responded with status code ".concat(n)):!0!==t.checkContentType||function(e,t){if(!e.accept||"*/*"===e.accept||!t["content-type"])return!0;const[n,r]=t["content-type"].split(";")[0].trim().split("/");return e.accept.split(",").map((e=>e.split(";")[0].trim().split("/"))).some((e=>{let[t,i]=e;return(t===n||"*"===t)&&(i===r||"*"===i)}))}(t.headers,c(r))||(i=new Error("Server responded with content-type ".concat(r.get("content-type")))),i)throw i.status=n,i.headers=r,i.body=e.body,i;return e}function p(e,t){const n=u(t);i.default.http("[core]",n.method,e,n);return d((0,r.default)(e,n),n).text()}var h=p;t.default=h},3420:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){let n;for(;void 0===n||e.includes(n);)n="".concat(t).concat(Math.random().toString().slice(2));return n};t.default=n},8704:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Grammar=void 0;var r=n(1964);t.Grammar=class{constructor(e,t){this.rules=e,this.defaultState=t,this.mainRule=Object.keys(e)[0],this.log=[]}parse(e,t){return this.lexer=e,this.token=this.lexer.next(),this.state=(0,r.deepCopy)(this.defaultState),this.log=[],this.consumeRule(t||this.mainRule)}matchEndOfFile(){return!this.token}matchToken(e){return this.token&&e===this.token.type}consumeToken(e,t){const n=this.token;if(!e||n&&n.type===e)return this.token=this.lexer.next(),n;if(!t){const t=n?'"'.concat(n.type,'"'):"EOF",r=new SyntaxError(this.lexer.formatError(n,'expected "'.concat(e,'", got ').concat(t)));throw r.message+=" (".concat(this.log.join("->"),")"),r}}consumeRule(e){this.log.push(e);const t=this.rules[e].call(this);return this.log.pop(),t}}},4320:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Grammar",{enumerable:!0,get:function(){return l.Grammar}}),Object.defineProperty(t,"Register",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"TokenStack",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Translator",{enumerable:!0,get:function(){return c.Translator}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"fetchFile",{enumerable:!0,get:function(){return i.fetchFile}}),Object.defineProperty(t,"fetchFileAsync",{enumerable:!0,get:function(){return i.fetchFileAsync}}),Object.defineProperty(t,"fetchId",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"setUserAgent",{enumerable:!0,get:function(){return i.setUserAgent}});var r=u(n(1964)),i=n(5992),o=u(n(3420)),a=u(n(3701)),s=u(n(8060)),l=n(8704),c=n(8444);function u(e){return e&&e.__esModule?e:{default:e}}},8060:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.data=e}set(e,t){return this.data[e]=t,this}add(){return this.set(...arguments)}delete(e){return delete this.data[e],this}remove(){return this.delete(...arguments)}get(e){return this.data[e]}has(e){return Object.prototype.hasOwnProperty.call(this.data,e)}list(){return Object.keys(this.data)}};t.default=n},3701:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class n{constructor(e){this.stack=e,this.index=0,this.current=this.stack[this.index]}static getPatternText(e){return'"'.concat(e instanceof RegExp?e.source:e,'"')}static getMatchCallback(e){if(Array.isArray(e)){const t=e.map(n.getMatchCallback);return e=>t.some((t=>t(e)))}return e instanceof Function?e:e instanceof RegExp?t=>e.test(t):t=>e===t}tokensLeft(){return this.stack.length-this.index}matches(e){return n.getMatchCallback(e)(this.current,this.index,this.stack)}matchesSequence(e){const t=this.stack.slice(this.index,this.index+e.length).join("");return"string"===typeof e?t===e:e.every(((e,r)=>n.getMatchCallback(e)(t[r])))}consumeToken(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/^[\s\S]$/,{inverse:t=!1,spaced:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r&&this.consumeWhitespace();const i=this.current;if(!n.getMatchCallback(e)(i,this.index,this.stack))throw new SyntaxError("Unexpected token at index ".concat(this.index,": Expected ").concat(n.getPatternText(e),', got "').concat(i,'"'));return this.current=this.stack[++this.index],r&&this.consumeWhitespace(),i}consumeWhitespace(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/^\s$/,{optional:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.consume(e,{min:+!t})}consumeN(e){if(this.tokensLeft()<e)throw new SyntaxError("Not enough tokens left");const t=this.index;for(;e--;)this.current=this.stack[++this.index];return this.stack.slice(t,this.index).join("")}consumeSequence(e){if(this.matchesSequence(e))return this.consumeN(e.length);throw new SyntaxError('Expected "'.concat(e,'", got "').concat(this.consumeN(e.length),'"'))}consume(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/^[\s\S]$/,{min:t=0,max:r=1/0,inverse:i=!1,tokenMap:o,tokenFilter:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=this.index,l=n.getMatchCallback(e);for(;l(this.current,this.index,this.stack)!==i;)this.current=this.stack[++this.index];let c=this.stack.slice(s,this.index);if(c.length<t)throw new SyntaxError("Not enough ".concat(n.getPatternText(e)));if(c.length>r)throw new SyntaxError("Too many ".concat(n.getPatternText(e)));return o&&(c=c.map(o)),a&&(c=c.filter(a)),c.join("")}}var r=n;t.default=r},8444:(e,t)=>{"use strict";function n(e,t){let n,r,i,o;if("string"===typeof e)n=r=e;else{if(!e)return null;n=t?e.target:e.source,r=t?e.source:e.target,e.convert&&(i=t?e.convert.toSource:e.convert.toTarget),e.when&&(o=t?e.when.target:e.when.source,null!=o&&(o=function(e){return function(t){return"boolean"===typeof e?e:Object.keys(e).every((n=>{const r=e[n];return!0===r?n in t:!1===r?!(n in t):"function"===typeof r?r(t[n]):Array.isArray(r)?r.includes(t[n]):t[n]===r}))}}(o)))}return n=[].concat(n).filter(Boolean),r=[].concat(r).filter(Boolean),{inputProp:n,outputProp:r,convert:i,condition:o}}function r(e,t){return t=t===i.CONVERT_TO_SOURCE,e=e.map((e=>n(e,t))).filter(Boolean),function(t){const n={};for(const{inputProp:i,outputProp:o,convert:a,condition:s}of e){if(0===o.length)continue;if(s&&!s(t))continue;if(0!==i.length&&i.every((e=>!(e in t))))continue;let e=i.map((e=>t[e]));if(a)try{const n=a.apply(t,e);e=1===o.length?[n]:n}catch(r){throw new Error("Failed to convert ".concat(i," to ").concat(o),{cause:r})}o.forEach(((t,r)=>{const i=e[r];void 0!==i&&(n[t]=i)}))}return n}}Object.defineProperty(t,"__esModule",{value:!0}),t.Translator=void 0;class i{constructor(e){this.convertToSource=r(e,i.CONVERT_TO_SOURCE),this.convertToTarget=r(e,i.CONVERT_TO_TARGET)}}t.Translator=i,i.CONVERT_TO_SOURCE=Symbol("convert to source"),i.CONVERT_TO_TARGET=Symbol("convert to target")},6112:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"format",{enumerable:!0,get:function(){return i.default}});var r=o(n(4504)),i=o(n(7320));function o(e){return e&&e.__esModule?e:{default:e}}},4504:(e,t)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.parse=t.types=t.scope=void 0;const r=e=>e.replace(/$|( )|(?!^)(?=[A-Z])/g,"\\.?$1"),i=e=>"(?:".concat(e.join("|"),")\\b"),o=(e,t)=>new RegExp("(?:^| )(".concat(e,"$)"),t),a=i(["mr","mrs","ms","miss","dr","herr","monsieur","hr","frau","a v m","admiraal","admiral","air cdre","air commodore","air marshal","air vice marshal","alderman","alhaji","ambassador","baron","barones","brig","brig gen","brig general","brigadier","brigadier general","brother","canon","capt","captain","cardinal","cdr","chief","cik","cmdr","coach","col","col dr","colonel","commandant","commander","commissioner","commodore","comte","comtessa","congressman","conseiller","consul","conte","contessa","corporal","councillor","count","countess","crown prince","crown princess","dame","datin","dato","datuk","datuk seri","deacon","deaconess","dean","dhr","dipl ing","doctor","dott","dott sa","dr","dr ing","dra","drs","embajador","embajadora","en","encik","eng","eur ing","exma sra","exmo sr","f o","father","first lieutient","first officer","flt lieut","flying officer","fr","frau","fraulein","fru","gen","generaal","general","governor","graaf","gravin","group captain","grp capt","h e dr","h h","h m","h r h","hajah","haji","hajim","her highness","her majesty","herr","high chief","his highness","his holiness","his majesty","hon","hr","hra","ing","ir","jonkheer","judge","justice","khun ying","kolonel","lady","lcda","lic","lieut","lieut cdr","lieut col","lieut gen","lord","m","m l","m r","madame","mademoiselle","maj gen","major","master","mevrouw","miss","mlle","mme","monsieur","monsignor","mr","mrs","ms","mstr","nti","pastor","president","prince","princess","princesse","prinses","prof","prof dr","prof sir","professor","puan","puan sri","rabbi","rear admiral","rev","rev canon","rev dr","rev mother","reverend","rva","senator","sergeant","sheikh","sheikha","sig","sig na","sig ra","sir","sister","sqn ldr","sr","sr d","sra","srta","sultan","tan sri","tan sri dato","tengku","teuku","than puying","the hon dr","the hon justice","the hon miss","the hon mr","the hon mrs","the hon ms","the hon sir","the very rev","toh puan","tun","vice admiral","viscount","viscountess","wg cdr"].map(r)),s=i(["I","II","III","IV","V","Senior","Junior","Jr","Sr","PhD","Ph\\.D","APR","RPh","PE","MD","MA","DMD","CME","BVM","CFRE","CLU","CPA","CSC","CSJ","DC","DD","DDS","DO","DVM","EdD","Esq","JD","LLD","OD","OSB","PC","Ret","RGS","RN","RNC","SHCJ","SJ","SNJM","SSMO","USA","USAF","USAFR","USAR","USCG","USMC","USMCR","USN","USNR"].map(r)),l=i(["Vere","Von","Van","De","Del","Della","Di","Da","Pietro","Vanden","Du","St.","St","La","Lo","Ter","O","O'","Mac","Fitz"]),c=new RegExp("^((?:".concat(a," )*)(.*)$"),"i"),u=o("(?:".concat(s,", )*(?:").concat(s,")"),"i"),d=o("".concat(/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89])/.source,".*")),p=o("(?:".concat(/(?:[a-z\xAA\xB5\xBA\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02B8\u02C0\u02C1\u02E0-\u02E4\u0345\u0371\u0373\u0377\u037A-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1DBF\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u2071\u207F\u2090-\u209C\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2170-\u217F\u2184\u24D0-\u24E9\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7D\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B-\uA69D\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7F8-\uA7FA\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.source,".*|").concat(l,".*|\\S*)"));t.default=t.parse=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"string"!==typeof e&&(e+="");let t="",r="",i="";if(/[^.], /.test(e)){const n=e.split(", ");i=n.shift();const o=RegExp(s).exec(n.join(", "));t=n.splice(o&&0!==o.index?0:-1,1)[0],r=n.join(", ")}else{const n=e.split(u,2),o=n.shift().split(p,2);t=o[0],i=o[1],r=n.pop()}const o=n(t.match(c),3),a=o[1],l=o[2],h=r,f=n(i.split(d,2).reverse(),2),m=f[0],g=f[1];if(!l&&m)return m.includes(" ")?{literal:m}:{family:m};if(m){const e={"dropping-particle":a,given:l,suffix:h,"non-dropping-particle":g,family:m};return Object.keys(e).forEach((t=>{e[t]||delete e[t]})),e}return{literal:e}};t.scope="@name";t.types="@name"},7320:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const n=["dropping-particle","given"],r=["suffix"],i=["non-dropping-particle","family"];var o=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const o=t=>t.map((t=>e[t]||"")).filter(Boolean).join(" ");if(e.literal)return e.literal;if(t){const e=o(r)?", ".concat(o(r)):"",t=o(n)?", ".concat(o(n)):"";return o(i)+e+t}return"".concat(o([...n,...r,...i]))};t.default=o},5408:(e,t,n)=>{"use strict";n.r(t),n.d(t,{formats:()=>b,parsers:()=>v,ref:()=>g});var r={};n.r(r),n.d(r,{quickscrapeRecord:()=>p,record:()=>h});var i=n(2268),o=n(6112);function a(e){const{firstname:t,lastname:n,firstName:r=t,lastName:i=n}=e;return r&&i?{given:r,family:i}:e.name?(0,o.parse)(e.name):void 0}const s=["PMID","PMCID","DOI","ISBN"],l=["ISSN"];function c(e,t){const n={};for(const r in e){const i=r.toUpperCase();t.includes(i)&&(n[i]=e[r])}if(e.identifier)for(let{id:r,type:i=""}of e.identifier)i=i.toUpperCase(),t.includes(i)&&(n[i]=r);return n}const u={article:"article",book:"book",booklet:"book",proceedings:"book",mastersthesis:"thesis",inbook:"chapter",incollection:"chapter",conference:"paper-conference",inproceedings:"paper-conference",online:"website",patent:"patent",phdthesis:"thesis",techreport:"report",unpublished:"manuscript",manual:void 0,misc:void 0};function d(e){const t={type:u[e.type]||"book"};if(e.title&&(t.title=e.title),e.author&&(t.author=e.author.map(a).filter(Boolean)),e.editor&&(t.editor=e.editor.map(a).filter(Boolean)),e.reviewer&&(e.author&&(t["reviewed-author"]=t.author),t.author=e.reviewer.map(a).filter(Boolean)),Array.isArray(e.keywords)?t.keyword=e.keywords.join():e.keywords&&(t.keyword=e.keywords),e.publisher&&(t.publisher=e.publisher.name||e.publisher),e.date&&Object.keys(e.date).length>0){const n=e.date;n.submitted&&(t.submitted=(0,i.K0)(n.submitted)),n.published&&(t.issued=(0,i.K0)(n.published))}else e.year&&(t.issued={"date-parts":[[+e.year]]});if(e.journal){const n=e.journal;n.name&&(t["container-title"]=n.name),n.volume&&(t.volume=+n.volume),n.issue&&(t.issue=+n.issue),Object.assign(t,c(n,l)),n.firstpage&&(t["page-first"]=n.firstpage),n.pages?t.page=n.pages.replace("--","-"):n.firstpage&&n.lastpage&&(t.page=n.firstpage+"-"+n.lastpage)}return e.link&&"object"===typeof e.link[0]&&(t.URL=e.link[0].url),Object.assign(t,c(e,s)),e.cid?t.id=e.cid:t.DOI&&(t.id=t.DOI),t}const p=function(e){return Object.assign(d(e),{type:"article-journal"})},h=function(e){return d(e)};var f=n(8660);const m=["fulltext_html","fulltext_xml","fulltext_pdf"],g="@bibjson",v={json:r},b={"@bibjson/quickscrape+record+object":{parse:p,parseType:{propertyConstraint:{props:"link",value:e=>m.some((t=>e.find((e=>{let{type:n}=e;return n===t}))))},extends:"@bibjson/record+object"}},"@bibjson/record+object":{parse:h,parseType:{dataType:"SimpleObject",propertyConstraint:[{props:"title"},{props:["author","editor"],match:"some",value:e=>Array.isArray(e)&&e[0]&&"name"in e[0]}]}},"@bibjson/collection+object":{parse:e=>e.records,parseType:{dataType:"SimpleObject",propertyConstraint:[{props:"metadata",value:e=>"collection"in e},{props:"records",value:e=>Array.isArray(e)}]}}};f.plugins.add(g,{input:b})},2268:(e,t,n)=>{"use strict";Object.defineProperty(t,"K0",{enumerable:!0,get:function(){return r.default}});var r=o(n(9724)),i=o(n(3520));function o(e){return e&&e.__esModule?e:{default:e}}},9724:(e,t)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},o=/ (?:to|[-/]) | ?(?:--|[\u2013\u2014]) ?/,a=/^(\d{4}-\d{2}-\d{2})\/(\d{4}-\d{2}-\d{2})$/;function s(e){return i[e.toLowerCase().slice(0,3)]}const l=function(e){const t=/^(\d{4}|[-+]\d{6,})-(\d{2})(?:-(\d{2}))?/;if("string"!==typeof e||!t.test(e))return null;const r=n(e.match(t),4),i=r[1],o=r[2],a=r[3];return+o?+a?[i,o,a]:[i,o]:[i]},c=function(e){const t=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if("string"!==typeof e||!t.test(e))return null;let r=n(e.match(t),4),i=r[1],o=r[2],a=r[3];return o=s(o),o?[a,o,i]:null};function u(e){const t=function(e){const t=new Date(e);return"number"!==typeof e||isNaN(t.valueOf())?null:[t.getFullYear(),t.getMonth()+1,t.getDate()]}(e)||l(e)||c(e)||function(e){const t=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if("string"!==typeof e||!t.test(e))return null;const r=n(e.match(t),4),i=r[1],o=r[2],a=r[3];return new Date(a,i,o).getMonth()===parseInt(i)?[a,i,o]:null}(e)||function(e){const t=/^(\d{1,2})[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](-?\d+)/i,r=/^(-?\d+)[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](\d{1,2})/i;let i,o,a;if("string"!==typeof e)return null;if(t.test(e)){var l=n(e.match(t),4);a=l[1],o=l[2],i=l[3]}else{if(!r.test(e))return null;var c=n(e.match(r),4);i=c[1],o=c[2],a=c[3]}if(s(o))o=s(o);else if(isNaN(o))return null;return[i,o,a]}(e)||function(e){const t=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if("string"===typeof e&&t.test(e)){const n=e.match(t).slice(1,3);let r;if(s(n[1]))r=s(n.pop());else if(s(n[0]))r=s(n.shift());else{if(n.some(isNaN)||n.every((e=>+e<0)))return null;r=+n[0]<0||+n[0]>+n[1]&&+n[1]>0?n.pop():n.shift()}return[n.pop(),r]}return null}(e)||function(e){if("string"!==typeof e)return null;const t=e.match(/^(\d+) ?(a\.?d\.?|b\.?c\.?)$/i);if(t){const e=n(t.slice(1),2);return[e[0]*("a"===e[1].toLowerCase()[0]?1:-1)]}return/^-?\d+$/.test(e)?[e]:null}(e);return t&&t.map((e=>parseInt(e)))}var d=function(e,t){const n=[],r="string"===typeof e&&function(e){return a.test(e)?e.match(a).slice(1,3):e.split(o)}(e);t?n.push(e,t):r&&2===r.length?n.push(...r):n.push(e);const i=n.map(u);return i.filter(Boolean).length===n.length?{"date-parts":i}:{raw:t?n.join("/"):e}};t.default=d},3520:(e,t)=>{"use strict";function n(e,t,n){if(e.length>=t)return e;for(;e.length<t;)e=n+e;return e.slice(-t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";if(!e["date-parts"])return e.raw;const r=e["date-parts"][0].map((e=>e.toString()));switch(r.length){case 3:r[2]=n(r[2],2,"0");case 2:r[1]=n(r[1],2,"0");case 1:r[0]=n(r[0],4,"0")}return r.join(t)};t.default=r},3304:(e,t,n)=>{"use strict";n.r(t);var r={};n.r(r),n.d(r,{argumentCommands:()=>b,commands:()=>h,defaultStrings:()=>f,diacritics:()=>p,fieldTypes:()=>d,formatting:()=>v,formattingCommands:()=>g,formattingEnvs:()=>m,ligaturePattern:()=>y,ligatures:()=>_,mathScriptFormatting:()=>x,mathScripts:()=>w,required:()=>u,sentenceCaseLanguages:()=>E});var i=n(8660),o=n(3240),a=n.n(o);const s=JSON.parse('{"biblatex":{"article":["author","title","journaltitle",["year","date"]],"book":["author","title",["year","date"]],"mvbook":["author","title",["year","date"]],"inbook":["author","title","booktitle",["year","date"]],"booklet":[["author","editor"],"title",["year","date"]],"collection":["editor","title",["year","date"]],"mvcollection":["editor","title",["year","date"]],"incollection":["author","title","booktitle",["year","date"]],"dataset":[["author","editor"],"title",["year","date"]],"online":[["author","editor"],"title",["year","date"],["doi","eprint","url"]],"patent":["author","title","number",["year","date"]],"periodical":["editor","title",["year","date"]],"proceedings":["title",["year","date"]],"mvproceedings":["title",["year","date"]],"inproceedings":["author","title","booktitle",["year","date"]],"report":["author","title","type","institution",["year","date"]],"thesis":["author","title","type","institution",["year","date"]],"unpublished":["author","title",["year","date"]],"conference":["author","title","booktitle",["year","date"]],"electronic":[["author","editor"],"title",["year","date"],["doi","eprint","url"]],"mastersthesis":["author","title","institution",["year","date"]],"phdthesis":["author","title","institution",["year","date"]],"techreport":["author","title","institution",["year","date"]],"www":[["author","editor"],"title",["year","date"],["doi","eprint","url"]]},"bibtex":{"article":["author","title","journal","year"],"book":[["author","editor"],"title","publisher","year"],"booklet":["title"],"inbook":[["author","editor"],"title",["chapter","pages"],"publisher","year"],"incollection":["author","title","booktitle","publisher","year"],"inproceedings":["author","title","booktitle","year"],"mastersthesis":["author","title","school","year"],"phdthesis":["author","title","school","year"],"proceedings":["title","year"],"techreport":["author","title","institution","year"],"unpublished":["author","title","note"]}}'),l=JSON.parse('{"abstract":["field","literal"],"addendum":["field","literal"],"afterword":["list","name"],"annotation":["field","literal"],"annotator":["list","name"],"author":["list","name"],"authortype":["field","key"],"bookauthor":["list","name"],"bookpagination":["field","key"],"booksubtitle":["field","literal"],"booktitle":["field","title"],"booktitleaddon":["field","literal"],"chapter":["field","literal"],"commentator":["list","name"],"date":["field","date"],"doi":["field","verbatim"],"edition":["field","literal"],"editor":["list","name"],"editora":["list","name"],"editorb":["list","name"],"editorc":["list","name"],"editortype":["field","key"],"editoratype":["field","key"],"editorbtype":["field","key"],"editorctype":["field","key"],"eid":["field","literal"],"entrysubtype":["field","literal"],"eprint":["field","verbatim"],"eprintclass":["field","literal"],"eprinttype":["field","literal"],"eventdate":["field","date"],"eventtitle":["field","title"],"eventtitleaddon":["field","literal"],"file":["field","verbatim"],"foreword":["list","name"],"holder":["list","name"],"howpublished":["field","literal"],"indextitle":["field","literal"],"institution":["list","literal"],"introduction":["list","name"],"isan":["field","literal"],"isbn":["field","literal"],"ismn":["field","literal"],"isrn":["field","literal"],"issn":["field","literal"],"issue":["field","literal"],"issuesubtitle":["field","literal"],"issuetitle":["field","literal"],"iswc":["field","literal"],"journalsubtitle":["field","literal"],"journaltitle":["field","literal"],"label":["field","literal"],"language":["list","key"],"library":["field","literal"],"location":["list","literal"],"mainsubtitle":["field","literal"],"maintitle":["field","title"],"maintitleaddon":["field","literal"],"month":["field","literal"],"nameaddon":["field","literal"],"note":["field","literal"],"number":["field","literal"],"organization":["list","literal"],"origdate":["field","date"],"origlanguage":["list","key"],"origlocation":["list","literal"],"origpublisher":["list","literal"],"origtitle":["field","title"],"pages":["field","range"],"pagetotal":["field","literal"],"pagination":["field","key"],"part":["field","literal"],"publisher":["list","literal"],"pubstate":["field","key"],"reprinttitle":["field","literal"],"series":["field","title"],"shortauthor":["list","name"],"shorteditor":["list","name"],"shorthand":["field","literal"],"shorthandintro":["field","literal"],"shortjournal":["field","literal"],"shortseries":["field","literal"],"shorttitle":["field","title"],"subtitle":["field","literal"],"title":["field","title"],"titleaddon":["field","literal"],"translator":["list","name"],"type":["field","title"],"url":["field","uri"],"urldate":["field","date"],"venue":["field","literal"],"version":["field","literal"],"volume":["field","integer"],"volumes":["field","integer"],"year":["field","literal"],"crossref":["field","entry key"],"entryset":["separated","literal"],"execute":["field","code"],"gender":["field","gender"],"langid":["field","identifier"],"langidopts":["field","literal"],"ids":["separated","entry key"],"indexsorttitle":["field","literal"],"keywords":["separated","literal"],"options":["separated","options"],"presort":["field","string"],"related":["separated","literal"],"relatedoptions":["separated","literal"],"relatedtype":["field","identifier"],"relatedstring":["field","literal"],"sortkey":["field","literal"],"sortname":["list","name"],"sortshorthand":["field","literal"],"sorttitle":["field","literal"],"sortyear":["field","integer"],"xdata":["separated","entry key"],"xref":["field","entry key"],"namea":["list","name"],"nameb":["list","name"],"namec":["list","name"],"nameatype":["field","key"],"namebtype":["field","key"],"namectype":["field","key"],"lista":["list","literal"],"listb":["list","literal"],"listc":["list","literal"],"listd":["list","literal"],"liste":["list","literal"],"listf":["list","literal"],"usera":["field","literal"],"userb":["field","literal"],"userc":["field","literal"],"userd":["field","literal"],"usere":["field","literal"],"userf":["field","literal"],"verba":["field","literal"],"verbb":["field","literal"],"verbc":["field","literal"],"address":["list","literal"],"annote":["field","literal"],"archiveprefix":["field","literal"],"journal":["field","literal"],"key":["field","literal"],"pdf":["field","verbatim"],"primaryclass":["field","literal"],"school":["list","literal"],"numpages":["field","integer"],"pmid":["field","literal"],"pmcid":["field","literal"]}'),c=JSON.parse('{"a":{"`":"\u0300","\'":"\u0301","^":"\u0302","~":"\u0303","=":"\u0304","u":"\u0306",".":"\u0307","\\"":"\u0308","r":"\u030a","H":"\u030b","v":"\u030c","b":"\u0332","d":"\u0323","c":"\u0327","k":"\u0328","t":"\u0361","textcommabelow":"\u0326"},"Y":{"textquotesingle":"\'","textasciigrave":"`","textquotedbl":"\\"","textdollar":"$","textless":"<","textgreater":">","textbackslash":"\\\\","textasciicircum":"^","textunderscore":"_","textbraceleft":"{","textbar":"|","textbraceright":"}","textasciitilde":"~","textexclamdown":"\xa1","textcent":"\xa2","textsterling":"\xa3","textcurrency":"\xa4","textyen":"\xa5","textbrokenbar":"\xa6","textsection":"\xa7","textasciidieresis":"\xa8","textcopyright":"\xa9","textordfeminine":"\xaa","guillemetleft":"\xab","guillemotleft":"\xab","textlnot":"\xac","textregistered":"\xae","textasciimacron":"\xaf","textdegree":"\xb0","textpm":"\xb1","texttwosuperior":"\xb2","textthreesuperior":"\xb3","textasciiacute":"\xb4","textmu":"\xb5","textparagraph":"\xb6","textperiodcentered":"\xb7","textonesuperior":"\xb9","textordmasculine":"\xba","guillemetright":"\xbb","guillemotright":"\xbb","textonequarter":"\xbc","textonehalf":"\xbd","textthreequarters":"\xbe","textquestiondown":"\xbf","AE":"\xc6","DH":"\xd0","texttimes":"\xd7","O":"\xd8","TH":"\xde","ss":"\xdf","ae":"\xe6","dh":"\xf0","textdiv":"\xf7","o":"\xf8","th":"\xfe","DJ":"\u0110","dj":"\u0111","i":"\u0131","IJ":"\u0132","ij":"\u0133","L":"\u0141","l":"\u0142","NG":"\u014a","ng":"\u014b","OE":"\u0152","oe":"\u0153","textflorin":"\u0192","j":"\u0237","textasciicaron":"\u02c7","textasciibreve":"\u02d8","textacutedbl":"\u02dd","textgravedbl":"\u02f5","texttildelow":"\u02f7","textbaht":"\u0e3f","SS":"\u1e9e","textcompwordmark":"\u200c","textendash":"\u2013","textemdash":"\u2014","textbardbl":"\u2016","textquoteleft":"\u2018","textquoteright":"\u2019","quotesinglbase":"\u201a","textquotedblleft":"\u201c","textquotedblright":"\u201d","quotedblbase":"\u201e","textdagger":"\u2020","textdaggerdbl":"\u2021","textbullet":"\u2022","textellipsis":"\u2026","textperthousand":"\u2030","textpertenthousand":"\u2031","guilsinglleft":"\u2039","guilsinglright":"\u203a","textreferencemark":"\u203b","textinterrobang":"\u203d","textfractionsolidus":"\u2044","textlquill":"\u2045","textrquill":"\u2046","textdiscount":"\u2052","textcolonmonetary":"\u20a1","textlira":"\u20a4","textnaira":"\u20a6","textwon":"\u20a9","textdong":"\u20ab","texteuro":"\u20ac","textpeso":"\u20b1","textcelsius":"\u2103","textnumero":"\u2116","textcircledP":"\u2117","textrecipe":"\u211e","textservicemark":"\u2120","texttrademark":"\u2122","textohm":"\u2126","textmho":"\u2127","textestimated":"\u212e","textleftarrow":"\u2190","textuparrow":"\u2191","textrightarrow":"\u2192","textdownarrow":"\u2193","textminus":"\u2212","Hwithstroke":"\u0126","hwithstroke":"\u0127","textasteriskcentered":"\u2217","textsurd":"\u221a","textlangle":"\u2329","textrangle":"\u232a","textblank":"\u2422","textvisiblespace":"\u2423","textopenbullet":"\u25e6","textbigcircle":"\u25ef","textmusicalnote":"\u266a","textmarried":"\u26ad","textdivorced":"\u26ae","textinterrobangdown":"\u2e18","textcommabelow":null,"copyright":"\xa9","Gamma":"\u0393","Delta":"\u0394","Theta":"\u0398","Lambda":"\u039b","Xi":"\u039e","Pi":"\u03a0","Sigma":"\u03a3","Phi":"\u03a6","Psi":"\u03a8","Omega":"\u03a9","alpha":"\u03b1","beta":"\u03b2","gamma":"\u03b3","delta":"\u03b4","varepsilon":"\u03b5","zeta":"\u03b6","eta":"\u03b7","theta":"\u03b8","iota":"\u03b9","kappa":"\u03ba","lambda":"\u03bb","mu":"\u03bc","nu":"\u03bd","xi":"\u03be","pi":"\u03c0","rho":"\u03c1","varsigma":"\u03c2","sigma":"\u03c3","tau":"\u03c4","upsilon":"\u03c5","varphi":"\u03c6","chi":"\u03c7","psi":"\u03c8","omega":"\u03c9","vartheta":"\u03d1","Upsilon":"\u03d2","phi":"\u03d5","varpi":"\u03d6","varrho":"\u03f1","epsilon":"\u03f5"}}'),u=s,d=l,p=c.a,h=c.Y,f={jan:"01",feb:"02",mar:"03",apr:"04",may:"05",jun:"06",jul:"07",aug:"08",sep:"09",oct:"10",nov:"11",dec:"12",acmcs:"ACM Computing Surveys",acta:"Acta Informatica",cacm:"Communications of the ACM",ibmjrd:"IBM Journal of Research and Development",ibmsj:"IBM Systems Journal",ieeese:"IEEE Transactions on Software Engineering",ieeetc:"IEEE Transactions on Computers",ieeetcad:"IEEE Transactions on Computer-Aided Design of Integrated Circuits",ipl:"Information Processing Letters",jacm:"Journal of the ACM",jcss:"Journal of Computer and System Sciences",scp:"Science of Computer Programming",sicomp:"SIAM Journal on Computing",tocs:"ACM Transactions on Computer Systems",tods:"ACM Transactions on Database Systems",tog:"ACM Transactions on Graphics",toms:"ACM Transactions on Mathematical Software",toois:"ACM Transactions on Office Information Systems",toplas:"ACM Transactions on Programming Languages and Systems",tcs:"Theoretical Computer Science"},m={it:"italics",itshape:"italics",sl:"italics",slshape:"italics",em:"italics",bf:"bold",bfseries:"bold",sc:"smallcaps",scshape:"smallcaps",rm:void 0,sf:void 0,tt:void 0},g={textit:"italics",textsl:"italics",emph:"italics",mkbibitalic:"italics",mkbibemph:"italics",textbf:"bold",strong:"bold",mkbibbold:"bold",textsc:"smallcaps",textsuperscript:"superscript",textsubscript:"subscript",enquote:"quotes",mkbibquote:"quotes",textmd:void 0,textrm:void 0,textsf:void 0,texttt:void 0,textup:void 0},v={italics:["<i>","</i>"],bold:["<b>","</b>"],superscript:["<sup>","</sup>"],subscript:["<sub>","</sub>"],smallcaps:['<span style="font-variant:small-caps;">',"</span>"],nocase:['<span class="nocase">',"</span>"],quotes:["\u201c","\u201d"]},b={ElsevierGlyph:e=>String.fromCharCode(parseInt(e,16)),href:(e,t)=>e,url:e=>e},y=/---?|''|``|~/g,_={"--":"\u2013","---":"\u2014","``":"\u201c","''":"\u201d","~":"\xa0"},x={"^":"superscript",sp:"superscript",_:"subscript",sb:"subscript",mathrm:void 0},w={"^":{0:"\u2070",1:"\xb9",2:"\xb2",3:"\xb3",4:"\u2074",5:"\u2075",6:"\u2076",7:"\u2077",8:"\u2078",9:"\u2079","+":"\u207a","-":"\u207b","=":"\u207c","(":"\u207d",")":"\u207e",i:"\u2071",n:"\u207f"},_:{0:"\u2080",1:"\u2081",2:"\u2082",3:"\u2083",4:"\u2084",5:"\u2085",6:"\u2086",7:"\u2087",8:"\u2088",9:"\u2089","+":"\u208a","-":"\u208b","=":"\u208c","(":"\u208d",")":"\u208e",a:"\u2090",e:"\u2091",o:"\u2092",x:"\u2093","\u0259":"\u2094",h:"\u2095",k:"\u2096",l:"\u2097",m:"\u2098",n:"\u2099",s:"\u209a",p:"\u209b",t:"\u209c"}},E=["american","british","canadian","english","australian","newzealand","usenglish","ukenglish","en","eng","en-au","en-bz","en-ca","en-cb","en-gb","en-ie","en-jm","en-nz","en-ph","en-tt","en-us","en-za","en-zw","anglais"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=/[a-zA-Z_][a-zA-Z0-9_:-]*/,O={comment:/%.*/,whitespace:{match:/\s+/,lineBreaks:!0}},A=a().states({main:{junk:{match:/@[cC][oO][mM][mM][eE][nN][tT].+|[^@]+/,lineBreaks:!0},at:{match:"@",push:"entry"}},entry:C(C({},O),{},{otherEntryType:{match:/[sS][tT][rR][iI][nN][gG]|[pP][rR][eE][aA][mM][bB][lL][eE]/,next:"otherEntryContents"},dataEntryType:{match:S,next:"dataEntryContents"}}),otherEntryContents:C(C({},O),{},{lbrace:{match:/[{(]/,next:"fields"}}),dataEntryContents:C(C({},O),{},{lbrace:{match:/[{(]/,next:"dataEntryContents"},label:/[^,\s]+/,comma:{match:",",next:"fields"}}),fields:C(C({},O),{},{identifier:S,number:/-?\d+/,hash:"#",equals:"=",comma:",",quote:{match:'"',push:"quotedLiteral"},lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:/[})]/,pop:!0}}),quotedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},quote:{match:'"',pop:!0},text:{match:/(?:\\[\\{]|[^{"])+/,lineBreaks:!0}},bracedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:"}",pop:!0},text:{match:/(?:\\[\\{}]|[^{}])+/,lineBreaks:!0}}}),j={"(":")","{":"}"},P=new i.util.Grammar({Main(){const e=[];for(;;){for(;this.matchToken("junk");)this.consumeToken("junk");if(this.matchEndOfFile())break;e.push(this.consumeRule("Entry"))}return e.filter(Boolean)},_(){let e;for(;e!==this.token;)e=this.token,this.consumeToken("whitespace",!0),this.consumeToken("comment",!0)},Entry(){this.consumeToken("at"),this.consumeRule("_");const e=(this.matchToken("otherEntryType")?this.consumeToken("otherEntryType"):this.consumeToken("dataEntryType")).value.toLowerCase();this.consumeRule("_");const t=this.consumeToken("lbrace").value;let n;if(this.consumeRule("_"),"string"===e){const[e,t]=this.consumeRule("Field");this.state.strings[e]=t}else if("preamble"===e)this.consumeRule("Expression");else{const t=this.consumeToken("label").value;this.consumeRule("_"),this.consumeToken("comma"),this.consumeRule("_");n={type:e,label:t,properties:this.consumeRule("EntryBody")}}this.consumeRule("_");const r=this.consumeToken("rbrace").value;return r!==j[t]&&i.logger.warn("[plugin-bibtex]",'entry started with "'.concat(t,'", but ends with "').concat(r,'"')),n},EntryBody(){const e={};for(;this.matchToken("identifier");){const[t,n]=this.consumeRule("Field");if(e[t]=n,this.consumeRule("_"),!this.consumeToken("comma",!0))break;this.consumeRule("_")}return e},Field(){const e=this.consumeToken("identifier").value.toLowerCase();this.consumeRule("_"),this.consumeToken("equals"),this.consumeRule("_");return[e,this.consumeRule("Expression")]},Expression(){let e=this.consumeRule("ExpressionPart");for(this.consumeRule("_");this.matchToken("hash");)this.consumeToken("hash"),this.consumeRule("_"),e+=this.consumeRule("ExpressionPart").toString(),this.consumeRule("_");return e},ExpressionPart(){return this.matchToken("identifier")?this.state.strings[this.consumeToken("identifier").value.toLowerCase()]||"":this.matchToken("number")?parseInt(this.consumeToken("number")):this.matchToken("quote")?this.consumeRule("QuoteString"):this.consumeRule("BracketString")},QuoteString(){let e="";for(this.consumeToken("quote");!this.matchToken("quote");)e+=this.consumeRule("Text");return this.consumeToken("quote"),e},BracketString(){let e="";for(this.consumeToken("lbrace");!this.matchToken("rbrace");)e+=this.consumeRule("Text");return this.consumeToken("rbrace"),e},Text(){return this.matchToken("lbrace")?"{".concat(this.consumeRule("BracketString"),"}"):this.consumeToken("text").value}},{strings:f});function I(e){return P.parse(A.reset(e))}const L=/\n\s*(?=\[)/g,R=/^\[(.+?)\]\s*(?:\n([\s\S]+))?$/,N=/((?=.)\s)*\n\s*/g,D=/:(.*)/,M=e=>{const[,t,n]=e.match(R)||[];if(t&&n){const e={type:"book",label:t,properties:{}};return n.trim().split(N).filter((e=>e)).forEach((t=>{let[n,r]=t.split(D);r&&(n=n.trim(),r=r.trim(),"type"===n?e.type=r:e.properties[n]=r)})),e}return{}},B=JSON.parse('{"source":{"article":"article-journal","book":"book","mvbook":"book","inbook":"chapter","bookinbook":"book","booklet":"book","collection":"book","mvcollection":"book","incollection":"chapter","dataset":"dataset","online":"webpage","patent":"patent","periodical":"article-journal","proceedings":"book","mvproceedings":"book","inproceedings":"paper-conference","reference":"book","mvreference":"book","inreference":"entry","report":"report","software":"book","thesis":"thesis","unpublished":"manuscript","artwork":"graphic","audio":"song","image":"figure","jurisdiction":"legal_case","legislation":"legislation","legal":"treaty","letter":"personal_communication","movie":"motion_picture","music":"musical_score","review":"review","video":"motion_picture","conference":"paper-conference","electronic":"webpage","mastersthesis":"thesis","phdthesis":"thesis","techreport":"report","www":"webpage"},"target":{"article":"article","article-journal":"article","article-magazine":"article","article-newspaper":"article","bill":"legislation","book":"book","broadcast":"audio","chapter":"inbook","dataset":"dataset","entry":"inreference","entry-dictionary":"inreference","entry-encyclopedia":"inreference","figure":"artwork","graphic":"artwork","interview":"audio","legal_case":"jurisdiction","legislation":"legislation","manuscript":"unpublished","motion_picture":"movie","musical_score":"music","paper-conference":"inproceedings","patent":"patent","personal_communication":"letter","post":"online","post-weblog":"online","report":"report","review":"review","review-book":"review","song":"music","speech":"audio","thesis":"thesis","treaty":"legal","webpage":"online"}}'),Q=JSON.parse('{"source":{"article":"article-journal","book":"book","booklet":"book","conference":"paper-conference","inbook":"chapter","incollection":"chapter","inproceedings":"paper-conference","mastersthesis":"thesis","phdthesis":"thesis","proceedings":"book","techreport":"report","unpublished":"manuscript"},"target":{"article":"article","article-journal":"article","article-magazine":"article","article-newspaper":"article","book":"book","chapter":"inbook","manuscript":"unpublished","paper-conference":"inproceedings","report":"techreport","review":"article","review-book":"article"}}'),U={constants:r,types:{biblatex:B,bibtex:Q},parse:{biblatex:!0,strict:!1,sentenceCase:"never"},format:{useIdAsLabel:!1}},F=new Set(["the","a","an"]),z=/(?:<\/?.*?>|[\u0020-\u002F\u003A-\u0040\u005B-\u005E\u0060\u007B-\u007F])+/g,q=/[^\u0020-\u007F]+/g;function H(e){return e?e.normalize("NFKD").replace(q,"").split(z).find((e=>e.length&&!F.has(e.toLowerCase()))):""}const W=new i.util.Translator([{source:"given",target:"given"},{source:"family",target:"family"},{source:"suffix",target:"suffix"},{source:"prefix",target:"non-dropping-particle"},{source:"family",target:"literal",when:{source:!1,target:{family:!1,given:!1}}}]),G=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],V="BibTeX type",$="BibTeX label",K={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},Y={bathesis:"Bachelor's thesis",mathesis:"Master's thesis",phdthesis:"PhD thesis",candthesis:"Candidate thesis",techreport:"technical report",resreport:"research report",software:"computer software",datacd:"data cd",audiocd:"audio cd",patent:"patent",patentde:"German patent",patenteu:"European patent",patentfr:"French patent",patentuk:"British patent",patentus:"U.S. patent",patreq:"patent request",patreqde:"German patent request",patreqeu:"European patent request",patreqfr:"French patent request",patrequk:"British patent request",patrequs:"U.S. patent request"},Z=/(^(?:ISAN )?(?:[0-9a-f]{4}-){4}[0-9a-z](?:-(?:[0-9a-f]{4}-){2}[0-9a-z])?$)|(^(?:979-?0-?|M-?)(?:\d{9}|(?=[\d-]{11}$)\d+-\d+-\d)$)|(^ISRN .{1,36}$)|(^(?:ISWC )?T-?\d{9}-?\d$)/i;function J(e){if(null==e)return[];if(+e)return[parseInt(e,10)];if((e=e.trim().toLowerCase())in K)return[K[e]];const t=e.split(/\s+/);let n,r;return t[0]in K?(n=K[t[0]],r=parseInt(t[1])):t[1]in K&&(n=K[t[1]],r=parseInt(t[0])),r?[n,r]:n?[n]:[]}const X={PICK:{toTarget(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.find(Boolean)},toSource:e=>[e]},DATE:{toTarget(e){const t=e.split("/").map((e=>e&&".."!==e?function(e){const t=e.split("T")[0].replace(/[?~%]$/,"").split("-"),n=+t[0].replace(/^Y(?=-?\d{4}\d+)/,"").replace(/X/g,"0"),r=+t[1],i=+t[2];return!r||r>20?[n]:i?[n,r,i]:[n,r]}(e):void 0));return isNaN(t[0][0])?{literal:e}:{"date-parts":t}},toSource(e){if("date-parts"in e)return e["date-parts"].map((e=>e.map((e=>e.toString().padStart(2,"0"))).join("-"))).join("/")}},YEAR_MONTH:{toTarget:(e,t,n)=>isNaN(+e)?{literal:e}:isNaN(+n)||isNaN(+t)?{"date-parts":[[+e,...J(t)]]}:{"date-parts":[[+e,+t,+n]]},toSource(e){if("date-parts"in e){const[t,n,r]=e["date-parts"][0];return[t.toString(),n?r?"".concat(G[n-1]," ").concat(r):n:void 0]}return[]}},EPRINT:{toTarget(e,t){if("pubmed"===t)return e},toSource:e=>[e,"pubmed"]},HOW_PUBLISHED:{toTarget(e){if(e.startsWith("http"))return e}},KEYWORDS:{toTarget:e=>e.join(","),toSource:e=>e.split(",")},LABEL:{toTarget:e=>[e,e],toSource(e,t,n,r,i,o){let a;return a=null===e?"null":void 0===e?"undefined":e.toString().replace(z,""),U.format.useIdAsLabel?a:t&&!z.test(t)?t:function(e,t,n,r){let i="";return e&&e[0]&&(i+=H(e[0].family||e[0].literal)),t&&t["date-parts"]&&t["date-parts"][0]&&(i+=t["date-parts"][0][0]),n?i+=n:r&&(i+=H(r)),i}(n,r,i,o)||a}},NAMES:{toTarget:e=>e.map(W.convertToTarget),toSource:e=>e.map(W.convertToSource)},STANDARD_NUMBERS:{toTarget(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.find(Boolean)},toSource(e){const t=e.toString().match(Z);return t?t.slice(1,5):[]}},STATUS:{toSource(e){if(/^(inpreparation|submitted|forthcoming|inpress|prepublished)$/i.test(e))return e}},TITLE:{toTarget:(e,t,n)=>(t&&(e+=": "+t),e),toSource:e=>[e]}};var ee=n(1732);const te=[{source:"note",target:"accessed",when:{source:!1,target:{note:!1}},convert:{toSource:e=>"[Online; accessed ".concat((0,ee.format)(e),"]")}},{source:"numpages",target:"number-of-pages",when:{source:{pagetotal:!1},target:!1}},{source:"pmid",target:"PMID",when:{source:{eprinttype:e=>"pmid"!==e,archiveprefix:e=>"pmid"!==e},target:!1}},{source:"pmcid",target:"PMCID",when:{target:!1}}],ne=[{source:"annote",target:"annote",when:{source:{annotation:!1},target:!1}},{source:"address",target:"publisher-place",convert:X.PICK,when:{source:{location:!1},target:!1}},{source:["eprint","archiveprefix"],target:"PMID",convert:X.EPRINT,when:{source:{eprinttype:!1},target:!1}},{source:"journal",target:"container-title",when:{source:{maintitle:!1,booktitle:!1,journaltitle:!1},target:!1}},{source:"school",target:"publisher",convert:X.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:!1}}],re=new i.util.Translator([...ne,...te,{source:"abstract",target:"abstract"},{source:"urldate",target:"accessed",convert:X.DATE},{source:"annotation",target:"annote"},{source:"author",target:"author",convert:X.NAMES},{source:"library",target:"call-number"},{source:"chapter",target:"chapter-number"},{source:"bookauthor",target:"container-author",convert:X.NAMES},{source:["maintitle","mainsubtitle","maintitleaddon"],target:"container-title",when:{source:!0,target:{"number-of-volumes":!0}},convert:X.TITLE},{source:["booktitle","booksubtitle","booktitleaddon"],target:"container-title",when:{source:{maintitle:!1},target:{"number-of-volumes":!1,type:e=>!e.startsWith("article")}},convert:X.TITLE},{source:["journaltitle","journalsubtitle","journaltitleaddon"],target:"container-title",when:{source:{[V]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}},convert:X.TITLE},{source:"shortjournal",target:"container-title-short",when:{source:{[V]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"shortjournal",target:"journalAbbreviation",when:{source:!1,target:{"container-title-short":!1}}},{source:"number",target:"collection-number",when:{source:{[V]:["book","mvbook","inbook","bookinbook","suppbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"shortseries",target:"collection-title-short"},{source:"doi",target:"DOI"},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:X.NAMES},{source:[V,"entrysubtype","type"],target:["type","genre"],convert:{toTarget:(e,t,n)=>(n||("masterthesis"===e&&(n="mathesis"),"phdthesis"===e&&(n="phdthesis"),"techreport"===e&&(n="techreport")),[B.source[e]||"book",n||t]),toSource(e,t){const n=B.target[e]||"misc";return t in Y?[n,void 0,t]:[n,t]}}},{source:V,when:{target:{type:!1}},convert:{toSource:()=>"misc"}},{source:"eventdate",target:"event-date",convert:X.DATE},{source:"venue",target:"event-place"},{source:"eventtitle",target:"event"},{source:$,target:["id","citation-label","author","issued","year-suffix","title"],convert:X.LABEL},{source:"isbn",target:"ISBN"},{source:"issn",target:"ISSN"},{source:"issue",target:"issue",when:{source:{number:!1,[V]:["article","periodical"]},target:{issue:e=>"string"===typeof e&&!e.match(/\d+/),type:["article","article-journal","article-newspaper","article-magazine"]}}},{source:"number",target:"issue",when:{source:{[V]:["article","periodical","inproceedings"]},target:{issue:e=>e&&("number"===typeof e||e.match(/\d+/)),type:["article","article-journal","article-newspaper","article-magazine","paper-conference"]}}},{source:"date",target:"issued",convert:X.DATE},{source:["year","month","day"],target:"issued",convert:X.YEAR_MONTH,when:{source:{date:!1},target:!1}},{source:"location",target:"jurisdiction",when:{source:{type:"patent"},target:{type:"patent"}}},{source:"keywords",target:"keyword",convert:X.KEYWORDS},{source:"language",target:"language",convert:X.PICK},{source:"note",target:"note"},{source:["isan","ismn","isrn","iswc"],target:"number",convert:X.STANDARD_NUMBERS,when:{source:{[V]:e=>"patent"!==e},target:{type:e=>"patent"!==e}}},{source:"number",target:"number",when:{source:{[V]:["patent","report","techreport","legislation"]},target:{type:["patent","report","legislation"]}}},{source:"origdate",target:"original-date",convert:X.DATE},{source:"origlocation",target:"original-publisher-place",convert:X.PICK},{source:"origpublisher",target:"original-publisher",convert:X.PICK},{source:"origtitle",target:"original-title"},{source:["pages","eid"],target:"page",convert:{toTarget:(e,t)=>t?t.replace(/^e?/i,"e"):e.replace(/[\u2013\u2014]/,"-"),toSource:e=>/^e/i.test(e)?[e,e]:[e.replace("-","--")]}},{source:"pagetotal",target:"number-of-pages"},{source:["eprint","eprinttype"],target:"PMID",convert:X.EPRINT},{source:"location",target:"publisher-place",convert:X.PICK},{source:"publisher",target:"publisher",convert:X.PICK,when:{source:!0,target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","regulation","review","review-book","song","speech","treaty"]}}},{source:"organization",target:"publisher",convert:X.PICK,when:{source:{publisher:!1},target:{type:"webpage"}}},{source:"institution",target:"publisher",convert:X.PICK,when:{source:{publisher:!1,organization:!1},target:{type:["report","thesis"]}}},{source:"howpublished",target:"publisher",convert:X.PICK,when:{source:{publisher:!1,organization:!1,institution:!1},target:{type:"manuscript"}}},{source:["pages","bookpagination"],target:"section",when:{source:{bookpagination:"section"},target:{page:!1}},convert:{toTarget:e=>e,toSource:e=>[e,"section"]}},{source:"pubstate",target:"status",convert:X.STATUS},{source:"shorttitle",target:"title-short"},{source:["title","subtitle","titleaddon"],target:"title",convert:X.TITLE},{source:"translator",target:"translator",convert:X.NAMES},{source:"url",target:"URL"},{source:"howpublished",target:"URL",convert:X.HOW_PUBLISHED,when:{source:{url:!1},target:!1}},{source:"version",target:"version"},{source:"volume",target:"volume"},{source:"volumes",target:"number-of-volumes"}]),ie=new i.util.Translator([{source:"note",target:"accessed",when:{source:!1,target:{note:!1}},convert:{toSource:e=>"[Online; accessed ".concat((0,ee.format)(e),"]")}},{source:"annote",target:"annote"},{source:"address",target:"publisher-place",convert:X.PICK},{source:"author",target:"author",convert:X.NAMES},{source:"chapter",target:"chapter-number"},{source:"number",target:"collection-number",when:{source:{[V]:["book","mvbook","inbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"booktitle",target:"container-title",when:{target:{type:["chapter","paper-conference"]}}},{source:"journal",target:"container-title",when:{source:{[V]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:X.NAMES},{source:$,target:["id","citation-label","author","issued","year-suffix","title"],convert:X.LABEL},{source:"number",target:"issue",when:{source:{[V]:["article","periodical","inproceedings"]},target:{issue:e=>"number"===typeof e||"string"===typeof e&&e.match(/\d+/),type:["article","article-journal","article-newspaper","article-magazine","paper-conference"]}}},{source:["year","month","day"],target:"issued",convert:X.YEAR_MONTH},{source:"note",target:"note"},{source:"number",target:"number",when:{source:{[V]:["patent","report","techreport"]},target:{type:["patent","report"]}}},{source:"pages",target:"page",convert:{toTarget:e=>e.replace(/[\u2013\u2014]/,"-"),toSource:e=>e.replace("-","--")}},{source:"publisher",target:"publisher",convert:X.PICK,when:{target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","map","motion_picture","musical_score","pamphlet","patent","personal_communication","post","post-weblog","review","review-book","song","speech","treaty","webpage"]}}},{source:"organization",target:"publisher",convert:X.PICK,when:{source:{publisher:!1},target:{type:"paper-conference"}}},{source:"institution",target:"publisher",convert:X.PICK,when:{source:{publisher:!1,organization:!1},target:{type:"report"}}},{source:"school",target:"publisher",convert:X.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:{type:"thesis"}}},{source:"howpublished",target:"publisher",convert:X.PICK,when:{source:{publisher:!1,organization:!1,institution:!1,school:!1},target:{type:"manuscript"}}},{source:"title",target:"title"},{source:[V,"type"],target:["type","genre"],convert:{toTarget(e,t){const n=Q.source[e]||"book";return t?[n,t]:"mastersthesis"===e?[n,"Master's thesis"]:"phdthesis"===e?[n,"PhD thesis"]:[n]},toSource(e,t){const n=Q.target[e]||"misc";return/^(master'?s|diploma) thesis$/i.test(t)?["mastersthesis"]:/^(phd|doctoral) thesis$/i.test(t)?["phdthesis"]:[n,t]}}},{source:V,when:{target:{type:!1}},convert:{toSource:()=>"misc"}},{source:"howpublished",target:"URL",convert:X.HOW_PUBLISHED,when:{target:{publisher:!1}}},{source:"volume",target:"volume"}]);function oe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ae(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e,t){if(e.crossref in t){const n=t[e.crossref].properties;return n===e?e:Object.assign({},ce(n,t),e)}return e}function ue(e,t){const n={};for(const r of e)n[r.label]=r;return e.map((e=>{let{type:r,label:i,properties:o}=e;return t.convertToTarget(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({[V]:r,[$]:i},ce(o,n)))}))}function de(e,t){return e.map((e=>{const n=t.convertToSource(e),{[V]:r,[$]:i}=n;return{type:r,label:i,properties:oe(n,[V,$].map(ae))}}))}function pe(e){const t=e.toUpperCase(),n=e.toLowerCase();for(let r=0;r<e.length;r++)if(t[r]!==n[r])return t[r]===e[r];return null}function he(e){if(0===e.length)return;let t="";for(;e.length>1;){const{value:n,hyphenated:r}=e.shift();t+=n+(r?"-":" ")}const n=t+e[0].value;return n[0]&&n}function fe(e){if(e[0][0].label){const t={};for(const[{value:n,label:r}]of e)t[r]=n;return t}const t={},[n,r,i]=function(e){const t=[],n=[];if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])for(;e.length>1&&!1!==e[0].upperCase;){for(t.push(...n),n.length=0;e.length>1&&!1!==e[0].upperCase&&!e[0].hyphenated;)t.push(e.shift());for(;e.length>0&&!1!==e[0].upperCase&&e[0].hyphenated;)n.push(e.shift())}const r=[],i=[];for(;e.length>1;){for(r.push(...i),i.length=0;e.length>1&&!1===e[0].upperCase;)r.push(e.shift());for(;e.length>0&&!1!==e[0].upperCase;)i.push(e.shift())}return n.length&&i.unshift(...n),e.length&&i.push(e[0]),[he(t),he(r),he(i)]}(e[0],1===e.length);return i&&(t.family=i),r&&(t.prefix=r),3===e.length?(t.given=he(e[2]),t.suffix=he(e[1])):2===e.length?t.given=he(e[1]):n&&(t.given=n),t}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const be={"\\begin":"commandBegin","\\end":"commandEnd"},ye={command:{match:/\\(?:[a-zA-Z]+|.) */,type:e=>be[e],value:e=>e.slice(1).trim()},lbrace:{match:"{",push:"bracedLiteral"},mathShift:{match:"$",push:"mathLiteral"},whitespace:{match:/[\s]+|~/,lineBreaks:!0,value:e=>"~"===e?"\xa0":" "}},_e=a().states({stringLiteral:ge(ge({},ye),{},{text:/[^{$}\s~\\]+/}),namesLiteral:ge(ge({and:/\s+and\s+/,comma:",",hyphen:"-",equals:"="},ye),{},{text:/[^{$}\s~\\,=-]+/}),listLiteral:ge(ge({and:/\s+and\s+/},ye),{},{text:/[^{$}\s~\\]+/}),separatedLiteral:ge(ge({comma:","},ye),{},{text:/[^{$}\s~\\,]+/}),bracedLiteral:ge(ge({},ye),{},{rbrace:{match:"}",pop:!0},text:/[^{$}\s~\\]+/}),mathLiteral:ge(ge({},ye),{},{mathShift:{match:"$",pop:!0},script:/[\^_]/,text:/[^{$}\s~\\^_]+/})});function xe(e){return e[0],e}function we(e,t){return t in v?e&&v[t].join(e):e}const Ee=new i.util.Grammar({String(){let e="";for(;!this.matchEndOfFile();)e+=this.consumeRule("Text");return xe(e)},StringNames(){const e=[];for(;;){if(this.consumeToken("whitespace",!0),e.push(this.consumeRule("Name")),this.consumeToken("whitespace",!0),this.matchEndOfFile())return e;this.consumeToken("and")}},Name(){const e=[];for(;;){if(e.push(this.consumeRule("NamePiece")),this.matchEndOfFile()||this.matchToken("and"))return fe(e);this.consumeToken("comma"),this.consumeToken("whitespace",!0)}},NamePiece(){const e=[];for(;;){const t=this.consumeRule("NameToken");if(t.label)return t.label=he([...e,{value:t.label}]),[t];if(e.push(t),this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma"))return e;for(;this.matchToken("hyphen")||this.matchToken("whitespace");)this.consumeToken()}},NameToken(){let e=null,t="";for(;;)if(null===e&&this.matchToken("text")){const n=this.consumeToken().value;t+=n,e=pe(n)}else{if(this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma")||this.matchToken("whitespace"))return{value:t,upperCase:e};if(this.matchToken("hyphen"))return{value:t,upperCase:e,hyphenated:!0};if(this.matchToken("equals")){this.consumeToken("equals");const e=this.consumeRule("NamePiece");return e[0].label&&(t+="="+e[0].label),{value:he(e),label:t}}t+=this.consumeRule("Text")}},StringList(){const e=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("and");)t+=this.consumeRule("Text");e.push(xe(t)),this.consumeToken("and",!0)}return 1===e.length?e[0]:e},StringSeparated(){const e=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("comma");)t+=this.consumeRule("Text");e.push(t.trim()),this.consumeToken("comma",!0),this.consumeToken("whitespace",!0)}return e},StringVerbatim(){let e="";for(;!this.matchEndOfFile();)e+=this.consumeToken().text;return xe(e)},StringUri(){const e=this.consumeRule("StringVerbatim");try{return decodeURI(e)===e?encodeURI(e):e}catch(t){return encodeURI(e)}},StringTitleCase(){this.state.sentenceCase=!0;let e="";for(;!this.matchEndOfFile();)e+=this.consumeRule("Text");return xe(e)},BracketString(){var e;let t="";this.consumeToken("lbrace");const n=this.state.sentenceCase;for(this.state.sentenceCase=n&&this.matchToken("command"),(e=this.state).partlyLowercase&&(e.partlyLowercase=this.state.sentenceCase);!this.matchToken("rbrace");)t+=this.consumeRule("Text");const r=n&&!this.state.sentenceCase&&this.state.partlyLowercase;return this.state.sentenceCase=n,this.consumeToken("rbrace"),r?we(t,"nocase"):t},MathString(){let e="";for(this.consumeToken("mathShift");!this.matchToken("mathShift");)if(this.matchToken("script")){const t=this.consumeToken("script").value,n=this.consumeRule("Text").split("");if(n.every((e=>e in w[t])))e+=n.map((e=>w[t][e])).join("");else{const r=x[t];e+=v[r].join(n.join(""))}}else{if(this.matchToken("command")){const t=this.token.value;if(t in x){this.consumeToken("command");e+=we(this.consumeRule("BracketString"),x[t]);continue}}e+=this.consumeRule("Text")}return this.consumeToken("mathShift"),e},Text(){if(this.matchToken("lbrace"))return this.consumeRule("BracketString");if(this.matchToken("mathShift"))return this.consumeRule("MathString");if(this.matchToken("whitespace"))return this.consumeToken("whitespace").value;if(this.matchToken("commandBegin"))return this.consumeRule("EnclosedEnv");if(this.matchToken("command"))return this.consumeRule("Command");const e=this.consumeToken("text").value.replace(y,(e=>_[e])),t=this.state.afterPunctuation;var n;if(this.state.afterPunctuation=/[?!.:]$/.test(e),!this.state.sentenceCase)return(n=this.state).partlyLowercase||(n.partlyLowercase=e===e.toLowerCase()&&e!==e.toUpperCase()),e;const[r,...i]=e,o=i.join(""),a=o.toLowerCase();return o!==a?e:t?r+a:e.toLowerCase()},Command(){const e=this.consumeToken("command"),t=e.value;if(t in m){return we(this.consumeRule("Env"),m[t])}if(t in g){return we(this.consumeRule("BracketString"),g[t])}if(t in h)return h[t];if(t in p&&!this.matchEndOfFile()){const e=this.consumeRule("Text");return(e[0]+p[t]).normalize("NFC")+e.slice(1)}if(t in b){const e=b[t],n=[];let r=e.length;for(;r-- >0;)this.consumeToken("whitespace",!0),n.push(this.consumeRule("BracketString"));return e(...n)}return/^[&%$#_{}]$/.test(t)?e.text.slice(1):e.text},Env(){let e="";for(;!this.matchEndOfFile()&&!this.matchToken("rbrace");)e+=this.consumeRule("Text");return e},EnclosedEnv(){this.consumeToken("commandBegin");const e=this.consumeRule("BracketString");let t="";for(;!this.matchToken("commandEnd");)t+=this.consumeRule("Text");const n=this.consumeToken("commandEnd"),r=this.consumeRule("BracketString");if(e!==r)throw new SyntaxError(this.lexer.formatError(n,'environment started with "'.concat(e,'", ended with "').concat(r,'"')));return we(t,m[e])}},{sentenceCase:!1,partlyLowercase:!1,afterPunctuation:!0});function Te(e){return E.includes(e.toLowerCase())}function Ce(e,t){if("name"===e[1])return"list"===e[0]?"StringNames":"Name";if("title"===e[1]){const e=U.parse.sentenceCase;return"always"===e||"english"===e&&function(e){return Array.isArray(e)?e.every(Te):Te(e)}(t)?"StringTitleCase":"String"}switch("field"===e[0]?e[1]:e[0]){case"list":return"StringList";case"separated":return"StringSeparated";case"verbatim":return"StringVerbatim";case"uri":return"StringUri";default:return"String"}}function ke(e){if("name"===e[1])return"namesLiteral";switch(e[0]){case"list":return"listLiteral";case"separated":return"separatedLiteral";default:return"stringLiteral"}}function Se(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=d[t]||[];return Ee.parse(_e.reset(e,{state:ke(r),line:0,col:0}),Ce(r,n))}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e,t){const n=[];for(const{type:r,label:i,properties:o}of e)if(r in t){const e=[];for(const n of t[r])Array.isArray(n)&&!n.some((e=>e in o))?e.push(n.join("/")):"string"!==typeof n||n in o||e.push(n);e.length&&n.push([i,"missing fields: ".concat(e.join(", "))])}else n.push([i,'invalid type: "'.concat(r,'"')]);if(n.length)throw new RangeError(["Invalid entries:"].concat(n.map((e=>{let[t,n]=e;return"  - ".concat(t," has ").concat(n)}))).join("\n"))}function Ie(e){const t={};"language"in e.properties&&(t.language=Se(e.properties.language,"language"));for(const n in e.properties){const r=e.properties[n];""!==r&&(t[n]=Se(r+"",n,t.language))}return Ae(Ae({},e),{},{properties:t})}function Le(e){return U.parse.strict&&Pe(e,u.biblatex),ue(e.map(Ie),re)}function Re(e){return U.parse.strict&&Pe(e,u.bibtex),ue(e.map(Ie),ie)}const Ne={"@biblatex/text":{parse:I,parseType:{dataType:"String",predicate:/@\s{0,5}[A-Za-z]{1,13}\s{0,5}\{\s{0,5}[^@{}"=,\\\s]{0,100}\s{0,5},[\s\S]*\}/}},"@biblatex/entry+object":{parse:e=>Le([e]),parseType:{dataType:"SimpleObject",propertyConstraint:{props:["type","label","properties"]}}},"@biblatex/entries+list":{parse:Le,parseType:{elementConstraint:"@biblatex/entry+object"}},"@bibtex/text":{parse:I,outputs:"@bibtex/entries+list"},"@bibtex/entry+object":{parse:e=>Re([e])},"@bibtex/entries+list":{parse:Re},"@bibtxt/text":{parse:e=>e.trim().split(L).map(M),parseType:{dataType:"String",predicate:/^\s*(\[(?!\s*[{[]).*?\]\s*(\n\s*[^[]((?!:)\S)+\s*:\s*.+?\s*)*\s*)+$/}}},De={};for(const Ye in h)De[h[Ye]]=Ye;for(const Ye in p)De[p[Ye]]=Ye;for(const Ye in _)De[_[Ye]]=Ye;const Me=/[^a-zA-Z0-9\s!"#%&'()*+,\-./:;=?@[\]{}\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]/g,Be=/.[\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]+/g,Qe={separated:",",list:" and "},Ue={i:"\\textit{",b:"\\textbf{",sc:"\\textsc{",sup:"\\textsuperscript{",sub:"\\textsubscript{",'span style="font-variant:small-caps;"':"\\textsc{",'span class="nocase"':"{"};function Fe(e){return e.normalize("NFKD").replace(Me,(e=>e in De?De[e]in _?De[e]:"\\".concat(De[e],"{}"):"")).replace(Be,(e=>Array.from(e).reduce(((e,t)=>"{\\".concat(De[t]," ").concat(e,"}")))))}function ze(e){const t=[];let n=e.split(/<(\/?(?:i|b|sc|sup|sub|span)|span .*?)>/g);return n=n.map(((e,n)=>n%2===0?Fe(e):e in Ue?(t.push("/"+e.split(" ")[0]),Ue[e]):e===t[t.length-1]?(t.pop(),"}"):"")),n.join("")}function qe(e,t){switch(t){case"title":return ze(e).split(/(:\s*)/).map(((e,t)=>t%2?e:e.replace(/(?!^)\b[a-z]*[A-Z].*?\b/g,"{$&}"))).join("");case"literal":return ze(e.toString());case"name":return function(e){if(e.family&&!e.prefix&&!e.given&!e.suffix)return e.family.includes(Qe.list)?e.family:"{".concat(e.family,"}");const t=[""];return e.prefix&&e.family&&(t[0]+=e.prefix+" "),e.family&&(t[0]+=e.family),e.suffix?(t.push(e.suffix),t.push(e.given||"")):t.push(e.given),Fe(t.join(", ").trim())}(e);case"verbatim":case"uri":return e.toString();default:return Fe(e.toString())}}function He(e,t){if(!(e in d))return qe(t,"verbatim");const[n,r]=d[e];return n in Qe?function(e,t,n){const r=Qe[n];return e.map((e=>{const n=qe(e,t);return n.includes(r)?"{".concat(n,"}"):n})).join(r)}(t,r,n):qe(t,r)}function We(e){let{type:t,label:n,properties:r}=e;const i={};for(const o in r){const e=r[o];i[o]=He(o,e)}return{type:t,label:n,properties:i}}function Ge(e){return(t=e,de(t,ie)).map(We);var t}function Ve(e,t){const n=e.map((e=>function(e,t){let{type:n,label:r,properties:i}=e;const o=Object.entries(i).map((e=>{let[n,r]=e;return t.listItem.join("".concat(n," = {").concat(r,"},"))}));return t.entry.join("@".concat(n,"{").concat(r,",").concat(t.list.join(o.join("")),"}"))}(e,t))).join("");return t.bibliographyContainer.join(n)}const $e=function(e,t){return function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:o,format:a=o||"text"}=r;if(n=e(n),"object"===a)return n;if(i.plugins.dict.has(a))return t(n,i.plugins.dict.get(a),r);throw new RangeError('Output dictionary "'.concat(a,'" not available'))}},Ke={bibtex:$e(Ge,Ve),biblatex:$e((function(e){return(t=e,de(t,re)).map(We);var t}),Ve),bibtxt:$e(Ge,(function(e,t){const n=e.map((e=>function(e,t){let{type:n,label:r,properties:i}=e;const o=Object.entries(i).concat([["type",n]]).map((e=>{let[n,r]=e;return t.listItem.join("".concat(n,": ").concat(r))}));return t.entry.join("[".concat(r,"]").concat(t.list.join(o.join(""))))}(e,t))).join("\n");return t.bibliographyContainer.join(n)}))};i.plugins.add("@bibtex",{input:Ne,output:Ke,config:U})},1364:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(480)),i=a(n(9776));function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function a(e){return e&&e.__esModule?e:{default:e}}var s={constants:function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}r.default=e,n&&n.set(e,r);return r}(n(2188)),types:{biblatex:r.default,bibtex:i.default},parse:{biblatex:!0,strict:!1,sentenceCase:"never"},format:{useIdAsLabel:!1}};t.default=s},2652:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.textEntry=t.text=t.parse=void 0;const n=/\n\s*(?=\[)/g,r=/^\[(.+?)\]\s*(?:\n([\s\S]+))?$/,i=/((?=.)\s)*\n\s*/g,o=/:(.*)/,a=e=>{const[,t,n]=e.match(r)||[];if(t&&n){const e={type:"book",label:t,properties:{}};return n.trim().split(i).filter((e=>e)).forEach((t=>{let[n,r]=t.split(o);r&&(n=n.trim(),r=r.trim(),"type"===n?e.type=r:e.properties[n]=r)})),e}return{}};t.textEntry=a;t.text=t.parse=e=>e.trim().split(n).map(a)},2188:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sentenceCaseLanguages=t.required=t.mathScripts=t.mathScriptFormatting=t.ligatures=t.ligaturePattern=t.formattingEnvs=t.formattingCommands=t.formatting=t.fieldTypes=t.diacritics=t.defaultStrings=t.commands=t.argumentCommands=void 0;var r=a(n(8242)),i=a(n(7064)),o=a(n(5188));function a(e){return e&&e.__esModule?e:{default:e}}const s=r.default;t.required=s;const l=i.default;t.fieldTypes=l;const c=o.default.diacritics;t.diacritics=c;const u=o.default.commands;t.commands=u;t.defaultStrings={jan:"01",feb:"02",mar:"03",apr:"04",may:"05",jun:"06",jul:"07",aug:"08",sep:"09",oct:"10",nov:"11",dec:"12",acmcs:"ACM Computing Surveys",acta:"Acta Informatica",cacm:"Communications of the ACM",ibmjrd:"IBM Journal of Research and Development",ibmsj:"IBM Systems Journal",ieeese:"IEEE Transactions on Software Engineering",ieeetc:"IEEE Transactions on Computers",ieeetcad:"IEEE Transactions on Computer-Aided Design of Integrated Circuits",ipl:"Information Processing Letters",jacm:"Journal of the ACM",jcss:"Journal of Computer and System Sciences",scp:"Science of Computer Programming",sicomp:"SIAM Journal on Computing",tocs:"ACM Transactions on Computer Systems",tods:"ACM Transactions on Database Systems",tog:"ACM Transactions on Graphics",toms:"ACM Transactions on Mathematical Software",toois:"ACM Transactions on Office Information Systems",toplas:"ACM Transactions on Programming Languages and Systems",tcs:"Theoretical Computer Science"};const d={it:"italics",itshape:"italics",sl:"italics",slshape:"italics",em:"italics",bf:"bold",bfseries:"bold",sc:"smallcaps",scshape:"smallcaps",rm:void 0,sf:void 0,tt:void 0};t.formattingEnvs=d;const p={textit:"italics",textsl:"italics",emph:"italics",mkbibitalic:"italics",mkbibemph:"italics",textbf:"bold",strong:"bold",mkbibbold:"bold",textsc:"smallcaps",textsuperscript:"superscript",textsubscript:"subscript",enquote:"quotes",mkbibquote:"quotes",textmd:void 0,textrm:void 0,textsf:void 0,texttt:void 0,textup:void 0};t.formattingCommands=p;t.formatting={italics:["<i>","</i>"],bold:["<b>","</b>"],superscript:["<sup>","</sup>"],subscript:["<sub>","</sub>"],smallcaps:['<span style="font-variant:small-caps;">',"</span>"],nocase:['<span class="nocase">',"</span>"],quotes:["\u201c","\u201d"]};const h={ElsevierGlyph:e=>String.fromCharCode(parseInt(e,16)),href:(e,t)=>e,url:e=>e};t.argumentCommands=h;t.ligaturePattern=/---?|''|``|~/g;t.ligatures={"--":"\u2013","---":"\u2014","``":"\u201c","''":"\u201d","~":"\xa0"};const f={"^":"superscript",sp:"superscript",_:"subscript",sb:"subscript",mathrm:void 0};t.mathScriptFormatting=f;t.mathScripts={"^":{0:"\u2070",1:"\xb9",2:"\xb2",3:"\xb3",4:"\u2074",5:"\u2075",6:"\u2076",7:"\u2077",8:"\u2078",9:"\u2079","+":"\u207a","-":"\u207b","=":"\u207c","(":"\u207d",")":"\u207e",i:"\u2071",n:"\u207f"},_:{0:"\u2080",1:"\u2081",2:"\u2082",3:"\u2083",4:"\u2084",5:"\u2085",6:"\u2086",7:"\u2087",8:"\u2088",9:"\u2089","+":"\u208a","-":"\u208b","=":"\u208c","(":"\u208d",")":"\u208e",a:"\u2090",e:"\u2091",o:"\u2092",x:"\u2093","\u0259":"\u2094",h:"\u2095",k:"\u2096",l:"\u2097",m:"\u2098",n:"\u2099",s:"\u209a",p:"\u209b",t:"\u209c"}};t.sentenceCaseLanguages=["american","british","canadian","english","australian","newzealand","usenglish","ukenglish","en","eng","en-au","en-bz","en-ca","en-cb","en-gb","en-ie","en-jm","en-nz","en-ph","en-tt","en-us","en-za","en-zw","anglais"]},2892:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e){i.default.parse.strict&&d(e,s.required.biblatex);return(0,o.parse)(e.map(p))},t.parseBibtex=function(e){i.default.parse.strict&&d(e,s.required.bibtex);return(0,o.parseBibtex)(e.map(p))};var r,i=(r=n(1364))&&r.__esModule?r:{default:r},o=n(3272),a=n(7440),s=n(2188);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){const n=[];for(const{type:r,label:i,properties:o}of e)if(r in t){const e=[];for(const n of t[r])Array.isArray(n)&&!n.some((e=>e in o))?e.push(n.join("/")):"string"!==typeof n||n in o||e.push(n);e.length&&n.push([i,"missing fields: ".concat(e.join(", "))])}else n.push([i,'invalid type: "'.concat(r,'"')]);if(n.length)throw new RangeError(["Invalid entries:"].concat(n.map((e=>{let[t,n]=e;return"  - ".concat(t," has ").concat(n)}))).join("\n"))}function p(e){const t={};"language"in e.properties&&(t.language=(0,a.parse)(e.properties.language,"language"));for(const n in e.properties){const r=e.properties[n];""!==r&&(t[n]=(0,a.parse)(r+"",n,t.language))}return c(c({},e),{},{properties:t})}},1072:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bibtexGrammar=void 0,t.parse=function(e){return f.parse(p.reset(e))};var r,i=n(8660),o=(r=n(3240))&&r.__esModule?r:{default:r},a=n(2188);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=/[a-zA-Z_][a-zA-Z0-9_:-]*/,d={comment:/%.*/,whitespace:{match:/\s+/,lineBreaks:!0}},p=o.default.states({main:{junk:{match:/@[cC][oO][mM][mM][eE][nN][tT].+|[^@]+/,lineBreaks:!0},at:{match:"@",push:"entry"}},entry:l(l({},d),{},{otherEntryType:{match:/[sS][tT][rR][iI][nN][gG]|[pP][rR][eE][aA][mM][bB][lL][eE]/,next:"otherEntryContents"},dataEntryType:{match:u,next:"dataEntryContents"}}),otherEntryContents:l(l({},d),{},{lbrace:{match:/[{(]/,next:"fields"}}),dataEntryContents:l(l({},d),{},{lbrace:{match:/[{(]/,next:"dataEntryContents"},label:/[^,\s]+/,comma:{match:",",next:"fields"}}),fields:l(l({},d),{},{identifier:u,number:/-?\d+/,hash:"#",equals:"=",comma:",",quote:{match:'"',push:"quotedLiteral"},lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:/[})]/,pop:!0}}),quotedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},quote:{match:'"',pop:!0},text:{match:/(?:\\[\\{]|[^{"])+/,lineBreaks:!0}},bracedLiteral:{lbrace:{match:"{",push:"bracedLiteral"},rbrace:{match:"}",pop:!0},text:{match:/(?:\\[\\{}]|[^{}])+/,lineBreaks:!0}}}),h={"(":")","{":"}"},f=new i.util.Grammar({Main(){const e=[];for(;;){for(;this.matchToken("junk");)this.consumeToken("junk");if(this.matchEndOfFile())break;e.push(this.consumeRule("Entry"))}return e.filter(Boolean)},_(){let e;for(;e!==this.token;)e=this.token,this.consumeToken("whitespace",!0),this.consumeToken("comment",!0)},Entry(){this.consumeToken("at"),this.consumeRule("_");const e=(this.matchToken("otherEntryType")?this.consumeToken("otherEntryType"):this.consumeToken("dataEntryType")).value.toLowerCase();this.consumeRule("_");const t=this.consumeToken("lbrace").value;let n;if(this.consumeRule("_"),"string"===e){const[e,t]=this.consumeRule("Field");this.state.strings[e]=t}else if("preamble"===e)this.consumeRule("Expression");else{const t=this.consumeToken("label").value;this.consumeRule("_"),this.consumeToken("comma"),this.consumeRule("_");n={type:e,label:t,properties:this.consumeRule("EntryBody")}}this.consumeRule("_");const r=this.consumeToken("rbrace").value;return r!==h[t]&&i.logger.warn("[plugin-bibtex]",'entry started with "'.concat(t,'", but ends with "').concat(r,'"')),n},EntryBody(){const e={};for(;this.matchToken("identifier");){const[t,n]=this.consumeRule("Field");if(e[t]=n,this.consumeRule("_"),!this.consumeToken("comma",!0))break;this.consumeRule("_")}return e},Field(){const e=this.consumeToken("identifier").value.toLowerCase();this.consumeRule("_"),this.consumeToken("equals"),this.consumeRule("_");return[e,this.consumeRule("Expression")]},Expression(){let e=this.consumeRule("ExpressionPart");for(this.consumeRule("_");this.matchToken("hash");)this.consumeToken("hash"),this.consumeRule("_"),e+=this.consumeRule("ExpressionPart").toString(),this.consumeRule("_");return e},ExpressionPart(){return this.matchToken("identifier")?this.state.strings[this.consumeToken("identifier").value.toLowerCase()]||"":this.matchToken("number")?parseInt(this.consumeToken("number")):this.matchToken("quote")?this.consumeRule("QuoteString"):this.consumeRule("BracketString")},QuoteString(){let e="";for(this.consumeToken("quote");!this.matchToken("quote");)e+=this.consumeRule("Text");return this.consumeToken("quote"),e},BracketString(){let e="";for(this.consumeToken("lbrace");!this.matchToken("rbrace");)e+=this.consumeRule("Text");return this.consumeToken("rbrace"),e},Text(){return this.matchToken("lbrace")?"{".concat(this.consumeRule("BracketString"),"}"):this.consumeToken("text").value}},{strings:a.defaultStrings});t.bibtexGrammar=f},940:(e,t,n)=>{"use strict";t.qy=void 0;var r=n(1072),i=n(2652),o=n(2892);const a={"@biblatex/text":{parse:r.parse,parseType:{dataType:"String",predicate:/@\s{0,5}[A-Za-z]{1,13}\s{0,5}\{\s{0,5}[^@{}"=,\\\s]{0,100}\s{0,5},[\s\S]*\}/}},"@biblatex/entry+object":{parse:e=>(0,o.parse)([e]),parseType:{dataType:"SimpleObject",propertyConstraint:{props:["type","label","properties"]}}},"@biblatex/entries+list":{parse:o.parse,parseType:{elementConstraint:"@biblatex/entry+object"}},"@bibtex/text":{parse:r.parse,outputs:"@bibtex/entries+list"},"@bibtex/entry+object":{parse:e=>(0,o.parseBibtex)([e])},"@bibtex/entries+list":{parse:o.parseBibtex},"@bibtxt/text":{parse:i.parse,parseType:{dataType:"String",predicate:/^\s*(\[(?!\s*[{[]).*?\]\s*(\n\s*[^[]((?!:)\S)+\s*:\s*.+?\s*)*\s*)+$/}}};t.qy=a},5012:(e,t)=>{"use strict";function n(e){if(0===e.length)return;let t="";for(;e.length>1;){const{value:n,hyphenated:r}=e.shift();t+=n+(r?"-":" ")}const n=t+e[0].value;return n[0]&&n}function r(e){const t=[],r=[];if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])for(;e.length>1&&!1!==e[0].upperCase;){for(t.push(...r),r.length=0;e.length>1&&!1!==e[0].upperCase&&!e[0].hyphenated;)t.push(e.shift());for(;e.length>0&&!1!==e[0].upperCase&&e[0].hyphenated;)r.push(e.shift())}const i=[],o=[];for(;e.length>1;){for(i.push(...o),o.length=0;e.length>1&&!1===e[0].upperCase;)i.push(e.shift());for(;e.length>0&&!1!==e[0].upperCase;)o.push(e.shift())}return r.length&&o.unshift(...r),e.length&&o.push(e[0]),[n(t),n(i),n(o)]}Object.defineProperty(t,"__esModule",{value:!0}),t.formatNameParts=n,t.getStringCase=function(e){const t=e.toUpperCase(),n=e.toLowerCase();for(let r=0;r<e.length;r++)if(t[r]!==n[r])return t[r]===e[r];return null},t.orderNameParts=r,t.orderNamePieces=function(e){if(e[0][0].label){const t={};for(const[{value:n,label:r}]of e)t[r]=n;return t}const t={},[i,o,a]=r(e[0],1===e.length);a&&(t.family=a);o&&(t.prefix=o);3===e.length?(t.given=n(e[2]),t.suffix=n(e[1])):2===e.length?t.given=n(e[1]):i&&(t.given=i);return t}},7440:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=a.fieldTypes[t]||[];return b.parse(m.reset(e,{state:_(r),line:0,col:0}),function(e,t){if("name"===e[1])return"list"===e[0]?"StringNames":"Name";if("title"===e[1]){const e=o.default.parse.sentenceCase;return"always"===e||"english"===e&&function(e){if(Array.isArray(e))return e.every(y);return y(e)}(t)?"StringTitleCase":"String"}switch("field"===e[0]?e[1]:e[0]){case"list":return"StringList";case"separated":return"StringSeparated";case"verbatim":return"StringVerbatim";case"uri":return"StringUri";default:return"String"}}(r,n))},t.valueGrammar=void 0;var r=n(8660),i=c(n(3240)),o=c(n(1364)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n(2188)),s=n(5012);function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h={"\\begin":"commandBegin","\\end":"commandEnd"},f={command:{match:/\\(?:[a-zA-Z]+|.) */,type:e=>h[e],value:e=>e.slice(1).trim()},lbrace:{match:"{",push:"bracedLiteral"},mathShift:{match:"$",push:"mathLiteral"},whitespace:{match:/[\s]+|~/,lineBreaks:!0,value:e=>"~"===e?"\xa0":" "}},m=i.default.states({stringLiteral:d(d({},f),{},{text:/[^{$}\s~\\]+/}),namesLiteral:d(d({and:/\s+and\s+/,comma:",",hyphen:"-",equals:"="},f),{},{text:/[^{$}\s~\\,=-]+/}),listLiteral:d(d({and:/\s+and\s+/},f),{},{text:/[^{$}\s~\\]+/}),separatedLiteral:d(d({comma:","},f),{},{text:/[^{$}\s~\\,]+/}),bracedLiteral:d(d({},f),{},{rbrace:{match:"}",pop:!0},text:/[^{$}\s~\\]+/}),mathLiteral:d(d({},f),{},{mathShift:{match:"$",pop:!0},script:/[\^_]/,text:/[^{$}\s~\\^_]+/})});function g(e){return e[0],e}function v(e,t){return t in a.formatting?e&&a.formatting[t].join(e):e}const b=new r.util.Grammar({String(){let e="";for(;!this.matchEndOfFile();)e+=this.consumeRule("Text");return g(e)},StringNames(){const e=[];for(;;){if(this.consumeToken("whitespace",!0),e.push(this.consumeRule("Name")),this.consumeToken("whitespace",!0),this.matchEndOfFile())return e;this.consumeToken("and")}},Name(){const e=[];for(;;){if(e.push(this.consumeRule("NamePiece")),this.matchEndOfFile()||this.matchToken("and"))return(0,s.orderNamePieces)(e);this.consumeToken("comma"),this.consumeToken("whitespace",!0)}},NamePiece(){const e=[];for(;;){const t=this.consumeRule("NameToken");if(t.label)return t.label=(0,s.formatNameParts)([...e,{value:t.label}]),[t];if(e.push(t),this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma"))return e;for(;this.matchToken("hyphen")||this.matchToken("whitespace");)this.consumeToken()}},NameToken(){let e=null,t="";for(;;)if(null===e&&this.matchToken("text")){const n=this.consumeToken().value;t+=n,e=(0,s.getStringCase)(n)}else{if(this.matchEndOfFile()||this.matchToken("and")||this.matchToken("comma")||this.matchToken("whitespace"))return{value:t,upperCase:e};if(this.matchToken("hyphen"))return{value:t,upperCase:e,hyphenated:!0};if(this.matchToken("equals")){this.consumeToken("equals");const e=this.consumeRule("NamePiece");return e[0].label&&(t+="="+e[0].label),{value:(0,s.formatNameParts)(e),label:t}}t+=this.consumeRule("Text")}},StringList(){const e=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("and");)t+=this.consumeRule("Text");e.push(g(t)),this.consumeToken("and",!0)}return 1===e.length?e[0]:e},StringSeparated(){const e=[];for(;!this.matchEndOfFile();){let t="";for(;!this.matchEndOfFile()&&!this.matchToken("comma");)t+=this.consumeRule("Text");e.push(t.trim()),this.consumeToken("comma",!0),this.consumeToken("whitespace",!0)}return e},StringVerbatim(){let e="";for(;!this.matchEndOfFile();)e+=this.consumeToken().text;return g(e)},StringUri(){const e=this.consumeRule("StringVerbatim");try{return decodeURI(e)===e?encodeURI(e):e}catch(t){return encodeURI(e)}},StringTitleCase(){this.state.sentenceCase=!0;let e="";for(;!this.matchEndOfFile();)e+=this.consumeRule("Text");return g(e)},BracketString(){var e;let t="";this.consumeToken("lbrace");const n=this.state.sentenceCase;for(this.state.sentenceCase=n&&this.matchToken("command"),(e=this.state).partlyLowercase&&(e.partlyLowercase=this.state.sentenceCase);!this.matchToken("rbrace");)t+=this.consumeRule("Text");const r=n&&!this.state.sentenceCase&&this.state.partlyLowercase;return this.state.sentenceCase=n,this.consumeToken("rbrace"),r?v(t,"nocase"):t},MathString(){let e="";for(this.consumeToken("mathShift");!this.matchToken("mathShift");)if(this.matchToken("script")){const t=this.consumeToken("script").value,n=this.consumeRule("Text").split("");if(n.every((e=>e in a.mathScripts[t])))e+=n.map((e=>a.mathScripts[t][e])).join("");else{const r=a.mathScriptFormatting[t];e+=a.formatting[r].join(n.join(""))}}else{if(this.matchToken("command")){const t=this.token.value;if(t in a.mathScriptFormatting){this.consumeToken("command");e+=v(this.consumeRule("BracketString"),a.mathScriptFormatting[t]);continue}}e+=this.consumeRule("Text")}return this.consumeToken("mathShift"),e},Text(){if(this.matchToken("lbrace"))return this.consumeRule("BracketString");if(this.matchToken("mathShift"))return this.consumeRule("MathString");if(this.matchToken("whitespace"))return this.consumeToken("whitespace").value;if(this.matchToken("commandBegin"))return this.consumeRule("EnclosedEnv");if(this.matchToken("command"))return this.consumeRule("Command");const e=this.consumeToken("text").value.replace(a.ligaturePattern,(e=>a.ligatures[e])),t=this.state.afterPunctuation;var n;if(this.state.afterPunctuation=/[?!.:]$/.test(e),!this.state.sentenceCase)return(n=this.state).partlyLowercase||(n.partlyLowercase=e===e.toLowerCase()&&e!==e.toUpperCase()),e;const[r,...i]=e,o=i.join(""),s=o.toLowerCase();return o!==s?e:t?r+s:e.toLowerCase()},Command(){const e=this.consumeToken("command"),t=e.value;if(t in a.formattingEnvs){return v(this.consumeRule("Env"),a.formattingEnvs[t])}if(t in a.formattingCommands){return v(this.consumeRule("BracketString"),a.formattingCommands[t])}if(t in a.commands)return a.commands[t];if(t in a.diacritics&&!this.matchEndOfFile()){const e=this.consumeRule("Text");return(e[0]+a.diacritics[t]).normalize("NFC")+e.slice(1)}if(t in a.argumentCommands){const e=a.argumentCommands[t],n=[];let r=e.length;for(;r-- >0;)this.consumeToken("whitespace",!0),n.push(this.consumeRule("BracketString"));return e(...n)}return/^[&%$#_{}]$/.test(t)?e.text.slice(1):e.text},Env(){let e="";for(;!this.matchEndOfFile()&&!this.matchToken("rbrace");)e+=this.consumeRule("Text");return e},EnclosedEnv(){this.consumeToken("commandBegin");const e=this.consumeRule("BracketString");let t="";for(;!this.matchToken("commandEnd");)t+=this.consumeRule("Text");const n=this.consumeToken("commandEnd"),r=this.consumeRule("BracketString");if(e!==r)throw new SyntaxError(this.lexer.formatError(n,'environment started with "'.concat(e,'", ended with "').concat(r,'"')));return v(t,a.formattingEnvs[e])}},{sentenceCase:!1,partlyLowercase:!1,afterPunctuation:!0});function y(e){return a.sentenceCaseLanguages.includes(e.toLowerCase())}function _(e){if("name"===e[1])return"namesLiteral";switch(e[0]){case"list":return"listLiteral";case"separated":return"separatedLiteral";default:return"stringLiteral"}}t.valueGrammar=b},9264:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(8660),o=n(1732),a=(r=n(480))&&r.__esModule?r:{default:r},s=n(448);const l=[{source:"note",target:"accessed",when:{source:!1,target:{note:!1}},convert:{toSource:e=>"[Online; accessed ".concat((0,o.format)(e),"]")}},{source:"numpages",target:"number-of-pages",when:{source:{pagetotal:!1},target:!1}},{source:"pmid",target:"PMID",when:{source:{eprinttype:e=>"pmid"!==e,archiveprefix:e=>"pmid"!==e},target:!1}},{source:"pmcid",target:"PMCID",when:{target:!1}}],c=[{source:"annote",target:"annote",when:{source:{annotation:!1},target:!1}},{source:"address",target:"publisher-place",convert:s.Converters.PICK,when:{source:{location:!1},target:!1}},{source:["eprint","archiveprefix"],target:"PMID",convert:s.Converters.EPRINT,when:{source:{eprinttype:!1},target:!1}},{source:"journal",target:"container-title",when:{source:{maintitle:!1,booktitle:!1,journaltitle:!1},target:!1}},{source:"school",target:"publisher",convert:s.Converters.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:!1}}];var u=new i.util.Translator([...c,...l,{source:"abstract",target:"abstract"},{source:"urldate",target:"accessed",convert:s.Converters.DATE},{source:"annotation",target:"annote"},{source:"author",target:"author",convert:s.Converters.NAMES},{source:"library",target:"call-number"},{source:"chapter",target:"chapter-number"},{source:"bookauthor",target:"container-author",convert:s.Converters.NAMES},{source:["maintitle","mainsubtitle","maintitleaddon"],target:"container-title",when:{source:!0,target:{"number-of-volumes":!0}},convert:s.Converters.TITLE},{source:["booktitle","booksubtitle","booktitleaddon"],target:"container-title",when:{source:{maintitle:!1},target:{"number-of-volumes":!1,type:e=>!e.startsWith("article")}},convert:s.Converters.TITLE},{source:["journaltitle","journalsubtitle","journaltitleaddon"],target:"container-title",when:{source:{[s.TYPE]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}},convert:s.Converters.TITLE},{source:"shortjournal",target:"container-title-short",when:{source:{[s.TYPE]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"shortjournal",target:"journalAbbreviation",when:{source:!1,target:{"container-title-short":!1}}},{source:"number",target:"collection-number",when:{source:{[s.TYPE]:["book","mvbook","inbook","bookinbook","suppbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"shortseries",target:"collection-title-short"},{source:"doi",target:"DOI"},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:s.Converters.NAMES},{source:[s.TYPE,"entrysubtype","type"],target:["type","genre"],convert:{toTarget:(e,t,n)=>(n||("masterthesis"===e&&(n="mathesis"),"phdthesis"===e&&(n="phdthesis"),"techreport"===e&&(n="techreport")),[a.default.source[e]||"book",n||t]),toSource(e,t){const n=a.default.target[e]||"misc";return t in s.TYPE_KEYS?[n,void 0,t]:[n,t]}}},{source:s.TYPE,when:{target:{type:!1}},convert:{toSource:()=>"misc"}},{source:"eventdate",target:"event-date",convert:s.Converters.DATE},{source:"venue",target:"event-place"},{source:"eventtitle",target:"event"},{source:s.LABEL,target:["id","citation-label","author","issued","year-suffix","title"],convert:s.Converters.LABEL},{source:"isbn",target:"ISBN"},{source:"issn",target:"ISSN"},{source:"issue",target:"issue",when:{source:{number:!1,[s.TYPE]:["article","periodical"]},target:{issue:e=>"string"===typeof e&&!e.match(/\d+/),type:["article","article-journal","article-newspaper","article-magazine"]}}},{source:"number",target:"issue",when:{source:{[s.TYPE]:["article","periodical","inproceedings"]},target:{issue:e=>e&&("number"===typeof e||e.match(/\d+/)),type:["article","article-journal","article-newspaper","article-magazine","paper-conference"]}}},{source:"date",target:"issued",convert:s.Converters.DATE},{source:["year","month","day"],target:"issued",convert:s.Converters.YEAR_MONTH,when:{source:{date:!1},target:!1}},{source:"location",target:"jurisdiction",when:{source:{type:"patent"},target:{type:"patent"}}},{source:"keywords",target:"keyword",convert:s.Converters.KEYWORDS},{source:"language",target:"language",convert:s.Converters.PICK},{source:"note",target:"note"},{source:["isan","ismn","isrn","iswc"],target:"number",convert:s.Converters.STANDARD_NUMBERS,when:{source:{[s.TYPE]:e=>"patent"!==e},target:{type:e=>"patent"!==e}}},{source:"number",target:"number",when:{source:{[s.TYPE]:["patent","report","techreport","legislation"]},target:{type:["patent","report","legislation"]}}},{source:"origdate",target:"original-date",convert:s.Converters.DATE},{source:"origlocation",target:"original-publisher-place",convert:s.Converters.PICK},{source:"origpublisher",target:"original-publisher",convert:s.Converters.PICK},{source:"origtitle",target:"original-title"},{source:["pages","eid"],target:"page",convert:{toTarget:(e,t)=>t?t.replace(/^e?/i,"e"):e.replace(/[\u2013\u2014]/,"-"),toSource:e=>/^e/i.test(e)?[e,e]:[e.replace("-","--")]}},{source:"pagetotal",target:"number-of-pages"},{source:["eprint","eprinttype"],target:"PMID",convert:s.Converters.EPRINT},{source:"location",target:"publisher-place",convert:s.Converters.PICK},{source:"publisher",target:"publisher",convert:s.Converters.PICK,when:{source:!0,target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","regulation","review","review-book","song","speech","treaty"]}}},{source:"organization",target:"publisher",convert:s.Converters.PICK,when:{source:{publisher:!1},target:{type:"webpage"}}},{source:"institution",target:"publisher",convert:s.Converters.PICK,when:{source:{publisher:!1,organization:!1},target:{type:["report","thesis"]}}},{source:"howpublished",target:"publisher",convert:s.Converters.PICK,when:{source:{publisher:!1,organization:!1,institution:!1},target:{type:"manuscript"}}},{source:["pages","bookpagination"],target:"section",when:{source:{bookpagination:"section"},target:{page:!1}},convert:{toTarget:e=>e,toSource:e=>[e,"section"]}},{source:"pubstate",target:"status",convert:s.Converters.STATUS},{source:"shorttitle",target:"title-short"},{source:["title","subtitle","titleaddon"],target:"title",convert:s.Converters.TITLE},{source:"translator",target:"translator",convert:s.Converters.NAMES},{source:"url",target:"URL"},{source:"howpublished",target:"URL",convert:s.Converters.HOW_PUBLISHED,when:{source:{url:!1},target:!1}},{source:"version",target:"version"},{source:"volume",target:"volume"},{source:"volumes",target:"number-of-volumes"}]);t.default=u},5928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(8660),o=n(1732),a=(r=n(9776))&&r.__esModule?r:{default:r},s=n(448);var l=new i.util.Translator([{source:"note",target:"accessed",when:{source:!1,target:{note:!1}},convert:{toSource:e=>"[Online; accessed ".concat((0,o.format)(e),"]")}},{source:"annote",target:"annote"},{source:"address",target:"publisher-place",convert:s.Converters.PICK},{source:"author",target:"author",convert:s.Converters.NAMES},{source:"chapter",target:"chapter-number"},{source:"number",target:"collection-number",when:{source:{[s.TYPE]:["book","mvbook","inbook","collection","mvcollection","incollection","suppcollection","manual","suppperiodical","proceedings","mvproceedings","refererence"]},target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","post","post-weblog","personal_communication","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"series",target:"collection-title"},{source:"booktitle",target:"container-title",when:{target:{type:["chapter","paper-conference"]}}},{source:"journal",target:"container-title",when:{source:{[s.TYPE]:"article"},target:{type:["article","article-newspaper","article-journal","article-magazine"]}}},{source:"edition",target:"edition"},{source:"editor",target:"editor",convert:s.Converters.NAMES},{source:s.LABEL,target:["id","citation-label","author","issued","year-suffix","title"],convert:s.Converters.LABEL},{source:"number",target:"issue",when:{source:{[s.TYPE]:["article","periodical","inproceedings"]},target:{issue:e=>"number"===typeof e||"string"===typeof e&&e.match(/\d+/),type:["article","article-journal","article-newspaper","article-magazine","paper-conference"]}}},{source:["year","month","day"],target:"issued",convert:s.Converters.YEAR_MONTH},{source:"note",target:"note"},{source:"number",target:"number",when:{source:{[s.TYPE]:["patent","report","techreport"]},target:{type:["patent","report"]}}},{source:"pages",target:"page",convert:{toTarget:e=>e.replace(/[\u2013\u2014]/,"-"),toSource:e=>e.replace("-","--")}},{source:"publisher",target:"publisher",convert:s.Converters.PICK,when:{target:{type:["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","map","motion_picture","musical_score","pamphlet","patent","personal_communication","post","post-weblog","review","review-book","song","speech","treaty","webpage"]}}},{source:"organization",target:"publisher",convert:s.Converters.PICK,when:{source:{publisher:!1},target:{type:"paper-conference"}}},{source:"institution",target:"publisher",convert:s.Converters.PICK,when:{source:{publisher:!1,organization:!1},target:{type:"report"}}},{source:"school",target:"publisher",convert:s.Converters.PICK,when:{source:{institution:!1,organization:!1,publisher:!1},target:{type:"thesis"}}},{source:"howpublished",target:"publisher",convert:s.Converters.PICK,when:{source:{publisher:!1,organization:!1,institution:!1,school:!1},target:{type:"manuscript"}}},{source:"title",target:"title"},{source:[s.TYPE,"type"],target:["type","genre"],convert:{toTarget(e,t){const n=a.default.source[e]||"book";return t?[n,t]:"mastersthesis"===e?[n,"Master's thesis"]:"phdthesis"===e?[n,"PhD thesis"]:[n]},toSource(e,t){const n=a.default.target[e]||"misc";return/^(master'?s|diploma) thesis$/i.test(t)?["mastersthesis"]:/^(phd|doctoral) thesis$/i.test(t)?["phdthesis"]:[n,t]}}},{source:s.TYPE,when:{target:{type:!1}},convert:{toSource:()=>"misc"}},{source:"howpublished",target:"URL",convert:s.Converters.HOW_PUBLISHED,when:{target:{publisher:!1}}},{source:"volume",target:"volume"}]);t.default=l},3272:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.format=function(e){return h(e,i.default)},t.formatBibtex=function(e){return h(e,o.default)},t.parse=function(e){return p(e,i.default)},t.parseBibtex=function(e){return p(e,o.default)};var r=n(448),i=a(n(9264)),o=a(n(5928));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(e.crossref in t){const n=t[e.crossref].properties;return n===e?e:Object.assign({},d(n,t),e)}return e}function p(e,t){const n={};for(const r of e)n[r.label]=r;return e.map((e=>{let{type:i,label:o,properties:a}=e;return t.convertToTarget(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({[r.TYPE]:i,[r.LABEL]:o},d(a,n)))}))}function h(e,t){return e.map((e=>{const n=t.convertToSource(e),{[r.TYPE]:i,[r.LABEL]:o}=n;return{type:i,label:o,properties:s(n,[r.TYPE,r.LABEL].map(l))}}))}},448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE_KEYS=t.TYPE=t.STANDARD_NUMBERS_PATTERN=t.MONTHS=t.LABEL=t.Converters=void 0,t.formatLabel=g,t.parseDate=f,t.parseMonth=m;var r,i=n(8660),o=(r=n(1364))&&r.__esModule?r:{default:r};const a=new Set(["the","a","an"]),s=/(?:<\/?.*?>|[\u0020-\u002F\u003A-\u0040\u005B-\u005E\u0060\u007B-\u007F])+/g,l=/[^\u0020-\u007F]+/g;function c(e){return e?e.normalize("NFKD").replace(l,"").split(s).find((e=>e.length&&!a.has(e.toLowerCase()))):""}const u=new i.util.Translator([{source:"given",target:"given"},{source:"family",target:"family"},{source:"suffix",target:"suffix"},{source:"prefix",target:"non-dropping-particle"},{source:"family",target:"literal",when:{source:!1,target:{family:!1,given:!1}}}]),d=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];t.TYPE="BibTeX type";t.LABEL="BibTeX label";const p={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12};t.MONTHS=p;t.TYPE_KEYS={bathesis:"Bachelor's thesis",mathesis:"Master's thesis",phdthesis:"PhD thesis",candthesis:"Candidate thesis",techreport:"technical report",resreport:"research report",software:"computer software",datacd:"data cd",audiocd:"audio cd",patent:"patent",patentde:"German patent",patenteu:"European patent",patentfr:"French patent",patentuk:"British patent",patentus:"U.S. patent",patreq:"patent request",patreqde:"German patent request",patreqeu:"European patent request",patreqfr:"French patent request",patrequk:"British patent request",patrequs:"U.S. patent request"};const h=/(^(?:ISAN )?(?:[0-9a-f]{4}-){4}[0-9a-z](?:-(?:[0-9a-f]{4}-){2}[0-9a-z])?$)|(^(?:979-?0-?|M-?)(?:\d{9}|(?=[\d-]{11}$)\d+-\d+-\d)$)|(^ISRN .{1,36}$)|(^(?:ISWC )?T-?\d{9}-?\d$)/i;function f(e){const t=e.split("T")[0].replace(/[?~%]$/,"").split("-"),n=+t[0].replace(/^Y(?=-?\d{4}\d+)/,"").replace(/X/g,"0"),r=+t[1],i=+t[2];return!r||r>20?[n]:i?[n,r,i]:[n,r]}function m(e){if(null==e)return[];if(+e)return[parseInt(e,10)];if((e=e.trim().toLowerCase())in p)return[p[e]];const t=e.split(/\s+/);let n,r;return t[0]in p?(n=p[t[0]],r=parseInt(t[1])):t[1]in p&&(n=p[t[1]],r=parseInt(t[0])),r?[n,r]:n?[n]:[]}function g(e,t,n,r){let i="";return e&&e[0]&&(i+=c(e[0].family||e[0].literal)),t&&t["date-parts"]&&t["date-parts"][0]&&(i+=t["date-parts"][0][0]),n?i+=n:r&&(i+=c(r)),i}t.STANDARD_NUMBERS_PATTERN=h;const v={PICK:{toTarget(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.find(Boolean)},toSource:e=>[e]},DATE:{toTarget(e){const t=e.split("/").map((e=>e&&".."!==e?f(e):void 0));return isNaN(t[0][0])?{literal:e}:{"date-parts":t}},toSource(e){if("date-parts"in e)return e["date-parts"].map((e=>e.map((e=>e.toString().padStart(2,"0"))).join("-"))).join("/")}},YEAR_MONTH:{toTarget:(e,t,n)=>isNaN(+e)?{literal:e}:isNaN(+n)||isNaN(+t)?{"date-parts":[[+e,...m(t)]]}:{"date-parts":[[+e,+t,+n]]},toSource(e){if("date-parts"in e){const[t,n,r]=e["date-parts"][0];return[t.toString(),n?r?"".concat(d[n-1]," ").concat(r):n:void 0]}return[]}},EPRINT:{toTarget(e,t){if("pubmed"===t)return e},toSource:e=>[e,"pubmed"]},HOW_PUBLISHED:{toTarget(e){if(e.startsWith("http"))return e}},KEYWORDS:{toTarget:e=>e.join(","),toSource:e=>e.split(",")},LABEL:{toTarget:e=>[e,e],toSource(e,t,n,r,i,a){let l;return l=null===e?"null":void 0===e?"undefined":e.toString().replace(s,""),o.default.format.useIdAsLabel?l:t&&!s.test(t)?t:g(n,r,i,a)||l}},NAMES:{toTarget:e=>e.map(u.convertToTarget),toSource:e=>e.map(u.convertToSource)},STANDARD_NUMBERS:{toTarget(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.find(Boolean)},toSource(e){const t=e.toString().match(h);return t?t.slice(1,5):[]}},STATUS:{toSource(e){if(/^(inpreparation|submitted|forthcoming|inpress|prepublished)$/i.test(e))return e}},TITLE:{toTarget:(e,t,n)=>(t&&(e+=": "+t),e),toSource:e=>[e]}};t.Converters=v},4248:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.format=function(e,t){const n=e.map((e=>function(e,t){let{type:n,label:r,properties:i}=e;const o=Object.entries(i).map((e=>{let[n,r]=e;return t.listItem.join("".concat(n," = {").concat(r,"},"))}));return t.entry.join("@".concat(n,"{").concat(r,",").concat(t.list.join(o.join("")),"}"))}(e,t))).join("");return t.bibliographyContainer.join(n)}},2683:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.format=function(e,t){const n=e.map((e=>function(e,t){let{type:n,label:r,properties:i}=e;const o=Object.entries(i).concat([["type",n]]).map((e=>{let[n,r]=e;return t.listItem.join("".concat(n,": ").concat(r))}));return t.entry.join("[".concat(r,"]").concat(t.list.join(o.join(""))))}(e,t))).join("\n");return t.bibliographyContainer.join(n)}},5480:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.format=function(e){return(0,r.format)(e).map(o)},t.formatBibtex=function(e){return(0,r.formatBibtex)(e).map(o)};var r=n(3272),i=n(6720);function o(e){let{type:t,label:n,properties:r}=e;const o={};for(const a in r){const e=r[a];o[a]=(0,i.format)(a,e)}return{type:t,label:n,properties:o}}},3384:(e,t,n)=>{"use strict";t.c=void 0;var r=n(8660),i=n(5480),o=n(4248),a=n(2683);const s=function(e,t){return function(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{type:o,format:a=o||"text"}=i;if(n=e(n),"object"===a)return n;if(r.plugins.dict.has(a))return t(n,r.plugins.dict.get(a),i);throw new RangeError('Output dictionary "'.concat(a,'" not available'))}};var l={bibtex:s(i.formatBibtex,o.format),biblatex:s(i.format,o.format),bibtxt:s(i.formatBibtex,a.format)};t.c=l},6720:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.format=function(e,t){if(!(e in r.fieldTypes))return d(t,"verbatim");const[n,i]=r.fieldTypes[e];return n in s?function(e,t,n){const r=s[n];return e.map((e=>{const n=d(e,t);return n.includes(r)?"{".concat(n,"}"):n})).join(r)}(t,i,n):d(t,i)};var r=n(2188);const i={};for(const p in r.commands)i[r.commands[p]]=p;for(const p in r.diacritics)i[r.diacritics[p]]=p;for(const p in r.ligatures)i[r.ligatures[p]]=p;const o=/[^a-zA-Z0-9\s!"#%&'()*+,\-./:;=?@[\]{}\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]/g,a=/.[\u0300-\u0308\u030a-\u030c\u0332\u0323\u0327\u0328\u0361\u0326]+/g,s={separated:",",list:" and "},l={i:"\\textit{",b:"\\textbf{",sc:"\\textsc{",sup:"\\textsuperscript{",sub:"\\textsubscript{",'span style="font-variant:small-caps;"':"\\textsc{",'span class="nocase"':"{"};function c(e){return e.normalize("NFKD").replace(o,(e=>e in i?i[e]in r.ligatures?i[e]:"\\".concat(i[e],"{}"):"")).replace(a,(e=>Array.from(e).reduce(((e,t)=>"{\\".concat(i[t]," ").concat(e,"}")))))}function u(e){const t=[];let n=e.split(/<(\/?(?:i|b|sc|sup|sub|span)|span .*?)>/g);return n=n.map(((e,n)=>n%2===0?c(e):e in l?(t.push("/"+e.split(" ")[0]),l[e]):e===t[t.length-1]?(t.pop(),"}"):"")),n.join("")}function d(e,t){switch(t){case"title":return u(e).split(/(:\s*)/).map(((e,t)=>t%2?e:e.replace(/(?!^)\b[a-z]*[A-Z].*?\b/g,"{$&}"))).join("");case"literal":return u(e.toString());case"name":return function(e){if(e.family&&!e.prefix&&!e.given&!e.suffix)return e.family.includes(s.list)?e.family:"{".concat(e.family,"}");const t=[""];return e.prefix&&e.family&&(t[0]+=e.prefix+" "),e.family&&(t[0]+=e.family),e.suffix?(t.push(e.suffix),t.push(e.given||"")):t.push(e.given),c(t.join(", ").trim())}(e);case"verbatim":case"uri":return e.toString();default:return c(e.toString())}}},1732:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"format",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return r.default}});var r=o(n(7764)),i=o(n(2348));function o(e){return e&&e.__esModule?e:{default:e}}},7764:(e,t)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},o=/ (?:to|[-/]) | ?(?:--|[\u2013\u2014]) ?/,a=/^(\d{4}-\d{2}-\d{2})\/(\d{4}-\d{2}-\d{2})$/;function s(e){return i[e.toLowerCase().slice(0,3)]}const l=function(e){const t=/^(\d{4}|[-+]\d{6,})-(\d{2})(?:-(\d{2}))?/;if("string"!==typeof e||!t.test(e))return null;const r=n(e.match(t),4),i=r[1],o=r[2],a=r[3];return+o?+a?[i,o,a]:[i,o]:[i]},c=function(e){const t=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if("string"!==typeof e||!t.test(e))return null;let r=n(e.match(t),4),i=r[1],o=r[2],a=r[3];return o=s(o),o?[a,o,i]:null};function u(e){const t=function(e){const t=new Date(e);return"number"!==typeof e||isNaN(t.valueOf())?null:[t.getFullYear(),t.getMonth()+1,t.getDate()]}(e)||l(e)||c(e)||function(e){const t=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if("string"!==typeof e||!t.test(e))return null;const r=n(e.match(t),4),i=r[1],o=r[2],a=r[3];return new Date(a,i,o).getMonth()===parseInt(i)?[a,i,o]:null}(e)||function(e){const t=/^(\d{1,2})[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](-?\d+)/i,r=/^(-?\d+)[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](\d{1,2})/i;let i,o,a;if("string"!==typeof e)return null;if(t.test(e)){var l=n(e.match(t),4);a=l[1],o=l[2],i=l[3]}else{if(!r.test(e))return null;var c=n(e.match(r),4);i=c[1],o=c[2],a=c[3]}if(s(o))o=s(o);else if(isNaN(o))return null;return[i,o,a]}(e)||function(e){const t=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if("string"===typeof e&&t.test(e)){const n=e.match(t).slice(1,3);let r;if(s(n[1]))r=s(n.pop());else if(s(n[0]))r=s(n.shift());else{if(n.some(isNaN)||n.every((e=>+e<0)))return null;r=+n[0]<0||+n[0]>+n[1]&&+n[1]>0?n.pop():n.shift()}return[n.pop(),r]}return null}(e)||function(e){if("string"!==typeof e)return null;const t=e.match(/^(\d+) ?(a\.?d\.?|b\.?c\.?)$/i);if(t){const e=n(t.slice(1),2);return[e[0]*("a"===e[1].toLowerCase()[0]?1:-1)]}return/^-?\d+$/.test(e)?[e]:null}(e);return t&&t.map((e=>parseInt(e)))}var d=function(e,t){const n=[],r="string"===typeof e&&function(e){return a.test(e)?e.match(a).slice(1,3):e.split(o)}(e);t?n.push(e,t):r&&2===r.length?n.push(...r):n.push(e);const i=n.map(u);return i.filter(Boolean).length===n.length?{"date-parts":i}:{raw:t?n.join("/"):e}};t.default=d},2348:(e,t)=>{"use strict";function n(e,t,n){if(e.length>=t)return e;for(;e.length<t;)e=n+e;return e.slice(-t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";if(!e["date-parts"])return e.raw;const r=e["date-parts"][0].map((e=>e.toString()));switch(r.length){case 3:r[2]=n(r[2],2,"0");case 2:r[1]=n(r[1],2,"0");case 1:r[0]=n(r[0],4,"0")}return r.join(t)};t.default=r},572:(e,t,n)=>{"use strict";n.r(t);var r=n(8660);const i=JSON.parse('{"en-US":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"en-US\\"><info><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"true\\"/><date form=\\"text\\"><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"day\\" suffix=\\", \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"accessed\\">accessed</term><term name=\\"and\\">and</term><term name=\\"and others\\">and others</term><term name=\\"anonymous\\">anonymous</term><term name=\\"anonymous\\" form=\\"short\\">anon.</term><term name=\\"at\\">at</term><term name=\\"available at\\">available at</term><term name=\\"by\\">by</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">c.</term><term name=\\"cited\\">cited</term><term name=\\"edition\\"><single>edition</single><multiple>editions</multiple></term><term name=\\"edition\\" form=\\"short\\">ed.</term><term name=\\"et-al\\">et al.</term><term name=\\"forthcoming\\">forthcoming</term><term name=\\"from\\">from</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">in</term><term name=\\"in press\\">in press</term><term name=\\"internet\\">internet</term><term name=\\"interview\\">interview</term><term name=\\"letter\\">letter</term><term name=\\"no date\\">no date</term><term name=\\"no date\\" form=\\"short\\">n.d.</term><term name=\\"online\\">online</term><term name=\\"presented at\\">presented at the</term><term name=\\"reference\\"><single>reference</single><multiple>references</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>ref.</single><multiple>refs.</multiple></term><term name=\\"retrieved\\">retrieved</term><term name=\\"scale\\">scale</term><term name=\\"version\\">version</term><term name=\\"ad\\">AD</term><term name=\\"bc\\">BC</term><term name=\\"open-quote\\">\u201c</term><term name=\\"close-quote\\">\u201d</term><term name=\\"open-inner-quote\\">\u2018</term><term name=\\"close-inner-quote\\">\u2019</term><term name=\\"page-range-delimiter\\">\u2013</term><term name=\\"ordinal\\">th</term><term name=\\"ordinal-01\\">st</term><term name=\\"ordinal-02\\">nd</term><term name=\\"ordinal-03\\">rd</term><term name=\\"ordinal-11\\">th</term><term name=\\"ordinal-12\\">th</term><term name=\\"ordinal-13\\">th</term><term name=\\"long-ordinal-01\\">first</term><term name=\\"long-ordinal-02\\">second</term><term name=\\"long-ordinal-03\\">third</term><term name=\\"long-ordinal-04\\">fourth</term><term name=\\"long-ordinal-05\\">fifth</term><term name=\\"long-ordinal-06\\">sixth</term><term name=\\"long-ordinal-07\\">seventh</term><term name=\\"long-ordinal-08\\">eighth</term><term name=\\"long-ordinal-09\\">ninth</term><term name=\\"long-ordinal-10\\">tenth</term><term name=\\"book\\"><single>book</single><multiple>books</multiple></term><term name=\\"chapter\\"><single>chapter</single><multiple>chapters</multiple></term><term name=\\"column\\"><single>column</single><multiple>columns</multiple></term><term name=\\"figure\\"><single>figure</single><multiple>figures</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folios</multiple></term><term name=\\"issue\\"><single>number</single><multiple>numbers</multiple></term><term name=\\"line\\"><single>line</single><multiple>lines</multiple></term><term name=\\"note\\"><single>note</single><multiple>notes</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opera</multiple></term><term name=\\"page\\"><single>page</single><multiple>pages</multiple></term><term name=\\"number-of-pages\\"><single>page</single><multiple>pages</multiple></term><term name=\\"paragraph\\"><single>paragraph</single><multiple>paragraphs</multiple></term><term name=\\"part\\"><single>part</single><multiple>parts</multiple></term><term name=\\"section\\"><single>section</single><multiple>sections</multiple></term><term name=\\"sub verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>verse</single><multiple>verses</multiple>\\n</term><term name=\\"volume\\"><single>volume</single><multiple>volumes</multiple></term><term name=\\"book\\" form=\\"short\\"><single>bk.</single><multiple>bks.</multiple></term><term name=\\"chapter\\" form=\\"short\\"><single>chap.</single><multiple>chaps.</multiple></term><term name=\\"column\\" form=\\"short\\"><single>col.</single><multiple>cols.</multiple></term><term name=\\"figure\\" form=\\"short\\"><single>fig.</single><multiple>figs.</multiple></term><term name=\\"folio\\" form=\\"short\\"><single>fol.</single><multiple>fols.</multiple></term><term name=\\"issue\\" form=\\"short\\"><single>no.</single><multiple>nos.</multiple></term><term name=\\"line\\" form=\\"short\\"><single>l.</single><multiple>ll.</multiple></term><term name=\\"note\\" form=\\"short\\"><single>n.</single><multiple>nn.</multiple></term><term name=\\"opus\\" form=\\"short\\"><single>op.</single><multiple>opp.</multiple></term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"paragraph\\" form=\\"short\\"><single>para.</single><multiple>paras.</multiple></term><term name=\\"part\\" form=\\"short\\"><single>pt.</single><multiple>pts.</multiple></term><term name=\\"section\\" form=\\"short\\"><single>sec.</single><multiple>secs.</multiple></term><term name=\\"sub verbo\\" form=\\"short\\"><single>s.v.</single><multiple>s.vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>vv.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vols.</multiple></term><term name=\\"paragraph\\" form=\\"symbol\\"><single>\xb6</single><multiple>\xb6\xb6</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7\xa7</multiple></term><term name=\\"director\\"><single>director</single><multiple>directors</multiple></term><term name=\\"editor\\"><single>editor</single><multiple>editors</multiple></term><term name=\\"editorial-director\\"><single>editor</single><multiple>editors</multiple></term><term name=\\"illustrator\\"><single>illustrator</single><multiple>illustrators</multiple></term><term name=\\"translator\\"><single>translator</single><multiple>translators</multiple></term><term name=\\"editortranslator\\"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term><term name=\\"director\\" form=\\"short\\"><single>dir.</single><multiple>dirs.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ill.</single><multiple>ills.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>tran.</single><multiple>trans.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term><term name=\\"container-author\\" form=\\"verb\\">by</term><term name=\\"director\\" form=\\"verb\\">directed by</term><term name=\\"editor\\" form=\\"verb\\">edited by</term><term name=\\"editorial-director\\" form=\\"verb\\">edited by</term><term name=\\"illustrator\\" form=\\"verb\\">illustrated by</term><term name=\\"interviewer\\" form=\\"verb\\">interview by</term><term name=\\"recipient\\" form=\\"verb\\">to</term><term name=\\"reviewed-author\\" form=\\"verb\\">by</term><term name=\\"translator\\" form=\\"verb\\">translated by</term><term name=\\"editortranslator\\" form=\\"verb\\">edited &amp; translated by</term><term name=\\"director\\" form=\\"verb-short\\">dir. by</term><term name=\\"editor\\" form=\\"verb-short\\">ed. by</term><term name=\\"editorial-director\\" form=\\"verb-short\\">ed. by</term><term name=\\"illustrator\\" form=\\"verb-short\\">illus. by</term><term name=\\"translator\\" form=\\"verb-short\\">trans. by</term><term name=\\"editortranslator\\" form=\\"verb-short\\">ed. &amp; trans. by</term><term name=\\"month-01\\">January</term><term name=\\"month-02\\">February</term><term name=\\"month-03\\">March</term><term name=\\"month-04\\">April</term><term name=\\"month-05\\">May</term><term name=\\"month-06\\">June</term><term name=\\"month-07\\">July</term><term name=\\"month-08\\">August</term><term name=\\"month-09\\">September</term>\\n<term name=\\"month-10\\">October</term><term name=\\"month-11\\">November</term><term name=\\"month-12\\">December</term><term name=\\"month-01\\" form=\\"short\\">Jan.</term><term name=\\"month-02\\" form=\\"short\\">Feb.</term><term name=\\"month-03\\" form=\\"short\\">Mar.</term><term name=\\"month-04\\" form=\\"short\\">Apr.</term><term name=\\"month-05\\" form=\\"short\\">May</term><term name=\\"month-06\\" form=\\"short\\">Jun.</term><term name=\\"month-07\\" form=\\"short\\">Jul.</term><term name=\\"month-08\\" form=\\"short\\">Aug.</term><term name=\\"month-09\\" form=\\"short\\">Sep.</term><term name=\\"month-10\\" form=\\"short\\">Oct.</term><term name=\\"month-11\\" form=\\"short\\">Nov.</term><term name=\\"month-12\\" form=\\"short\\">Dec.</term><term name=\\"season-01\\">Spring</term><term name=\\"season-02\\">Summer</term><term name=\\"season-03\\">Autumn</term><term name=\\"season-04\\">Winter</term></terms></locale>","nl-NL":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"nl-NL\\"><info><translator><name>Rintze Zelle</name><uri>http://twitter.com/rintzezelle</uri></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\"/><date form=\\"text\\"><date-part name=\\"day\\" suffix=\\" \\"/><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" suffix=\\"-\\" range-delimiter=\\"/\\"/><date-part name=\\"month\\" form=\\"numeric\\" suffix=\\"-\\" range-delimiter=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"accessed\\">geraadpleegd</term><term name=\\"and\\">en</term><term name=\\"and others\\">en anderen</term><term name=\\"anonymous\\">anoniem</term><term name=\\"anonymous\\" form=\\"short\\">anon.</term><term name=\\"at\\">bij</term><term name=\\"available at\\">beschikbaar op</term><term name=\\"by\\">door</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">c.</term><term name=\\"cited\\">geciteerd</term><term name=\\"edition\\"><single>editie</single><multiple>edities</multiple></term><term name=\\"edition\\" form=\\"short\\">ed.</term><term name=\\"et-al\\">e.a.</term><term name=\\"forthcoming\\">in voorbereiding</term><term name=\\"from\\">van</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">in</term><term name=\\"in press\\">in druk</term><term name=\\"internet\\">internet</term><term name=\\"interview\\">interview</term><term name=\\"letter\\">brief</term><term name=\\"no date\\">zonder datum</term><term name=\\"no date\\" form=\\"short\\">z.d.</term><term name=\\"online\\">online</term><term name=\\"presented at\\">gepresenteerd bij</term><term name=\\"reference\\"><single>referentie</single><multiple>referenties</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>ref.</single><multiple>refs.</multiple></term><term name=\\"retrieved\\">geraadpleegd</term><term name=\\"scale\\">schaal</term><term name=\\"version\\">versie</term><term name=\\"ad\\">AD</term><term name=\\"bc\\">BC</term><term name=\\"open-quote\\">\u201c</term><term name=\\"close-quote\\">\u201d</term><term name=\\"open-inner-quote\\">\u2018</term><term name=\\"close-inner-quote\\">\u2019</term><term name=\\"page-range-delimiter\\">\u2013</term><term name=\\"ordinal\\">ste</term><term name=\\"ordinal-00\\" match=\\"whole-number\\">de</term><term name=\\"ordinal-02\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-03\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-04\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-05\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-06\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-07\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-09\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-10\\">de</term><term name=\\"ordinal-11\\">de</term><term name=\\"ordinal-12\\">de</term><term name=\\"ordinal-13\\">de</term><term name=\\"ordinal-14\\">de</term><term name=\\"ordinal-15\\">de</term><term name=\\"ordinal-16\\">de</term><term name=\\"ordinal-17\\">de</term><term name=\\"ordinal-18\\">de</term><term name=\\"ordinal-19\\">de</term><term name=\\"long-ordinal-01\\">eerste</term><term name=\\"long-ordinal-02\\">tweede</term><term name=\\"long-ordinal-03\\">derde</term><term name=\\"long-ordinal-04\\">vierde</term><term name=\\"long-ordinal-05\\">vijfde</term><term name=\\"long-ordinal-06\\">zesde</term><term name=\\"long-ordinal-07\\">zevende</term><term name=\\"long-ordinal-08\\">achtste</term><term name=\\"long-ordinal-09\\">negende</term><term name=\\"long-ordinal-10\\">tiende</term><term name=\\"book\\"><single>boek</single><multiple>boeken</multiple></term><term name=\\"chapter\\"><single>hoofdstuk</single><multiple>hoofdstukken</multiple></term><term name=\\"column\\"><single>column</single><multiple>columns</multiple></term><term name=\\"figure\\"><single>figuur</single><multiple>figuren</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folio\'s</multiple></term><term name=\\"issue\\"><single>nummer</single><multiple>nummers</multiple></term><term name=\\"line\\"><single>regel</single><multiple>regels</multiple>\\n</term><term name=\\"note\\"><single>aantekening</single><multiple>aantekeningen</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opera</multiple></term><term name=\\"page\\"><single>pagina</single><multiple>pagina\'s</multiple></term><term name=\\"number-of-pages\\"><single>pagina</single><multiple>pagina\'s</multiple></term><term name=\\"paragraph\\"><single>paragraaf</single><multiple>paragrafen</multiple></term><term name=\\"part\\"><single>deel</single><multiple>delen</multiple></term><term name=\\"section\\"><single>sectie</single><multiple>secties</multiple></term><term name=\\"sub verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>vers</single><multiple>versen</multiple></term><term name=\\"volume\\"><single>volume</single><multiple>volumes</multiple></term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">hfdst.</term><term name=\\"column\\" form=\\"short\\">col.</term><term name=\\"figure\\" form=\\"short\\">fig.</term><term name=\\"folio\\" form=\\"short\\">f.</term><term name=\\"issue\\" form=\\"short\\">nr.</term><term name=\\"line\\" form=\\"short\\">l.</term><term name=\\"note\\" form=\\"short\\">n.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">par.</term><term name=\\"part\\" form=\\"short\\">deel</term><term name=\\"section\\" form=\\"short\\">sec.</term><term name=\\"sub verbo\\" form=\\"short\\"><single>s.v.</single><multiple>s.vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>vv.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vols.</multiple></term><term name=\\"paragraph\\" form=\\"symbol\\"><single>\xb6</single><multiple>\xb6\xb6</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7\xa7</multiple></term><term name=\\"director\\"><single>regisseur</single><multiple>regisseurs</multiple></term><term name=\\"editor\\"><single>redacteur</single><multiple>redacteuren</multiple></term><term name=\\"editorial-director\\"><single>redacteur</single><multiple>redacteuren</multiple></term><term name=\\"illustrator\\"><single>illustrator</single><multiple>illustrators</multiple></term><term name=\\"translator\\"><single>vertaler</single><multiple>vertalers</multiple></term><term name=\\"editortranslator\\"><single>redacteur &amp; vertaler</single><multiple>redacteuren &amp; vertalers</multiple></term><term name=\\"director\\" form=\\"short\\"><single>reg.</single><multiple>reg.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>red.</single><multiple>red.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>red.</single><multiple>red.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ill.</single><multiple>ill.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>vert.</single><multiple>vert.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>red. &amp; vert.</single><multiple>red. &amp; vert.</multiple></term><term name=\\"container-author\\" form=\\"verb\\">door</term><term name=\\"director\\" form=\\"verb\\">geregisseerd door</term><term name=\\"editor\\" form=\\"verb\\">bewerkt door</term><term name=\\"editorial-director\\" form=\\"verb\\">bewerkt door</term><term name=\\"illustrator\\" form=\\"verb\\">ge\xefllustreerd door</term><term name=\\"interviewer\\" form=\\"verb\\">ge\xefnterviewd door</term><term name=\\"recipient\\" form=\\"verb\\">ontvangen door</term><term name=\\"reviewed-author\\" form=\\"verb\\">door</term><term name=\\"translator\\" form=\\"verb\\">vertaald door</term><term name=\\"editortranslator\\" form=\\"verb\\">bewerkt &amp; vertaald door</term><term name=\\"director\\" form=\\"verb-short\\">geregisseerd door</term><term name=\\"editor\\" form=\\"verb-short\\">bewerkt door</term><term name=\\"editorial-director\\" form=\\"verb-short\\">bewerkt door</term><term name=\\"illustrator\\" form=\\"verb-short\\">ge\xefllustreerd door</term><term name=\\"translator\\" form=\\"verb-short\\">vertaald door</term><term name=\\"editortranslator\\" form=\\"verb-short\\">bewerkt &amp; vertaald door</term>\\n<term name=\\"month-01\\">januari</term><term name=\\"month-02\\">februari</term><term name=\\"month-03\\">maart</term><term name=\\"month-04\\">april</term><term name=\\"month-05\\">mei</term><term name=\\"month-06\\">juni</term><term name=\\"month-07\\">juli</term><term name=\\"month-08\\">augustus</term><term name=\\"month-09\\">september</term><term name=\\"month-10\\">oktober</term><term name=\\"month-11\\">november</term><term name=\\"month-12\\">december</term><term name=\\"month-01\\" form=\\"short\\">jan.</term><term name=\\"month-02\\" form=\\"short\\">feb.</term><term name=\\"month-03\\" form=\\"short\\">mrt.</term><term name=\\"month-04\\" form=\\"short\\">apr.</term><term name=\\"month-05\\" form=\\"short\\">mei</term><term name=\\"month-06\\" form=\\"short\\">jun.</term><term name=\\"month-07\\" form=\\"short\\">jul.</term><term name=\\"month-08\\" form=\\"short\\">aug.</term><term name=\\"month-09\\" form=\\"short\\">sep.</term><term name=\\"month-10\\" form=\\"short\\">okt.</term><term name=\\"month-11\\" form=\\"short\\">nov.</term><term name=\\"month-12\\" form=\\"short\\">dec.</term><term name=\\"season-01\\">lente</term><term name=\\"season-02\\">zomer</term><term name=\\"season-03\\">herst</term><term name=\\"season-04\\">winter</term></terms></locale>","fr-FR":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"fr-FR\\"><info><translator><name>Gr\xe9goire Colly</name></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\" limit-day-ordinals-to-day-1=\\"true\\"/><date form=\\"text\\"><date-part name=\\"day\\" suffix=\\" \\"/><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"accessed\\">consult\xe9 le</term><term name=\\"and\\">et</term><term name=\\"and others\\">et autres</term><term name=\\"anonymous\\">anonyme</term><term name=\\"anonymous\\" form=\\"short\\">anon.</term><term name=\\"at\\">sur</term><term name=\\"available at\\">disponible sur</term><term name=\\"by\\">par</term><term name=\\"circa\\">vers</term><term name=\\"circa\\" form=\\"short\\">v.</term><term name=\\"cited\\">cit\xe9</term><term name=\\"edition\\" gender=\\"feminine\\"><single>\xe9dition</single><multiple>\xe9ditions</multiple></term><term name=\\"edition\\" form=\\"short\\">\xe9d.</term><term name=\\"et-al\\">et al.</term><term name=\\"forthcoming\\">\xe0 para\xeetre</term><term name=\\"from\\">\xe0 l\'adresse</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">in</term><term name=\\"in press\\">sous presse</term><term name=\\"internet\\">Internet</term><term name=\\"interview\\">entretien</term><term name=\\"letter\\">lettre</term><term name=\\"no date\\">sans date</term><term name=\\"no date\\" form=\\"short\\">s.&#160;d.</term><term name=\\"online\\">en ligne</term><term name=\\"presented at\\">pr\xe9sent\xe9 \xe0</term><term name=\\"reference\\"><single>r\xe9f\xe9rence</single><multiple>r\xe9f\xe9rences</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>r\xe9f.</single><multiple>r\xe9f.</multiple></term><term name=\\"retrieved\\">consult\xe9</term><term name=\\"scale\\">\xe9chelle</term><term name=\\"version\\">version</term><term name=\\"ad\\">apr. J.-C.</term><term name=\\"bc\\">av. J.-C.</term><term name=\\"open-quote\\">\xab&#160;</term><term name=\\"close-quote\\">&#160;\xbb</term><term name=\\"open-inner-quote\\">\u201c</term><term name=\\"close-inner-quote\\">\u201d</term><term name=\\"page-range-delimiter\\">&#8209;</term><term name=\\"ordinal\\">\u1d49</term><term name=\\"ordinal-01\\" gender-form=\\"feminine\\" match=\\"whole-number\\">\u02b3\u1d49</term><term name=\\"ordinal-01\\" gender-form=\\"masculine\\" match=\\"whole-number\\">\u1d49\u02b3</term><term name=\\"long-ordinal-01\\">premier</term><term name=\\"long-ordinal-02\\">deuxi\xe8me</term><term name=\\"long-ordinal-03\\">troisi\xe8me</term><term name=\\"long-ordinal-04\\">quatri\xe8me</term><term name=\\"long-ordinal-05\\">cinqui\xe8me</term><term name=\\"long-ordinal-06\\">sixi\xe8me</term><term name=\\"long-ordinal-07\\">septi\xe8me</term><term name=\\"long-ordinal-08\\">huiti\xe8me</term><term name=\\"long-ordinal-09\\">neuvi\xe8me</term><term name=\\"long-ordinal-10\\">dixi\xe8me</term><term name=\\"book\\"><single>livre</single><multiple>livres</multiple></term><term name=\\"chapter\\"><single>chapitre</single><multiple>chapitres</multiple></term><term name=\\"column\\"><single>colonne</single><multiple>colonnes</multiple></term><term name=\\"figure\\"><single>figure</single><multiple>figures</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folios</multiple></term><term name=\\"issue\\" gender=\\"masculine\\"><single>num\xe9ro</single><multiple>num\xe9ros</multiple></term><term name=\\"line\\"><single>ligne</single><multiple>lignes</multiple></term><term name=\\"note\\"><single>note</single><multiple>notes</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opus</multiple></term><term name=\\"page\\"><single>page</single><multiple>pages</multiple></term><term name=\\"number-of-pages\\"><single>page</single><multiple>pages</multiple></term><term name=\\"paragraph\\"><single>paragraphe</single><multiple>paragraphes</multiple></term><term name=\\"part\\"><single>partie</single><multiple>parties</multiple></term><term name=\\"section\\"><single>section</single><multiple>sections</multiple>\\n</term><term name=\\"sub verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>verset</single><multiple>versets</multiple></term><term name=\\"volume\\" gender=\\"masculine\\"><single>volume</single><multiple>volumes</multiple></term><term name=\\"book\\" form=\\"short\\">liv.</term><term name=\\"chapter\\" form=\\"short\\">chap.</term><term name=\\"column\\" form=\\"short\\">col.</term><term name=\\"figure\\" form=\\"short\\">fig.</term><term name=\\"folio\\" form=\\"short\\"><single>f\u1d52</single><multiple>f\u1d52\u02e2</multiple></term><term name=\\"issue\\" form=\\"short\\"><single>n\u1d52</single><multiple>n\u1d52\u02e2</multiple></term><term name=\\"line\\" form=\\"short\\">l.</term><term name=\\"note\\" form=\\"short\\">n.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>p.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>p.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">paragr.</term><term name=\\"part\\" form=\\"short\\">part.</term><term name=\\"section\\" form=\\"short\\">sect.</term><term name=\\"sub verbo\\" form=\\"short\\"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>v.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vol.</multiple></term><term name=\\"paragraph\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7</multiple></term><term name=\\"director\\"><single>r\xe9alisateur</single><multiple>r\xe9alisateurs</multiple></term><term name=\\"editor\\"><single>\xe9diteur</single><multiple>\xe9diteurs</multiple></term><term name=\\"editorial-director\\"><single>directeur</single><multiple>directeurs</multiple></term><term name=\\"illustrator\\"><single>illustrateur</single><multiple>illustrateurs</multiple></term><term name=\\"translator\\"><single>traducteur</single><multiple>traducteurs</multiple></term><term name=\\"editortranslator\\"><single>\xe9diteur et traducteur</single><multiple>\xe9diteurs et traducteurs</multiple></term><term name=\\"director\\" form=\\"short\\"><single>r\xe9al.</single><multiple>r\xe9al.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>\xe9d.</single><multiple>\xe9d.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>dir.</single><multiple>dir.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ill.</single><multiple>ill.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>trad.</single><multiple>trad.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>\xe9d. et trad.</single><multiple>\xe9d. et trad.</multiple></term><term name=\\"container-author\\" form=\\"verb\\">par</term><term name=\\"director\\" form=\\"verb\\">r\xe9alis\xe9 par</term><term name=\\"editor\\" form=\\"verb\\">\xe9dit\xe9 par</term><term name=\\"editorial-director\\" form=\\"verb\\">sous la direction de</term><term name=\\"illustrator\\" form=\\"verb\\">illustr\xe9 par</term><term name=\\"interviewer\\" form=\\"verb\\">entretien r\xe9alis\xe9 par</term><term name=\\"recipient\\" form=\\"verb\\">\xe0</term><term name=\\"reviewed-author\\" form=\\"verb\\">par</term><term name=\\"translator\\" form=\\"verb\\">traduit par</term><term name=\\"editortranslator\\" form=\\"verb\\">\xe9dit\xe9 et traduit par</term><term name=\\"director\\" form=\\"verb-short\\">r\xe9al. par</term><term name=\\"editor\\" form=\\"verb-short\\">\xe9d. par</term><term name=\\"editorial-director\\" form=\\"verb-short\\">ss la dir. de</term><term name=\\"illustrator\\" form=\\"verb-short\\">ill. par</term><term name=\\"translator\\" form=\\"verb-short\\">trad. par</term><term name=\\"editortranslator\\" form=\\"verb-short\\">\xe9d. et trad. par</term><term name=\\"month-01\\" gender=\\"masculine\\">janvier</term><term name=\\"month-02\\" gender=\\"masculine\\">f\xe9vrier</term><term name=\\"month-03\\" gender=\\"masculine\\">mars</term><term name=\\"month-04\\" gender=\\"masculine\\">avril</term><term name=\\"month-05\\" gender=\\"masculine\\">mai</term><term name=\\"month-06\\" gender=\\"masculine\\">juin</term><term name=\\"month-07\\" gender=\\"masculine\\">juillet</term><term name=\\"month-08\\" gender=\\"masculine\\">ao\xfbt</term><term name=\\"month-09\\" gender=\\"masculine\\">septembre</term><term name=\\"month-10\\" gender=\\"masculine\\">\\noctobre</term><term name=\\"month-11\\" gender=\\"masculine\\">novembre</term><term name=\\"month-12\\" gender=\\"masculine\\">d\xe9cembre</term><term name=\\"month-01\\" form=\\"short\\">janv.</term><term name=\\"month-02\\" form=\\"short\\">f\xe9vr.</term><term name=\\"month-03\\" form=\\"short\\">mars</term><term name=\\"month-04\\" form=\\"short\\">avr.</term><term name=\\"month-05\\" form=\\"short\\">mai</term><term name=\\"month-06\\" form=\\"short\\">juin</term><term name=\\"month-07\\" form=\\"short\\">juill.</term><term name=\\"month-08\\" form=\\"short\\">ao\xfbt</term><term name=\\"month-09\\" form=\\"short\\">sept.</term><term name=\\"month-10\\" form=\\"short\\">oct.</term><term name=\\"month-11\\" form=\\"short\\">nov.</term><term name=\\"month-12\\" form=\\"short\\">d\xe9c.</term><term name=\\"season-01\\">printemps</term><term name=\\"season-02\\">\xe9t\xe9</term><term name=\\"season-03\\">automne</term><term name=\\"season-04\\">hiver</term></terms></locale>","de-DE":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"de-DE\\"><info><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\"/><date form=\\"text\\"><date-part name=\\"day\\" form=\\"ordinal\\" suffix=\\" \\"/><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\".\\"/><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\".\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"accessed\\">zugegriffen</term><term name=\\"and\\">und</term><term name=\\"and others\\">und andere</term><term name=\\"anonymous\\">ohne Autor</term><term name=\\"anonymous\\" form=\\"short\\">o.&#160;A.</term><term name=\\"at\\">auf</term><term name=\\"available at\\">verf\xfcgbar unter</term><term name=\\"by\\">von</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">ca.</term><term name=\\"cited\\">zitiert</term><term name=\\"edition\\"><single>Auflage</single><multiple>Auflagen</multiple></term><term name=\\"edition\\" form=\\"short\\">Aufl.</term><term name=\\"et-al\\">u.&#160;a.</term><term name=\\"forthcoming\\">i.&#160;E.</term><term name=\\"from\\">von</term><term name=\\"ibid\\">ebd.</term><term name=\\"in\\">in</term><term name=\\"in press\\">im Druck</term><term name=\\"internet\\">Internet</term><term name=\\"interview\\">Interview</term><term name=\\"letter\\">Brief</term><term name=\\"no date\\">ohne Datum</term><term name=\\"no date\\" form=\\"short\\">o.&#160;J.</term><term name=\\"online\\">online</term><term name=\\"presented at\\">gehalten auf der</term><term name=\\"reference\\"><single>Referenz</single><multiple>Referenzen</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>Ref.</single><multiple>Ref.</multiple></term><term name=\\"retrieved\\">abgerufen</term><term name=\\"scale\\">Ma\xdfstab</term><term name=\\"version\\">Version</term><term name=\\"ad\\">n.&#160;Chr.</term><term name=\\"bc\\">v.&#160;Chr.</term><term name=\\"open-quote\\">\u201e</term><term name=\\"close-quote\\">\u201c</term><term name=\\"open-inner-quote\\">\u201a</term><term name=\\"close-inner-quote\\">\u2018</term><term name=\\"page-range-delimiter\\">\u2013</term><term name=\\"ordinal\\">.</term><term name=\\"long-ordinal-01\\">erster</term><term name=\\"long-ordinal-02\\">zweiter</term><term name=\\"long-ordinal-03\\">dritter</term><term name=\\"long-ordinal-04\\">vierter</term><term name=\\"long-ordinal-05\\">f\xfcnfter</term><term name=\\"long-ordinal-06\\">sechster</term><term name=\\"long-ordinal-07\\">siebter</term><term name=\\"long-ordinal-08\\">achter</term><term name=\\"long-ordinal-09\\">neunter</term><term name=\\"long-ordinal-10\\">zehnter</term><term name=\\"book\\"><single>Buch</single><multiple>B\xfccher</multiple></term><term name=\\"chapter\\"><single>Kapitel</single><multiple>Kapitel</multiple></term><term name=\\"column\\"><single>Spalte</single><multiple>Spalten</multiple></term><term name=\\"figure\\"><single>Abbildung</single><multiple>Abbildungen</multiple></term><term name=\\"folio\\"><single>Blatt</single><multiple>Bl\xe4tter</multiple></term><term name=\\"issue\\"><single>Nummer</single><multiple>Nummern</multiple></term><term name=\\"line\\"><single>Zeile</single><multiple>Zeilen</multiple></term><term name=\\"note\\"><single>Note</single><multiple>Noten</multiple></term><term name=\\"opus\\"><single>Opus</single><multiple>Opera</multiple></term><term name=\\"page\\"><single>Seite</single><multiple>Seiten</multiple></term><term name=\\"number-of-pages\\"><single>Seite</single><multiple>Seiten</multiple></term><term name=\\"paragraph\\"><single>Absatz</single><multiple>Abs\xe4tze</multiple></term><term name=\\"part\\"><single>Teil</single><multiple>Teile</multiple></term><term name=\\"section\\"><single>Abschnitt</single><multiple>Abschnitte</multiple></term><term name=\\"sub verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>Vers</single><multiple>Verse</multiple></term><term name=\\"volume\\"><single>Band</single><multiple>B\xe4nde</multiple></term><term name=\\"book\\" form=\\"short\\">B.</term>\\n<term name=\\"chapter\\" form=\\"short\\">Kap.</term><term name=\\"column\\" form=\\"short\\">Sp.</term><term name=\\"figure\\" form=\\"short\\">Abb.</term><term name=\\"folio\\" form=\\"short\\">Fol.</term><term name=\\"issue\\" form=\\"short\\">Nr.</term><term name=\\"line\\" form=\\"short\\">Z.</term><term name=\\"note\\" form=\\"short\\">N.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>S.</single><multiple>S.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>S.</single><multiple>S.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">Abs.</term><term name=\\"part\\" form=\\"short\\">Teil</term><term name=\\"section\\" form=\\"short\\">Abschn.</term><term name=\\"sub verbo\\" form=\\"short\\"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>V.</single><multiple>V.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>Bd.</single><multiple>Bde.</multiple></term><term name=\\"paragraph\\" form=\\"symbol\\"><single>\xb6</single><multiple>\xb6\xb6</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7\xa7</multiple></term><term name=\\"director\\"><single>Regisseur</single><multiple>Regisseure</multiple></term><term name=\\"editor\\"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name=\\"collection-editor\\"><single>Reihenherausgeber</single><multiple>Reihenherausgeber</multiple></term><term name=\\"editorial-director\\"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name=\\"illustrator\\"><single>Illustrator</single><multiple>Illustratoren</multiple></term><term name=\\"translator\\"><single>\xdcbersetzer</single><multiple>\xdcbersetzer</multiple></term><term name=\\"editortranslator\\"><single>Herausgeber&#160;&amp; \xdcbersetzer</single><multiple>Herausgeber&#160;&amp; \xdcbersetzer</multiple></term><term name=\\"director\\" form=\\"short\\"><single>Reg.</single><multiple>Reg.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name=\\"collection-editor\\" form=\\"short\\"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>Ill.</single><multiple>Ill.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>\xdcbers.</single><multiple>\xdcbers.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>Hrsg.&#160;&amp; \xdcbers.</single><multiple>Hrsg.&#160;&amp; \xdcbers</multiple></term><term name=\\"container-author\\" form=\\"verb\\">von</term><term name=\\"director\\" form=\\"verb\\">Regie von</term><term name=\\"editor\\" form=\\"verb\\">herausgegeben von</term><term name=\\"collection-editor\\" form=\\"verb\\">herausgegeben von</term><term name=\\"editorial-director\\" form=\\"verb\\">herausgegeben von</term><term name=\\"illustrator\\" form=\\"verb\\">illustriert von</term><term name=\\"interviewer\\" form=\\"verb\\">interviewt von</term><term name=\\"recipient\\" form=\\"verb\\">an</term><term name=\\"reviewed-author\\" form=\\"verb\\">von</term><term name=\\"translator\\" form=\\"verb\\">\xfcbersetzt von</term><term name=\\"editortranslator\\" form=\\"verb\\">herausgegeben und \xfcbersetzt von</term><term name=\\"director\\" form=\\"verb-short\\">Reg.</term><term name=\\"editor\\" form=\\"verb-short\\">hg. von</term><term name=\\"collection-editor\\" form=\\"verb-short\\">hg. von</term><term name=\\"editorial-director\\" form=\\"verb-short\\">hg. von</term><term name=\\"illustrator\\" form=\\"verb-short\\">illus. von</term><term name=\\"translator\\" form=\\"verb-short\\">\xfcbers. von</term><term name=\\"editortranslator\\" form=\\"verb-short\\">hg.&#160;&amp; \xfcbers. von</term><term name=\\"month-01\\">Januar</term><term name=\\"month-02\\">Februar</term><term name=\\"month-03\\">M\xe4rz</term><term name=\\"month-04\\">April</term><term name=\\"month-05\\">Mai</term><term name=\\"month-06\\">Juni</term><term name=\\"month-07\\">Juli</term><term name=\\"month-08\\">August</term><term name=\\"month-09\\">September</term><term name=\\"month-10\\">Oktober</term><term name=\\"month-11\\">November</term><term name=\\"month-12\\">Dezember</term><term name=\\"month-01\\" form=\\"short\\">Jan.</term><term name=\\"month-02\\" form=\\"short\\">Feb.</term>\\n<term name=\\"month-03\\" form=\\"short\\">M\xe4rz</term><term name=\\"month-04\\" form=\\"short\\">Apr.</term><term name=\\"month-05\\" form=\\"short\\">Mai</term><term name=\\"month-06\\" form=\\"short\\">Juni</term><term name=\\"month-07\\" form=\\"short\\">Juli</term><term name=\\"month-08\\" form=\\"short\\">Aug.</term><term name=\\"month-09\\" form=\\"short\\">Sep.</term><term name=\\"month-10\\" form=\\"short\\">Okt.</term><term name=\\"month-11\\" form=\\"short\\">Nov.</term><term name=\\"month-12\\" form=\\"short\\">Dez.</term><term name=\\"season-01\\">Fr\xfchjahr</term><term name=\\"season-02\\">Sommer</term><term name=\\"season-03\\">Herbst</term><term name=\\"season-04\\">Winter</term></terms></locale>","es-ES":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"es-ES\\"><info><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\"/><date form=\\"text\\"><date-part name=\\"day\\" suffix=\\" de \\"/><date-part name=\\"month\\" suffix=\\" de \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"accessed\\">accedido</term><term name=\\"and\\">y</term><term name=\\"and others\\">y otros</term><term name=\\"anonymous\\">an\xf3nimo</term><term name=\\"anonymous\\" form=\\"short\\">an\xf3n.</term><term name=\\"at\\">en</term><term name=\\"available at\\">disponible en</term><term name=\\"by\\">de</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">c.</term><term name=\\"cited\\">citado</term><term name=\\"edition\\"><single>edici\xf3n</single><multiple>ediciones</multiple></term><term name=\\"edition\\" form=\\"short\\">ed.</term><term name=\\"et-al\\">et&#160;al.</term><term name=\\"forthcoming\\">previsto</term><term name=\\"from\\">a partir de</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">en</term><term name=\\"in press\\">en imprenta</term><term name=\\"internet\\">internet</term><term name=\\"interview\\">entrevista</term><term name=\\"letter\\">carta</term><term name=\\"no date\\">sin fecha</term><term name=\\"no date\\" form=\\"short\\">s.&#160;f.</term><term name=\\"online\\">en l\xednea</term><term name=\\"presented at\\">presentado en</term><term name=\\"reference\\"><single>referencia</single><multiple>referencias</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>ref.</single><multiple>refs.</multiple></term><term name=\\"retrieved\\">recuperado</term><term name=\\"scale\\">escala</term><term name=\\"version\\">versi\xf3n</term><term name=\\"ad\\">d.&#160;C.</term><term name=\\"bc\\">a.&#160;C.</term><term name=\\"open-quote\\">\xab</term><term name=\\"close-quote\\">\xbb</term><term name=\\"open-inner-quote\\">\u201c</term><term name=\\"close-inner-quote\\">\u201d</term><term name=\\"page-range-delimiter\\">-</term><term name=\\"ordinal\\">.\xaa</term><term name=\\"long-ordinal-01\\">primera</term><term name=\\"long-ordinal-02\\">segunda</term><term name=\\"long-ordinal-03\\">tercera</term><term name=\\"long-ordinal-04\\">cuarta</term><term name=\\"long-ordinal-05\\">quinta</term><term name=\\"long-ordinal-06\\">sexta</term><term name=\\"long-ordinal-07\\">s\xe9ptima</term><term name=\\"long-ordinal-08\\">octava</term><term name=\\"long-ordinal-09\\">novena</term><term name=\\"long-ordinal-10\\">d\xe9cima</term><term name=\\"book\\"><single>libro</single><multiple>libros</multiple></term><term name=\\"chapter\\"><single>cap\xedtulo</single><multiple>cap\xedtulos</multiple></term><term name=\\"column\\"><single>columna</single><multiple>columnas</multiple></term><term name=\\"figure\\"><single>figura</single><multiple>figuras</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folios</multiple></term><term name=\\"issue\\"><single>n\xfamero</single><multiple>n\xfameros</multiple></term><term name=\\"line\\"><single>l\xednea</single><multiple>l\xedneas</multiple></term><term name=\\"note\\"><single>nota</single><multiple>notas</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opera</multiple></term><term name=\\"page\\"><single>p\xe1gina</single><multiple>p\xe1ginas</multiple></term><term name=\\"number-of-pages\\"><single>p\xe1gina</single><multiple>p\xe1ginas</multiple></term><term name=\\"paragraph\\"><single>p\xe1rrafo</single><multiple>p\xe1rrafos</multiple></term><term name=\\"part\\"><single>parte</single><multiple>partes</multiple></term><term name=\\"section\\"><single>secci\xf3n</single><multiple>secciones</multiple></term><term name=\\"sub verbo\\"><single>sub voce</single><multiple>sub vocibus</multiple></term><term name=\\"verse\\"><single>verso</single><multiple>versos</multiple></term><term name=\\"volume\\"><single>volumen</single><multiple>vol\xfamenes</multiple></term><term name=\\"book\\" form=\\"short\\">lib.</term>\\n<term name=\\"chapter\\" form=\\"short\\">cap.</term><term name=\\"column\\" form=\\"short\\">col.</term><term name=\\"figure\\" form=\\"short\\">fig.</term><term name=\\"folio\\" form=\\"short\\">f.</term><term name=\\"issue\\" form=\\"short\\">n.\xba</term><term name=\\"line\\" form=\\"short\\">l.</term><term name=\\"note\\" form=\\"short\\">n.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">p\xe1rr.</term><term name=\\"part\\" form=\\"short\\">pt.</term><term name=\\"section\\" form=\\"short\\">sec.</term><term name=\\"sub verbo\\" form=\\"short\\"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>vv.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vols.</multiple></term><term name=\\"paragraph\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7</multiple></term><term name=\\"director\\"><single>director</single><multiple>directores</multiple></term><term name=\\"editor\\"><single>editor</single><multiple>editores</multiple></term><term name=\\"editorial-director\\"><single>editor</single><multiple>editores</multiple></term><term name=\\"illustrator\\"><single>ilustrador</single><multiple>ilustradores</multiple></term><term name=\\"translator\\"><single>traductor</single><multiple>traductores</multiple></term><term name=\\"editortranslator\\"><single>editor y traductor</single><multiple>editores y traductores</multiple></term><term name=\\"director\\" form=\\"short\\"><single>dir.</single><multiple>dirs.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ilust.</single><multiple>ilusts.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>trad.</single><multiple>trads.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>ed. y trad.</single><multiple>eds. y trads.</multiple></term><term name=\\"container-author\\" form=\\"verb\\">de</term><term name=\\"director\\" form=\\"verb\\">dirigido por</term><term name=\\"editor\\" form=\\"verb\\">editado por</term><term name=\\"editorial-director\\" form=\\"verb\\">editado por</term><term name=\\"illustrator\\" form=\\"verb\\">ilustrado por</term><term name=\\"interviewer\\" form=\\"verb\\">entrevistado por</term><term name=\\"recipient\\" form=\\"verb\\">a</term><term name=\\"reviewed-author\\" form=\\"verb\\">por</term><term name=\\"translator\\" form=\\"verb\\">traducido por</term><term name=\\"editortranslator\\" form=\\"verb\\">editado y traducido por</term><term name=\\"director\\" form=\\"verb-short\\">dir.</term><term name=\\"editor\\" form=\\"verb-short\\">ed.</term><term name=\\"editorial-director\\" form=\\"verb-short\\">ed.</term><term name=\\"illustrator\\" form=\\"verb-short\\">ilust.</term><term name=\\"translator\\" form=\\"verb-short\\">trad.</term><term name=\\"editortranslator\\" form=\\"verb-short\\">ed. y trad.</term><term name=\\"month-01\\">enero</term><term name=\\"month-02\\">febrero</term><term name=\\"month-03\\">marzo</term><term name=\\"month-04\\">abril</term><term name=\\"month-05\\">mayo</term><term name=\\"month-06\\">junio</term><term name=\\"month-07\\">julio</term><term name=\\"month-08\\">agosto</term><term name=\\"month-09\\">septiembre</term><term name=\\"month-10\\">octubre</term><term name=\\"month-11\\">noviembre</term><term name=\\"month-12\\">diciembre</term><term name=\\"month-01\\" form=\\"short\\">ene.</term><term name=\\"month-02\\" form=\\"short\\">feb.</term><term name=\\"month-03\\" form=\\"short\\">mar.</term><term name=\\"month-04\\" form=\\"short\\">abr.</term><term name=\\"month-05\\" form=\\"short\\">may</term><term name=\\"month-06\\" form=\\"short\\">jun.</term><term name=\\"month-07\\" form=\\"short\\">jul.</term><term name=\\"month-08\\" form=\\"short\\">ago.</term><term name=\\"month-09\\" form=\\"short\\">sep.</term><term name=\\"month-10\\" form=\\"short\\">oct.</term><term name=\\"month-11\\" form=\\"short\\">nov.</term><term name=\\"month-12\\" form=\\"short\\">\\ndic.</term><term name=\\"season-01\\">primavera</term><term name=\\"season-02\\">verano</term><term name=\\"season-03\\">oto\xf1o</term><term name=\\"season-04\\">invierno</term></terms></locale>"}'),o=new r.util.Register(i),a=JSON.parse('{"apa":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><style xmlns=\\"http://purl.org/net/xbiblio/csl\\" class=\\"in-text\\" version=\\"1.0\\" demote-non-dropping-particle=\\"never\\" page-range-format=\\"expanded\\"><info><title>American Psychological Association 7th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href=\\"http://www.zotero.org/styles/apa\\" rel=\\"self\\"/><link href=\\"http://www.zotero.org/styles/apa-6th-edition\\" rel=\\"template\\"/><link href=\\"https://apastyle.apa.org/style-grammar-guidelines/references/examples\\" rel=\\"documentation\\"/><author><name>Brenton M. Wiernik</name><email>zotero@wiernik.org</email></author><category citation-format=\\"author-date\\"/><category field=\\"psychology\\"/><category field=\\"generic-base\\"/><updated>2019-12-04T13:09:49+00:00</updated><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\\"en\\"><terms><term name=\\"editortranslator\\" form=\\"short\\"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name=\\"translator\\" form=\\"short\\">trans.</term><term name=\\"interviewer\\" form=\\"short\\"><single>interviewer</single><multiple>interviewers</multiple></term><term name=\\"collection-editor\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"circa\\" form=\\"short\\">ca.</term><term name=\\"bc\\"> B.C.E.</term><term name=\\"ad\\"> C.E.</term><term name=\\"letter\\">personal communication</term><term name=\\"letter\\" form=\\"short\\">letter</term><term name=\\"issue\\" form=\\"long\\"><single>issue</single><multiple>issues</multiple></term></terms></locale><locale xml:lang=\\"af\\"><terms><term name=\\"letter\\">persoonlike kommunikasie</term><term name=\\"letter\\" form=\\"short\\">brief</term></terms></locale><locale xml:lang=\\"ar\\"><terms><term name=\\"letter\\">\u0627\u062a\u0635\u0627\u0644 \u0634\u062e\u0635\u064a</term><term name=\\"letter\\" form=\\"short\\">\u062e\u0637\u0627\u0628</term></terms></locale><locale xml:lang=\\"da\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">personlig kommunikation</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"de\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">pers\xf6nliche Kommunikation</term><term name=\\"letter\\" form=\\"short\\">Brief</term></terms></locale><locale xml:lang=\\"es\\"><terms><term name=\\"from\\">de</term><term name=\\"letter\\">comunicaci\xf3n personal</term><term name=\\"letter\\" form=\\"short\\">carta</term></terms></locale><locale xml:lang=\\"fr\\"><terms><term name=\\"letter\\">communication personnelle</term><term name=\\"letter\\" form=\\"short\\">lettre</term><term name=\\"editor\\" form=\\"short\\"><single>\xe9d.</single><multiple>\xe9ds.</multiple></term></terms></locale><locale xml:lang=\\"nb\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">personlig kommunikasjon</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"nl\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">persoonlijke communicatie</term><term name=\\"letter\\" form=\\"short\\">brief</term></terms></locale><locale xml:lang=\\"nn\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">personlig kommunikasjon</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"ru\\"><terms><term name=\\"letter\\">\u043b\u0438\u0447\u043d\u0430\u044f \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u043a\u0430</term><term name=\\"letter\\" form=\\"short\\">\u043f\u0438\u0441\u044c\u043c\u043e</term></terms></locale><locale xml:lang=\\"tr\\"><terms><term name=\\"letter\\">ki\u015fisel ileti\u015fim</term><term name=\\"letter\\" form=\\"short\\">mektup</term></terms></locale><macro name=\\"author-bib\\"><names variable=\\"composer\\" delimiter=\\", \\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><substitute><names variable=\\"author\\"/><names variable=\\"illustrator\\"/><names variable=\\"director\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><choose><if variable=\\"container-title\\"><choose><if type=\\"book entry entry-dictionary entry-encyclopedia\\" match=\\"any\\"><choose><if variable=\\"title\\"><group delimiter=\\" \\"><text macro=\\"title\\"/><text macro=\\"parenthetical\\"/></group></if><else><text macro=\\"title-and-descriptions\\"/></else></choose></if></choose></if></choose><names variable=\\"editor\\" delimiter=\\", \\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><names variable=\\"editorial-director\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><names variable=\\"collection-editor\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><choose><if variable=\\"title\\"><group delimiter=\\" \\"><text macro=\\"title\\"/><text macro=\\"parenthetical\\"/></group></if><else><text macro=\\"title-and-descriptions\\"/></else></choose></substitute></names></macro><macro name=\\"author-intext\\"><choose><if type=\\"bill legal_case legislation treaty\\" match=\\"any\\"><text macro=\\"title-intext\\"/></if><else-if type=\\"interview personal_communication\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><group delimiter=\\", \\"><names variable=\\"author\\"><name and=\\"symbol\\" delimiter=\\", \\" initialize-with=\\". \\"/><substitute><text macro=\\"title-intext\\"/></substitute></names><text term=\\"letter\\"/></group></if><else><names variable=\\"author\\" delimiter=\\", \\"><name form=\\"short\\" and=\\"symbol\\" delimiter=\\", \\" initialize-with=\\". \\"/><substitute><text macro=\\"title-intext\\"/></substitute></names></else></choose></else-if><else><names variable=\\"composer\\" delimiter=\\", \\"><name form=\\"short\\" and=\\"symbol\\" delimiter=\\", \\" initialize-with=\\". \\"/><substitute><names variable=\\"author\\"/><names variable=\\"illustrator\\"/><names variable=\\"director\\"/><choose><if variable=\\"container-title\\"><choose><if type=\\"book entry entry-dictionary entry-encyclopedia\\" match=\\"any\\"><text macro=\\"title-intext\\"/></if></choose></if></choose><names variable=\\"editor\\"/><names variable=\\"editorial-director\\"/><text macro=\\"title-intext\\"/></substitute></names></else></choose></macro><macro name=\\"date-bib\\"><group delimiter=\\" \\" prefix=\\"(\\" suffix=\\")\\"><choose><if is-uncertain-date=\\"issued\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><group><choose><if variable=\\"issued\\"><date variable=\\"issued\\"><date-part name=\\"year\\"/></date><text variable=\\"year-suffix\\"/><choose><if type=\\"article-magazine article-newspaper broadcast interview motion_picture pamphlet personal_communication post post-weblog song speech webpage\\" match=\\"any\\"><date variable=\\"issued\\"><date-part prefix=\\", \\" name=\\"month\\"/><date-part prefix=\\" \\" name=\\"day\\"/></date></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\"><date variable=\\"issued\\"><date-part prefix=\\", \\" name=\\"month\\"/><date-part prefix=\\" \\" name=\\"day\\"/></date></if></choose></else-if></choose></if><else-if variable=\\"status\\"><group><text variable=\\"status\\" text-case=\\"lowercase\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></group></else-if><else><group><text term=\\"no date\\" form=\\"short\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></group></else></choose></group></group></macro><macro name=\\"date-sort-group\\"><choose><if variable=\\"issued\\"><text value=\\"1\\"/></if><else-if variable=\\"status\\"><text value=\\"2\\"/></else-if><else><text value=\\"0\\"/></else></choose></macro><macro name=\\"date-sort-date\\"><choose><if type=\\"article-magazine article-newspaper broadcast interview pamphlet personal_communication post post-weblog speech treaty webpage\\" match=\\"any\\"><date variable=\\"issued\\" form=\\"numeric\\"/></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\"><date variable=\\"issued\\" form=\\"numeric\\"/></if></choose></else-if><else><date variable=\\"issued\\" form=\\"numeric\\"/></else></choose></macro><macro name=\\"date-intext\\"><choose><if variable=\\"issued\\"><group delimiter=\\"/\\"><group delimiter=\\" \\"><choose><if is-uncertain-date=\\"original-date\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><date variable=\\"original-date\\"><date-part name=\\"year\\"/></date></group><group delimiter=\\" \\"><choose><if is-uncertain-date=\\"issued\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><group><choose><if type=\\"interview personal_communication\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><date variable=\\"issued\\" form=\\"text\\"/></if><else><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></else></choose></if><else><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></else></choose><text variable=\\"year-suffix\\"/></group></group></group></if><else-if variable=\\"status\\"><text variable=\\"status\\" text-case=\\"lowercase\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></else-if><else><text term=\\"no date\\" form=\\"short\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></else></choose></macro><macro name=\\"title-and-descriptions\\"><choose><if variable=\\"title\\"><group delimiter=\\" \\"><text macro=\\"title\\"/><text macro=\\"parenthetical\\"/><text macro=\\"bracketed\\"/></group></if><else><group delimiter=\\" \\"><text macro=\\"bracketed\\"/><text macro=\\"parenthetical\\"/></group></else></choose></macro><macro name=\\"title\\"><choose><if type=\\"post webpage\\" match=\\"any\\"><text variable=\\"title\\" font-style=\\"italic\\"/></if><else-if variable=\\"container-title\\" match=\\"any\\"><text variable=\\"title\\"/></else-if><else><choose><if type=\\"article-journal article-magazine article-newspaper post-weblog review review-book\\"><text variable=\\"title\\" font-style=\\"italic\\"/></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><group delimiter=\\": \\" font-style=\\"italic\\"><text variable=\\"title\\"/><choose><if is-numeric=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose></group></if><else><text variable=\\"title\\" font-style=\\"italic\\"/></else></choose></else-if><else><group delimiter=\\": \\" font-style=\\"italic\\"><text variable=\\"title\\"/><choose><if is-numeric=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose></group></else></choose></else></choose></macro><macro name=\\"title-intext\\"><choose><if variable=\\"title\\" match=\\"none\\"><text macro=\\"bracketed-intext\\" prefix=\\"[\\" suffix=\\"]\\"/></if><else-if type=\\"bill\\"><choose><if variable=\\"number container-title\\" match=\\"none\\"><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></if><else-if variable=\\"title\\"><text variable=\\"title\\" form=\\"short\\" text-case=\\"title\\"/></else-if><else><group delimiter=\\" \\"><text variable=\\"genre\\"/><group delimiter=\\" \\"><choose><if variable=\\"chapter-number container-title\\" match=\\"none\\"><text term=\\"issue\\" form=\\"short\\"/></if></choose><text variable=\\"number\\"/></group></group></else></choose></else-if><else-if type=\\"legal_case\\" match=\\"any\\"><text variable=\\"title\\" font-style=\\"italic\\"/></else-if><else-if type=\\"legislation treaty\\" match=\\"any\\"><text variable=\\"title\\" form=\\"short\\" text-case=\\"title\\"/></else-if><else-if type=\\"post webpage\\" match=\\"any\\"><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></else-if><else-if variable=\\"container-title\\" match=\\"any\\"><text variable=\\"title\\" form=\\"short\\" quotes=\\"true\\" text-case=\\"title\\"/></else-if><else><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></else></choose></macro><macro name=\\"parenthetical\\"><group prefix=\\"(\\" suffix=\\")\\"><choose><if type=\\"patent\\"><group delimiter=\\" \\"><text variable=\\"authority\\" form=\\"short\\"/><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else><text value=\\"patent\\" text-case=\\"capitalize-first\\"/></else></choose><group delimiter=\\" \\"><text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"number\\"/></group></group></if><else-if type=\\"post webpage\\"><group delimiter=\\"; \\"><text macro=\\"secondary-contributors\\"/><text macro=\\"database-location\\"/><text macro=\\"number\\"/><text macro=\\"locators-booklike\\"/></group></else-if><else-if variable=\\"container-title\\"><group delimiter=\\"; \\"><text macro=\\"secondary-contributors\\"/><choose><if type=\\"broadcast graphic map motion_picture song\\" match=\\"any\\"><text macro=\\"number\\"/></if></choose></group></else-if><else><group delimiter=\\"; \\"><text macro=\\"secondary-contributors\\"/><text macro=\\"database-location\\"/><text macro=\\"number\\"/><text macro=\\"locators-booklike\\"/></group></else></choose></group></macro><macro name=\\"parenthetical-container\\"><choose><if variable=\\"container-title\\" match=\\"any\\"><group prefix=\\"(\\" suffix=\\")\\"><group delimiter=\\"; \\"><text macro=\\"database-location\\"/><choose><if type=\\"broadcast graphic map motion_picture song\\" match=\\"none\\"><text macro=\\"number\\"/></if></choose><text macro=\\"locators-booklike\\"/></group></group></if></choose></macro><macro name=\\"bracketed\\"><group prefix=\\"[\\" suffix=\\"]\\"><choose><if variable=\\"reviewed-author reviewed-title\\" type=\\"review review-book\\" match=\\"any\\"><group delimiter=\\"; \\"><group delimiter=\\", \\"><group delimiter=\\" \\"><choose><if variable=\\"number\\" match=\\"none\\"><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></else-if><else><text value=\\"Review of\\"/></else></choose></if><else><choose><if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if><else><text value=\\"Review of\\"/></else></choose></else></choose><text macro=\\"reviewed-title\\"/></group><names variable=\\"reviewed-author\\"><label form=\\"verb-short\\" suffix=\\" \\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></group><choose><if variable=\\"genre\\" match=\\"any\\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></if><else-if type=\\"thesis\\"><group delimiter=\\"; \\"><choose><if variable=\\"number\\" match=\\"none\\"><group delimiter=\\", \\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><choose><if variable=\\"archive DOI URL\\" match=\\"any\\"><text variable=\\"publisher\\"/></if></choose></group></if></choose><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></group></else-if><else-if variable=\\"interviewer\\" type=\\"interview\\" match=\\"any\\"><choose><if variable=\\"title\\"><text macro=\\"format\\"/></if><else-if variable=\\"genre\\"><group delimiter=\\"; \\"><group delimiter=\\" \\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><group delimiter=\\" \\"><text term=\\"author\\" form=\\"verb\\"/><names variable=\\"interviewer\\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></group></group></group></else-if><else-if variable=\\"interviewer\\"><group delimiter=\\"; \\"><names variable=\\"interviewer\\"><label form=\\"verb\\" suffix=\\" \\" text-case=\\"capitalize-first\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></group></else-if><else><text macro=\\"format\\"/></else></choose></else-if><else-if type=\\"personal_communication\\"><choose><if variable=\\"recipient\\"><group delimiter=\\"; \\"><group delimiter=\\" \\"><choose><if variable=\\"number\\" match=\\"none\\"><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></else-if><else><text term=\\"letter\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></else></choose></if><else><choose><if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if><else><text term=\\"letter\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></else></choose></else></choose><names variable=\\"recipient\\" delimiter=\\", \\"><label form=\\"verb\\" suffix=\\" \\"/><name and=\\"symbol\\" delimiter=\\", \\"/></names></group><choose><if variable=\\"genre\\" match=\\"any\\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></if><else><text macro=\\"format\\"/></else></choose></else-if><else-if variable=\\"composer\\" type=\\"song\\" match=\\"all\\"><group delimiter=\\"; \\"><choose><if variable=\\"number\\" match=\\"none\\"><group delimiter=\\" \\"><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><names variable=\\"author\\" prefix=\\"recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/><names variable=\\"author\\" prefix=\\"recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else-if><else><names variable=\\"author\\" prefix=\\"Recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else></choose></group></if><else><group delimiter=\\" \\"><choose><if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/><names variable=\\"author\\" prefix=\\"recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></if><else><names variable=\\"author\\" prefix=\\"Recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else></choose></group></else></choose><choose><if variable=\\"genre\\" match=\\"any\\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></else-if><else-if variable=\\"container-title\\" match=\\"none\\"><text macro=\\"format\\"/></else-if><else><choose><if type=\\"paper-conference speech\\" match=\\"any\\"><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"any\\"><text macro=\\"format\\"/></if></choose></if><else-if type=\\"book\\"><choose><if variable=\\"version\\" match=\\"none\\"><text macro=\\"format\\"/></if></choose></else-if><else-if type=\\"report\\" match=\\"none\\"><text macro=\\"format\\"/></else-if></choose></else></choose></group></macro><macro name=\\"bracketed-intext\\"><group prefix=\\"[\\" suffix=\\"]\\"><choose><if variable=\\"reviewed-author reviewed-title\\" type=\\"review review-book\\" match=\\"any\\"><text macro=\\"reviewed-title-intext\\" prefix=\\"Review of \\"/></if><else-if variable=\\"interviewer\\" type=\\"interview\\" match=\\"any\\"><names variable=\\"interviewer\\"><label form=\\"verb\\" suffix=\\" \\" text-case=\\"capitalize-first\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><substitute><text macro=\\"format-intext\\"/></substitute></names></else-if><else-if type=\\"personal_communication\\"><choose><if variable=\\"recipient\\"><group delimiter=\\" \\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else><text term=\\"letter\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></else></choose><names variable=\\"recipient\\" delimiter=\\", \\"><label form=\\"verb\\" suffix=\\" \\"/><name and=\\"symbol\\" delimiter=\\", \\"/></names></group></if><else><text macro=\\"format-intext\\"/></else></choose></else-if><else><text macro=\\"format-intext\\"/></else></choose></group></macro><macro name=\\"bracketed-container\\"><group prefix=\\"[\\" suffix=\\"]\\"><choose><if type=\\"paper-conference speech\\" match=\\"any\\"><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\"><text macro=\\"format\\"/></if></choose></if><else-if type=\\"book\\" variable=\\"version\\" match=\\"all\\"><text macro=\\"format\\"/></else-if><else-if type=\\"report\\"><text macro=\\"format\\"/></else-if></choose></group></macro><macro name=\\"secondary-contributors\\"><choose><if type=\\"article-journal article-magazine article-newspaper post-weblog review review-book\\" match=\\"any\\"><text macro=\\"secondary-contributors-periodical\\"/></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><text macro=\\"secondary-contributors-booklike\\"/></if><else><text macro=\\"secondary-contributors-periodical\\"/></else></choose></else-if><else><text macro=\\"secondary-contributors-booklike\\"/></else></choose></macro><macro name=\\"secondary-contributors-periodical\\"><group delimiter=\\"; \\"><choose><if variable=\\"title\\"><names variable=\\"interviewer\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></if></choose><names variable=\\"translator\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></group></macro><macro name=\\"secondary-contributors-booklike\\"><group delimiter=\\"; \\"><choose><if variable=\\"title\\"><names variable=\\"interviewer\\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></if></choose><choose><if type=\\"post webpage\\" match=\\"none\\"><choose><if variable=\\"container-title\\" match=\\"none\\"><group delimiter=\\"; \\"><names variable=\\"container-author\\"><label form=\\"verb-short\\" suffix=\\" \\" text-case=\\"title\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names><names variable=\\"editor translator\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></group></if></choose></if><else><group delimiter=\\"; \\"><names variable=\\"container-author\\"><label form=\\"verb-short\\" suffix=\\" \\" text-case=\\"title\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names><names variable=\\"editor translator\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></group></else></choose></group></macro><macro name=\\"database-location\\"><choose><if variable=\\"archive-place\\" match=\\"none\\"><text variable=\\"archive_location\\"/></if></choose></macro><macro name=\\"number\\"><choose><if variable=\\"number\\"><group delimiter=\\", \\"><group delimiter=\\" \\"><text variable=\\"genre\\" text-case=\\"title\\"/><choose><if is-numeric=\\"number\\"><text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"number\\"/></if><else><text variable=\\"number\\"/></else></choose></group><choose><if type=\\"thesis\\"><choose><if variable=\\"archive DOI URL\\" match=\\"any\\"><text variable=\\"publisher\\"/></if></choose></if></choose></group></if></choose></macro><macro name=\\"locators-booklike\\"><choose><if type=\\"article-journal article-magazine article-newspaper broadcast interview patent post post-weblog review review-book speech webpage\\" match=\\"any\\"/><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><group delimiter=\\", \\"><text macro=\\"version\\"/><text macro=\\"edition\\"/><text macro=\\"volume-booklike\\"/></group></if></choose></else-if><else><group delimiter=\\", \\"><text macro=\\"version\\"/><text macro=\\"edition\\"/><text macro=\\"volume-booklike\\"/></group></else></choose></macro><macro name=\\"version\\"><choose><if is-numeric=\\"version\\"><group delimiter=\\" \\"><text term=\\"version\\" text-case=\\"capitalize-first\\"/><text variable=\\"version\\"/></group></if><else><text variable=\\"version\\"/></else></choose></macro><macro name=\\"edition\\"><choose><if is-numeric=\\"edition\\"><group delimiter=\\" \\"><number variable=\\"edition\\" form=\\"ordinal\\"/><label variable=\\"edition\\" form=\\"short\\"/></group></if><else><text variable=\\"edition\\"/></else></choose></macro><macro name=\\"volume-booklike\\"><group delimiter=\\", \\"><choose><if type=\\"report\\"><group delimiter=\\" \\"><text variable=\\"collection-title\\" text-case=\\"title\\"/><text variable=\\"collection-number\\"/></group></if></choose><choose><if variable=\\"volume\\" match=\\"any\\"><choose><if is-numeric=\\"volume\\" match=\\"none\\"/><else><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><number variable=\\"volume\\" form=\\"numeric\\"/></group></else></choose></if><else><group><text term=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\" suffix=\\" \\"/><text term=\\"page-range-delimiter\\" prefix=\\"1\\"/><number variable=\\"number-of-volumes\\" form=\\"numeric\\"/></group></else></choose><group delimiter=\\" \\"><label variable=\\"issue\\" text-case=\\"capitalize-first\\"/><text variable=\\"issue\\"/></group><group delimiter=\\" \\"><label variable=\\"page\\" form=\\"short\\" suffix=\\" \\"/><text variable=\\"page\\"/></group></group></macro><macro name=\\"reviewed-title\\"><choose><if variable=\\"reviewed-title\\"><text variable=\\"reviewed-title\\" font-style=\\"italic\\"/></if><else><text variable=\\"title\\" font-style=\\"italic\\"/></else></choose></macro><macro name=\\"reviewed-title-intext\\"><choose><if variable=\\"reviewed-title\\"><text variable=\\"reviewed-title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></if><else><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></else></choose></macro><macro name=\\"format\\"><choose><if variable=\\"genre medium\\" match=\\"any\\"><group delimiter=\\"; \\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if></choose><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></group></if><else-if type=\\"dataset\\"><text value=\\"Data set\\"/></else-if><else-if type=\\"book\\" variable=\\"version\\" match=\\"all\\"><text value=\\"Computer software\\"/></else-if><else-if type=\\"interview personal_communication\\" match=\\"any\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><text term=\\"letter\\" text-case=\\"capitalize-first\\"/></if><else-if type=\\"interview\\"><text term=\\"interview\\" text-case=\\"capitalize-first\\"/></else-if></choose></else-if><else-if type=\\"map\\"><text value=\\"Map\\"/></else-if></choose></macro><macro name=\\"format-intext\\"><choose><if variable=\\"genre\\" match=\\"any\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></else-if><else-if type=\\"dataset\\"><text value=\\"Data set\\"/></else-if><else-if type=\\"book\\" variable=\\"version\\" match=\\"all\\"><text value=\\"Computer software\\"/></else-if><else-if type=\\"interview personal_communication\\" match=\\"any\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><text term=\\"letter\\" text-case=\\"capitalize-first\\"/></if><else-if type=\\"interview\\"><text term=\\"interview\\" text-case=\\"capitalize-first\\"/></else-if></choose></else-if><else-if type=\\"map\\"><text value=\\"Map\\"/></else-if></choose></macro><macro name=\\"container\\"><choose><if type=\\"article-journal article-magazine article-newspaper post-weblog review review-book\\" match=\\"any\\"><text macro=\\"container-periodical\\"/></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"editor editorial-director collection-editor container-author\\" match=\\"any\\"><text macro=\\"container-booklike\\"/></if><else><text macro=\\"container-periodical\\"/></else></choose></else-if><else-if type=\\"post webpage\\" match=\\"none\\"><text macro=\\"container-booklike\\"/></else-if></choose></macro><macro name=\\"container-periodical\\"><group delimiter=\\". \\"><group delimiter=\\", \\"><text variable=\\"container-title\\" font-style=\\"italic\\" text-case=\\"title\\"/><choose><if variable=\\"volume\\"><group><text variable=\\"volume\\" font-style=\\"italic\\"/><text variable=\\"issue\\" prefix=\\"(\\" suffix=\\")\\"/></group></if><else><text variable=\\"issue\\" font-style=\\"italic\\"/></else></choose><choose><if variable=\\"page\\"><text variable=\\"page\\"/></if><else><text variable=\\"number\\" prefix=\\"Article \\"/></else></choose></group><choose><if variable=\\"issued\\"><choose><if variable=\\"issue page volume\\" match=\\"none\\"><text variable=\\"status\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></macro><macro name=\\"container-booklike\\"><choose><if variable=\\"container-title\\" match=\\"any\\"><group delimiter=\\" \\"><text term=\\"in\\" text-case=\\"capitalize-first\\"/><group delimiter=\\", \\"><names variable=\\"editor translator\\" delimiter=\\", &amp; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" text-case=\\"title\\" prefix=\\" (\\" suffix=\\")\\"/><substitute><names variable=\\"editorial-director\\"/><names variable=\\"collection-editor\\"/><names variable=\\"container-author\\"/></substitute></names><group delimiter=\\": \\" font-style=\\"italic\\"><text variable=\\"container-title\\"/><choose><if is-numeric=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose></group></group><text macro=\\"parenthetical-container\\"/><text macro=\\"bracketed-container\\"/></group></if></choose></macro><macro name=\\"publisher\\"><group delimiter=\\"; \\"><choose><if type=\\"thesis\\"><choose><if variable=\\"archive DOI URL\\" match=\\"none\\"><text variable=\\"publisher\\"/></if></choose></if><else-if type=\\"post webpage\\"><group delimiter=\\"; \\"><text variable=\\"container-title\\" text-case=\\"title\\"/><text variable=\\"publisher\\"/></group></else-if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><text variable=\\"publisher\\"/></if></choose></else-if><else-if type=\\"article-journal article-magazine article-newspaper post-weblog\\" match=\\"none\\"><text variable=\\"publisher\\"/></else-if></choose><group delimiter=\\", \\"><choose><if variable=\\"archive-place\\"><text variable=\\"archive_location\\"/></if></choose><text variable=\\"archive\\"/><text variable=\\"archive-place\\"/></group></group></macro><macro name=\\"access\\"><choose><if variable=\\"DOI\\" match=\\"any\\"><text variable=\\"DOI\\" prefix=\\"https://doi.org/\\"/></if><else-if variable=\\"URL\\"><group delimiter=\\" \\"><choose><if variable=\\"issued status\\" match=\\"none\\"><group delimiter=\\" \\"><text term=\\"retrieved\\" text-case=\\"capitalize-first\\"/><date variable=\\"accessed\\" form=\\"text\\" suffix=\\",\\"/><text term=\\"from\\"/></group></if></choose><text variable=\\"URL\\"/></group></else-if></choose></macro><macro name=\\"event\\"><choose><if variable=\\"event\\"><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\"><group delimiter=\\", \\"><text variable=\\"event\\"/><text variable=\\"event-place\\"/></group></if></choose></if></choose></macro><macro name=\\"publication-history\\"><choose><if type=\\"patent\\" match=\\"none\\"><group prefix=\\"(\\" suffix=\\")\\"><choose><if variable=\\"references\\"><text variable=\\"references\\"/></if><else><group delimiter=\\" \\"><text value=\\"Original work published\\"/><choose><if is-uncertain-date=\\"original-date\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><date variable=\\"original-date\\"><date-part name=\\"year\\"/></date></group></else></choose></group></if><else><text variable=\\"references\\" prefix=\\"(\\" suffix=\\")\\"/></else></choose></macro><macro name=\\"legal-cites\\"><choose><if type=\\"legal_case\\"><group delimiter=\\". \\"><group delimiter=\\", \\"><text variable=\\"title\\"/><group delimiter=\\" \\"><text macro=\\"container-legal\\"/><text macro=\\"date-legal\\"/></group><text variable=\\"references\\"/></group><text macro=\\"access\\"/></group></if><else-if type=\\"bill\\"><group delimiter=\\". \\"><group delimiter=\\", \\"><choose><if variable=\\"number container-title\\" match=\\"none\\"><text variable=\\"title\\" font-style=\\"italic\\"/></if><else><text variable=\\"title\\"/></else></choose><group delimiter=\\" \\"><text macro=\\"container-legal\\"/><text macro=\\"date-legal\\"/><choose><if variable=\\"number container-title\\" match=\\"none\\"><names variable=\\"author\\" prefix=\\"(testimony of \\" suffix=\\")\\"><name and=\\"symbol\\" delimiter=\\", \\"/></names></if><else><text variable=\\"status\\" prefix=\\"(\\" suffix=\\")\\"/></else></choose></group><text variable=\\"references\\"/></group><text macro=\\"access\\"/></group></else-if><else-if type=\\"legislation\\"><group delimiter=\\". \\"><group delimiter=\\", \\"><text variable=\\"title\\"/><group delimiter=\\" \\"><text macro=\\"container-legal\\"/><text macro=\\"date-legal\\"/><text variable=\\"status\\" prefix=\\"(\\" suffix=\\")\\"/></group><text variable=\\"references\\"/></group><text macro=\\"access\\"/></group></else-if><else-if type=\\"treaty\\"><group delimiter=\\", \\"><text variable=\\"title\\" text-case=\\"title\\"/><names variable=\\"author\\"><name initialize-with=\\".\\" form=\\"short\\" delimiter=\\"-\\"/></names><text macro=\\"date-legal\\"/><text macro=\\"container-legal\\"/><text macro=\\"access\\"/></group></else-if></choose></macro><macro name=\\"date-legal\\"><choose><if type=\\"legal_case\\"><group prefix=\\"(\\" suffix=\\")\\" delimiter=\\" \\"><text variable=\\"authority\\"/><choose><if variable=\\"container-title\\" match=\\"any\\"><date variable=\\"issued\\" form=\\"numeric\\" date-parts=\\"year\\"/></if><else><date variable=\\"issued\\" form=\\"text\\"/></else></choose></group></if><else-if type=\\"bill legislation\\" match=\\"any\\"><group prefix=\\"(\\" suffix=\\")\\" delimiter=\\" \\"><group delimiter=\\" \\"><date variable=\\"original-date\\"><date-part name=\\"year\\"/></date><text term=\\"and\\" form=\\"symbol\\"/></group><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></group></else-if><else-if type=\\"treaty\\"><date variable=\\"issued\\" form=\\"text\\"/></else-if></choose></macro><macro name=\\"container-legal\\"><choose><if type=\\"legal_case\\"><group delimiter=\\" \\"><choose><if variable=\\"container-title\\"><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><group delimiter=\\" \\"><text term=\\"section\\" form=\\"symbol\\"/><text variable=\\"section\\"/></group><choose><if variable=\\"page page-first\\" match=\\"any\\"><text variable=\\"page-first\\"/></if><else><text value=\\"___\\"/></else></choose></group></if><else><group delimiter=\\" \\"><choose><if is-numeric=\\"number\\"><text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></if></choose><text variable=\\"number\\"/></group></else></choose></group></if><else-if type=\\"bill\\"><group delimiter=\\", \\"><group delimiter=\\" \\"><text variable=\\"genre\\"/><group delimiter=\\" \\"><choose><if variable=\\"chapter-number container-title\\" match=\\"none\\"><text term=\\"issue\\" form=\\"short\\"/></if></choose><text variable=\\"number\\"/></group></group><text variable=\\"authority\\"/><text variable=\\"chapter-number\\"/><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><text variable=\\"page-first\\"/></group></group></else-if><else-if type=\\"legislation\\"><choose><if variable=\\"number\\"><group delimiter=\\", \\"><text variable=\\"number\\" prefix=\\"Pub. L. No. \\"/><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><text variable=\\"page-first\\"/></group></group></if><else><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><choose><if variable=\\"section\\"><group delimiter=\\" \\"><text term=\\"section\\" form=\\"symbol\\"/><text variable=\\"section\\"/></group></if><else><text variable=\\"page-first\\"/></else></choose></group></else></choose></else-if><else-if type=\\"treaty\\"><group delimiter=\\" \\"><number variable=\\"volume\\"/><text variable=\\"container-title\\"/><choose><if variable=\\"page page-first\\" match=\\"any\\"><text variable=\\"page-first\\"/></if><else><group delimiter=\\" \\"><text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"number\\"/></group></else></choose></group></else-if></choose></macro><macro name=\\"citation-locator\\"><group delimiter=\\" \\"><choose><if locator=\\"chapter\\"><label variable=\\"locator\\" text-case=\\"capitalize-first\\"/></if><else><label variable=\\"locator\\" form=\\"short\\"/></else></choose><text variable=\\"locator\\"/></group></macro><citation et-al-min=\\"3\\" et-al-use-first=\\"1\\" disambiguate-add-year-suffix=\\"true\\" disambiguate-add-names=\\"true\\" disambiguate-add-givenname=\\"true\\" collapse=\\"year\\" givenname-disambiguation-rule=\\"primary-name\\"><sort><key macro=\\"author-bib\\" names-min=\\"3\\" names-use-first=\\"1\\"/><key macro=\\"date-sort-group\\"/><key macro=\\"date-sort-date\\" sort=\\"ascending\\"/><key variable=\\"status\\"/></sort><layout prefix=\\"(\\" suffix=\\")\\" delimiter=\\"; \\"><group delimiter=\\", \\"><text macro=\\"author-intext\\"/><text macro=\\"date-intext\\"/><text macro=\\"citation-locator\\"/></group></layout></citation><bibliography hanging-indent=\\"true\\" et-al-min=\\"21\\" et-al-use-first=\\"19\\" et-al-use-last=\\"true\\" entry-spacing=\\"0\\" line-spacing=\\"2\\"><sort><key macro=\\"author-bib\\"/><key macro=\\"date-sort-group\\"/><key macro=\\"date-sort-date\\" sort=\\"ascending\\"/><key variable=\\"status\\"/><key macro=\\"title\\"/></sort><layout><choose><if type=\\"bill legal_case legislation treaty\\" match=\\"any\\"><choose><if variable=\\"DOI URL\\" match=\\"any\\"><text macro=\\"legal-cites\\"/></if><else><text macro=\\"legal-cites\\" suffix=\\".\\"/></else></choose></if><else><group delimiter=\\" \\"><group delimiter=\\". \\" suffix=\\".\\"><text macro=\\"author-bib\\"/><text macro=\\"date-bib\\"/><text macro=\\"title-and-descriptions\\"/><text macro=\\"container\\"/><text macro=\\"event\\"/><text macro=\\"publisher\\"/></group><text macro=\\"access\\"/><text macro=\\"publication-history\\"/></group></else></choose></layout></bibliography></style>","vancouver":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><style xmlns=\\"http://purl.org/net/xbiblio/csl\\" class=\\"in-text\\" version=\\"1.0\\" demote-non-dropping-particle=\\"sort-only\\" page-range-format=\\"minimal\\"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href=\\"http://www.zotero.org/styles/vancouver\\" rel=\\"self\\"/><link href=\\"http://www.nlm.nih.gov/bsd/uniform_requirements.html\\" rel=\\"documentation\\"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format=\\"numeric\\"/><category field=\\"medicine\\"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2014-09-06T16:03:01+00:00</updated><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\\"en\\"><date form=\\"text\\" delimiter=\\" \\"><date-part name=\\"year\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"day\\"/></date><terms><term name=\\"collection-editor\\" form=\\"long\\"><single>editor</single><multiple>editors</multiple></term><term name=\\"presented at\\">presented at</term><term name=\\"available at\\">available from</term><term name=\\"section\\" form=\\"short\\">sect.</term></terms></locale><locale xml:lang=\\"fr\\"><date form=\\"text\\" delimiter=\\" \\"><date-part name=\\"day\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"year\\"/></date></locale><macro name=\\"author\\"><names variable=\\"author\\"><name sort-separator=\\" \\" initialize-with=\\"\\" name-as-sort-order=\\"all\\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\", \\"/><substitute><names variable=\\"editor\\"/></substitute></names></macro><macro name=\\"editor\\"><names variable=\\"editor\\" suffix=\\".\\"><name sort-separator=\\" \\" initialize-with=\\"\\" name-as-sort-order=\\"all\\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\", \\"/></names></macro><macro name=\\"chapter-marker\\"><choose><if type=\\"chapter paper-conference entry-dictionary entry-encyclopedia\\" match=\\"any\\"><text term=\\"in\\" text-case=\\"capitalize-first\\"/></if></choose></macro><macro name=\\"publisher\\"><choose><if type=\\"article-journal article-magazine article-newspaper\\" match=\\"none\\"><group delimiter=\\": \\" suffix=\\";\\"><choose><if type=\\"thesis\\"><text variable=\\"publisher-place\\" prefix=\\"[\\" suffix=\\"]\\"/></if><else-if type=\\"speech\\"/><else><text variable=\\"publisher-place\\"/></else></choose><text variable=\\"publisher\\"/></group></if></choose></macro><macro name=\\"access\\"><choose><if variable=\\"URL\\"><group delimiter=\\": \\"><text term=\\"available at\\" text-case=\\"capitalize-first\\"/><text variable=\\"URL\\"/></group></if></choose></macro><macro name=\\"accessed-date\\"><choose><if variable=\\"URL\\"><group prefix=\\"[\\" suffix=\\"]\\" delimiter=\\" \\"><text term=\\"cited\\" text-case=\\"lowercase\\"/><date variable=\\"accessed\\" form=\\"text\\"/></group></if></choose></macro><macro name=\\"container-title\\"><choose><if type=\\"article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia\\" match=\\"any\\"><group suffix=\\".\\" delimiter=\\" \\"><choose><if type=\\"article-journal review review-book\\" match=\\"any\\"><text variable=\\"container-title\\" form=\\"short\\" strip-periods=\\"true\\"/></if><else><text variable=\\"container-title\\" strip-periods=\\"true\\"/></else></choose><choose><if variable=\\"URL\\"><text term=\\"internet\\" prefix=\\"[\\" suffix=\\"]\\" text-case=\\"capitalize-first\\"/></if></choose></group><text macro=\\"edition\\" prefix=\\" \\"/></if><else-if type=\\"bill legislation\\" match=\\"any\\"><group delimiter=\\", \\"><group delimiter=\\". \\"><text variable=\\"container-title\\"/><group delimiter=\\" \\"><text term=\\"section\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"section\\"/></group></group><text variable=\\"number\\"/></group></else-if><else-if type=\\"speech\\">\\n<group delimiter=\\": \\" suffix=\\";\\"><group delimiter=\\" \\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><text term=\\"presented at\\"/></group><text variable=\\"event\\"/></group></else-if><else><group delimiter=\\", \\" suffix=\\".\\"><choose><if variable=\\"collection-title\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose><text variable=\\"container-title\\"/></group></else></choose></macro><macro name=\\"title\\"><text variable=\\"title\\"/><choose><if type=\\"article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia\\" match=\\"none\\"><choose><if variable=\\"URL\\"><text term=\\"internet\\" prefix=\\" [\\" suffix=\\"]\\" text-case=\\"capitalize-first\\"/></if></choose><text macro=\\"edition\\" prefix=\\". \\"/></if></choose><choose><if type=\\"thesis\\"><text variable=\\"genre\\" prefix=\\" [\\" suffix=\\"]\\"/></if></choose></macro><macro name=\\"edition\\"><choose><if is-numeric=\\"edition\\"><group delimiter=\\" \\"><number variable=\\"edition\\" form=\\"ordinal\\"/><text term=\\"edition\\" form=\\"short\\"/></group></if><else><text variable=\\"edition\\" suffix=\\".\\"/></else></choose></macro><macro name=\\"date\\"><choose><if type=\\"article-journal article-magazine article-newspaper review review-book\\" match=\\"any\\"><group suffix=\\";\\" delimiter=\\" \\"><date variable=\\"issued\\" form=\\"text\\"/><text macro=\\"accessed-date\\"/></group></if><else-if type=\\"bill legislation\\" match=\\"any\\"><group delimiter=\\", \\"><date variable=\\"issued\\" delimiter=\\" \\"><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"day\\"/></date><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></group></else-if><else-if type=\\"report\\"><date variable=\\"issued\\" delimiter=\\" \\"><date-part name=\\"year\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/></date><text macro=\\"accessed-date\\" prefix=\\" \\"/></else-if><else-if type=\\"patent\\"><group suffix=\\".\\"><group delimiter=\\", \\"><text variable=\\"number\\"/><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></group><text macro=\\"accessed-date\\" prefix=\\" \\"/></group></else-if><else-if type=\\"speech\\"><group delimiter=\\"; \\"><group delimiter=\\" \\"><date variable=\\"issued\\" delimiter=\\" \\"><date-part name=\\"year\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"day\\"/></date><text macro=\\"accessed-date\\"/></group><text variable=\\"event-place\\"/></group></else-if><else><group suffix=\\".\\"><date variable=\\"issued\\"><date-part name=\\"year\\"/></date><text macro=\\"accessed-date\\" prefix=\\" \\"/></group></else></choose></macro><macro name=\\"pages\\"><choose><if type=\\"article-journal article-magazine article-newspaper review review-book\\" match=\\"any\\"><text variable=\\"page\\" prefix=\\":\\"/></if><else-if type=\\"book\\" match=\\"any\\"><text variable=\\"number-of-pages\\" prefix=\\" \\"/><choose><if is-numeric=\\"number-of-pages\\"><label variable=\\"number-of-pages\\" form=\\"short\\" prefix=\\" \\" plural=\\"never\\"/></if></choose></else-if><else><group prefix=\\" \\" delimiter=\\" \\"><label variable=\\"page\\" form=\\"short\\" plural=\\"never\\"/><text variable=\\"page\\"/></group></else></choose></macro><macro name=\\"journal-location\\"><choose><if type=\\"article-journal article-magazine review review-book\\" match=\\"any\\"><text variable=\\"volume\\"/><text variable=\\"issue\\" prefix=\\"(\\" suffix=\\")\\"/></if></choose></macro><macro name=\\"collection-details\\"><choose><if type=\\"article-journal article-magazine article-newspaper review review-book\\" match=\\"none\\"><choose><if variable=\\"collection-title\\"><group delimiter=\\" \\" prefix=\\"(\\" suffix=\\")\\"><names variable=\\"collection-editor\\" suffix=\\".\\"><name sort-separator=\\" \\" initialize-with=\\"\\" name-as-sort-order=\\"all\\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\", \\"/></names><group delimiter=\\"; \\"><text variable=\\"collection-title\\"/><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\"/><text variable=\\"volume\\"/></group></group></group></if></choose></if></choose></macro><macro name=\\"report-details\\"><choose><if type=\\"report\\"><text variable=\\"number\\" prefix=\\"Report No.: \\"/></if></choose></macro><citation collapse=\\"citation-number\\">\\n<sort><key variable=\\"citation-number\\"/></sort><layout prefix=\\"(\\" suffix=\\")\\" delimiter=\\",\\"><text variable=\\"citation-number\\"/></layout></citation><bibliography et-al-min=\\"7\\" et-al-use-first=\\"6\\" second-field-align=\\"flush\\"><layout><text variable=\\"citation-number\\" suffix=\\". \\"/><group delimiter=\\". \\" suffix=\\". \\"><text macro=\\"author\\"/><text macro=\\"title\\"/></group><group delimiter=\\" \\" suffix=\\". \\"><group delimiter=\\": \\"><text macro=\\"chapter-marker\\"/><group delimiter=\\" \\"><text macro=\\"editor\\"/><text macro=\\"container-title\\"/></group></group><text macro=\\"publisher\\"/><group><text macro=\\"date\\"/><text macro=\\"journal-location\\"/><text macro=\\"pages\\"/></group></group><text macro=\\"collection-details\\" suffix=\\". \\"/><text macro=\\"report-details\\" suffix=\\". \\"/><text macro=\\"access\\"/></layout></bibliography></style>","harvard1":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><style xmlns=\\"http://purl.org/net/xbiblio/csl\\" class=\\"in-text\\" version=\\"1.0\\" demote-non-dropping-particle=\\"sort-only\\"><info><title>Harvard Reference format 1 (author-date)</title><id>http://www.zotero.org/styles/harvard1</id><link href=\\"http://www.zotero.org/styles/harvard1\\" rel=\\"self\\"/><link href=\\"http://libweb.anglia.ac.uk/referencing/harvard.htm\\" rel=\\"documentation\\"/><author><name>Julian Onions</name><email>julian.onions@gmail.com</email></author><category citation-format=\\"author-date\\"/><category field=\\"generic-base\\"/><summary>The Harvard author-date style</summary><updated>2012-09-27T22:06:38+00:00</updated><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><macro name=\\"editor\\"><names variable=\\"editor\\" delimiter=\\", \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"lowercase\\"/></names></macro><macro name=\\"anon\\"><text term=\\"anonymous\\" form=\\"short\\" text-case=\\"capitalize-first\\" strip-periods=\\"true\\"/></macro><macro name=\\"author\\"><names variable=\\"author\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\".\\" delimiter-precedes-last=\\"never\\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\" \\" text-case=\\"lowercase\\"/><substitute><names variable=\\"editor\\"/><text macro=\\"anon\\"/></substitute></names></macro><macro name=\\"author-short\\"><names variable=\\"author\\"><name form=\\"short\\" and=\\"symbol\\" delimiter=\\", \\" delimiter-precedes-last=\\"never\\" initialize-with=\\". \\"/><substitute><names variable=\\"editor\\"/><names variable=\\"translator\\"/><text macro=\\"anon\\"/></substitute></names></macro><macro name=\\"access\\"><choose><if variable=\\"URL\\"><text value=\\"Available at:\\" suffix=\\" \\"/><text variable=\\"URL\\"/><group prefix=\\" [\\" suffix=\\"]\\"><text term=\\"accessed\\" text-case=\\"capitalize-first\\" suffix=\\" \\"/><date variable=\\"accessed\\"><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"day\\" suffix=\\", \\"/><date-part name=\\"year\\"/></date></group></if></choose></macro><macro name=\\"title\\"><choose><if type=\\"bill book graphic legal_case legislation motion_picture report song thesis\\" match=\\"any\\"><text variable=\\"title\\" font-style=\\"italic\\"/></if><else><text variable=\\"title\\"/></else></choose></macro><macro name=\\"publisher\\"><group delimiter=\\": \\"><text variable=\\"publisher-place\\"/><text variable=\\"publisher\\"/></group></macro><macro name=\\"year-date\\"><choose><if variable=\\"issued\\"><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></if><else><text term=\\"no date\\" form=\\"short\\"/></else></choose></macro><macro name=\\"edition\\"><choose><if is-numeric=\\"edition\\"><group delimiter=\\" \\"><number variable=\\"edition\\" form=\\"ordinal\\"/><text term=\\"edition\\" form=\\"short\\"/></group></if><else><text variable=\\"edition\\" suffix=\\".\\"/></else></choose></macro><macro name=\\"pages\\"><group><label variable=\\"page\\" form=\\"short\\" suffix=\\" \\"/><text variable=\\"page\\"/></group></macro><citation et-al-min=\\"3\\" et-al-use-first=\\"1\\" disambiguate-add-year-suffix=\\"true\\" disambiguate-add-names=\\"true\\" disambiguate-add-givenname=\\"true\\"><layout prefix=\\"(\\" suffix=\\")\\" delimiter=\\"; \\"><group delimiter=\\", \\"><group delimiter=\\" \\"><text macro=\\"author-short\\"/><text macro=\\"year-date\\"/></group><group><label variable=\\"locator\\" form=\\"short\\"/><text variable=\\"locator\\"/></group></group></layout></citation><bibliography hanging-indent=\\"true\\" et-al-min=\\"4\\" et-al-use-first=\\"1\\"><sort><key macro=\\"author\\"/><key variable=\\"title\\"/></sort><layout><text macro=\\"author\\" suffix=\\",\\"/><date variable=\\"issued\\" prefix=\\" \\" suffix=\\".\\"><date-part name=\\"year\\"/></date><choose><if type=\\"bill book graphic legal_case legislation motion_picture report song\\" match=\\"any\\"><group prefix=\\" \\" delimiter=\\" \\" suffix=\\",\\"><text macro=\\"title\\"/><text macro=\\"edition\\"/><text macro=\\"editor\\"/></group><text prefix=\\" \\" suffix=\\".\\" macro=\\"publisher\\"/></if><else-if type=\\"chapter paper-conference\\" match=\\"any\\"><text macro=\\"title\\" prefix=\\" \\" suffix=\\".\\"/><group prefix=\\" \\" delimiter=\\" \\"><text term=\\"in\\" text-case=\\"capitalize-first\\"/>\\n<text macro=\\"editor\\"/><text variable=\\"container-title\\" font-style=\\"italic\\" suffix=\\".\\"/><text variable=\\"collection-title\\" suffix=\\".\\"/><text variable=\\"event\\" suffix=\\".\\"/><group suffix=\\".\\" delimiter=\\", \\"><text macro=\\"publisher\\" prefix=\\" \\"/><text macro=\\"pages\\"/></group></group></else-if><else-if type=\\"thesis\\"><group prefix=\\" \\" suffix=\\".\\" delimiter=\\". \\"><text macro=\\"title\\"/><text variable=\\"genre\\"/><text macro=\\"publisher\\"/></group></else-if><else><group suffix=\\".\\"><text macro=\\"title\\" prefix=\\" \\"/><text macro=\\"editor\\" prefix=\\" \\"/></group><group prefix=\\" \\" suffix=\\".\\"><text variable=\\"container-title\\" font-style=\\"italic\\"/><group prefix=\\", \\"><text variable=\\"volume\\"/><text variable=\\"issue\\" prefix=\\"(\\" suffix=\\")\\"/></group><group prefix=\\", \\"><label variable=\\"page\\" form=\\"short\\"/><text variable=\\"page\\"/></group></group></else></choose><text prefix=\\" \\" macro=\\"access\\" suffix=\\".\\"/></layout></bibliography></style>"}'),s=new r.util.Register(a);var l=n(3024),c=n.n(l);const u=Symbol.for("proxied"),d=function(e){const t=function(t,n){if(t.sys.wrapBibliographyEntry){const[e,r]=t.sys.wrapBibliographyEntry(this.system_id);n=[e,n,r].join("")}return e.call(this,t,n)};return t[u]=!0,t};for(const g in c().Output.Formats){const e=c().Output.Formats[g]["@bibliography/entry"];e&&!e[u]&&(c().Output.Formats[g]["@bibliography/entry"]=d(e))}function p(e){const t=e.replace("-","_");return o.has(e)?o.get(e):o.has(t)?o.get(t):void 0}const h={},f=function(e,t,n,r){if(!c().Output.Formats[r]||!c().Output.Formats[r]["@bibliography/entry"])throw new TypeError("Cannot find format '".concat(r,"'"));const i=e.reduce(((e,t)=>(e[t.id]=t,e)),{}),a=s.get(s.has(t)?t:"apa"),l=function(e,t,n,r,i){const o="".concat(e,"|").concat(t);let a;return h[o]instanceof c().Engine?(a=h[o],a.sys.retrieveItem=r,a.updateItems([])):a=h[o]=new(c().Engine)({retrieveLocale:i,retrieveItem:r},n,t,!0),a}(t,n=o.has(n)?n:"en-US",a,(function(e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e];throw new Error("Cannot find entry with id '".concat(e,"'"))}),p);return l.setOutputFormat(r),l},m=(e,t)=>"function"===typeof t?t(e):t||"";r.plugins.add("@csl",{output:{bibliography:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{template:n="apa",lang:r="en-US",format:i="text",nosort:o=!1}=t,a=t.entry?[].concat(t.entry):e.map((e=>{let{id:t}=e;return t})),s=f(e,n,r,i),l=s.updateItems(a,o);if(t.append||t.prepend){const n=e.reduce(((e,t)=>(e[t.id]=t,e)),{});s.sys.wrapBibliographyEntry=function(e){const r=n[e];return[m(r,t.prepend),m(r,t.append)]}}else s.sys.wrapBibliographyEntry=()=>["",""];const c=s.makeBibliography(),[{bibstart:u,bibend:d},p]=c,h=p.map(((e,t)=>{return n=e,r=l[t],((e,t,n)=>e.replace(/^\s*<[a-z]+/i,"$& data-".concat(t,'="').concat(n,'"')))(n,"csl-entry-id",r);var n,r}));return t.asEntryArray?h.map(((e,t)=>[l[t],e])):u+h.join("")+d},citation:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{template:n="apa",lang:r="en-US",format:i="text"}=t,o=e.map((e=>{let{id:t}=e;return t})),a=t.entry?[].concat(t.entry):o,s=f(e,n,r,i);s.updateItems(o);const{citationsPre:l=[],citationsPost:c=[]}=t;return s.previewCitationCluster({citationItems:a.map((e=>"object"===typeof e?e:{id:e})),properties:{noteIndex:0}},l,c,i)}},config:{engine:f,locales:o,templates:s}})},376:(e,t,n)=>{"use strict";t.ig=void 0;var r,i=(r=n(3024))&&r.__esModule?r:{default:r},o=n(9400),a=n(3548);const s=Symbol.for("proxied"),l=function(e){const t=function(t,n){if(t.sys.wrapBibliographyEntry){const[e,r]=t.sys.wrapBibliographyEntry(this.system_id);n=[e,n,r].join("")}return e.call(this,t,n)};return t[s]=!0,t};for(const p in i.default.Output.Formats){const e=i.default.Output.Formats[p]["@bibliography/entry"];e&&!e[s]&&(i.default.Output.Formats[p]["@bibliography/entry"]=l(e))}function c(e){const t=e.replace("-","_");return a.locales.has(e)?a.locales.get(e):a.locales.has(t)?a.locales.get(t):void 0}const u={},d=function(e,t,n,r,o){const a="".concat(e,"|").concat(t);let s;return u[a]instanceof i.default.Engine?(s=u[a],s.sys.retrieveItem=r,s.updateItems([])):s=u[a]=new i.default.Engine({retrieveLocale:o,retrieveItem:r},n,t,!0),s};t.ig=d},3548:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.locales=t.default=void 0;var r,i=n(8660),o=(r=n(9240))&&r.__esModule?r:{default:r};const a=new i.util.Register(o.default);t.locales=a;var s=e=>a.has(e)?a.get(e):a.get("en-US");t.default=s},9400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.templates=t.default=void 0;var r,i=n(8660),o=(r=n(5832))&&r.__esModule?r:{default:r};const a=new i.util.Register(o.default);t.templates=a;var s=e=>a.has(e)?a.get(e):a.get("apa");t.default=s},3092:(e,t,n)=>{"use strict";n.r(t),n.d(t,{formats:()=>y,parsers:()=>b,ref:()=>v});var r={};n.r(r),n.d(r,{default:()=>l,parse:()=>l});var i={};n.r(i),n.d(i,{default:()=>u,parse:()=>u});var o={};n.r(o),n.d(o,{default:()=>d,parse:()=>d});var a={};n.r(a),n.d(a,{parse:()=>g,parseAsync:()=>f});var s=n(8660);function l(e){return(Array.isArray(e)?e:e.trim().split(/(?:\s+)/g)).map((e=>"https://doi.org/".concat(e)))}const c={"journal-article":"article-journal","book-chapter":"chapter","posted-content":"manuscript","proceedings-article":"paper-conference"};function u(e,t){return"posted-content"===e&&"preprint"===t.subtype?"article":c[e]||e}function d(e){const t={type:u(e.type,e)};return["submitted","issued","event-date","original-date","container","accessed"].forEach((t=>{const n=e[t];n&&n["date-parts"]&&"number"===typeof n["date-parts"][0]&&(n["date-parts"]=[n["date-parts"]])})),Object.assign({},e,t)}const p={checkContentType:!0,headers:{Accept:"application/vnd.citationstyles.csl+json"}};async function h(e){const t=await s.util.fetchFileAsync(e,p);return"[]"===t?{}:JSON.parse(t)}async function f(e){return(await Promise.all([].concat(e).map(h))).map(d)}function m(e){const t=s.util.fetchFile(e,p);return"[]"===t?{}:JSON.parse(t)}function g(e){return[].concat(e).map(m).map(d)}const v="@doi",b={id:r,api:a,json:o,type:i},y={"@doi/api":{parse:g,parseAsync:f,parseType:{dataType:"String",predicate:/^\s*(https?:\/\/(?:dx\.)?doi\.org\/(10.\d{4,9}\/[-._;()/:A-Z0-9]+))\s*$/i,extends:"@else/url"}},"@doi/id":{parse:l,parseType:{dataType:"String",predicate:/^\s*(10.\d{4,9}\/[-._;()/:A-Z0-9]+)\s*$/i}},"@doi/list+text":{parse:l,parseType:{dataType:"String",tokenList:/^10.\d{4,9}\/[-._;()/:A-Z0-9]+$/i}},"@doi/list+object":{parse:l,parseType:{dataType:"Array",elementConstraint:"@doi/id"}},"@doi/type":{parse:u}};s.plugins.add(v,{input:y})},8616:(e,t,n)=>{"use strict";n.r(t);var r=n(8660);const i=JSON.parse('{"outputSpec":"mixed"}'),o=JSON.parse('{"u":{"ABST":"article-journal","ADVS":"motion_picture","AGGR":"dataset","ANCIENT":"manuscript","ART":"graphic","BILL":"bill","BLOG":"post-weblog","BOOK":"book","CASE":"legal_case","CHAP":"chapter","CHART":"figure","CLSWK":"manuscript","COMP":"book","CONF":"paper-conference","CPAPER":"paper-conference","CTLG":"entry","DATA":"dataset","DBASE":"dataset","DICT":"entry-dictionary","EBOOK":"book","ECHAP":"chapter","EDBOOK":"book","EJOUR":"article-journal","ELEC":"webpage","ENCYC":"entry-encyclopedia","EQUA":"article","FIGURE":"figure","GEN":"book","GOVDOC":"report","GRANT":"article","HEAR":"interview","ICOMM":"personal_communication","INPR":"article-journal","JFULL":"article-journal","JOUR":"article-journal","LEGAL":"legislation","MANSCPT":"manuscript","MAP":"map","MGZN":"article-magazine","MPCT":"broadcast","MULTI":"motion_picture","MUSIC":"musical_score","NEWS":"article-newspaper","PAMP":"pamphlet","PAT":"patent","PCOMM":"personal_communication","RPRT":"report","SER":"book","SLIDE":"motion_picture","SOUND":"motion_picture","STAND":"report","STAT":"legislation","THES":"thesis","UNBILL":"manuscript","UNPB":"manuscript","VIDEO":"motion_picture","WEB":"webpage"},"a":{"article-journal":"JOUR","article-magazine":"MGZN","article-newspaper":"NEWS","article":"JOUR","bill":"BILL","book":"BOOK","broadcast":"MPCT","chapter":"CHAP","dataset":"DATA","entry":"CTLG","entry-dictionary":"DICT","entry-encyclopedia":"ENCYC","figure":"FIGURE","graphic":"ART","interview":"GEN","legal_case":"CASE","legislation":"LEGAL","manuscript":"MANSCPT","map":"MAP","motion_picture":"MPCT","musical_score":"MUSIC","pamphlet":"PAMP","paper-conference":"CONF","patent":"PAT","personal_communication":"PCOMM","post-weblog":"BLOG","post":"ICOMM","report":"RPRT","review-book":"BOOK","review":"JOUR","song":"SOUND","speech":"SOUND","thesis":"THES","treaty":"GEN","webpage":"ELEC"}}'),a=JSON.parse('[{"source":"A2","target":"editor","when":{"source":{"TY":["ANCIENT","BLOG","CHAP","CONF","CPAPER","DICT","EBOOK","ECHAP","ENCYC","MUSIC","SER"]},"target":{"type":["chapter","entry-dictionary","entry-encyclopedia","musical_score","paper-conference","post-weblog"]}}},{"source":"A2","target":"collection-editor","when":{"source":{"TY":["BOOK","CLSWK","COMP","EDBOOK","ELEC","MAP","MULTI","RPRT","UNPB"]},"target":{"type":["book","map","report","review-book","webpage"]}}},{"source":"A2","target":"reporter","when":{"source":{"TY":["CASE"]},"target":{"type":["legal_case"]}}},{"source":"A2","target":"recipient","when":{"source":{"TY":["ICOMM","PCOMM"]},"target":{"type":["personal_communication","post"]}}},{"source":"A3","target":"collection-editor","when":{"source":{"TY":["ADVS","CHAP","CONF","EBOOK","MUSIC","SER","SLIDE","SOUND","VIDEO"]},"target":{"type":["chapter","musical_score","paper-conference","song","speech"]}}},{"source":"A3","target":"illustrator","when":{"source":{"TY":["BLOG"]},"target":{"type":["post-weblog"]}}},{"source":"A3","target":"editor","when":{"source":{"TY":["BOOK"]},"target":{"type":["book","review-book"]}}},{"source":["A3","PB"],"target":"publisher","when":{"source":{"TY":["RPRT"]},"target":{"type":["report"]}}},{"source":"A4","target":"translator","when":{"source":{"TY":["ANCIENT","BOOK","CHAP","CLSWK","CTLG","DICT","EDBOOK","ENCYC","GRANT","PAMP"]},"target":{"type":["book","chapter","entry","entry-dictionary","entry-encyclopedia","pamphlet","review-book"]}}},{"source":"AB","target":"abstract","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":"AU","target":"author","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BLOG","BOOK","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MULTI","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNPB","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","book","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","manuscript","map","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":"AU","target":"editor","when":{"source":{"TY":["EDBOOK"]},"target":false}},{"source":"AU","target":"director","when":{"source":{"TY":["MPCT"]},"target":{"type":["broadcast","motion_picture"]}}},{"source":"AU","target":"composer","when":{"source":{"TY":["MUSIC"]},"target":{"type":["musical_score"]}}},{"source":"AU","target":"reporter","when":{"source":{"TY":["NEWS"]},"target":{"type":["article-newspaper"]}}},{"source":"C1","target":"section","when":{"source":{"TY":["CHAP","ECHAP","SER"]},"target":{"type":["chapter"]}}},{"source":"C1","target":"publisher-place","when":{"source":{"TY":["CONF","CPAPER"]},"target":{"type":["paper-conference"]}}},{"source":"C1","target":"scale","when":{"source":{"TY":["MAP"]},"target":{"type":["map"]}}},{"source":"C2","target":"PMCID","when":{"source":{"TY":["ABST","INPR","JFULL","JOUR"]},"target":{"type":["article","article-journal","review"]}}},{"source":"C2","target":"issue","when":{"source":{"TY":["NEWS"]},"target":{"type":["article-newspaper"]}}},{"source":"C2","target":"number","when":{"source":{"TY":["SER"]},"target":false}},{"source":["C2","DA"],"target":"issued","when":{"source":{"TY":["CONF"]},"target":{"type":["paper-conference"]}}},{"source":["C2","DA","PY"],"target":"issued","when":{"source":{"TY":["PAT"]},"target":{"type":["patent"]}}},{"source":"C3","target":"dimensions","when":{"source":{"TY":["ADVS","MAP","SLIDE","SOUND","VIDEO"]},"target":{"type":["map","song","speech"]}}},{"source":"C3","target":"container-title","when":{"source":{"TY":["CONF"]},"target":{"type":["paper-conference"]}}},{"source":"C3","target":"PMCID","when":{"source":{"TY":["EJOUR"]},"target":false}},{"source":"C3","target":"jurisdiction","when":{"source":{"TY":["PAT"]},"target":{"type":["patent"]}}},{"source":["C3","M1"],"target":"dimensions","when":{"source":{"TY":["ART"]},"target":{"type":["graphic"]}}},{"source":"C5","target":"number","when":{"source":{"TY":["GRANT"]},"target":false}},{"source":"C5","target":"dimensions","when":{"source":{"TY":["MULTI"]},"target":false}},{"source":"C5","target":"references","when":{"source":{"TY":["PAT"]},"target":{"type":["patent"]}}},{"source":["C5","PB"],"target":"publisher","when":{"source":{"TY":["STAT"]},"target":false}},{"source":["C5","PY"],"target":"issued","when":{"source":{"TY":["EBOOK"]},"target":false}},{"source":"C6","target":"status","when":{"source":{"TY":["PAT"]},"target":{"type":["patent"]}}},{"source":"C6","target":"issue","when":{"source":{"TY":["RPRT"]},"target":{"type":["report"]}}},{"source":"C6","target":"volume","when":{"source":{"TY":["STAT"]},"target":false}},{"source":"C7","target":"number","when":{"source":{"TY":["ABST","INPR","JFULL","JOUR"]},"target":{"type":["article","article-journal","review"]}}},{"source":"C7","target":"PMCID","when":{"source":{"TY":["EBOOK","ECHAP"]},"target":false}},{"source":["C7","NV"],"target":"number","when":{"source":{"TY":["EJOUR"]},"target":false}},{"source":"CN","target":"call-number","when":{"source":{"TY":["ABST","ADVS","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CTLG","DATA","DICT","EBOOK","ECHAP","EDBOOK","ELEC","ENCYC","EQUA","FIGURE","GEN","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":"CY","target":"publisher-place","when":{"source":{"TY":["ADVS","AGGR","ANCIENT","ART","BLOG","BOOK","CHAP","CHART","CLSWK","COMP","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","HEAR","ICOMM","LEGAL","MANSCPT","MAP","MGZN","MUSIC","NEWS","PAMP","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNPB","VIDEO"]},"target":{"type":["article-magazine","article-newspaper","book","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","manuscript","map","musical_score","pamphlet","personal_communication","post","post-weblog","report","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":"CY","target":"event-place","when":{"source":{"TY":["CONF","CPAPER"]},"target":{"type":["paper-conference"]}}},{"source":"DA","target":"accessed","when":{"source":{"TY":["AGGR","DBASE","EBOOK","EJOUR","MULTI"]},"target":false}},{"source":["DA","PY"],"target":"issued","when":{"source":{"TY":["ABST","ADVS","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHART","CPAPER","CTLG","DATA","EDBOOK","ELEC","ENCYC","EQUA","FIGURE","GEN","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MUSIC","PAMP","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNBILL","UNPB","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","bill","book","broadcast","dataset","entry","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":["DA","PY","Y2"],"target":"issued","when":{"source":{"TY":["STAT"]},"target":false}},{"source":["DA","Y2"],"target":"accessed","when":{"source":{"TY":["ECHAP"]},"target":false}},{"source":"DB","target":"source","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":"DO","target":"DOI","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":"ET","target":"edition","when":{"source":{"TY":["ADVS","ANCIENT","ART","BLOG","BOOK","CHAP","CLSWK","CONF","CTLG","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","GEN","GOVDOC","LEGAL","MAP","MGZN","MPCT","MUSIC","NEWS","PAMP","RPRT","SER","SLIDE","SOUND","VIDEO"]},"target":{"type":["article-magazine","article-newspaper","book","broadcast","chapter","entry","entry-dictionary","entry-encyclopedia","graphic","interview","legislation","map","motion_picture","musical_score","pamphlet","paper-conference","post-weblog","report","review-book","song","speech","treaty","webpage"]}}},{"source":"ET","target":"version","when":{"source":{"TY":["CHART","COMP","DATA","EQUA","FIGURE"]},"target":{"type":["dataset","figure"]}}},{"source":"ET","target":"medium","when":{"source":{"TY":["MANSCPT"]},"target":{"type":["manuscript"]}}},{"source":["ET","PY"],"target":"issued","when":{"source":{"TY":["AGGR","DBASE"]},"target":false}},{"source":"ID","target":"id"},{"source":"IS","target":"number-of-volumes","when":{"source":{"TY":["CHAP"]},"target":{"type":["chapter"]}}},{"source":"IS","target":"issue","when":{"source":{"TY":["ABST","INPR","JFULL","JOUR"]},"target":{"type":["article","article-journal","review"]}}},{"source":"J2","target":"container-title-short","when":{"source":{"TY":["ABST","ANCIENT","BOOK","CHAP","CTLG","DATA","DICT","ENCYC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MGZN","PAMP","PCOMM","SER","STAND","STAT","UNPB"]},"target":{"type":["article","article-journal","article-magazine","book","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","legislation","manuscript","pamphlet","personal_communication","post","review","review-book"]}}},{"source":"KW","target":"keyword","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":["L4","UR"],"target":"URL","when":{"source":{"TY":["HEAR"]},"target":false}},{"source":"LA","target":"language","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":"LB","target":"citation-label","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":"M1","target":"number","when":{"source":{"TY":["ADVS","AGGR","ANCIENT","BILL","CHART","DICT","EQUA","FIGURE","GEN","HEAR","SLIDE","SOUND","THES","UNBILL","UNPB","VIDEO"]},"target":{"type":["bill","entry-dictionary","figure","interview","song","speech","thesis","treaty"]}}},{"source":"M1","target":"collection-number","when":{"source":{"TY":["BOOK","CLSWK","CTLG","EDBOOK","PAMP","SER"]},"target":{"type":["book","entry","pamphlet","review-book"]}}},{"source":"M1","target":"issue","when":{"source":{"TY":["CONF","EJOUR","GOVDOC","MGZN"]},"target":{"type":["article-magazine","paper-conference"]}}},{"source":"M1","target":"chapter-number","when":{"source":{"TY":["ECHAP"]},"target":false}},{"source":"M1","target":"status","when":{"source":{"TY":["GRANT"]},"target":false}},{"source":"M1","target":"page-first","when":{"source":{"TY":["LEGAL","NEWS","STAND"]},"target":{"type":["article-newspaper","legislation"]}}},{"source":["M1","NV"],"target":"number","when":{"source":{"TY":["ICOMM","MANSCPT","PCOMM","STAT"]},"target":{"type":["manuscript","personal_communication","post"]}}},{"source":["M1","SE","SN"],"target":"number","when":{"source":{"TY":["PAT"]},"target":{"type":["patent"]}}},{"source":["M1","SN"],"target":"number","when":{"source":{"TY":["RPRT"]},"target":{"type":["report"]}}},{"source":["M1","VL"],"target":"accessed","when":{"source":{"TY":["ELEC"]},"target":{"type":["webpage"]}}},{"source":"M2","target":"page-first","when":{"source":{"TY":["ABST","INPR","JFULL","JOUR"]},"target":{"type":["article","article-journal","review"]}}},{"source":"M2","target":"number-of-pages","when":{"source":{"TY":["PAMP"]},"target":{"type":["pamphlet"]}}},{"source":"M3","target":"genre","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BOOK","CHART","CLSWK","COMP","CPAPER","CTLG","DBASE","DICT","ECHAP","EDBOOK","EJOUR","EQUA","FIGURE","GEN","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MULTI","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNPB","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","book","entry","entry-dictionary","figure","graphic","interview","legislation","manuscript","map","pamphlet","patent","personal_communication","post","report","review","review-book","song","speech","thesis","treaty"]}}},{"source":"M3","target":"medium","when":{"source":{"TY":["BLOG","EBOOK","ELEC","MPCT","MUSIC"]},"target":{"type":["broadcast","motion_picture","musical_score","post-weblog","webpage"]}}},{"source":["N1","RN"],"target":"note","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PCOMM","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","personal_communication","post","post-weblog","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":["N1","RN","RP"],"target":"note","when":{"source":{"TY":["PAT","RPRT"]},"target":{"type":["patent","report"]}}},{"source":"NV","target":"number-of-volumes","when":{"source":{"TY":["ANCIENT","BOOK","CLSWK","CONF","DICT","ECHAP","EDBOOK","ENCYC","GEN","HEAR","MUSIC","SER"]},"target":{"type":["book","entry-dictionary","entry-encyclopedia","interview","musical_score","paper-conference","review-book","treaty"]}}},{"source":"NV","target":"number","when":{"source":{"TY":["CTLG","DATA"]},"target":{"type":["dataset","entry"]}}},{"source":"NV","target":"version","when":{"source":{"TY":["EBOOK"]},"target":false}},{"source":"NV","target":"dimensions","when":{"source":{"TY":["GRANT"]},"target":false}},{"source":"NV","target":"collection-number","when":{"source":{"TY":["RPRT"]},"target":{"type":["report"]}}},{"source":"OP","target":"original-title","when":{"source":{"TY":["ABST","AGGR","ANCIENT","BOOK","CHAP","CLSWK","CTLG","DICT","EBOOK","ECHAP","EDBOOK","ENCYC","GEN","INPR","JFULL","JOUR","MGZN","MUSIC","PAMP","SER"]},"target":{"type":["article","article-journal","article-magazine","book","chapter","entry","entry-dictionary","entry-encyclopedia","interview","musical_score","pamphlet","review","review-book","treaty"]}}},{"source":"OP","target":"references","when":{"source":{"TY":["BILL","CASE","HEAR","LEGAL","STAT","UNBILL"]},"target":{"type":["bill","legal_case","legislation"]}}},{"source":"PB","target":"publisher","when":{"source":{"TY":["ADVS","AGGR","ANCIENT","ART","BLOG","BOOK","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","LEGAL","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PCOMM","SER","SLIDE","SOUND","STAND","THES","UNPB","VIDEO"]},"target":{"type":["article-magazine","article-newspaper","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legislation","map","motion_picture","musical_score","pamphlet","paper-conference","personal_communication","post","post-weblog","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":"PB","target":"authority","when":{"source":{"TY":["CASE"]},"target":{"type":["legal_case"]}}},{"source":"PB","target":"archive","when":{"source":{"TY":["MANSCPT"]},"target":{"type":["manuscript"]}}},{"source":"PY","target":"issued","when":{"source":{"TY":["CHAP","CLSWK","COMP","DICT","ECHAP","GOVDOC","MULTI","NEWS"]},"target":{"type":["article-newspaper","chapter","entry-dictionary"]}}},{"source":"PY","target":"event-date","when":{"source":{"TY":["CONF"]},"target":{"type":["paper-conference"]}}},{"source":["PY","SE"],"target":"issued","when":{"source":{"TY":["EJOUR"]},"target":false}},{"source":"RI","target":"reviewed-title","when":{"source":{"TY":["ABST","ANCIENT","CHAP","DICT","EBOOK","ECHAP","EJOUR","ENCYC","GEN","GRANT","INPR","JFULL","JOUR","MGZN","NEWS","SER"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","chapter","entry-dictionary","entry-encyclopedia","interview","review","treaty"]}}},{"source":"RI","target":"locator","when":{"source":{"TY":["STAT"]},"target":false}},{"source":"SE","target":"section","when":{"source":{"TY":["BILL","GEN","GOVDOC","MUSIC","NEWS","STAT","UNBILL"]},"target":{"type":["article-newspaper","bill","interview","musical_score","treaty"]}}},{"source":"SE","target":"number","when":{"source":{"TY":["BLOG"]},"target":{"type":["post-weblog"]}}},{"source":"SE","target":"chapter-number","when":{"source":{"TY":["CHAP","SER"]},"target":{"type":["chapter"]}}},{"source":"SE","target":"page","when":{"source":{"TY":["BOOK"]},"target":{"type":["book","review-book"]}}},{"source":"SE","target":"submitted","when":{"source":{"TY":["CASE"]},"target":{"type":["legal_case"]}}},{"source":"SE","target":"number-of-pages","when":{"source":{"TY":["CTLG"]},"target":{"type":["entry"]}}},{"source":"SE","target":"original-date","when":{"source":{"TY":["DATA"]},"target":{"type":["dataset"]}}},{"source":"SE","target":"version","when":{"source":{"TY":["DICT"]},"target":{"type":["entry-dictionary"]}}},{"source":"SE","target":"locator","when":{"source":{"TY":["STAND"]},"target":false}},{"source":"SE","target":"page-first","when":{"source":{"TY":["MANSCPT","MGZN"]},"target":{"type":["article-magazine","manuscript"]}}},{"source":["SE","T2"],"target":"locator","when":{"source":{"TY":["LEGAL"]},"target":{"type":["legislation"]}}},{"source":"SN","target":["ISBN","ISSN"],"when":{"source":{"TY":["AGGR","CLSWK","GEN"]},"target":{"type":["interview","treaty"]}}},{"source":"SN","target":"ISBN","when":{"source":{"TY":["ADVS","ANCIENT","BLOG","BOOK","CHAP","COMP","CONF","CTLG","DICT","EBOOK","ECHAP","EDBOOK","ELEC","ENCYC","HEAR","MAP","PAMP","SER","SLIDE","SOUND","VIDEO"]},"target":{"type":["book","chapter","entry","entry-dictionary","entry-encyclopedia","map","pamphlet","paper-conference","post-weblog","review-book","song","speech","webpage"]}}},{"source":"SN","target":"ISSN","when":{"source":{"TY":["ABST","DATA","EJOUR","INPR","JFULL","JOUR","MGZN","MUSIC","NEWS"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","dataset","musical_score","review"]}}},{"source":"SN","target":"number","when":{"source":{"TY":["DBASE","GOVDOC"]},"target":false}},{"source":["SN","T3"],"target":"number","when":{"source":{"TY":["LEGAL","STAND"]},"target":{"type":["legislation"]}}},{"source":"SP","target":"page","when":{"source":{"TY":["ABST","AGGR","ANCIENT","BILL","CHAP","CONF","CPAPER","CTLG","DBASE","DICT","ECHAP","EJOUR","ENCYC","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MGZN","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","STAND","STAT","UNBILL","UNPB"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","bill","chapter","entry","entry-dictionary","entry-encyclopedia","interview","legislation","manuscript","musical_score","pamphlet","paper-conference","patent","personal_communication","post","report","review","treaty"]}}},{"source":"SP","target":"number-of-pages","when":{"source":{"TY":["BOOK","CLSWK","EBOOK","EDBOOK","THES"]},"target":{"type":["book","review-book","thesis"]}}},{"source":"SP","target":"page-first","when":{"source":{"TY":["CASE"]},"target":{"type":["legal_case"]}}},{"source":"SP","target":"dimensions","when":{"source":{"TY":["MPCT"]},"target":{"type":["broadcast","motion_picture"]}}},{"source":"ST","target":"title-short","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CLSWK","COMP","CONF","CTLG","DATA","DICT","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","GEN","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","MANSCPT","MAP","MGZN","MPCT","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAT","THES","UNBILL","UNPB","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","graphic","interview","legal_case","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":"SV","target":"collection-number","when":{"source":{"TY":["CHAP"]},"target":{"type":["chapter"]}}},{"source":"T2","target":"collection-title","when":{"source":{"TY":["AGGR","BOOK","CLSWK","COMP","CTLG","DBASE","ELEC","MANSCPT","MAP","MPCT","MULTI","RPRT","UNPB"]},"target":{"type":["book","broadcast","entry","manuscript","map","motion_picture","report","review-book","webpage"]}}},{"source":"T2","target":"container-title","when":{"source":{"TY":["ABST","ANCIENT","BILL","BLOG","CHAP","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ENCYC","GEN","INPR","JFULL","JOUR","MGZN","MUSIC","NEWS","PAMP","PAT","SER","STAT","THES","UNBILL"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","bill","chapter","entry-dictionary","entry-encyclopedia","interview","musical_score","pamphlet","patent","post-weblog","review","thesis","treaty"]}}},{"source":"T2","target":"event","when":{"source":{"TY":["CONF","CPAPER"]},"target":{"type":["paper-conference"]}}},{"source":"T2","target":"committee","when":{"source":{"TY":["HEAR"]},"target":false}},{"source":"T2","target":"section","when":{"source":{"TY":["STAND"]},"target":false}},{"source":"T3","target":"collection-title","when":{"source":{"TY":["ADVS","ANCIENT","CHAP","CONF","DATA","EBOOK","ECHAP","EJOUR","GEN","GOVDOC","MUSIC","SER","SLIDE","SOUND","VIDEO"]},"target":{"type":["chapter","dataset","interview","musical_score","paper-conference","song","speech","treaty"]}}},{"source":"TI","target":"title","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":"TY","target":"type"},{"source":"UR","target":"URL","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":"VL","target":"volume","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","BILL","BOOK","CASE","CHAP","CLSWK","CONF","CPAPER","CTLG","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ENCYC","GEN","GOVDOC","INPR","JFULL","JOUR","LEGAL","MANSCPT","MGZN","MUSIC","NEWS","RPRT","SER","SLIDE","SOUND","STAND","UNBILL","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","bill","book","chapter","entry","entry-dictionary","entry-encyclopedia","interview","legal_case","legislation","manuscript","musical_score","paper-conference","report","review","review-book","song","speech","treaty"]}}},{"source":"VL","target":"dimensions","when":{"source":{"TY":["CHART","EQUA","FIGURE"]},"target":{"type":["figure"]}}},{"source":"VL","target":"edition","when":{"source":{"TY":["COMP"]},"target":false}},{"source":"VL","target":"number","when":{"source":{"TY":["PAMP"]},"target":{"type":["pamphlet"]}}},{"source":"VL","target":"version","when":{"source":{"TY":["PAT"]},"target":{"type":["patent"]}}},{"source":["VL","Y2"],"target":"accessed","when":{"source":{"TY":["BLOG"]},"target":{"type":["post-weblog"]}}},{"source":"Y2","target":"accessed","when":{"source":{"TY":["ABST","ADVS","ANCIENT","ART","BILL","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DICT","EDBOOK","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNBILL","UNPB","VIDEO"]},"target":{"type":["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","report","review","review-book","song","speech","thesis","treaty"]}}},{"source":"C4","target":"author","when":{"source":{"TY":["BOOK","CHAP","EBOOK","ECHAP","EJOUR"]},"target":{"reviewed-author":true,"type":["book","chapter","review-book","review"]}}},{"source":"AU","target":"reviewed-author","when":{"source":{"C4":true,"TY":["BOOK","CHAP","EBOOK","ECHAP","EJOUR"]},"target":{"type":["book","chapter","review-book","review"]}}},{"source":"TA","target":"author","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},"target":{"original-author":true,"translator":true,"type":["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":"AU","target":"original-author","when":{"source":{"TA":true,"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},"target":{"translator":true,"type":["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":"TT","target":"title","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},"target":{"original-author":true,"translator":true,"type":["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{"source":"TI","target":"original-title","when":{"source":{"TT":true,"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"]},"target":{"translator":true,"type":["article","article-journal","article-magazine","article-newspaper","bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}}]');var s=n(9136);const l=/^\d{4}-\d{4}$/,c=/10(?:\.[0-9]{4,})?\/[^\s]*[^\s.,]/,u={ANY:{toTarget(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.find(Boolean)},toSource:e=>[e]},PAGE:{keepAll:!0,toTarget:(e,t)=>[e,t].filter(Boolean).join("-"),toSource:e=>e.replace(/[-\u2013\u2014]/g,"-")},ISBN:{toTarget:e=>l.test(e)?[e]:[void 0,e],toSource(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.find(Boolean)}},DATE:{toTarget:e=>e&&(0,s.K0)(e.split("/").slice(0,3).filter(Boolean).join("/")),toSource(e){const t=Array(4).fill("");return e["date-parts"][0].forEach(((e,n)=>{t[n]=e})),e.season&&(t[3]=e.season),t.join("/")}},NAME:{toTarget:e=>e&&[].concat(e).map((e=>{const t=e.split(/, ?/),[n,r,i]=t;switch(t.length){case 3:return{family:n,given:r,suffix:i};case 2:return{family:n,given:r};case 1:if(n.indexOf(" ")>-1)return{family:n};default:return{literal:e}}})),toSource:e=>e.map((e=>{let{family:t,given:n,suffix:r,literal:i}=e;const o=[t,n,r].filter(Boolean);return o.length?o.join(", "):i}))},KEYWORD:{toTarget:e=>(e=[].concat(e)).join(","),toSource:e=>e.split(",")},ID:{toSource:e=>e.slice(0,20)},TYPE:{toTarget:e=>o.u[e],toSource:e=>o.a[e]},DOI:{toTarget:e=>e.match(c)[0],toSource:e=>e.match(c)[0]}},d=[{source:"TY",target:"type"},{source:"ID",target:"id"},{source:["T1","TI","CT"],target:"title"},{source:"BT",target:"title",when:{source:{type:["BOOK","UNPB"],T1:!1,TI:!1,CT:!1},target:!1}},{source:"T2",target:"container-title",when:{target:{type:["bill","book","broadcast","chapter","dataset","entry","entry-dictionary","entry-encyclopedia","figure","graphic","interview","legal_case","legislation","manuscript","map","motion_picture","musical_score","pamphlet","paper-conference","patent","personal_communication","post","post-weblog","report","review","review-book","song","speech","thesis","treaty","webpage"]}}},{source:"BT",target:"container-title",when:{source:{type:["ABST","ADVS","ART","BILL","CASE","CHAP","COMP","CONF","CTLG","DATA","ELEC","GEN","HEAR","ICOMM","INPR","JFULL","JOUR","MAP","MGZN","MPCT","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAT","THES","UNBILL","VIDEO"],T2:!1},target:!1}},{source:"T3",target:"collection-title"},{source:["A1","AU"],target:"author"},{source:["A2","ED"],target:"editor"},{source:"A3",target:"collection-editor"},{source:["Y1","PY"],target:"issued"},{source:"Y2",target:"event-date",convert:u.DATE,when:{source:{type:["CONF","CPAPER"]},target:{type:["paper-conference"]}}},{source:"Y2",target:"submitted",convert:u.DATE,when:{source:{type:["PAT"]},target:{type:"patent"}}},{source:["AB","N1"],target:"note"},{source:"N2",target:"abstract"},{source:"KW",target:"keyword"},{source:["JF","JO"],target:"container-title",convert:u.ANY,when:{target:{type:["article","article-journal","article-magazine","article-newspaper"]}}},{source:["JA","J1","J2"],target:"container-title-short"},{source:"VL",target:"volume"},{source:["IS","CP"],target:"issue"},{source:"SP",target:"page-first"},{source:["SP","EP"],target:"page",convert:u.PAGE,when:{source:{SP:!0,EP:!0}}},{source:"CY",target:"publisher-place"},{source:"PB",target:"publisher"},{source:"SN",target:["ISSN","ISBN"]},{source:"AV",target:"archive_location"},{source:"UR",target:"URL"}],p=JSON.parse('[{"source":["T1","BT"],"target":"title","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"],"TI":false},"target":false}},{"source":"A1","target":"author","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BLOG","BOOK","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MULTI","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNPB","VIDEO"],"AU":false},"target":false}},{"source":"Y1","target":"issued","when":{"source":{"TY":["CONF"],"C2":false,"DA":false},"target":false}},{"source":"Y1","target":"issued","when":{"source":{"TY":["PAT"],"C2":false,"DA":false,"PY":false},"target":false}},{"source":"Y1","target":"issued","when":{"source":{"TY":["EBOOK"],"C5":false,"PY":false},"target":false}},{"source":"Y1","target":"issued","when":{"source":{"TY":["ABST","ADVS","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHART","CPAPER","CTLG","DATA","EDBOOK","ELEC","ENCYC","EQUA","FIGURE","GEN","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MUSIC","PAMP","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","THES","UNBILL","UNPB","VIDEO"],"DA":false,"PY":false},"target":false}},{"source":"Y1","target":"issued","when":{"source":{"TY":["STAT"],"DA":false,"PY":false,"Y2":false},"target":false}},{"source":"Y1","target":"issued","when":{"source":{"TY":["AGGR","DBASE"],"ET":false,"PY":false},"target":false}},{"source":"Y1","target":"issued","when":{"source":{"TY":["CHAP","CLSWK","COMP","DICT","ECHAP","GOVDOC","MULTI","NEWS"],"PY":false},"target":false}},{"source":"Y1","target":"issued","when":{"source":{"TY":["EJOUR"],"PY":false,"SE":false},"target":false}},{"source":["JO","JF","J1"],"target":"container-title","when":{"source":{"TY":["CONF"],"C3":false},"target":false}},{"source":["JO","JF","J1"],"target":"container-title","when":{"source":{"TY":["ABST","ANCIENT","BILL","BLOG","CHAP","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ENCYC","GEN","INPR","JFULL","JOUR","MGZN","MUSIC","NEWS","PAMP","PAT","SER","STAT","THES","UNBILL"],"T2":false},"target":false}},{"source":"JA","target":"container-title-short","when":{"source":{"TY":["ABST","ANCIENT","BOOK","CHAP","CTLG","DATA","DICT","ENCYC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MGZN","PAMP","PCOMM","SER","STAND","STAT","UNPB"],"J2":false},"target":false}},{"source":"N2","target":"abstract","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"],"AB":false},"target":false}},{"source":["SP","EP"],"target":"page","when":{"source":{"TY":["BOOK"],"SE":false},"target":false}},{"source":["SP","EP"],"target":"page","when":{"source":{"TY":["ABST","AGGR","ANCIENT","BILL","CHAP","CONF","CPAPER","CTLG","DBASE","DICT","ECHAP","EJOUR","ENCYC","GEN","GOVDOC","GRANT","HEAR","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MGZN","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","STAND","STAT","UNBILL","UNPB"],"EP":true},"target":false}},{"source":"AV","target":"archive_location","when":{"target":false}},{"source":"LK","target":"URL","when":{"source":{"TY":["HEAR"],"L4":false,"UR":false},"target":false}},{"source":"LK","target":"URL","when":{"source":{"TY":["ABST","ADVS","AGGR","ANCIENT","ART","BILL","BLOG","BOOK","CASE","CHAP","CHART","CLSWK","COMP","CONF","CPAPER","CTLG","DATA","DBASE","DICT","EBOOK","ECHAP","EDBOOK","EJOUR","ELEC","ENCYC","EQUA","FIGURE","GEN","GOVDOC","GRANT","ICOMM","INPR","JFULL","JOUR","LEGAL","MANSCPT","MAP","MGZN","MPCT","MULTI","MUSIC","NEWS","PAMP","PAT","PCOMM","RPRT","SER","SLIDE","SOUND","STAND","STAT","THES","UNBILL","UNPB","VIDEO"],"UR":false},"target":false}},{"source":"IS","target":"issue","when":{"source":{"TY":"MGZN","M1":false},"target":false}}]'),h=a.concat(p),f={new:a,old:d,mixed:h},m=JSON.parse('{"author":"NAME","collection-editor":"NAME","composer":"NAME","container-author":"NAME","director":"NAME","editor":"NAME","editorial-director":"NAME","interviewer":"NAME","illustrator":"NAME","original-author":"NAME","recipient":"NAME","reviewed-author":"NAME","translator":"NAME","accessed":"DATE","container":"DATE","event-date":"DATE","issued":"DATE","original-date":"DATE","submitted":"DATE","id":"ID","ISSN,ISBN":"ISBN","keyword":"KEYWORD","page":"PAGE","type":"TYPE","DOI":"DOI"}'),g=/^[A-Z][A-Z0-9] {2}-( |$)/,v=/ {2}-(?: |$)/,b=new Map;function y(e){if(!b.has(e)){for(const t of e)if(t.target in m&&(t.convert=u[m[t.target]]),(!t.convert||!0!==t.convert.keepAll)&&Array.isArray(t.source))if(t.convert){const{toSource:e,toTarget:n}=t.convert;t.convert={toTarget(){return n(u.ANY.toTarget(...arguments))},toSource(){return u.ANY.toSource(e(...arguments))}}}else t.convert=u.ANY;b.set(e,new r.util.Translator(e))}return b.get(e)}const _=["A1","AV","BT","CP","ED","EP","ID","J1","JA","JF","JO","L2","L3","N2","T1","U1","U2","U3","U4","U5","U6","Y1"],x=["A4","AD","AN","C1","C2","C3","C4","C5","C6","C7","C8","CA","CN","DA","DB","DO","DP","ET","LA","LB","NV","OP","PY","RI","RN","SE","ST","SV","TA","TT"];r.plugins.add("@ris",{input:{"@ris/file":{parse:function(e){const t=[];let n,r;for(let i of e.split(/\r?\n/)){if(i=i.trim(),!g.test(i)){n&&r&&(n[r]+=" "+i);continue}const[e,o]=i.split(v);switch(e){case"ER":n=void 0,r=void 0;break;case"TY":n={},t.push(n);default:Array.isArray(n[e])?n[e].push(o):n[e]=n[e]?[n[e],o]:o,r=e}}return t},parseType:{dataType:"String",predicate:/^TY {2}- /m}},"@ris/record":{parse:function(e){return y(f.mixed).convertToTarget(e)},parseType:{dataType:"SimpleObject",propertyConstraint:{props:["TY"]}}},"@ris/new+record":{parse:function(e){return y(f.new).convertToTarget(e)},parseType:{extends:"@ris/record",propertyConstraint:[{props:x,match:"some"},{props:_,match:"none"}]}},"@ris/old+record":{parse:function(e){return y(f.old).convertToTarget(e)},parseType:{extends:"@ris/record",propertyConstraint:[{props:_,match:"some"},{props:x,match:"none"}]}}},config:i,output:{ris:function(e){let{type:t,format:n=t||"text",spec:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=r||i.outputSpec,a=e.map(y(f[o]).convertToSource);return"object"===n?a:a.map((e=>{const t=[];for(const n in e)"TY"!==n&&t.push(...[].concat(e[n]).map((e=>"".concat(n,"  - ").concat(e.toString().replace(/(.{70})/g,"$1\n")))));return t.unshift("TY  - ".concat(e.TY)),t.push("ER  - "),t.join("\n")})).join("\n")}}})},9136:(e,t,n)=>{"use strict";Object.defineProperty(t,"K0",{enumerable:!0,get:function(){return r.default}});var r=o(n(5208)),i=o(n(7412));function o(e){return e&&e.__esModule?e:{default:e}}},5208:(e,t)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},o=/ (?:to|[-/]) | ?(?:--|[\u2013\u2014]) ?/,a=/^(\d{4}-\d{2}-\d{2})\/(\d{4}-\d{2}-\d{2})$/;function s(e){return i[e.toLowerCase().slice(0,3)]}const l=function(e){const t=/^(\d{4}|[-+]\d{6,})-(\d{2})(?:-(\d{2}))?/;if("string"!==typeof e||!t.test(e))return null;const r=n(e.match(t),4),i=r[1],o=r[2],a=r[3];return+o?+a?[i,o,a]:[i,o]:[i]},c=function(e){const t=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if("string"!==typeof e||!t.test(e))return null;let r=n(e.match(t),4),i=r[1],o=r[2],a=r[3];return o=s(o),o?[a,o,i]:null};function u(e){const t=function(e){const t=new Date(e);return"number"!==typeof e||isNaN(t.valueOf())?null:[t.getFullYear(),t.getMonth()+1,t.getDate()]}(e)||l(e)||c(e)||function(e){const t=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if("string"!==typeof e||!t.test(e))return null;const r=n(e.match(t),4),i=r[1],o=r[2],a=r[3];return new Date(a,i,o).getMonth()===parseInt(i)?[a,i,o]:null}(e)||function(e){const t=/^(\d{1,2})[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](-?\d+)/i,r=/^(-?\d+)[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](\d{1,2})/i;let i,o,a;if("string"!==typeof e)return null;if(t.test(e)){var l=n(e.match(t),4);a=l[1],o=l[2],i=l[3]}else{if(!r.test(e))return null;var c=n(e.match(r),4);i=c[1],o=c[2],a=c[3]}if(s(o))o=s(o);else if(isNaN(o))return null;return[i,o,a]}(e)||function(e){const t=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if("string"===typeof e&&t.test(e)){const n=e.match(t).slice(1,3);let r;if(s(n[1]))r=s(n.pop());else if(s(n[0]))r=s(n.shift());else{if(n.some(isNaN)||n.every((e=>+e<0)))return null;r=+n[0]<0||+n[0]>+n[1]&&+n[1]>0?n.pop():n.shift()}return[n.pop(),r]}return null}(e)||function(e){if("string"!==typeof e)return null;const t=e.match(/^(\d+) ?(a\.?d\.?|b\.?c\.?)$/i);if(t){const e=n(t.slice(1),2);return[e[0]*("a"===e[1].toLowerCase()[0]?1:-1)]}return/^-?\d+$/.test(e)?[e]:null}(e);return t&&t.map((e=>parseInt(e)))}var d=function(e,t){const n=[],r="string"===typeof e&&function(e){return a.test(e)?e.match(a).slice(1,3):e.split(o)}(e);t?n.push(e,t):r&&2===r.length?n.push(...r):n.push(e);const i=n.map(u);return i.filter(Boolean).length===n.length?{"date-parts":i}:{raw:t?n.join("/"):e}};t.default=d},7412:(e,t)=>{"use strict";function n(e,t,n){if(e.length>=t)return e;for(;e.length<t;)e=n+e;return e.slice(-t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";if(!e["date-parts"])return e.raw;const r=e["date-parts"][0].map((e=>e.toString()));switch(r.length){case 3:r[2]=n(r[2],2,"0");case 2:r[1]=n(r[1],2,"0");case 1:r[0]=n(r[0],4,"0")}return r.join(t)};t.default=r},9156:(e,t,n)=>{"use strict";n.r(t),n.d(t,{formats:()=>te,parsers:()=>ee,ref:()=>X});var r={};n.r(r),n.d(r,{default:()=>p,parse:()=>p});var i={};n.r(i),n.d(i,{parse:()=>m,parseAsync:()=>g});var o={};n.r(o),n.d(o,{default:()=>z,getLabel:()=>H,parse:()=>z,parseProp:()=>z,parseType:()=>q});var a={};n.r(a),n.d(a,{default:()=>Z,parse:()=>Z,parseAsync:()=>Y,parseEntities:()=>Z,parseEntitiesAsync:()=>Y,parseEntity:()=>K});var s={};n.r(s),n.d(s,{parse:()=>J});var l=n(8660),c=n(1168),u=n.n(c);const d={langs:["en"]},p=function(e,t){const n=[].concat(e);return[].concat(u().getManyEntities(n,t||d.langs))},{fetchFile:h,fetchFileAsync:f}=l.util;function m(e){return[].concat(e).map(h)}function g(e){return Promise.all([].concat(e).map(f))}const v={keepQualifiers:!0,timeConverter:"simple-day"},b={P17:null},y={P740:b,P159:b},_={P50:null,P57:null,P86:null,P98:null,P110:null,P655:null,P1817:null,P921:{P50:null},P407:null,P364:null,P123:y,P629:{P50:null,P123:y},P437:null,P186:null,P179:{P98:null},P1433:{P4745:{P276:b}},P361:{P50:null}};function x(e,t){return e.push(...t),e}function w(e,t){return t?(e._needed=Object.assign(e._needed||{},t),Object.keys(e.claims).filter((e=>e in t)).map((t=>e.claims[t].map((e=>{let{value:t}=e;return t.id||t})))).reduce(x,[])):[]}function E(e,t){if(!t){const t=[];for(const n in e){const r=w(e[n],_);for(const e of r)t.includes(e)||t.push(e)}return t}const n=[];for(const r of t){const t=e[r];if(t._needed){for(const r in t.claims)if(r in t._needed)for(const i of t.claims[r])i.value&&i.value.id||(i.value=e[i.value],n.push(...w(i.value,t._needed[r])));delete t._needed}}return n}function T(e){return c.simplify.entities(e,v)}function C(e,t){return{needed:E(t),incomplete:Object.keys(e)}}function k(e,t){const n=e.filter(((n,r)=>!(n in t)&&e.indexOf(n)===r));return p(n)}function S(e,t){const{entities:n}=JSON.parse(e);Object.assign(t,T(n))}function O(e,t){return{needed:E(t,e.incomplete),incomplete:e.needed}}function A(e,t){return Object.keys(e).map((e=>t[e]))}function j(e){const t=function(e){const t=T(e);let n=C(e,t);for(;n.needed.length;)k(n.needed,t).map((e=>S(m(e),t))),n=O(n,t);return t}(e);return A(e,t)}async function P(e){const t=await async function(e){const t=T(e);let n=C(e,t);for(;n.needed.length;){const e=k(n.needed,t);await Promise.all(e.map((async e=>S(await g(e),t)))),n=O(n,t)}return t}(e);return A(e,t)}var I=n(6112),L=n(6908);const R=JSON.parse('{"Q191067":"article","Q1266946":"thesis","Q187685":"thesis","Q265158":"review","Q1172284":"dataset","Q2352616":"dataset","Q367035":"dataset","Q4006":"map","Q133792":"map","Q842617":"map","Q1425895":"map","Q2334719":"legal_case","Q36774":"webpage","Q15474042":"webpage","Q58494026":"webpage","Q17379835":"webpage","Q17442446":"webpage","Q21281405":"webpage","Q16222597":"webpage","Q653848":"map","Q21944833":"map","Q11424":"motion_picture","Q157443":"motion_picture","Q571":"book","Q87167":"manuscript","Q131569":"treaty","Q216665":"book","Q686822":"bill","Q10870555":"report","Q3099732":"report","Q252550":"treaty","Q3536928":"treaty","Q5707594":"article-newspaper","Q59908":"article","Q1164267":"book","Q18011172":"motion_picture","Q19389637":"article","Q11578774":"broadcast","Q15416":"broadcast","Q1555508":"broadcast","Q26260507":"broadcast","Q580922":"article","Q651270":"article","Q759838":"article","Q1580166":"entry-dictionary","Q1809676":"article","Q2106255":"article","Q1004391":"report","Q2438528":"article","Q6646525":"article","Q7216866":"post","Q7318358":"article","Q7582241":"article","Q10389811":"entry","Q13442814":"article-journal","Q17518557":"article","Q19917774":"article","Q30070590":"article-magazine","Q37974534":"article","Q637866":"review-book","Q5196473":"review","Q5251247":"review","Q42350535":"article","Q51282711":"thesis","Q51282766":"thesis","Q51282798":"thesis","Q51282875":"thesis","Q51282918":"thesis","Q51282969":"thesis","Q51282999":"thesis","Q51283026":"thesis","Q51283053":"thesis","Q51283145":"thesis","Q51283327":"thesis","Q55399605":"thesis","Q58010711":"article","Q60559362":"article","Q480498":"legal_case","Q697327":"legal_case","Q1469824":"dataset","Q2055205":"legal_case","Q162827":"map","Q460214":"map","Q2259701":"map","Q253623":"patent","Q22909582":"review","Q1172480":"dataset","Q45941145":"dataset","Q56515249":"review","Q61992233":"review","Q16968990":"book","Q21191270":"broadcast","Q26225677":"motion_picture","Q56753859":"map","Q57933693":"book","Q2823677":"legal_case","Q2865639":"legal_case","Q7307130":"legal_case","Q8016240":"legal_case","Q11827307":"legal_case","Q16738832":"legal_case","Q18146819":"legal_case","Q18536127":"legal_case","Q20917517":"legal_case","Q7366":"song","Q7302866":"song","Q25203386":"song","Q30637971":"legal_case","Q52768654":"map","Q56123235":"song","Q56612794":"song","Q60566516":"song","Q60809954":"song","Q61221204":"legal_case","Q24634210":"broadcast","Q61855877":"broadcast","Q1006160":"dataset","Q1980247":"chapter","Q19692072":"legal_case","Q23927052":"paper-conference","Q178651":"interview","Q861911":"speech","Q216526":"map","Q2940514":"map","Q3391101":"map","Q55089312":"dataset","Q56704157":"legal_case","Q26205359":"webpage","Q28326484":"webpage","Q28326490":"webpage","Q57312861":"webpage","Q106833":"book","Q128093":"book","Q20540385":"book","Q7433672":"book","Q193495":"book","Q3831846":"book","Q203490":"book","Q254554":"book","Q448980":"book","Q604219":"book","Q605076":"book","Q642946":"book","Q48498":"manuscript","Q727715":"book","Q747381":"book","Q855753":"book","Q890239":"book","Q913554":"book","Q918038":"book","Q922203":"book","Q944359":"book","Q1009641":"book","Q1631107":"dataset","Q26876682":"dataset","Q47114558":"dataset","Q1050259":"book","Q1062404":"book","Q1106827":"book","Q1173065":"book","Q1184488":"book","Q1238720":"book","Q1414013":"book","Q1415108":"book","Q162206":"map","Q191072":"map","Q320228":"map","Q352416":"map","Q441903":"map","Q573980":"map","Q602481":"map","Q715789":"map","Q728502":"map","Q1403728":"map","Q1410020":"map","Q1496857":"book","Q1528894":"book","Q1609706":"book","Q1616547":"book","Q1650727":"book","Q1760610":"book","Q1785330":"book","Q1870591":"book","Q1883939":"book","Q1977520":"book","Q1986787":"book","Q2069066":"book","Q2072218":"book","Q2104296":"book","Q2122442":"book","Q2128336":"book","Q2135225":"book","Q2208044":"book","Q2314679":"book","Q2331348":"book","Q2363145":"book","Q2374324":"book","Q2377289":"book","Q2396513":"book","Q2514954":"book","Q2537127":"book","Q2787237":"book","Q2831984":"book","Q3045706":"book","Q3831821":"book","Q3831847":"book","Q3915339":"book","Q4067007":"book","Q4224691":"book","Q4515179":"book","Q4677625":"book","Q4686085":"book","Q4931288":"book","Q5073531":"book","Q5093328":"book","Q5159310":"book","Q6675210":"book","Q8275050":"book","Q10666342":"book","Q11396303":"book","Q11750596":"book","Q12308638":"book","Q12410152":"book","Q12731131":"book","Q13137339":"book","Q13430107":"book","Q13636757":"book","Q13751595":"book","Q16046027":"book","Q16385949":"book","Q16507688":"book","Q16736578":"book","Q17134316":"book","Q21598767":"book","Q21662746":"book","Q22988237":"book","Q25679217":"book","Q12912091":"motion_picture","Q1453402":"map","Q1502030":"map","Q1664468":"map","Q1783108":"map","Q1787111":"dataset","Q1875628":"map","Q2089517":"map","Q2127425":"map","Q2353983":"map","Q2368091":"map","Q2426254":"map","Q2470969":"map","Q2471702":"map","Q2620815":"map","Q2656361":"map","Q2940478":"map","Q3509676":"map","Q3515498":"map","Q4505959":"map","Q4845530":"map","Q26267321":"book","Q26271823":"book","Q27560760":"book","Q29154430":"book","Q29586870":"book","Q31946409":"book","Q38143661":"book","Q52005090":"book","Q52153485":"book","Q55610842":"book","Q56552233":"book","Q57790812":"book","Q58142059":"book","Q58211632":"book","Q58807269":"book","Q60226001":"book","Q60475414":"book","Q60475468":"book","Q60627667":"book","Q61696018":"book","Q5047387":"map","Q5177325":"map","Q5434353":"map","Q6017843":"map","Q6664848":"map","Q7104865":"map","Q10544122":"map","Q11426259":"map","Q11618908":"map","Q14321585":"map","Q15877105":"map","Q17047956":"map","Q21935483":"map","Q22125384":"map","Q59457513":"map","Q60054914":"map","Q846662":"broadcast","Q5778924":"motion_picture","Q8513":"dataset","Q178376":"dataset","Q1675302":"map","Q267628":"article","Q871232":"article","Q3694604":"article","Q3719255":"article","Q19375673":"article","Q442919":"interview","Q850171":"interview","Q1384479":"interview","Q1477475":"interview","Q1067324":"motion_picture","Q1941707":"motion_picture","Q3055290":"interview","Q3055291":"interview","Q450873":"patent","Q681875":"patent","Q913351":"patent","Q5465504":"patent","Q2049275":"manuscript","Q213924":"manuscript","Q274076":"manuscript","Q597695":"manuscript","Q720106":"manuscript","Q865595":"manuscript","Q1067768":"manuscript","Q1266076":"manuscript","Q2209578":"manuscript","Q2217259":"manuscript","Q2531964":"manuscript","Q2816501":"manuscript","Q19787436":"patent","Q19787437":"patent","Q35639987":"patent","Q43305660":"patent","Q59818481":"dataset","Q1949797":"legal_case","Q18918145":"article-journal","Q2782326":"article-journal","Q3149408":"legal_case","Q18342738":"speech","Q3228788":"speech","Q3731370":"legal_case","Q17123524":"book","Q336144":"motion_picture","Q867242":"book","Q1093720":"treaty","Q193170":"treaty","Q625298":"treaty","Q837144":"treaty","Q864737":"treaty","Q931855":"treaty","Q1242841":"treaty","Q1414340":"treaty","Q1414472":"treaty","Q1498487":"treaty","Q1646218":"treaty","Q1671773":"treaty","Q1711115":"treaty","Q2290707":"treaty","Q2300991":"treaty","Q2465017":"treaty","Q3125472":"manuscript","Q3220177":"manuscript","Q3240926":"manuscript","Q3252544":"manuscript","Q3560324":"manuscript","Q3749265":"manuscript","Q3824506":"treaty","Q3960554":"manuscript","Q4426710":"treaty","Q4475654":"manuscript","Q4872029":"treaty","Q4985043":"treaty","Q7012086":"manuscript","Q7452368":"manuscript","Q9026959":"manuscript","Q11613006":"manuscript","Q13430250":"manuscript","Q17143154":"manuscript","Q21089188":"manuscript","Q22669850":"manuscript","Q22948347":"manuscript","Q25351420":"manuscript","Q31078443":"manuscript","Q33308141":"manuscript","Q11122":"treaty","Q451584":"legal_case","Q876477":"bill","Q1006544":"bill","Q1288220":"legal_case","Q2206565":"legal_case","Q2783852":"legal_case","Q5500839":"legal_case","Q7246224":"bill","Q7257705":"bill","Q7885007":"bill","Q859161":"dataset","Q1650567":"webpage","Q11439":"webpage","Q16602140":"bill","Q16821677":"bill","Q28457660":"bill","Q2261569":"webpage","Q2641220":"webpage","Q2737701":"webpage","Q14204246":"webpage","Q21025364":"webpage","Q23691297":"webpage","Q58040463":"webpage","Q44873079":"interview","Q4202018":"interview","Q4317093":"interview","Q7256239":"interview","Q7625207":"interview","Q8776455":"interview","Q45933791":"interview","Q60723716":"interview","Q6908053":"treaty","Q6934728":"treaty","Q6944158":"treaty","Q9160460":"treaty","Q9557810":"treaty","Q11455760":"treaty","Q11637357":"treaty","Q16567729":"treaty","Q19357149":"book","Q184528":"speech","Q203737":"speech","Q261197":"speech","Q554211":"speech","Q749054":"speech","Q787020":"speech","Q805093":"speech","Q960189":"speech","Q1346967":"speech","Q1840948":"speech","Q1980740":"speech","Q2183050":"speech","Q2895132":"speech","Q3030189":"speech","Q3040417":"speech","Q4329077":"speech","Q4388316":"speech","Q5152362":"speech","Q200092":"motion_picture","Q224700":"motion_picture","Q248583":"motion_picture","Q457832":"motion_picture","Q622548":"motion_picture","Q624771":"motion_picture","Q16835935":"treaty","Q16956642":"treaty","Q19958750":"treaty","Q27768121":"treaty","Q29526855":"treaty","Q29527278":"treaty","Q29527544":"treaty","Q29883540":"treaty","Q30921722":"treaty","Q38653134":"treaty","Q39234269":"treaty","Q41535471":"treaty","Q50192946":"treaty","Q57205857":"treaty","Q1194534":"dataset","Q7979513":"speech","Q11261492":"speech","Q11496736":"speech","Q11504413":"speech","Q13611058":"speech","Q13632631":"speech","Q15853847":"speech","Q18907443":"speech","Q19776345":"speech","Q28472611":"speech","Q56191193":"speech","Q56192445":"speech","Q60061482":"speech","Q60780612":"speech","Q47123453":"report","Q1054574":"motion_picture","Q860626":"motion_picture","Q959790":"motion_picture","Q1788980":"motion_picture","Q2331945":"motion_picture","Q188473":"motion_picture","Q2678111":"motion_picture","Q2991560":"motion_picture","Q2484376":"motion_picture","Q16950433":"motion_picture","Q18331260":"motion_picture","Q19952560":"motion_picture","Q5428822":"broadcast","Q13582719":"song","Q388480":"song","Q950683":"book","Q39825":"dataset","Q49918":"dataset","Q82753":"dataset","Q186588":"dataset","Q15706459":"article-journal","Q59387148":"report","Q6960620":"book","Q7094076":"dataset","Q367680":"dataset","Q857354":"dataset","Q1503133":"book","Q3219655":"dataset","Q3304360":"dataset","Q5227330":"dataset","Q7943567":"dataset","Q17305522":"dataset","Q18814183":"dataset","Q21264512":"dataset","Q43570203":"dataset","Q44106130":"dataset","Q50826803":"dataset","Q55387750":"dataset","Q593744":"dataset","Q83790":"book","Q539662":"dataset","Q605175":"dataset","Q550089":"dataset","Q36524":"dataset","Q1673963":"dataset","Q17152639":"dataset","Q20088085":"entry-dictionary","Q15633587":"webpage","Q15138389":"webpage","Q20088089":"entry-dictionary","Q5398426":"broadcast","Q1259759":"broadcast","Q7724161":"broadcast","Q21664088":"broadcast","Q234262":"chapter","Q21481766":"chapter","Q26989423":"chapter","Q29154515":"chapter","Q43148525":"chapter","Q43180447":"chapter","Q53460949":"chapter","Q327349":"dataset","Q1394657":"dataset","Q1988927":"dataset","Q201456":"dataset","Q220393":"dataset","Q3071343":"dataset","Q254213":"dataset","Q319949":"dataset","Q672598":"dataset","Q780605":"dataset","Q815410":"dataset","Q819688":"dataset","Q854459":"dataset","Q897682":"dataset","Q1114135":"dataset","Q1147639":"dataset","Q1400059":"dataset","Q1665882":"dataset","Q1754061":"dataset","Q1915979":"dataset","Q1991865":"dataset","Q2038458":"dataset","Q2249973":"dataset","Q2597555":"dataset","Q3346024":"dataset","Q5141544":"dataset","Q5146094":"dataset","Q5962346":"dataset","Q6941730":"dataset","Q7096331":"dataset","Q10413470":"dataset","Q15194024":"dataset","Q11722865":"dataset","Q273057":"dataset","Q16832380":"dataset","Q20820424":"dataset","Q22692845":"dataset","Q52666561":"dataset","Q59209277":"dataset","Q59977151":"dataset","Q60686104":"dataset","Q2262868":"dataset","Q7449052":"dataset","Q596138":"motion_picture","Q3464665":"broadcast","Q24862":"motion_picture","Q7751682":"motion_picture","Q187044":"article-newspaper","Q22812458":"broadcast","Q170238":"broadcast","Q309481":"article-newspaper","Q2495037":"article-newspaper","Q2602337":"article-newspaper","Q5149212":"article-newspaper","Q17628188":"article-newspaper","Q17633526":"article-newspaper","Q17928402":"post-weblog","Q50081413":"webpage","Q20136634":"article","Q43290228":"article","Q57988118":"post","Q40745":"legal_case","Q245072":"legal_case","Q321568":"legal_case","Q375727":"legal_case","Q699735":"report","Q836925":"report","Q788874":"legal_case","Q830689":"report","Q1668727":"report","Q1498464":"legal_case","Q1926270":"report","Q2070370":"legal_case","Q2145003":"legal_case","Q2307704":"report","Q2309880":"report","Q2677586":"report","Q3000100":"report","Q3922396":"legal_case","Q4343952":"report","Q4690599":"report","Q6451276":"report","Q7968600":"legal_case","Q7918438":"report","Q12038591":"legal_case","Q13433827":"entry","Q15629444":"report","Q17090395":"report","Q17329259":"entry-encyclopedia","Q19355445":"report","Q61704031":"broadcast","Q27027169":"report","Q41274869":"report","Q47126552":"report","Q56013707":"report","Q58089619":"legal_case","Q157394":"motion_picture","Q207601":"broadcast","Q1504425":"article-journal","Q1241826":"broadcast","Q2155186":"broadcast","Q2435927":"broadcast","Q2774197":"article-journal","Q3588923":"broadcast","Q5177022":"broadcast","Q7316896":"article-journal","Q7551315":"motion_picture","Q10709386":"broadcast","Q622812":"broadcast","Q11079003":"broadcast","Q10885494":"article-journal","Q11293915":"broadcast","Q11325507":"broadcast","Q11334197":"broadcast","Q11351206":"broadcast","Q11378697":"broadcast","Q187947":"musical_score","Q11451968":"broadcast","Q11483878":"broadcast","Q11491683":"broadcast","Q12183006":"article-journal","Q18458820":"broadcast","Q56478376":"article-journal","Q58038936":"article-journal","Q58898396":"article-journal","Q58900805":"article-journal","Q58901470":"article-journal","Q58902427":"article-journal","Q59458414":"article-journal","Q4249087":"legal_case","Q5710433":"legal_case","Q60456691":"legal_case","Q17074865":"map","Q18609332":"legal_case","Q29197":"broadcast","Q18011171":"motion_picture","Q506240":"motion_picture","Q653916":"motion_picture","Q240862":"motion_picture","Q914242":"motion_picture","Q5287435":"broadcast","Q5338721":"motion_picture","Q13359539":"broadcast","Q21191265":"broadcast","Q26225765":"motion_picture","Q29555881":"broadcast","Q50062923":"broadcast","Q50914552":"broadcast","Q61220733":"broadcast","Q1924747":"dataset","Q26868375":"dataset","Q61782522":"dataset","Q2033233":"dataset","Q39086821":"review","Q595971":"dataset","Q3539533":"dataset","Q276":"broadcast","Q182415":"broadcast","Q336181":"broadcast","Q356055":"broadcast","Q358942":"broadcast","Q431102":"broadcast","Q661436":"broadcast","Q677466":"motion_picture","Q854995":"broadcast","Q986699":"broadcast","Q1261214":"broadcast","Q1358344":"broadcast","Q1366112":"broadcast","Q1407240":"broadcast","Q1407245":"broadcast","Q1472288":"broadcast","Q1619206":"broadcast","Q1684600":"broadcast","Q1819008":"broadcast","Q1962634":"broadcast","Q1857766":"broadcast","Q1924371":"broadcast","Q1948292":"broadcast","Q2081003":"broadcast","Q2231383":"broadcast","Q2304946":"broadcast","Q3744532":"broadcast","Q5455086":"broadcast","Q6626746":"broadcast","Q7697093":"broadcast","Q14623351":"broadcast","Q3511312":"broadcast","Q10676514":"broadcast","Q202866":"motion_picture","Q1107":"motion_picture","Q581714":"broadcast","Q21191019":"broadcast","Q11086742":"motion_picture","Q11504513":"broadcast","Q14942329":"broadcast","Q15836186":"broadcast","Q16068806":"broadcast","Q16206641":"broadcast","Q17145545":"broadcast","Q18640746":"broadcast","Q19845560":"broadcast","Q19973797":"broadcast","Q21217315":"broadcast","Q25090976":"broadcast","Q27912070":"broadcast","Q28664032":"broadcast","Q34682961":"broadcast","Q46706005":"broadcast","Q118171":"dataset","Q192588":"dataset","Q193351":"dataset","Q212805":"dataset","Q333761":"dataset","Q702448":"dataset","Q1869909":"motion_picture","Q29982285":"broadcast","Q780524":"dataset","Q989016":"dataset","Q1172362":"dataset","Q1235236":"dataset","Q1373925":"dataset","Q1391125":"dataset","Q1393704":"dataset","Q1414426":"dataset","Q1494224":"dataset","Q1519460":"dataset","Q1787017":"dataset","Q1957894":"dataset","Q2599456":"dataset","Q2274762":"dataset","Q2302053":"dataset","Q2404903":"dataset","Q2532732":"dataset","Q2881060":"dataset","Q2912944":"dataset","Q3133368":"dataset","Q3454922":"dataset","Q4117139":"dataset","Q4501235":"dataset","Q4677551":"dataset","Q5062195":"dataset","Q5322831":"dataset","Q5473309":"dataset","Q5572370":"dataset","Q7246853":"dataset","Q7702836":"dataset","Q9067653":"dataset","Q14806568":"dataset","Q15097084":"dataset","Q15100572":"dataset","Q16155335":"dataset","Q17014602":"dataset","Q22811662":"dataset","Q24579448":"dataset","Q28146196":"dataset","Q33270056":"dataset","Q36570165":"dataset","Q45028176":"dataset","Q54933017":"dataset","Q55341040":"dataset","Q59157251":"dataset","Q13406463":"webpage","Q60856733":"dataset","Q521414":"dataset","Q883895":"dataset","Q986756":"dataset","Q1345528":"dataset","Q3404855":"dataset","Q3405306":"dataset","Q3518943":"dataset","Q3664416":"dataset","Q4127466":"dataset","Q4350734":"dataset","Q60557971":"dataset","Q4350735":"dataset","Q4350754":"dataset","Q5058966":"dataset","Q5058970":"dataset","Q5058971":"dataset","Q5058968":"dataset","Q5058969":"dataset","Q5058974":"dataset","Q5058975":"dataset","Q5058972":"dataset","Q5058978":"dataset","Q5058977":"dataset","Q5058981":"dataset","Q5058989":"dataset","Q5334384":"dataset","Q7015254":"dataset","Q10497456":"dataset","Q12058091":"dataset","Q16056280":"dataset","Q19894430":"dataset","Q24934691":"dataset","Q25383554":"dataset","Q26207721":"dataset","Q28730356":"dataset","Q29795177":"dataset","Q8025448":"book","Q1114458":"book","Q3027814":"book","Q3268307":"book","Q3491290":"book","Q4955683":"book","Q5197887":"book","Q6071891":"book","Q5296":"webpage","Q57819011":"legal_case","Q57821094":"legal_case","Q218013":"dataset","Q283579":"dataset","Q426674":"dataset","Q479833":"dataset","Q721795":"dataset","Q838281":"dataset","Q843670":"dataset","Q877809":"dataset","Q900856":"dataset","Q949532":"dataset","Q1265166":"dataset","Q1571814":"dataset","Q2025786":"book","Q2250844":"book","Q4034405":"book","Q5227352":"dataset","Q2115":"dataset","Q14679":"dataset","Q577697":"map","Q5150048":"map","Q16840211":"book","Q21032630":"book","Q8034663":"book","Q11191558":"book","Q13769783":"dataset","Q14902318":"dataset","Q24063789":"dataset","Q25975660":"dataset","Q26260540":"dataset","Q11266439":"webpage","Q26267864":"dataset","Q26987229":"dataset","Q27198004":"dataset","Q28948553":"dataset","Q29053519":"dataset","Q29694587":"dataset","Q41709380":"dataset","Q47459830":"dataset","Q57936091":"book","Q58902997":"book","Q7572716":"dataset","Q59913845":"song","Q2143665":"motion_picture","Q1957385":"motion_picture","Q5769663":"motion_picture","Q5855976":"motion_picture","Q1441669":"broadcast","Q1441929":"broadcast","Q16943561":"broadcast","Q19858063":"broadcast","Q19858074":"broadcast","Q19858077":"broadcast","Q19858082":"broadcast","Q19858080":"broadcast","Q19858086":"broadcast","Q19858087":"broadcast","Q19858088":"broadcast","Q19858095":"broadcast","Q19858093":"broadcast","Q19858098":"broadcast","Q19858107":"broadcast","Q19858110":"broadcast","Q19858108":"broadcast","Q19858123":"broadcast","Q19858126":"broadcast","Q19858124":"broadcast","Q19858125":"broadcast","Q19858142":"broadcast","Q19858143":"broadcast","Q19858140":"broadcast","Q19858141":"broadcast","Q19859744":"broadcast","Q19859780":"broadcast","Q1271915":"dataset","Q2250805":"map","Q2359829":"map","Q2415383":"map","Q2869471":"map","Q4816871":"map","Q5135690":"map","Q11025270":"map","Q21936815":"map","Q21938018":"map","Q26885495":"map","Q333779":"map","Q640492":"map","Q690851":"manuscript","Q1105486":"manuscript","Q1501880":"map","Q1501945":"map","Q1550537":"map","Q1974665":"map","Q2915844":"map","Q54298448":"map","Q21188110":"broadcast","Q918098":"broadcast","Q4765080":"broadcast","Q17113138":"broadcast","Q856314":"manuscript","Q928128":"manuscript","Q19969434":"manuscript","Q5647631":"manuscript","Q1190781":"manuscript","Q1620808":"manuscript","Q1675712":"manuscript","Q3637297":"manuscript","Q18558914":"manuscript","Q492264":"musical_score","Q10590726":"motion_picture","Q60259696":"manuscript","Q60323106":"manuscript","Q60325498":"manuscript","Q60363009":"manuscript","Q2552822":"musical_score","Q7452061":"musical_score","Q3962157":"map","Q16825889":"map","Q1826720":"map","Q3935817":"dataset","Q18616720":"dataset","Q7601206":"dataset","Q7620972":"map","Q1353555":"dataset","Q22961568":"book","Q93204":"motion_picture","Q7832972":"motion_picture","Q312083":"map","Q322943":"treaty","Q459435":"motion_picture","Q587240":"manuscript","Q595819":"treaty","Q850950":"dataset","Q1003870":"treaty","Q1688818":"map","Q1048515":"map","Q1473669":"manuscript","Q1667520":"map","Q2723202":"map","Q2941628":"dataset","Q2981686":"manuscript","Q2981685":"manuscript","Q7551149":"motion_picture","Q2933856":"book","Q266680":"map","Q1702772":"map","Q2035351":"map","Q2073537":"manuscript","Q2204393":"map","Q2325507":"map","Q5469880":"report","Q5469893":"report","Q5469912":"report","Q10438653":"map","Q42793629":"speech","Q2678443":"dataset","Q1923776":"book","Q2981450":"book","Q1413174":"dataset","Q185529":"motion_picture","Q16254232":"motion_picture","Q31803237":"treaty","Q32945468":"dataset","Q59825643":"dataset","Q934552":"dataset","Q200562":"broadcast","Q303064":"broadcast","Q1484397":"broadcast","Q2049337":"broadcast","Q2123557":"broadcast","Q2308891":"report","Q2665960":"report","Q5227671":"broadcast","Q18030695":"report","Q18385907":"broadcast","Q21190411":"broadcast","Q47512784":"report","Q56330488":"book","Q33111614":"motion_picture","Q484692":"song","Q1033831":"song","Q1497584":"book","Q19705":"book","Q628080":"book","Q1535505":"book","Q2333573":"book","Q3357101":"book","Q12041885":"book","Q5151497":"motion_picture","Q7999883":"article","Q18398246":"motion_picture","Q56309057":"manuscript","Q61314299":"dataset","Q234280":"chapter","Q234300":"chapter","Q862334":"book","Q2973181":"motion_picture","Q3072049":"motion_picture","Q1747837":"motion_picture","Q12029612":"dataset","Q50380591":"book","Q51881567":"book","Q60029764":"book","Q914229":"article","Q5465451":"article","Q20135338":"motion_picture","Q1541065":"report","Q2594143":"dataset","Q16664076":"report","Q441261":"dataset","Q457843":"dataset","Q783287":"dataset","Q1115961":"dataset","Q1713174":"dataset","Q3327521":"dataset","Q151":"dataset","Q17123180":"motion_picture","Q15982056":"article-newspaper","Q59191021":"dataset","Q59248059":"dataset","Q59248072":"dataset","Q1371849":"dataset","Q17438413":"dataset","Q61914117":"dataset","Q3352071":"motion_picture","Q25051296":"webpage","Q25054829":"dataset","Q267136":"dataset","Q488053":"book","Q914881":"book","Q1397073":"dataset","Q1662581":"dataset","Q2268965":"dataset","Q3292731":"book","Q3406872":"dataset","Q5033354":"dataset","Q5227322":"dataset","Q5532670":"dataset","Q7515656":"book","Q7598341":"dataset","Q7995661":"dataset","Q14523803":"book","Q17146953":"dataset","Q25110279":"book","Q30008669":"book","Q30009376":"book","Q41623316":"dataset","Q38647918":"book","Q249697":"speech","Q1428914":"dataset","Q255135":"book","Q471894":"book","Q586744":"book","Q956165":"book","Q1569753":"book","Q2939758":"book","Q12040484":"book","Q13583784":"book","Q59351530":"book","Q61020892":"book","Q17086104":"map","Q17147147":"map","Q19393521":"map","Q58884":"broadcast","Q2635894":"broadcast","Q193842":"map","Q261468":"map","Q943929":"song","Q1123037":"song","Q336822":"song","Q336371":"map","Q459798":"map","Q831939":"map","Q865144":"map","Q889561":"map","Q1152543":"map","Q1187667":"broadcast","Q1281814":"map","Q1674401":"map","Q1742009":"broadcast","Q1778220":"map","Q1800237":"map","Q2126801":"map","Q2125867":"broadcast","Q2298569":"map","Q2940627":"map","Q4903803":"map","Q5687679":"map","Q10480692":"map","Q10604395":"map","Q10916116":"book","Q11960416":"map","Q12008992":"map","Q58901209":"dataset","Q19969268":"broadcast","Q20741385":"book","Q21009694":"book","Q24879310":"dataset","Q56028349":"book","Q56240541":"broadcast","Q56697520":"book","Q60586493":"dataset","Q183169":"webpage","Q825914":"book","Q1391116":"dataset","Q1516252":"book","Q1569406":"dataset","Q1609353":"dataset","Q1609504":"dataset","Q1862738":"book","Q2110197":"dataset","Q3237931":"broadcast","Q3956369":"broadcast","Q3962380":"dataset","Q4769616":"dataset","Q4804740":"book","Q5051330":"dataset","Q5615468":"dataset","Q6822329":"dataset","Q6912943":"broadcast","Q7144753":"dataset","Q10688394":"book","Q12331427":"dataset","Q15961983":"broadcast","Q18311760":"broadcast","Q1499601":"dataset","Q5374928":"map","Q7444356":"motion_picture","Q6729489":"motion_picture","Q7444692":"map","Q8036547":"map","Q1383152":"dataset","Q3564515":"speech","Q3890208":"dataset","Q21050458":"dataset","Q21050912":"dataset","Q26721650":"dataset","Q31841013":"dataset","Q1865123":"dataset","Q206290":"dataset","Q1088118":"dataset","Q7502102":"dataset","Q17121221":"map","Q23888763":"book","Q46992920":"speech","Q52506277":"dataset","Q51719975":"broadcast","Q19364663":"book","Q22938710":"book","Q193977":"motion_picture","Q59032066":"song","Q1989725":"song","Q2135500":"manuscript","Q3153927":"speech","Q526877":"broadcast","Q742157":"article-newspaper","Q6899707":"map","Q725377":"book","Q10541153":"book","Q21198407":"book","Q369074":"dataset","Q3249257":"motion_picture","Q4373044":"motion_picture","Q172067":"motion_picture","Q1046788":"motion_picture","Q24886171":"broadcast","Q53746253":"broadcast","Q16709869":"book","Q16960707":"book","Q19941906":"book","Q21660824":"book","Q21818614":"book","Q57987419":"interview","Q57987455":"interview","Q57987589":"interview","Q61725752":"book","Q225672":"book","Q263790":"book","Q284465":"book","Q431193":"book","Q608971":"book","Q634123":"book","Q817063":"book","Q833590":"book","Q1027825":"book","Q1385360":"book","Q1754581":"book","Q2114246":"book","Q2144117":"book","Q2732056":"book","Q2955456":"book","Q4203401":"book","Q7163040":"book","Q7603925":"broadcast","Q12765421":"book","Q15276670":"book","Q15627042":"book","Q6548306":"book","Q12046416":"map","Q472298":"legal_case","Q1261319":"map","Q5563391":"map","Q26644852":"broadcast","Q29167422":"dataset","Q7211":"dataset","Q48473":"dataset","Q217327":"legal_case","Q951437":"dataset","Q636033":"dataset","Q672593":"dataset","Q739047":"dataset","Q891854":"legal_case","Q1207369":"dataset","Q1391014":"dataset","Q1642648":"dataset","Q2859990":"dataset","Q3307317":"dataset","Q4330194":"dataset","Q6813020":"legal_case","Q6901292":"legal_case","Q7251471":"dataset","Q18711682":"legal_case","Q20057286":"dataset","Q23015465":"dataset","Q24243801":"dataset","Q24249534":"dataset","Q25917186":"legal_case","Q27214933":"dataset","Q28934204":"legal_case","Q39740866":"dataset","Q59495116":"dataset","Q60208424":"dataset","Q61037469":"legal_case","Q40426579":"map","Q43037778":"map","Q47008743":"map","Q26225493":"book","Q29043181":"dataset","Q55850593":"song","Q55850643":"song","Q58885732":"song","Q58885754":"song","Q927803":"song","Q430010":"song","Q2292588":"song","Q2499178":"dataset","Q2560570":"dataset","Q3077240":"dataset","Q3491832":"dataset","Q1235234":"dataset","Q7096323":"dataset","Q7831478":"song","Q1564816":"legal_case","Q2698974":"legal_case","Q20089346":"motion_picture","Q5366020":"motion_picture","Q11526166":"speech","Q4167410":"webpage","Q845159":"motion_picture","Q1003021":"dataset","Q4167836":"webpage","Q1249224":"report","Q11382506":"webpage","Q15475226":"webpage","Q15475319":"webpage","Q1991869":"book","Q11690026":"book","Q31209114":"webpage","Q35243371":"webpage","Q48781895":"motion_picture","Q56005592":"webpage","Q17586363":"book","Q20043999":"book","Q59738577":"webpage","Q61033232":"webpage","Q61033736":"dataset","Q61034350":"webpage","Q29573701":"dataset","Q645928":"motion_picture","Q3209941":"report","Q5165404":"bill","Q11078958":"report","Q45182324":"article-journal","Q56119332":"post-weblog","Q60797":"speech","Q1474597":"speech","Q2069352":"book","Q2983424":"motion_picture","Q19359000":"report","Q24067746":"post-weblog","Q51844620":"dataset","Q51539995":"webpage","Q55422400":"broadcast","Q130232":"motion_picture","Q635115":"dataset","Q1553078":"dataset","Q1784036":"book","Q1813223":"book","Q2326951":"book","Q2500820":"book","Q3423635":"dataset","Q4363806":"book","Q14605760":"webpage","Q21875313":"book","Q24633474":"broadcast","Q28136925":"broadcast","Q28135032":"broadcast","Q28472638":"speech","Q28472722":"speech","Q1011299":"broadcast","Q3276244":"broadcast","Q29883647":"treaty","Q42214612":"treaty","Q60215679":"broadcast","Q60215966":"broadcast","Q7033567":"treaty","Q8576":"treaty","Q3257212":"book","Q5166307":"treaty","Q7865023":"treaty","Q8187836":"treaty","Q16923948":"treaty","Q17211914":"treaty","Q20874666":"treaty","Q39233713":"treaty","Q8041497":"patent","Q50823049":"report","Q61715571":"book","Q193934":"book","Q193955":"book","Q990683":"book","Q12047175":"book","Q1250520":"dataset","Q2334774":"song","Q22001389":"dataset","Q61782519":"dataset","Q112762":"song","Q177771":"song","Q178122":"song","Q207683":"song","Q216860":"song","Q261434":"song","Q318894":"song","Q319448":"song","Q380233":"song","Q493169":"song","Q502658":"song","Q523896":"song","Q591990":"song","Q608253":"song","Q744327":"song","Q758422":"song","Q783874":"song","Q784074":"song","Q820119":"song","Q844450":"song","Q873000":"song","Q944800":"song","Q959583":"song","Q988502":"song","Q1009280":"song","Q2281713":"song","Q1033810":"song","Q1033813":"song","Q1151663":"song","Q1195253":"song","Q1195630":"song","Q1228189":"song","Q20477577":"dataset","Q1972954":"dataset","Q842256":"motion_picture","Q643684":"motion_picture","Q1033573":"dataset","Q1205607":"dataset","Q1971947":"dataset","Q2145124":"dataset","Q2819247":"dataset","Q4685824":"dataset","Q7002108":"dataset","Q7200622":"dataset","Q8267601":"dataset","Q9732903":"webpage","Q11002482":"webpage","Q12096573":"webpage","Q16059585":"webpage","Q16059613":"webpage","Q16059624":"webpage","Q19208935":"webpage","Q21450877":"webpage","Q31936067":"dataset","Q47500192":"dataset","Q1229479":"song","Q1232283":"song","Q1236108":"song","Q1288193":"song","Q1372064":"song","Q1382036":"song","Q1779217":"song","Q1779319":"song","Q1899706":"song","Q1905727":"song","Q1942905":"song","Q1956166":"song","Q1963108":"song","Q1966622":"song","Q2038845":"song","Q2058312":"song","Q2108499":"song","Q2165184":"song","Q2235992":"song","Q2298624":"song","Q2312959":"song","Q2358279":"song","Q2544997":"song","Q2707688":"song","Q2737175":"song","Q2891357":"song","Q2894096":"song","Q2956164":"song","Q2956172":"song","Q3033130":"song","Q3246270":"song","Q3299089":"song","Q3482281":"song","Q3562031":"song","Q3843655":"song","Q3889661":"song","Q3918025":"song","Q4056436":"song","Q4130112":"song","Q4528554":"song","Q4770819":"song","Q4797274":"song","Q5031532":"song","Q5037289":"song","Q5747946":"song","Q5766029":"song","Q6109162":"song","Q7148059":"song","Q7314000":"song","Q7561608":"song","Q7824869":"song","Q8053529":"song","Q8261762":"song","Q10677514":"song","Q21653344":"song","Q56572789":"song","Q503354":"song","Q11214531":"song","Q12115862":"song","Q12135013":"song","Q12313565":"song","Q13829124":"song","Q15810872":"song","Q15907187":"song","Q16084298":"song","Q16194930":"song","Q16912992":"song","Q17118203":"song","Q17150323":"song","Q18012876":"song","Q18406550":"song","Q19607140":"song","Q20087039":"song","Q20107778":"song","Q20980372":"song","Q21127215":"song","Q22086714":"song","Q23072435":"song","Q25022242":"song","Q27981708":"song","Q27981857":"song","Q29051387":"song","Q37731261":"song","Q42681239":"song","Q46863086":"song","Q55596270":"song","Q56425213":"song","Q56425237":"song","Q61688673":"song","Q229390":"motion_picture","Q319221":"motion_picture","Q369747":"motion_picture","Q370630":"motion_picture","Q421719":"motion_picture","Q430525":"motion_picture","Q455315":"motion_picture","Q459290":"motion_picture","Q505119":"motion_picture","Q517386":"motion_picture","Q652256":"motion_picture","Q663106":"motion_picture","Q790192":"motion_picture","Q848512":"motion_picture","Q1060398":"motion_picture","Q1146335":"motion_picture","Q1200678":"motion_picture","Q1251417":"motion_picture","Q1320115":"motion_picture","Q1361932":"motion_picture","Q1397462":"motion_picture","Q1933746":"motion_picture","Q1935609":"motion_picture","Q2125170":"motion_picture","Q2156835":"motion_picture","Q2165644":"motion_picture","Q2301591":"motion_picture","Q4382232":"broadcast","Q2321734":"motion_picture","Q2553613":"motion_picture","Q2903140":"motion_picture","Q3072043":"motion_picture","Q3250548":"motion_picture","Q3585697":"motion_picture","Q3648909":"motion_picture","Q3677141":"motion_picture","Q3677185":"motion_picture","Q3745400":"motion_picture","Q3745430":"motion_picture","Q4220915":"motion_picture","Q4484381":"motion_picture","Q5145881":"motion_picture","Q5378150":"motion_picture","Q7130449":"motion_picture","Q7858343":"motion_picture","Q9259727":"motion_picture","Q12309044":"motion_picture","Q12377598":"motion_picture","Q16721823":"motion_picture","Q16909344":"motion_picture","Q19799105":"motion_picture","Q19799133":"motion_picture","Q20442589":"motion_picture","Q20650540":"motion_picture","Q21182682":"motion_picture","Q24887738":"motion_picture","Q28735856":"motion_picture","Q29017630":"motion_picture","Q30070675":"motion_picture","Q30897819":"motion_picture","Q33373157":"motion_picture","Q43079104":"motion_picture","Q54086290":"motion_picture","Q54344007":"motion_picture","Q56192069":"motion_picture","Q58415294":"motion_picture","Q58903570":"motion_picture","Q61283808":"motion_picture","Q219557":"motion_picture","Q226730":"motion_picture","Q24865":"motion_picture","Q24869":"motion_picture","Q31235":"motion_picture","Q3956596":"book","Q20012720":"book","Q27070652":"book","Q738826":"speech","Q2623953":"speech","Q2781658":"speech","Q3479856":"speech","Q7454995":"speech","Q735478":"motion_picture","Q124922":"motion_picture","Q472637":"motion_picture","Q1092621":"motion_picture","Q1323308":"motion_picture","Q1352102":"motion_picture","Q1464369":"motion_picture","Q1474387":"motion_picture","Q1480924":"motion_picture","Q1760864":"motion_picture","Q1800833":"motion_picture","Q2084909":"motion_picture","Q27697957":"motion_picture","Q2670855":"motion_picture","Q3566966":"motion_picture","Q4765076":"motion_picture","Q20732395":"motion_picture","Q1684595":"dataset","Q7168625":"motion_picture","Q8192124":"motion_picture","Q5008290":"dataset","Q220399":"dataset","Q285745":"dataset","Q542475":"motion_picture","Q846544":"motion_picture","Q3072039":"motion_picture","Q23739":"broadcast","Q338632":"broadcast","Q288608":"broadcast","Q3421644":"broadcast","Q5465514":"broadcast","Q5812300":"broadcast","Q18340550":"webpage","Q21232614":"broadcast","Q1224870":"dataset","Q79715":"broadcast","Q278425":"dataset","Q548206":"motion_picture","Q632149":"motion_picture","Q996838":"motion_picture","Q1147986":"motion_picture","Q2258523":"map","Q2514870":"dataset","Q2559958":"broadcast","Q4342538":"map","Q15518544":"broadcast","Q15518777":"broadcast","Q20707560":"dataset","Q20871935":"motion_picture","Q55960075":"motion_picture","Q1224984":"dataset","Q5227308":"dataset","Q12328550":"dataset","Q20089094":"motion_picture","Q21040941":"dataset","Q668312":"motion_picture","Q30047053":"dataset","Q18493502":"legal_case","Q1067692":"motion_picture","Q18655723":"motion_picture","Q844993":"song","Q4763437":"book","Q19894488":"book","Q262533":"speech","Q591055":"speech","Q1851305":"speech","Q3588034":"speech","Q20669604":"speech","Q29642901":"dataset","Q1061420":"map","Q2914518":"map","Q186286":"broadcast","Q940462":"broadcast","Q15823625":"map","Q54328426":"broadcast","Q1713326":"motion_picture","Q4453959":"motion_picture","Q5905221":"musical_score","Q23368955":"motion_picture","Q55848868":"motion_picture","Q3072024":"motion_picture","Q965136":"map","Q3546572":"broadcast","Q5449041":"motion_picture","Q6645282":"broadcast","Q25360500":"broadcast","Q376820":"dataset","Q2422383":"dataset","Q14552560":"article-newspaper","Q219897":"dataset","Q787397":"map","Q14943256":"book","Q15715669":"map","Q3196335":"book","Q4700148":"book","Q11669289":"map","Q56683168":"map","Q6749508":"dataset","Q13039854":"dataset","Q19354904":"legal_case","Q25917154":"legal_case","Q25456031":"dataset","Q47484674":"dataset","Q948454":"dataset","Q1734165":"dataset","Q5441632":"book","Q7321644":"book","Q7890265":"book","Q28406796":"dataset","Q46130774":"dataset","Q54820068":"book","Q17146139":"map","Q23691":"song","Q54251760":"motion_picture","Q851995":"map","Q25336664":"dataset","Q11310550":"dataset","Q18086661":"dataset","Q18086666":"dataset","Q18086667":"dataset","Q18086665":"dataset","Q18086671":"dataset","Q18089574":"dataset","Q18089575":"dataset","Q18099930":"dataset","Q18100125":"dataset","Q18889352":"dataset","Q18922463":"dataset","Q20005020":"dataset","Q798134":"thesis","Q1414362":"thesis","Q30749496":"thesis","Q46629343":"thesis","Q51282441":"thesis","Q52823264":"thesis","Q58210330":"thesis","Q1907875":"thesis","Q23745":"broadcast","Q399811":"broadcast","Q775344":"broadcast","Q1658957":"broadcast","Q1786567":"broadcast","Q4783297":"broadcast","Q5219865":"broadcast","Q7185299":"broadcast","Q7731786":"broadcast","Q7892363":"broadcast","Q11086745":"broadcast","Q20986817":"broadcast","Q60393504":"broadcast","Q16342":"dataset","Q632285":"dataset","Q1751819":"dataset","Q2560532":"dataset","Q6517465":"dataset","Q1898445":"map","Q41436524":"book","Q50310598":"dataset","Q5366501":"broadcast","Q9018710":"broadcast","Q11935070":"broadcast","Q688869":"manuscript","Q962741":"manuscript","Q7797194":"dataset","Q1662452":"motion_picture","Q4499034":"song","Q6009879":"book","Q595801":"book","Q894351":"map","Q1352815":"broadcast","Q1569955":"dataset","Q2538131":"book","Q3348148":"dataset","Q5535082":"dataset","Q7574095":"dataset","Q47214765":"broadcast","Q61990518":"broadcast","Q2933978":"broadcast","Q6537693":"dataset","Q6888313":"book","Q12270042":"book","Q21292860":"broadcast","Q350514":"map","Q357674":"map","Q5191437":"dataset","Q24265951":"dataset","Q25110971":"book","Q29966258":"dataset","Q25894883":"dataset","Q2093973":"book","Q1711400":"broadcast","Q3071014":"broadcast","Q61029068":"webpage","Q61996773":"webpage","Q175902":"dataset","Q1295532":"webpage","Q1474116":"webpage","Q1501313":"dataset","Q1916557":"dataset","Q5333554":"dataset","Q7247749":"dataset","Q4330198":"dataset","Q5570651":"dataset","Q7251500":"dataset","Q7277178":"dataset","Q7689673":"dataset","Q15407973":"webpage","Q15647814":"webpage","Q16335141":"dataset","Q18392279":"dataset","Q15623926":"webpage","Q22808320":"webpage","Q24571879":"webpage","Q24574745":"webpage","Q17362920":"webpage","Q28065731":"webpage","Q28208970":"dataset","Q30432511":"webpage","Q54662266":"webpage","Q56428020":"webpage","Q58036154":"webpage","Q58181524":"webpage","Q58423626":"webpage","Q59541917":"webpage","Q59542487":"webpage","Q5227321":"dataset","Q178840":"broadcast","Q482612":"broadcast","Q662197":"broadcast","Q1054760":"broadcast","Q1273568":"broadcast","Q1676730":"broadcast","Q1802588":"broadcast","Q2388283":"broadcast","Q3189895":"broadcast","Q3951815":"broadcast","Q5778915":"broadcast","Q7050677":"broadcast","Q7135559":"broadcast","Q9335577":"broadcast","Q9671105":"broadcast","Q20061443":"broadcast","Q20220309":"broadcast","Q20267837":"broadcast","Q21233490":"broadcast","Q21191068":"broadcast","Q27868077":"broadcast","Q30939244":"broadcast","Q55082620":"broadcast","Q56320653":"broadcast","Q45787211":"dataset","Q1799894":"broadcast","Q19220511":"dataset","Q7841716":"motion_picture","Q5987970":"book","Q7864671":"motion_picture","Q21504449":"broadcast","Q61896850":"motion_picture","Q61911910":"motion_picture","Q15184295":"webpage","Q29581299":"book","Q3507630":"dataset","Q5571730":"webpage","Q13231199":"webpage","Q15851373":"webpage","Q19692233":"webpage","Q2921195":"book","Q20009925":"webpage","Q21167233":"webpage","Q25456482":"webpage","Q26884324":"webpage","Q28197061":"webpage","Q30032916":"webpage","Q33532284":"webpage","Q37152856":"webpage","Q19887878":"webpage","Q30044873":"report","Q11664270":"broadcast","Q1852859":"map","Q2297927":"motion_picture","Q2188827":"manuscript","Q4922471":"broadcast","Q16247289":"broadcast","Q25381170":"book","Q25696292":"dataset","Q11398":"dataset","Q210918":"dataset","Q267474":"dataset","Q1062352":"dataset","Q548492":"dataset","Q732744":"dataset","Q1520859":"dataset","Q1744559":"dataset","Q2748242":"dataset","Q3445240":"dataset","Q3518464":"dataset","Q3546241":"dataset","Q5172500":"dataset","Q6857882":"dataset","Q7398671":"dataset","Q22808060":"song","Q22298551":"dataset","Q22935148":"dataset","Q23014490":"dataset","Q23015153":"dataset","Q185867":"motion_picture","Q192625":"dataset","Q784969":"dataset","Q917904":"dataset","Q3546232":"dataset","Q4382932":"dataset","Q2357684":"dataset","Q2490652":"dataset","Q562667":"treaty","Q11510761":"treaty","Q39234115":"treaty","Q39235586":"treaty","Q39236188":"treaty","Q39236506":"treaty","Q39237589":"treaty","Q691836":"dataset","Q2299775":"dataset","Q2584888":"dataset","Q934210":"dataset","Q16355541":"dataset","Q57560929":"song","Q59826893":"dataset","Q478216":"dataset","Q1138178":"dataset","Q2621880":"dataset","Q2859969":"dataset","Q2964498":"dataset","Q4223049":"dataset","Q4421014":"dataset","Q16549505":"dataset","Q21441341":"dataset","Q26975748":"dataset","Q5366097":"motion_picture","Q1137588":"song","Q6022825":"broadcast","Q15977715":"broadcast","Q24906243":"broadcast","Q471839":"motion_picture","Q1794431":"motion_picture","Q3080071":"broadcast","Q6942568":"motion_picture","Q11900986":"motion_picture","Q16677772":"motion_picture","Q17517379":"motion_picture","Q20667187":"motion_picture","Q29168811":"motion_picture","Q34487266":"broadcast","Q47486001":"motion_picture","Q57780531":"motion_picture","Q223770":"motion_picture","Q4836991":"motion_picture","Q212781":"motion_picture","Q41270":"song","Q383904":"song","Q564848":"song","Q721644":"song","Q5158512":"song","Q6037387":"song","Q3962943":"motion_picture","Q21759196":"motion_picture","Q60630702":"motion_picture","Q222639":"motion_picture","Q1033891":"motion_picture","Q1535153":"motion_picture","Q1740789":"motion_picture","Q1776156":"motion_picture","Q1894374":"motion_picture","Q2421031":"motion_picture","Q332564":"motion_picture","Q853630":"motion_picture","Q909586":"motion_picture","Q987831":"motion_picture","Q1341051":"motion_picture","Q1342372":"motion_picture","Q1696148":"motion_picture","Q2584671":"motion_picture","Q4174664":"motion_picture","Q883179":"motion_picture","Q4925568":"motion_picture","Q5551875":"motion_picture","Q13377551":"motion_picture","Q16247268":"motion_picture","Q18089587":"motion_picture","Q18355406":"motion_picture","Q18648407":"motion_picture","Q4840473":"motion_picture","Q20656232":"motion_picture","Q23044991":"motion_picture","Q25110269":"motion_picture","Q27959357":"motion_picture","Q28968258":"motion_picture","Q28968511":"motion_picture","Q43911809":"motion_picture","Q1276148":"dataset","Q3546236":"dataset","Q819652":"motion_picture","Q1433443":"motion_picture","Q2096633":"motion_picture","Q10654943":"motion_picture","Q15898171":"motion_picture","Q1502766":"motion_picture","Q22981906":"motion_picture","Q33218678":"dataset","Q33219080":"dataset","Q1502102":"dataset","Q290066":"dataset","Q21473954":"dataset","Q884257":"map","Q1136047":"song","Q3442060":"motion_picture","Q6722594":"motion_picture","Q22802898":"dataset","Q1147354":"song","Q541947":"song","Q762917":"song","Q896981":"song","Q1329536":"song","Q1523875":"song","Q1802243":"song","Q4666464":"song","Q5419334":"song","Q5956747":"song","Q5956766":"song","Q10288496":"song","Q13142456":"song","Q54932319":"broadcast","Q16523070":"book","Q1345076":"dataset","Q1331138":"dataset","Q4984974":"motion_picture","Q5442753":"motion_picture","Q59688552":"motion_picture","Q1030329":"motion_picture","Q2560052":"motion_picture","Q50306849":"dataset","Q9351310":"dataset","Q17093751":"motion_picture","Q55616422":"motion_picture","Q5400070":"motion_picture","Q7097859":"motion_picture","Q2518205":"motion_picture","Q39774781":"song","Q40039114":"song","Q496523":"motion_picture","Q586250":"motion_picture","Q658334":"song","Q1206090":"song","Q2642760":"motion_picture","Q2956178":"song","Q3656521":"song","Q4184716":"song","Q4400497":"song","Q5897543":"motion_picture","Q10743749":"song","Q11989328":"song","Q12623540":"song","Q19367312":"motion_picture","Q47011432":"broadcast","Q61057707":"broadcast","Q1192644":"broadcast","Q1193356":"broadcast","Q1193877":"broadcast","Q1193889":"broadcast","Q1198546":"broadcast","Q1200102":"broadcast","Q1200891":"broadcast","Q1203502":"broadcast","Q1328971":"broadcast","Q15548228":"broadcast","Q18611586":"broadcast","Q27986339":"broadcast","Q16984663":"motion_picture","Q535518":"motion_picture","Q583768":"motion_picture","Q1377546":"motion_picture","Q2254193":"motion_picture","Q2292320":"motion_picture","Q3677202":"motion_picture","Q4044177":"motion_picture","Q4075563":"motion_picture","Q731194":"motion_picture","Q5578091":"motion_picture","Q5768328":"motion_picture","Q6926334":"motion_picture","Q7116678":"motion_picture","Q2527949":"dataset","Q6410349":"song","Q58006100":"dataset","Q1065413":"dataset","Q1334294":"dataset","Q5281480":"dataset","Q14806579":"dataset","Q21629439":"broadcast","Q27965091":"broadcast","Q27965088":"broadcast","Q27965089":"broadcast","Q1117103":"motion_picture","Q15077373":"song","Q21848887":"song","Q42525933":"song","Q1246452":"song","Q1564657":"song","Q1786016":"song","Q4138449":"song","Q26211803":"dataset","Q28107644":"dataset","Q438958":"dataset","Q893182":"dataset","Q1361620":"dataset","Q1744558":"dataset","Q2558761":"broadcast","Q3663344":"dataset","Q5837451":"dataset","Q17080472":"dataset","Q18762344":"dataset","Q22936940":"dataset","Q51282626":"thesis","Q51283070":"thesis","Q51283092":"thesis","Q51283110":"thesis","Q51283164":"thesis","Q51283181":"thesis","Q51283199":"thesis","Q51283219":"thesis","Q51283231":"thesis","Q51283362":"thesis","Q1789476":"dataset","Q1741854":"broadcast","Q11396323":"motion_picture","Q1428162":"song","Q4440575":"song","Q2137852":"motion_picture","Q20443008":"motion_picture","Q9049284":"song","Q2976573":"dataset","Q7247163":"dataset","Q18327786":"dataset","Q18327800":"dataset","Q28444881":"song","Q47009776":"motion_picture","Q4078107":"song","Q12242979":"broadcast","Q1308255":"dataset","Q828962":"dataset","Q2976602":"dataset","Q881912":"broadcast","Q16861376":"dataset","Q59784758":"broadcast","Q829147":"song","Q6457531":"motion_picture","Q28030321":"broadcast","Q28225717":"broadcast","Q4663261":"webpage","Q15145755":"webpage","Q18707678":"webpage","Q18711811":"webpage","Q20160182":"webpage","Q20870830":"webpage","Q22676729":"webpage","Q26214208":"webpage","Q28801937":"webpage","Q30279428":"webpage","Q55510433":"webpage","Q59259626":"webpage","Q20769287":"webpage","Q23894233":"webpage","Q24046192":"webpage","Q24514938":"webpage","Q30330522":"webpage","Q38084761":"webpage","Q58118449":"webpage","Q2886579":"dataset","Q21623879":"webpage","Q28092864":"webpage","Q52147067":"webpage","Q18043430":"webpage","Q18810260":"dataset","Q18889371":"dataset","Q18889411":"dataset","Q20893947":"legal_case","Q43096126":"motion_picture","Q56876503":"webpage","Q58408484":"webpage","Q58492747":"webpage","Q61984657":"webpage","Q3309896":"motion_picture","Q5864844":"motion_picture","Q6190581":"webpage","Q25826840":"webpage","Q220898":"motion_picture","Q2513417":"dataset","Q56885002":"webpage","Q179600":"dataset","Q714750":"dataset","Q15101896":"dataset","Q56558180":"song","Q845648":"webpage","Q58310010":"book","Q16937368":"song","Q28135297":"song","Q50309914":"dataset","Q57560968":"song","Q61740934":"song","Q61729725":"song","Q1047299":"motion_picture","Q2281511":"motion_picture","Q4292083":"motion_picture","Q11446446":"motion_picture","Q11464558":"motion_picture","Q11620244":"motion_picture","Q11673786":"motion_picture","Q16000226":"motion_picture","Q43069510":"motion_picture","Q8066387":"motion_picture","Q16824564":"motion_picture","Q52631698":"song","Q20589414":"song","Q20621902":"song","Q19659229":"song","Q2997685":"song","Q5124548":"song","Q512410":"song","Q23978249":"song","Q6647160":"webpage","Q18170752":"song","Q5881246":"song","Q1723850":"motion_picture","Q169672":"motion_picture","Q622310":"motion_picture","Q3072042":"motion_picture","Q5104880":"motion_picture","Q193605":"song","Q20818018":"dataset","Q1065444":"motion_picture","Q5258881":"motion_picture","Q856638":"dataset","Q5769583":"motion_picture","Q5769580":"motion_picture","Q5769586":"motion_picture","Q5769589":"motion_picture","Q5769592":"motion_picture","Q34848596":"motion_picture","Q2145099":"motion_picture","Q43082648":"broadcast","Q21441352":"dataset","Q2976563":"dataset","Q4680764":"dataset","Q4936202":"dataset","Q4992609":"dataset","Q5281190":"dataset","Q5281191":"dataset","Q5281189":"dataset","Q5281192":"dataset","Q5281193":"dataset","Q5465786":"dataset","Q5575198":"dataset","Q7133628":"dataset","Q7133619":"dataset","Q7133626":"dataset","Q7133625":"dataset","Q7133631":"dataset","Q7133632":"dataset","Q7133633":"dataset","Q7135076":"dataset","Q7136196":"dataset","Q7532102":"dataset","Q7539622":"dataset","Q7539620":"dataset","Q7992082":"dataset","Q7992083":"dataset","Q7992119":"dataset","Q7992116":"dataset","Q7992128":"dataset","Q7992164":"dataset","Q17145514":"dataset","Q28130146":"dataset","Q28130147":"dataset","Q28130145":"dataset","Q28134034":"dataset","Q28134060":"dataset","Q28134100":"dataset","Q28134126":"dataset","Q4179738":"song","Q26829682":"webpage","Q22870229":"webpage","Q22875692":"webpage","Q22876063":"webpage","Q22876332":"webpage","Q25737003":"webpage","Q25830508":"webpage","Q57971242":"webpage","Q5611964":"webpage","Q5613278":"webpage","Q5615491":"webpage","Q5618337":"webpage","Q5620523":"webpage","Q5621344":"webpage","Q5622928":"webpage","Q5624848":"webpage","Q5626725":"webpage","Q5636579":"webpage","Q5827463":"webpage","Q5904431":"webpage","Q5911510":"webpage","Q6072180":"webpage","Q6232685":"webpage","Q6305829":"webpage","Q6372354":"webpage","Q6419146":"webpage","Q6499145":"webpage","Q6584170":"webpage","Q6584434":"webpage","Q6606549":"webpage","Q6622740":"webpage","Q6632234":"webpage","Q7241821":"webpage","Q7485705":"webpage","Q8784047":"webpage","Q10560362":"webpage","Q10584970":"webpage","Q10712699":"webpage","Q10730006":"webpage","Q10805463":"webpage","Q10992965":"webpage","Q11011669":"webpage","Q11052053":"webpage","Q11223110":"webpage","Q11839555":"webpage","Q12930680":"webpage","Q13383621":"webpage","Q13394564":"webpage","Q13492790":"webpage","Q13512760":"webpage","Q13763959":"webpage","Q14335223":"webpage","Q14336297":"webpage","Q14336339":"webpage","Q14358273":"webpage","Q14358335":"webpage","Q14358826":"webpage","Q14358898":"webpage","Q14358899":"webpage","Q14396951":"webpage","Q14404469":"webpage","Q14445515":"webpage","Q22867433":"webpage","Q15709178":"webpage","Q17615621":"webpage","Q18340985":"webpage","Q18881752":"webpage","Q22668105":"webpage","Q22706969":"webpage","Q22830149":"webpage","Q22834716":"webpage","Q22834726":"webpage","Q22838914":"webpage","Q22844738":"webpage","Q22846593":"webpage","Q22846942":"webpage","Q22846954":"webpage","Q22846964":"webpage","Q22858302":"webpage","Q22862005":"webpage","Q22867722":"webpage","Q22869003":"webpage","Q33130924":"motion_picture","Q30415057":"webpage","Q55648788":"webpage","Q4663903":"webpage","Q21528878":"webpage","Q22247630":"webpage","Q249083":"dataset","Q1750705":"dataset","Q955185":"dataset","Q1326107":"dataset","Q1520639":"dataset","Q2943040":"dataset","Q6404298":"dataset","Q7248117":"dataset","Q7674850":"dataset","Q29057009":"webpage","Q35250433":"webpage","Q35779580":"webpage","Q47382471":"webpage","Q47524402":"webpage","Q54734643":"webpage","Q58573615":"webpage","Q61866692":"webpage","Q8615872":"webpage","Q21286738":"webpage","Q21469493":"webpage","Q21479588":"webpage","Q23841178":"webpage","Q24571886":"webpage","Q26211786":"dataset","Q28368760":"webpage","Q28373483":"webpage","Q849666":"motion_picture","Q18089617":"motion_picture","Q18889701":"dataset","Q20010800":"webpage","Q163126":"dataset","Q1967745":"dataset","Q2122972":"dataset","Q2565860":"dataset","Q3516420":"dataset","Q13331174":"webpage","Q15088954":"dataset","Q15885744":"dataset","Q16069643":"dataset","Q17146890":"dataset","Q18435139":"dataset","Q20107258":"dataset","Q23894246":"webpage","Q57733325":"dataset","Q17175676":"motion_picture","Q26196748":"motion_picture","Q21484471":"webpage","Q265147":"song","Q56558213":"song","Q627181":"song","Q1151259":"song","Q7023411":"song","Q190635":"dataset","Q526334":"dataset","Q1982918":"dataset","Q2362354":"dataset","Q22842824":"webpage","Q3129804":"motion_picture","Q22677515":"webpage","Q48552277":"webpage","Q56876519":"webpage","Q11753321":"webpage","Q15671253":"webpage","Q20769160":"webpage","Q24731821":"webpage","Q26142649":"webpage","Q36330215":"webpage","Q6306272":"webpage","Q14385296":"webpage","Q14403646":"webpage","Q20107493":"dataset","Q20743001":"webpage","Q14460829":"webpage","Q11643859":"song","Q16141944":"song","Q17990546":"song","Q20043946":"song","Q44292661":"webpage","Q29075123":"webpage","Q40218570":"webpage","Q910144":"dataset","Q5622823":"webpage","Q13565583":"webpage","Q19648608":"webpage","Q19915239":"dataset","Q21278897":"webpage","Q21441359":"dataset","Q21441363":"dataset","Q23841351":"webpage","Q26932615":"webpage","Q26961029":"webpage","Q27949687":"webpage","Q27949697":"webpage","Q28858528":"webpage","Q29075121":"webpage","Q922853":"song","Q3879286":"song","Q3368338":"dataset","Q10997407":"webpage","Q19842659":"webpage","Q56062113":"webpage"}'),N=e=>{let{P1545:t}=e;return t?parseInt(t[0]):-1},D=e=>{let{value:t,qualifiers:n}=e,[r]=(e=>[].concat(...[e.P1932,e.P1810].filter(Boolean)))(n);return r||(r="string"===typeof t?t:H(t)),r=r?(0,I.parse)(r):{literal:r},r._ordinal=N(n),r},M=e=>e.map(D).sort(((e,t)=>e._ordinal-t._ordinal)),B=e=>{const t=e.claims.P17[0].value,n=t.claims.P1813.filter((e=>{let{qualifiers:{P31:t}}=e;return!t||"Q28840786"!==t[0]}));return H(e)+", "+(n[0]||t.claims.P1448[0]).value},Q=e=>e.claims.P1476?e.claims.P1476[0].value:H(e),U=e=>e.map((e=>{let{value:t}=e;return H(t)})).join(","),F=e=>({"date-parts":e.map((e=>(0,L.K0)(e.value))).filter((e=>e&&e["date-parts"])).map((e=>e["date-parts"][0]))});function z(e,t,n){switch(e){case"type":return q(t);case"author":case"director":case"container-author":case"collection-editor":case"composer":case"editor":case"illustrator":case"original-author":case"recipient":case"reviewed-author":case"translator":return M(t);case"issued":case"original-date":return(0,L.K0)(t);case"event-date":return F(t);case"keyword":return U(t);case"container-title":case"collection-title":case"event":case"medium":case"publisher":case"original-publisher":return Q(t);case"event-place":case"original-publisher-place":case"publisher-place":return B(t);case"collection-number":return N(t[0].qualifiers);case"number-of-volumes":return t.length;default:return t}}function q(e){return R[e]?R[e]:(l.logger.unmapped("[plugin-wikidata]","publication type",e),"book")}function H(e){if(!e)return;const t=d.langs.find((t=>e.labels[t]));return e.labels[t]}const W=JSON.parse('{"author":{"values":"all","props":["P50","P2093"]},"composer":{"values":"all","props":["P86"]},"collection-editor":{"values":"all","props":["P179.P98"]},"collection-number":{"values":"all","props":["P179"]},"collection-title":"P179","container-author":{"values":"all","props":["P1433.P50","P1433.P2093","P361.P50","P361.P2093"]},"container-title":{"values":"any","props":["P1433","P361"]},"container-title-short":{"values":"any","props":["P1433.P1813","P1433.P1160"]},"director":{"values":"all","props":["P57"]},"DOI":"P356","edition":"P393","editor":{"values":"all","props":["P98"]},"event":"P1433.P4745","event-date":{"values":"all","props":["P1433.P4745.P580","P1433.P4745.P582"]},"event-place":"P1433.P4745.P276","illustrator":{"values":"all","props":["P110"]},"ISBN":{"values":"any","props":["P212","P957"]},"ISSN":"P1433.P236","issue":"P433","issued":"P577","journalAbbreviation":{"values":"any","props":["P1433.P1813","P1433.P1160"]},"keyword":{"values":"all","props":["P921"]},"language":{"values":"any","props":["P407.P218","P364.P218"]},"medium":{"values":"any","props":["P437","P186"]},"number-of-pages":"P1104","number-of-volumes":{"values":"all","props":["P179.P527"]},"original-author":{"values":"all","props":["P629.P50","P629.P2093"]},"original-date":"P629.P577","original-publisher":"P629.P123","original-publisher-place":{"values":"any","props":["P629.P123.P740","P629.P123.P159"]},"original-title":"P629.P1476","page":"P304","PMID":"P698","PMCID":"P932","publisher":"P123","publisher-place":{"values":"any","props":["P123.P740","P123.P159"]},"recipient":{"values":"all","props":["P1817"]},"reviewed-title":"P921.P1476","reviewed-author":{"values":"all","props":["P921.P50","P921.P2093"]},"scale":"P1752","title":"P1476","translator":{"values":"all","props":["P655"]},"type":"P31","version":"P348","volume":"P478","URL":{"values":"any","props":["P856","P953","P973","P2699"]}}'),G=JSON.parse('{"P2860":"Cites","P921":"Main subject","P3181":"OpenCitations bibliographic resource ID","P364":"Original language of work"}');function V(e,t,n){const r=e.split(".");return n.delete(r[0]),function e(t,n){let[r,...i]=t,{claims:o}=n;return i.length?o[r]&&o[r].length?e(i,o[r][0].value):void 0:o[r]}(r,t)}function $(e,t,n){if("object"!==typeof e){const r=V(e,t,n);return r&&r[0].value}const r=[].concat(...e.props.map((e=>V(e,t,n))).filter(Boolean));return"all"===e.values?r[0]&&r:r[0]&&r[0].value}function K(e){const t={id:e.id,_wikiId:e.id,source:"Wikidata"},n=new Set(Object.keys(e.claims));for(const r in W){const i=$(W[r],e,n);if(i){const e=z(r,i);e&&(t[r]=e)}}for(const r of n)r in G||l.logger.unmapped("[plugin-wikidata]","property",r);return t.title||(t.title=H(e)),(t["reviewed-title"]||t["reviewed-author"])&&("review"!==t.type.slice(0,6)&&(t.type="review"),delete t.keyword),t.recipient&&(t.type="personal_communication"),t.event&&(t.type="paper-conference"),t}async function Y(e){let{entities:t}=e;return(await P(t)).map(K)}function Z(e){let{entities:t}=e;return j(t).map(K)}const J=e=>e.match(/\/(Q\d+)(?:[#?/]|\s*$)/)[1],X="@wikidata",ee={id:r,entity:a,prop:o,url:s,api:i},te={"@wikidata/id":{parse:p,parseType:{dataType:"String",predicate:/^Q\d+$/}},"@wikidata/list+text":{parse:e=>e.trim().split(/(?:[\s,]\s*)/g),parseType:{dataType:"String",predicate:/^\s*((?:Q\d+(?:[\s,]\s*))*Q\d+)\s*$/}},"@wikidata/api":{parse:m,parseAsync:g,parseType:{dataType:"String",predicate:/^(https?:\/\/(?:www\.)?wikidata.org\/w\/api\.php(?:\?.*)?)$/,extends:"@else/url"}},"@wikidata/array+api":{parse:m,parseAsync:g,parseType:{dataType:"Array",elementConstraint:"@wikidata/api"}},"@wikidata/url":{parse:J,parseType:{dataType:"String",predicate:/\/(Q\d+)(?:[#?/]|\s*$)/,extends:"@else/url"}},"@wikidata/list+object":{parse:p,parseType:{dataType:"Array",elementConstraint:"@wikidata/id"}},"@wikidata/object":{parse:Z,parseAsync:Y,parseType:{dataType:"SimpleObject",propertyConstraint:{props:"entities"}}},"@wikidata/array+object":{parse:e=>e.reduce(((e,t)=>{let{success:n,entities:r}=t;return e.success&=n,Object.assign(e.entities,r),e}),{}),parseType:{dataType:"Array",elementConstraint:"@wikidata/object"},outputs:"@wikidata/object"},"@wikidata/prop":{parse:z},"@wikidata/type":{parse:q}};l.plugins.add(X,{input:te,config:d})},6908:(e,t,n)=>{"use strict";Object.defineProperty(t,"K0",{enumerable:!0,get:function(){return r.default}});var r=o(n(112)),i=o(n(3688));function o(e){return e&&e.__esModule?e:{default:e}}},112:(e,t)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},o=/ (?:to|[-/]) | ?(?:--|[\u2013\u2014]) ?/,a=/^(\d{4}-\d{2}-\d{2})\/(\d{4}-\d{2}-\d{2})$/;function s(e){return i[e.toLowerCase().slice(0,3)]}const l=function(e){const t=/^(\d{4}|[-+]\d{6,})-(\d{2})(?:-(\d{2}))?/;if("string"!==typeof e||!t.test(e))return null;const r=n(e.match(t),4),i=r[1],o=r[2],a=r[3];return+o?+a?[i,o,a]:[i,o]:[i]},c=function(e){const t=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if("string"!==typeof e||!t.test(e))return null;let r=n(e.match(t),4),i=r[1],o=r[2],a=r[3];return o=s(o),o?[a,o,i]:null};function u(e){const t=function(e){const t=new Date(e);return"number"!==typeof e||isNaN(t.valueOf())?null:[t.getFullYear(),t.getMonth()+1,t.getDate()]}(e)||l(e)||c(e)||function(e){const t=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if("string"!==typeof e||!t.test(e))return null;const r=n(e.match(t),4),i=r[1],o=r[2],a=r[3];return new Date(a,i,o).getMonth()===parseInt(i)?[a,i,o]:null}(e)||function(e){const t=/^(\d{1,2})[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](-?\d+)/i,r=/^(-?\d+)[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](\d{1,2})/i;let i,o,a;if("string"!==typeof e)return null;if(t.test(e)){var l=n(e.match(t),4);a=l[1],o=l[2],i=l[3]}else{if(!r.test(e))return null;var c=n(e.match(r),4);i=c[1],o=c[2],a=c[3]}if(s(o))o=s(o);else if(isNaN(o))return null;return[i,o,a]}(e)||function(e){const t=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if("string"===typeof e&&t.test(e)){const n=e.match(t).slice(1,3);let r;if(s(n[1]))r=s(n.pop());else if(s(n[0]))r=s(n.shift());else{if(n.some(isNaN)||n.every((e=>+e<0)))return null;r=+n[0]<0||+n[0]>+n[1]&&+n[1]>0?n.pop():n.shift()}return[n.pop(),r]}return null}(e)||function(e){if("string"!==typeof e)return null;const t=e.match(/^(\d+) ?(a\.?d\.?|b\.?c\.?)$/i);if(t){const e=n(t.slice(1),2);return[e[0]*("a"===e[1].toLowerCase()[0]?1:-1)]}return/^-?\d+$/.test(e)?[e]:null}(e);return t&&t.map((e=>parseInt(e)))}var d=function(e,t){const n=[],r="string"===typeof e&&function(e){return a.test(e)?e.match(a).slice(1,3):e.split(o)}(e);t?n.push(e,t):r&&2===r.length?n.push(...r):n.push(e);const i=n.map(u);return i.filter(Boolean).length===n.length?{"date-parts":i}:{raw:t?n.join("/"):e}};t.default=d},3688:(e,t)=>{"use strict";function n(e,t,n){if(e.length>=t)return e;for(;e.length<t;)e=n+e;return e.slice(-t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";if(!e["date-parts"])return e.raw;const r=e["date-parts"][0].map((e=>e.toString()));switch(r.length){case 3:r[2]=n(r[2],2,"0");case 2:r[1]=n(r[1],2,"0");case 1:r[0]=n(r[0],4,"0")}return r.join(t)};t.default=r},4484:(e,t,n)=>{"use strict";n.d(t,{c:()=>u});var r=n(5984),i=n(2540),o=n(1468),a=n(5504),s=n(1512),l=n(3620),c=o.forwardRef((function(e,t){var n=e.children,s=e.classes,c=e.className,u=e.color,d=void 0===u?"inherit":u,p=e.component,h=void 0===p?"svg":p,f=e.fontSize,m=void 0===f?"medium":f,g=e.htmlColor,v=e.titleAccess,b=e.viewBox,y=void 0===b?"0 0 24 24":b,_=(0,i.c)(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return o.createElement(h,(0,r.c)({className:(0,a.c)(s.root,c,"inherit"!==d&&s["color".concat((0,l.c)(d))],"default"!==m&&"medium"!==m&&s["fontSize".concat((0,l.c)(m))]),focusable:"false",viewBox:y,color:g,"aria-hidden":!v||void 0,role:v?"img":void 0,ref:t},_),n,v?o.createElement("title",null,v):null)}));c.muiName="SvgIcon";const u=(0,s.c)((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(c)},9816:(e,t,n)=>{"use strict";n.d(t,{IV:()=>h,OM:()=>s,SS:()=>u,W4:()=>d,ct:()=>c,sP:()=>p});var r=n(1856);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.c)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function a(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=l(e),r=l(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",u=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(c+="a",u.push(t[3])),a({type:c,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return l(e)>.5?p(e,t):h(e,t)}function u(e,t){return d(e,t)}function d(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,a(e)}function p(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function h(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return a(e)}},78:(e,t,n)=>{"use strict";n.d(t,{c:()=>R});var r=n(2540),i=n(8384),o=n(5984),a=["xs","sm","md","lg","xl"];var s=n(2312);function l(e,t,n){var r;return(0,o.c)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,o.c)({paddingLeft:t(2),paddingRight:t(2)},n,(0,s.c)({},e.up("sm"),(0,o.c)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},(0,s.c)(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,s.c)(r,e.up("sm"),{minHeight:64}),r)},n)}var c=n(1856);const u={black:"#000",white:"#fff"};const d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};const p={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};const h={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};const f={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};const m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};const g={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};const v={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};var b=n(9816),y={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:u.white,default:d[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_={text:{primary:u.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:d[800],default:"#303030"},action:{active:u.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,b.IV)(e.main,i):"dark"===t&&(e.dark=(0,b.sP)(e.main,o)))}function w(e){return Math.round(1e5*e)/1e5}function E(e){return w(e)}var T={textTransform:"uppercase"},C='"Roboto", "Helvetica", "Arial", sans-serif';function k(e,t){var n="function"===typeof t?t(e):t,a=n.fontFamily,s=void 0===a?C:a,l=n.fontSize,c=void 0===l?14:l,u=n.fontWeightLight,d=void 0===u?300:u,p=n.fontWeightRegular,h=void 0===p?400:p,f=n.fontWeightMedium,m=void 0===f?500:f,g=n.fontWeightBold,v=void 0===g?700:g,b=n.htmlFontSize,y=void 0===b?16:b,_=n.allVariants,x=n.pxToRem,k=(0,r.c)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var S=c/14,O=x||function(e){return"".concat(e/y*S,"rem")},A=function(e,t,n,r,i){return(0,o.c)({fontFamily:s,fontWeight:e,fontSize:O(t),lineHeight:n},s===C?{letterSpacing:"".concat(w(r/t),"em")}:{},i,_)},j={h1:A(d,96,1.167,-1.5),h2:A(d,60,1.2,-.5),h3:A(h,48,1.167,0),h4:A(h,34,1.235,.25),h5:A(h,24,1.334,0),h6:A(m,20,1.6,.15),subtitle1:A(h,16,1.75,.15),subtitle2:A(m,14,1.57,.1),body1:A(h,16,1.5,.15),body2:A(h,14,1.43,.15),button:A(m,14,1.75,.4,T),caption:A(h,12,1.66,.4),overline:A(h,12,2.66,1,T)};return(0,i.c)((0,o.c)({htmlFontSize:y,pxToRem:O,round:E,fontFamily:s,fontSize:c,fontWeightLight:d,fontWeightRegular:h,fontWeightMedium:m,fontWeightBold:v},j),k,{clone:!1})}function S(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const O=["none",S(0,2,1,-1,0,1,1,0,0,1,3,0),S(0,3,1,-2,0,2,2,0,0,1,5,0),S(0,3,3,-2,0,3,4,0,0,1,8,0),S(0,2,4,-1,0,4,5,0,0,1,10,0),S(0,3,5,-1,0,5,8,0,0,1,14,0),S(0,3,5,-1,0,6,10,0,0,1,18,0),S(0,4,5,-2,0,7,10,1,0,2,16,1),S(0,5,5,-3,0,8,10,1,0,3,14,2),S(0,5,6,-3,0,9,12,1,0,3,16,2),S(0,6,6,-3,0,10,14,1,0,4,18,3),S(0,6,7,-4,0,11,15,1,0,4,20,3),S(0,7,8,-4,0,12,17,2,0,5,22,4),S(0,7,8,-4,0,13,19,2,0,5,24,4),S(0,7,9,-4,0,14,21,2,0,5,26,4),S(0,8,9,-5,0,15,22,2,0,6,28,5),S(0,8,10,-5,0,16,24,2,0,6,30,5),S(0,8,11,-5,0,17,26,2,0,6,32,5),S(0,9,11,-5,0,18,28,2,0,7,34,6),S(0,9,12,-6,0,19,29,2,0,7,36,6),S(0,10,13,-6,0,20,31,3,0,8,38,7),S(0,10,13,-6,0,21,33,3,0,8,40,7),S(0,10,14,-6,0,22,35,3,0,8,42,7),S(0,11,14,-7,0,23,36,3,0,9,44,8),S(0,11,15,-7,0,24,38,3,0,9,46,8)];const A={borderRadius:4};var j=n(6304);var P=n(4880),I=n(8848);function L(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,s=e.mixins,w=void 0===s?{}:s,E=e.palette,T=void 0===E?{}:E,C=e.spacing,S=e.typography,L=void 0===S?{}:S,R=(0,r.c)(e,["breakpoints","mixins","palette","spacing","typography"]),N=function(e){var t=e.primary,n=void 0===t?{light:p[300],main:p[500],dark:p[700]}:t,a=e.secondary,s=void 0===a?{light:h.A200,main:h.A400,dark:h.A700}:a,l=e.error,w=void 0===l?{light:f[300],main:f[500],dark:f[700]}:l,E=e.warning,T=void 0===E?{light:m[300],main:m[500],dark:m[700]}:E,C=e.info,k=void 0===C?{light:g[300],main:g[500],dark:g[700]}:C,S=e.success,O=void 0===S?{light:v[300],main:v[500],dark:v[700]}:S,A=e.type,j=void 0===A?"light":A,P=e.contrastThreshold,I=void 0===P?3:P,L=e.tonalOffset,R=void 0===L?.2:L,N=(0,r.c)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function D(e){return(0,b.OM)(e,_.text.primary)>=I?_.text.primary:y.text.primary}var M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,o.c)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,c.c)(4,t));if("string"!==typeof e.main)throw new Error((0,c.c)(5,JSON.stringify(e.main)));return x(e,"light",n,R),x(e,"dark",r,R),e.contrastText||(e.contrastText=D(e.main)),e},B={dark:_,light:y};return(0,i.c)((0,o.c)({common:u,type:j,primary:M(n),secondary:M(s,"A400","A200","A700"),error:M(w),warning:M(T),info:M(k),success:M(O),grey:d,contrastThreshold:I,getContrastText:D,augmentColor:M,tonalOffset:R},B[j]),N)}(T),D=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,i=e.unit,s=void 0===i?"px":i,l=e.step,c=void 0===l?5:l,u=(0,r.c)(e,["values","unit","step"]);function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function p(e,t){var r=a.indexOf(t);return r===a.length-1?d(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[a[r+1]]?n[a[r+1]]:t)-c/100).concat(s,")")}return(0,o.c)({keys:a,values:n,up:d,down:function(e){var t=a.indexOf(e)+1,r=n[a[t]];return t===a.length?d("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-c/100).concat(s,")")},between:p,only:function(e){return p(e,e)},width:function(e){return n[e]}},u)}(n),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,j.I)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}(C),B=(0,i.c)({breakpoints:D,direction:"ltr",mixins:l(D,M,w),overrides:{},palette:N,props:{},shadows:O,typography:k(N,L),spacing:M,shape:A,transitions:P.cp,zIndex:I.c},R),Q=arguments.length,U=new Array(Q>1?Q-1:0),F=1;F<Q;F++)U[F-1]=arguments[F];return B=U.reduce((function(e,t){return(0,i.c)(e,t)}),B)}const R=L},3376:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});const r=(0,n(78).c)()},4880:(e,t,n)=>{"use strict";n.d(t,{cp:()=>s,rV:()=>o});var r=n(2540),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function a(e){return"".concat(Math.round(e),"ms")}const s={easing:i,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,s=void 0===n?o.standard:n,l=t.easing,c=void 0===l?i.easeInOut:l,u=t.delay,d=void 0===u?0:u;(0,r.c)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:a(s)," ").concat(c," ").concat("string"===typeof d?d:a(d))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}}},1512:(e,t,n)=>{"use strict";n.d(t,{c:()=>h});var r=n(5984),i=n(2540),o=n(1468),a=n(9996),s=n.n(a),l=n(3236),c=n(4328),u=n(2200);const d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var a=t.defaultTheme,d=t.withTheme,p=void 0!==d&&d,h=t.name,f=(0,i.c)(t,["defaultTheme","withTheme","name"]);var m=h,g=(0,l.c)(e,(0,r.c)({defaultTheme:a,Component:n,name:h||n.displayName,classNamePrefix:m},f)),v=o.forwardRef((function(e,t){e.classes;var s,l=e.innerRef,d=(0,i.c)(e,["classes","innerRef"]),f=g((0,r.c)({},n.defaultProps,e)),m=d;return("string"===typeof h||p)&&(s=(0,u.c)()||a,h&&(m=(0,c.c)({theme:s,name:h,props:d})),p&&!m.theme&&(m.theme=s)),o.createElement(n,(0,r.c)({ref:l||t,classes:f},m))}));return s()(v,n),v}};var p=n(3376);const h=function(e,t){return d(e,(0,r.c)({defaultTheme:p.c},t))}},8848:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});const r={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500}},3620:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(1856);function i(e){if("string"!==typeof e)throw new Error((0,r.c)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},2656:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{c:()=>r})},5696:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(5984),i=n(1468),o=n(4484);function a(e,t){var n=function(t,n){return i.createElement(o.c,(0,r.c)({ref:n},t),e)};return n.muiName=o.c.muiName,i.memo(i.forwardRef(n))}},664:(e,t,n)=>{"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=this;clearTimeout(t),t=setTimeout((function(){e.apply(a,i)}),n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{c:()=>r})},8148:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>r.c,createChainedFunction:()=>i.c,createSvgIcon:()=>o.c,debounce:()=>a.c,deprecatedPropType:()=>s,isMuiElement:()=>l.c,ownerDocument:()=>c.c,ownerWindow:()=>u.c,requirePropFactory:()=>d,setRef:()=>p.c,unstable_useId:()=>v.c,unsupportedProp:()=>h,useControlled:()=>f.c,useEventCallback:()=>m.c,useForkRef:()=>g.c,useIsFocusVisible:()=>b.c});var r=n(3620),i=n(2656),o=n(5696),a=n(664);function s(e,t){return function(){return null}}var l=n(168),c=n(7376),u=n(6804);function d(e){return function(){return null}}var p=n(9184);function h(e,t,n,r,i){return null}var f=n(6960),m=n(9568),g=n(576),v=n(5064),b=n(2880)},168:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(1468);function i(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},7376:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{c:()=>r})},6804:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(7376);function i(e){return(0,r.c)(e).defaultView||window}},9184:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{c:()=>r})},5064:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(1468);function i(e){var t=r.useState(e),n=t[0],i=t[1],o=e||n;return r.useEffect((function(){null==n&&i("mui-".concat(Math.round(1e5*Math.random())))}),[n]),o}},6960:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(1468);function i(e){var t=e.controlled,n=e.default,i=(e.name,e.state,r.useRef(void 0!==t).current),o=r.useState(n),a=o[0],s=o[1];return[i?t:a,r.useCallback((function(e){i||s(e)}),[])]}},9568:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(1468),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function o(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},576:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(1468),i=n(9184);function o(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.c)(e,n),(0,i.c)(t,n)}}),[e,t])}},2880:(e,t,n)=>{"use strict";n.d(t,{c:()=>f});var r=n(1468),i=n(4840),o=!0,a=!1,s=null,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function u(){o=!1}function d(){"hidden"===this.visibilityState&&a&&(o=!0)}function p(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function h(){a=!0,window.clearTimeout(s),s=window.setTimeout((function(){a=!1}),100)}function f(){return{isFocusVisible:p,onBlurVisible:h,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("visibilitychange",d,!0))}),[])}}},3564:(e,t,n)=>{"use strict";var r=n(5272),i=n(6536);t.c=void 0;var o=i(n(1468)),a=(0,r(n(1204)).default)(o.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");t.c=a},5140:(e,t,n)=>{"use strict";var r=n(5272),i=n(6536);t.c=void 0;var o=i(n(1468)),a=(0,r(n(1204)).default)(o.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.c=a},6212:(e,t,n)=>{"use strict";var r=n(5272),i=n(6536);t.c=void 0;var o=i(n(1468)),a=(0,r(n(1204)).default)(o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");t.c=a},6968:(e,t,n)=>{"use strict";var r=n(5272),i=n(6536);t.c=void 0;var o=i(n(1468)),a=(0,r(n(1204)).default)(o.createElement("path",{d:"M20 9H4v2h16V9zM4 15h16v-2H4v2z"}),"DragHandle");t.c=a},3651:(e,t,n)=>{"use strict";var r=n(5272),i=n(6536);t.c=void 0;var o=i(n(1468)),a=(0,r(n(1204)).default)(o.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");t.c=a},4968:(e,t,n)=>{"use strict";var r=n(5272),i=n(6536);t.c=void 0;var o=i(n(1468)),a=(0,r(n(1204)).default)(o.createElement("path",{d:"M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"}),"Translate");t.c=a},1204:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(8148)},9928:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});const r="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__"},4328:(e,t,n)=>{"use strict";function r(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}n.d(t,{c:()=>r})},3236:(e,t,n)=>{"use strict";n.d(t,{c:()=>cn});var r=n(2540),i=n(5984),o=n(1468),a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};const s="object"===("undefined"===typeof window?"undefined":a(window))&&"object"===("undefined"===typeof document?"undefined":a(document))&&9===document.nodeType;var l=n(4816),c=n(5776),u=n(4316),d=n(1632),p={}.constructor;function h(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(h);if(e.constructor!==p)return e;var t={};for(var n in e)t[n]=h(e[n]);return t}function f(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=h(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var m=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},g=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=m(e[n]," ");else t=m(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function v(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function b(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function y(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=v(n),l=s.linebreak,c=s.space;if(e&&o++,a)if(Array.isArray(a))for(var u=0;u<a.length;u++){var d=a[u];for(var p in d){var h=d[p];null!=h&&(r&&(r+=l),r+=b(p+":"+c+g(h)+";",o))}}else for(var f in a){var m=a[f];null!=m&&(r&&(r+=l),r+=b(f+":"+c+g(m)+";",o))}for(var y in t){var _=t[y];null!=_&&"fallbacks"!==y&&(r&&(r+=l),r+=b(y+":"+c+g(_)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+l+r+l),b(""+e+c+"{"+r,--o)+b("}",o)):r}var _=/([[\].#*$><+~=|^:(),"'`\s])/g,x="undefined"!==typeof CSS&&CSS.escape,w=function(e){return x?x(e):e.replace(_,"\\$1")},E=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),T=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,s=r.sheet,l=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=l((0,u.c)((0,u.c)(i)),s),i.selectorText="."+w(i.id)),i}(0,c.c)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=g(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.c)({},e,{allowEmpty:!0}):e;return y(this.selectorText,this.style,n)},(0,l.c)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(E),C={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new T(e,t,n)}},k={indent:1,children:!0},S=/@([\w-]+)/,O=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(S);for(var o in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new J((0,i.c)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=k);var t=v(e).linebreak;if(null==e.indent&&(e.indent=k.indent),null==e.children&&(e.children=k.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),A=/@container|@media|@supports\s+/,j={onCreateRule:function(e,t,n){return A.test(e)?new O(e,t,n):null}},P={indent:1,children:!0},I=/@keyframes\s+([\w-]+)/,L=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(I);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var l in this.id=!1===o?this.name:w(s(this,a)),this.rules=new J((0,i.c)({},n,{parent:this})),t)this.rules.add(l,t[l],(0,i.c)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=P);var t=v(e).linebreak;if(null==e.indent&&(e.indent=P.indent),null==e.children&&(e.children=P.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),R=/@keyframes\s+/,N=/\$([\w-]+)/g,D=function(e,t){return"string"===typeof e?e.replace(N,(function(e,n){return n in t?t[n]:e})):e},M=function(e,t,n){var r=e[t],i=D(r,n);i!==r&&(e[t]=i)},B={onCreateRule:function(e,t,n){return"string"===typeof e&&R.test(e)?new L(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&M(e,"animation-name",n.keyframes),"animation"in e&&M(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return D(e,r.keyframes);default:return e}}},Q=function(e){function t(){return e.apply(this,arguments)||this}return(0,c.c)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,i.c)({},e,{allowEmpty:!0}):e;return y(this.key,this.style,n)},t}(E),U={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new Q(e,t,n):null}},F=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=v(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=y(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return y(this.at,this.style,e)},e}(),z=/@font-face/,q={onCreateRule:function(e,t,n){return z.test(e)?new F(e,t,n):null}},H=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return y(this.key,this.style,e)},e}(),W={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new H(e,t,n):null}},G=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),V={"@charset":!0,"@import":!0,"@namespace":!0},$={onCreateRule:function(e,t,n){return e in V?new G(e,t,n):null}},K=[C,j,B,U,q,W,$],Y={process:!0},Z={force:!0,process:!0},J=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,o=r.parent,a=r.sheet,s=r.jss,l=r.Renderer,c=r.generateId,u=r.scoped,d=(0,i.c)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:l,generateId:c,scoped:u,name:e,keyframes:this.keyframes,selector:void 0},n),p=e;e in this.raw&&(p=e+"-d"+this.counter++),this.raw[p]=t,p in this.classes&&(d.selector="."+w(this.classes[p]));var h=f(p,t,d);if(!h)return null;this.register(h);var m=void 0===d.index?this.index.length:d.index;return this.index.splice(m,0,h),h},t.replace=function(e,t,n){var r=this.get(e),o=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==o&&(a=(0,i.c)({},n,{index:o})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof T?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof L&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof T?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof L&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Y);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var l in o.onProcessStyle(t.style,t,a),t.style){var c=t.style[l];c!==s[l]&&t.prop(l,c,Z)}for(var u in s){var d=t.style[u],p=s[u];null==d&&d!==p&&t.prop(u,null,Z)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=v(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),X=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,i.c)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new J(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ee=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),te=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,d.c)(t,["attached"]),i=v(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},(0,l.c)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ne=new te,re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ie="2f1acc6c3a606b082e5eef5e54414ffb";null==re[ie]&&(re[ie]=0);var oe=re[ie]++,ae=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+oe+i+t:o+n.key+"-"+oe+(i?"-"+i:"")+"-"+t}},se=function(e){var t;return function(){return t||(t=e()),t}},le=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},ce=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=g(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,o=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,o,i>-1?"important":"")}}catch(a){return!1}return!0},ue=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},de=function(e,t){return e.selectorText=t,e.selectorText===t},pe=se((function(){return document.querySelector("head")}));function he(e){var t=ne.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=pe(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var fe=se((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),me=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},ge=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},ve=function(){function e(e){this.getPropertyValue=le,this.setProperty=ce,this.removeProperty=ue,this.setSelector=de,this.hasInsertedRules=!1,this.cssRules=[],e&&ne.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=fe();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=he(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else pe().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=ge(n,t);if(!1===(i=me(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=ge(n,t),l=me(n,a,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof X&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),be=0,ye=function(){function e(e){this.id=be++,this.version="10.10.0",this.plugins=new ee,this.options={id:{minify:!1},createGenerateId:ae,Renderer:s?ve:null,plugins:[]},this.generateId=ae({minify:!1});for(var t=0;t<K.length;t++)this.plugins.use(K[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,i.c)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ne.index?0:ne.index+1);var r=new X(e,(0,i.c)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),ne.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,i.c)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var o=f(e,t,r);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),_e=function(e){return new ye(e)},xe="object"===typeof CSS&&null!=CSS&&"number"in CSS;function we(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=we(r);o&&(t||(t={}),t[n]=o)}}return t}_e();var Ee=n(4928),Te={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}};const Ce=Te;var ke=n(2200),Se=n(9928),Oe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ae=Date.now(),je="fnValues"+Ae,Pe="fnStyle"+ ++Ae;const Ie=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=f(e,{},n);return r[Pe]=t,r},onProcessStyle:function(e,t){if(je in t||Pe in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[je]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[Pe];o&&(i.style=o(e)||{});var a=i[je];if(a)for(var s in a)i.prop(s,a[s](e),r)}}};var Le="@global",Re="@global ",Ne=function(){function e(e,t,n){for(var r in this.type="global",this.at=Le,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new J((0,i.c)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),De=function(){function e(e,t,n){this.type="global",this.at=Le,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(8);this.rule=n.jss.createRule(r,t,(0,i.c)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Me=/\s*,\s*/g;function Be(e,t){for(var n=e.split(Me),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}const Qe=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Le)return new Ne(e,t,n);if("@"===e[0]&&e.substr(0,8)===Re)return new De(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,o=r?r[Le]:null;if(o){for(var a in o)t.addRule(a,o[a],(0,i.c)({},n,{selector:Be(a,e.selector)}));delete r[Le]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var o in r)if("@"===o[0]&&o.substr(0,Le.length)===Le){var a=Be(o.substr(Le.length),e.selector);t.addRule(a,r[o],(0,i.c)({},n,{selector:a})),delete r[o]}}(e,t))}}};var Ue=/\s*,\s*/g,Fe=/&/g,ze=/\$([\w-]+)/g;const qe=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Ue),r=e.split(Ue),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(Fe,a):a+" "+l}return i}function n(e,t,n){if(n)return(0,i.c)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var o=(0,i.c)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(r,o,a){if("style"!==o.type)return r;var s,l,c=o,u=c.options.parent;for(var d in r){var p=-1!==d.indexOf("&"),h="@"===d[0];if(p||h){if(s=n(c,u,s),p){var f=t(d,c.selector);l||(l=e(u,a)),f=f.replace(ze,l);var m=c.key+"-"+d;"replaceRule"in u?u.replaceRule(m,r[d],(0,i.c)({},s,{selector:f})):u.addRule(m,r[d],(0,i.c)({},s,{selector:f}))}else h&&u.addRule(d,{},s).addRule(c.key,r[d],{selector:c.selector});delete r[d]}}return r}}};var He=/[A-Z]/g,We=/^ms-/,Ge={};function Ve(e){return"-"+e.toLowerCase()}const $e=function(e){if(Ge.hasOwnProperty(e))return Ge[e];var t=e.replace(He,Ve);return Ge[e]=We.test(t)?"-"+t:t};function Ke(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:$e(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Ke):t.fallbacks=Ke(e.fallbacks)),t}const Ye=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Ke(e[t]);return e}return Ke(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=$e(t);return t===r?e:(n.prop(r,e),null)}}};var Ze=xe&&CSS?CSS.px:"px",Je=xe&&CSS?CSS.ms:"ms",Xe=xe&&CSS?CSS.percent:"%";function et(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var tt=et({"animation-delay":Je,"animation-duration":Je,"background-position":Ze,"background-position-x":Ze,"background-position-y":Ze,"background-size":Ze,border:Ze,"border-bottom":Ze,"border-bottom-left-radius":Ze,"border-bottom-right-radius":Ze,"border-bottom-width":Ze,"border-left":Ze,"border-left-width":Ze,"border-radius":Ze,"border-right":Ze,"border-right-width":Ze,"border-top":Ze,"border-top-left-radius":Ze,"border-top-right-radius":Ze,"border-top-width":Ze,"border-width":Ze,"border-block":Ze,"border-block-end":Ze,"border-block-end-width":Ze,"border-block-start":Ze,"border-block-start-width":Ze,"border-block-width":Ze,"border-inline":Ze,"border-inline-end":Ze,"border-inline-end-width":Ze,"border-inline-start":Ze,"border-inline-start-width":Ze,"border-inline-width":Ze,"border-start-start-radius":Ze,"border-start-end-radius":Ze,"border-end-start-radius":Ze,"border-end-end-radius":Ze,margin:Ze,"margin-bottom":Ze,"margin-left":Ze,"margin-right":Ze,"margin-top":Ze,"margin-block":Ze,"margin-block-end":Ze,"margin-block-start":Ze,"margin-inline":Ze,"margin-inline-end":Ze,"margin-inline-start":Ze,padding:Ze,"padding-bottom":Ze,"padding-left":Ze,"padding-right":Ze,"padding-top":Ze,"padding-block":Ze,"padding-block-end":Ze,"padding-block-start":Ze,"padding-inline":Ze,"padding-inline-end":Ze,"padding-inline-start":Ze,"mask-position-x":Ze,"mask-position-y":Ze,"mask-size":Ze,height:Ze,width:Ze,"min-height":Ze,"max-height":Ze,"min-width":Ze,"max-width":Ze,bottom:Ze,left:Ze,top:Ze,right:Ze,inset:Ze,"inset-block":Ze,"inset-block-end":Ze,"inset-block-start":Ze,"inset-inline":Ze,"inset-inline-end":Ze,"inset-inline-start":Ze,"box-shadow":Ze,"text-shadow":Ze,"column-gap":Ze,"column-rule":Ze,"column-rule-width":Ze,"column-width":Ze,"font-size":Ze,"font-size-delta":Ze,"letter-spacing":Ze,"text-decoration-thickness":Ze,"text-indent":Ze,"text-stroke":Ze,"text-stroke-width":Ze,"word-spacing":Ze,motion:Ze,"motion-offset":Ze,outline:Ze,"outline-offset":Ze,"outline-width":Ze,perspective:Ze,"perspective-origin-x":Xe,"perspective-origin-y":Xe,"transform-origin":Xe,"transform-origin-x":Xe,"transform-origin-y":Xe,"transform-origin-z":Xe,"transition-delay":Je,"transition-duration":Je,"vertical-align":Ze,"flex-basis":Ze,"shape-margin":Ze,size:Ze,gap:Ze,grid:Ze,"grid-gap":Ze,"row-gap":Ze,"grid-row-gap":Ze,"grid-column-gap":Ze,"grid-template-rows":Ze,"grid-template-columns":Ze,"grid-auto-rows":Ze,"grid-auto-columns":Ze,"box-shadow-x":Ze,"box-shadow-y":Ze,"box-shadow-blur":Ze,"box-shadow-spread":Ze,"font-line-height":Ze,"text-shadow-x":Ze,"text-shadow-y":Ze,"text-shadow-blur":Ze});function nt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=nt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=nt(i,t[i],n);else for(var o in t)t[o]=nt(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var a=n[e]||tt[e];return!a||0===t&&a===Ze?t.toString():"function"===typeof a?a(t).toString():""+t+a}return t}const rt=function(e){void 0===e&&(e={});var t=et(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=nt(r,e[r],t);return e},onChangeValue:function(e,n){return nt(n,e,t)}}};var it=n(3188),ot="",at="",st="",lt="",ct=s&&"ontouchstart"in document.documentElement;if(s){var ut={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},dt=document.createElement("p").style;for(var pt in ut)if(pt+"Transform"in dt){ot=pt,at=ut[pt];break}"Webkit"===ot&&"msHyphens"in dt&&(ot="ms",at=ut.ms,lt="edge"),"Webkit"===ot&&"-apple-trailing-word"in dt&&(st="apple")}var ht={js:ot,css:at,vendor:st,browser:lt,isTouch:ct};var ft={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ht.js?"-webkit-"+e:ht.css+e)}},mt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ht.js?ht.css+"print-"+e:e)}},gt=/[-\s]+(.)?/g;function vt(e,t){return t?t.toUpperCase():""}function bt(e){return e.replace(gt,vt)}function yt(e){return bt("-"+e)}var _t,xt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ht.js){var n="mask-image";if(bt(n)in t)return e;if(ht.js+yt(n)in t)return ht.css+e}return e}},wt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==ht.vendor||ht.isTouch?e:ht.css+e)}},Et={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:ht.css+e)}},Tt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:ht.css+e)}},Ct={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ht.js||"ms"===ht.js&&"edge"!==ht.browser?ht.css+e:e)}},kt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ht.js||"ms"===ht.js||"apple"===ht.vendor?ht.css+e:e)}},St={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ht.js?"WebkitColumn"+yt(e)in t&&ht.css+"column-"+e:"Moz"===ht.js&&("page"+yt(e)in t&&"page-"+e))}},Ot={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ht.js)return e;var n=e.replace("-inline","");return ht.js+yt(n)in t&&ht.css+n}},At={supportedProperty:function(e,t){return bt(e)in t&&e}},jt={supportedProperty:function(e,t){var n=yt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ht.js+n in t?ht.css+e:"Webkit"!==ht.js&&"Webkit"+n in t&&"-webkit-"+e}},Pt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ht.js?""+ht.css+e:e)}},It={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ht.js?ht.css+"scroll-chaining":e)}},Lt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Rt={supportedProperty:function(e,t){var n=Lt[e];return!!n&&(ht.js+yt(n)in t&&ht.css+n)}},Nt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Dt=Object.keys(Nt),Mt=function(e){return ht.css+e},Bt={supportedProperty:function(e,t,n){var r=n.multiple;if(Dt.indexOf(e)>-1){var i=Nt[e];if(!Array.isArray(i))return ht.js+yt(i)in t&&ht.css+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(ht.js+yt(i[0])in t))return!1;return i.map(Mt)}return!1}},Qt=[ft,mt,xt,wt,Et,Tt,Ct,kt,St,Ot,At,jt,Pt,It,Rt,Bt],Ut=Qt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ft=Qt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,it.c)(t.noPrefill)),e}),[]),zt={};if(s){_t=document.createElement("p");var qt=window.getComputedStyle(document.documentElement,"");for(var Ht in qt)isNaN(Ht)||(zt[qt[Ht]]=qt[Ht]);Ft.forEach((function(e){return delete zt[e]}))}function Wt(e,t){if(void 0===t&&(t={}),!_t)return e;if(null!=zt[e])return zt[e];"transition"!==e&&"transform"!==e||(t[e]=e in _t.style);for(var n=0;n<Ut.length&&(zt[e]=Ut[n](e,_t.style,t),!zt[e]);n++);try{_t.style[e]=""}catch(r){return!1}return zt[e]}var Gt,Vt={},$t={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Kt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Yt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Wt(t):", "+Wt(n);return r||(t||n)}function Zt(e,t){var n=t;if(!Gt||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Vt[r])return Vt[r];try{Gt.style[e]=n}catch(i){return Vt[r]=!1,!1}if($t[e])n=n.replace(Kt,Yt);else if(""===Gt.style[e]&&("-ms-flex"===(n=ht.css+n)&&(Gt.style[e]="-ms-flexbox"),Gt.style[e]=n,""===Gt.style[e]))return Vt[r]=!1,!1;return Gt.style[e]="",Vt[r]=n,Vt[r]}s&&(Gt=document.createElement("p"));const Jt=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=Wt(n);o&&o!==n&&(i=!0);var a=!1,s=Zt(o,g(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===ht.js?e:"@"+ht.css+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Zt(t,g(e))||e}}};const Xt=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};var en=_e({plugins:[Ie(),Qe(),qe(),Ye(),rt(),"undefined"===typeof window?null:Jt(),Xt()]}),tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),l=0,c=function(){return l+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Oe.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Se.c]&&""===a?"".concat(o,"-").concat(c()):o}return"".concat(s).concat(i).concat(c())}}(),nn={disableGeneration:!1,generateClassName:tn,jss:en,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},rn=o.createContext(nn);var on=-1e9;var an=n(8384);const sn={};function ln(e,t){var n=e.state,r=e.theme,o=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!o.disableGeneration){var l=Ce.get(o.sheetsManager,a,r);l||(l={refs:0,staticSheet:null,dynamicStyles:null},Ce.set(o.sheetsManager,a,r,l));var c=(0,i.c)({},a.options,o,{theme:r,flip:"boolean"===typeof o.flip?o.flip:"rtl"===r.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var u=o.sheetsRegistry;if(0===l.refs){var d;o.sheetsCache&&(d=Ce.get(o.sheetsCache,a,r));var p=a.create(r,s);d||((d=o.jss.createStyleSheet(p,(0,i.c)({link:!1},c))).attach(),o.sheetsCache&&Ce.set(o.sheetsCache,a,r,d)),u&&u.add(d),l.staticSheet=d,l.dynamicStyles=we(p)}if(l.dynamicStyles){var h=o.jss.createStyleSheet(l.dynamicStyles,(0,i.c)({link:!0},c));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=(0,Ee.c)({baseClasses:l.staticSheet.classes,newClasses:h.classes}),u&&u.add(h)}else n.classes=l.staticSheet.classes;l.refs+=1}}function cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,a=t.classNamePrefix,s=t.Component,l=t.defaultTheme,c=void 0===l?sn:l,u=(0,r.c)(t,["name","classNamePrefix","Component","defaultTheme"]),d=function(e){var t="function"===typeof e;return{create:function(n,r){var o;try{o=t?e(n):e}catch(l){throw l}if(!r||!n.overrides||!n.overrides[r])return o;var a=n.overrides[r],s=(0,i.c)({},o);return Object.keys(a).forEach((function(e){s[e]=(0,an.c)(s[e],a[e])})),s},options:{}}}(e),p=n||a||"makeStyles";d.options={index:on+=1,name:n,meta:p,classNamePrefix:p};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,ke.c)()||c,r=(0,i.c)({},o.useContext(rn),u),a=o.useRef(),l=o.useRef();!function(e,t){var n,r=o.useRef([]),i=o.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),o.useEffect((function(){return function(){n&&n()}}),[i])}((function(){var i={name:n,state:{},stylesCreator:d,stylesOptions:r,theme:t};return ln(i,e),l.current=!1,a.current=i,function(){!function(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=Ce.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(Ce.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}(i)}}),[t,d]),o.useEffect((function(){l.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(a.current,e),l.current=!0}));var p=function(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=(0,Ee.c)({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}(a.current,e.classes,s);return p}}},4928:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(5984);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,r.c)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}},7792:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});const r=n(1468).createContext(null)},2200:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(1468),i=n(7792);function o(){return r.useContext(i.c)}},1880:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var r=n(2784),i={xs:0,sm:600,md:960,lg:1280,xl:1920},o={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(i[e],"px)")}};function a(e,t,n){if(Array.isArray(t)){var i=e.theme.breakpoints||o;return t.reduce((function(e,r,o){return e[i.up(i.keys[o])]=n(t[o]),e}),{})}if("object"===(0,r.c)(t)){var a=e.theme.breakpoints||o;return Object.keys(t).reduce((function(e,r){return e[a.up(r)]=n(t[r]),e}),{})}return n(t)}},208:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(8384);const i=function(e,t){return t?(0,r.c)(e,t,{clone:!1}):e}},6304:(e,t,n)=>{"use strict";n.d(t,{I:()=>d,c:()=>f});var r=n(5376),i=n(1880),o=n(208);var a={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!l[e])return[e];e=l[e]}var t=e.split(""),n=(0,r.c)(t,2),i=n[0],o=n[1],c=a[i],u=s[o]||"";return Array.isArray(u)?u.map((function(e){return c+e})):[c+u]})),u=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function d(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function p(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function h(e){var t=d(e.theme);return Object.keys(e).map((function(n){if(-1===u.indexOf(n))return null;var r=p(c(n),t),o=e[n];return(0,i.l)(e,o,r)})).reduce(o.c,{})}h.propTypes={},h.filterProps=u;const f=h},8384:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(5984),i=n(2784);function o(e){return e&&"object"===(0,i.c)(e)&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.c)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(o(t[r])&&r in e?i[r]=a(e[r],t[r],n):i[r]=t[r])})),i}},1856:(e,t,n)=>{"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{c:()=>r})},9112:(e,t,n)=>{"use strict";n.d(t,{wp:()=>h,ud:()=>v,WS:()=>g,m2:()=>f});var r=n(8992),i=n(4156),o=n(4184),a=n(1276),s=n(5016),l=n(3104),c=n(4756),u=n(5980),d=function(){function e(e){this.errors=0,this.sid=(0,i.OW)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=c.G.Ok,e&&this.update(e)}return e.prototype.update=function(e){void 0===e&&(e={}),e.user&&(e.user.ip_address&&(this.ipAddress=e.user.ip_address),e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Date.now(),e.sid&&(this.sid=32===e.sid.length?e.sid:(0,i.OW)()),e.did&&(this.did=""+e.did),"number"===typeof e.started&&(this.started=e.started),"number"===typeof e.duration?this.duration=e.duration:this.duration=this.timestamp-this.started,e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),e.ipAddress&&(this.ipAddress=e.ipAddress),e.userAgent&&(this.userAgent=e.userAgent),"number"===typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):this.status===c.G.Ok?this.update({status:c.G.Exited}):this.update()},e.prototype.toJSON=function(){return(0,u.Sy)({sid:""+this.sid,init:!0,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"===typeof this.did||"string"===typeof this.did?""+this.did:void 0,duration:this.duration,attrs:(0,u.Sy)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),p=3,h=function(){function e(e,t,n){void 0===t&&(t=new l.k),void 0===n&&(n=p),this._version=n,this._stack=[{}],this.getStackTop().scope=t,this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=l.k.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=(0,i.OW)(),o=t;if(!t){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(e){a=e}o={originalException:e,syntheticException:a}}return this._invokeClient("captureException",e,(0,r.C3)((0,r.C3)({},o),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var o=this._lastEventId=(0,i.OW)(),a=n;if(!n){var s=void 0;try{throw new Error(e)}catch(l){s=l}a={originalException:e,syntheticException:s}}return this._invokeClient("captureMessage",e,t,(0,r.C3)((0,r.C3)({},a),{event_id:o})),o},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=(0,i.OW)();return this._invokeClient("captureEvent",e,(0,r.C3)((0,r.C3)({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),a=n.scope,s=n.client;if(a&&s){var l=s.getOptions&&s.getOptions()||{},c=l.beforeBreadcrumb,u=void 0===c?null:c,d=l.maxBreadcrumbs,p=void 0===d?100:d;if(!(p<=0)){var h=(0,o.CG)(),f=(0,r.C3)({timestamp:h},e),m=u?(0,i.QD)((function(){return u(f,t)})):f;null!==m&&a.addBreadcrumb(m,Math.min(p,100))}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,r=t.client;n&&r&&e(n)},e.prototype.run=function(e){var t=m(this);try{e(this)}finally{m(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(n){return a.Q.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.startSession=function(e){this.endSession();var t=this.getStackTop(),n=t.scope,i=t.client,o=i&&i.getOptions()||{},a=o.release,s=o.environment,l=new d((0,r.C3)((0,r.C3)({release:a,environment:s},n&&{user:n.getUser()}),e));return n&&n.setSession(l),l},e.prototype.endSession=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var r=t.getSession&&t.getSession();r&&(r.close(),n&&n.captureSession&&n.captureSession(r),t.setSession())}},e.prototype._invokeClient=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[e]&&(t=s)[e].apply(t,(0,r.KQ)(n,[a]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=f().__SENTRY__;if(r&&r.extensions&&"function"===typeof r.extensions[e])return r.extensions[e].apply(this,t);a.Q.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function f(){var e=(0,i.mm)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function m(e){var t=f(),n=y(t);return _(t,e),n}function g(){var e=f();return b(e)&&!y(e).isOlderThan(p)||_(e,new h),(0,s.ao)()?function(e){try{var t=v();if(!t)return y(e);if(!b(t)||y(t).isOlderThan(p)){var n=y(e).getStackTop();_(t,new h(n.client,l.k.clone(n.scope)))}return y(t)}catch(r){return y(e)}}(e):y(e)}function v(){var e=f().__SENTRY__;return e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active}function b(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function y(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new h),e.__SENTRY__.hub}function _(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}},3104:(e,t,n)=>{"use strict";n.d(t,{e:()=>u,k:()=>l});var r=n(8992),i=n(5336),o=n(4184),a=n(5044),s=n(4156),l=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=(0,r.KQ)(t._breadcrumbs),n._tags=(0,r.C3)({},t._tags),n._extra=(0,r.C3)({},t._extra),n._contexts=(0,r.C3)({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=(0,r.KQ)(t._eventProcessors)),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.setTags=function(e){return this._tags=(0,r.C3)((0,r.C3)({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=(0,r.C3)((0,r.C3)({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=(0,r.C3)((0,r.C3)({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=(0,r.C3)((0,r.C3)({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=(0,r.C3)((0,r.C3)({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e,t,n,r,i=this.getSpan();return(null===(e=i)||void 0===e?void 0:e.transaction)?null===(t=i)||void 0===t?void 0:t.transaction:(null===(r=null===(n=i)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?i.spanRecorder.spans[0]:void 0},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"===typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=(0,r.C3)((0,r.C3)({},this._tags),t._tags),this._extra=(0,r.C3)((0,r.C3)({},this._extra),t._extra),this._contexts=(0,r.C3)((0,r.C3)({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint)):(0,i.oF)(t)&&(this._tags=(0,r.C3)((0,r.C3)({},this._tags),t.tags),this._extra=(0,r.C3)((0,r.C3)({},this._extra),t.extra),this._contexts=(0,r.C3)((0,r.C3)({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n=(0,r.C3)({timestamp:(0,o.CG)()},e);return this._breadcrumbs=void 0!==t&&t>=0?(0,r.KQ)(this._breadcrumbs,[n]).slice(-t):(0,r.KQ)(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=(0,r.C3)((0,r.C3)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=(0,r.C3)((0,r.C3)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=(0,r.C3)((0,r.C3)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=(0,r.C3)((0,r.C3)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=(0,r.C3)({trace:this._span.getTraceContext()},e.contexts);var i=null===(n=this._span.transaction)||void 0===n?void 0:n.name;i&&(e.tags=(0,r.C3)({transaction:i},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=(0,r.KQ)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors((0,r.KQ)(c(),this._eventProcessors),e,t)},e.prototype._notifyEventProcessors=function(e,t,n,o){var s=this;return void 0===o&&(o=0),new a.G((function(a,l){var c=e[o];if(null===t||"function"!==typeof c)a(t);else{var u=c((0,r.C3)({},t),n);(0,i.Oe)(u)?u.then((function(t){return s._notifyEventProcessors(e,t,n,o+1).then(a)})).then(null,l):s._notifyEventProcessors(e,u,n,o+1).then(a).then(null,l)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function c(){var e=(0,s.mm)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function u(e){c().push(e)}},7090:(e,t,n)=>{"use strict";n.d(t,{Mh:()=>x,Iz:()=>_});var r,i=n(8992),o=n(9112);!function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"}(r||(r={}));var a=n(1276),s=n(5016),l=n(5336),c=n(4156),u=n(3456),d=n(8888),p=n(6360);function h(){var e=(0,p.gB)();e&&(a.Q.log("[Tracing] Transaction: "+d.D.InternalError+" -> Global error occured"),e.setStatus(d.D.InternalError))}var f=n(9916),m=n(8300);function g(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function v(e,t,n){var o,s,l=e.getClient(),c=l&&l.getOptions()||{};return l&&(0,p.KQ)(c)?void 0!==t.sampled?(t.tags=(0,i.C3)((0,i.C3)({},t.tags),{__sentry_samplingMethod:r.Explicit}),t):("function"===typeof c.tracesSampler?(s=c.tracesSampler(n),t.tags=(0,i.C3)((0,i.C3)({},t.tags),{__sentry_samplingMethod:r.Sampler,__sentry_sampleRate:String(Number(s))})):void 0!==n.parentSampled?(s=n.parentSampled,t.tags=(0,i.C3)((0,i.C3)({},t.tags),{__sentry_samplingMethod:r.Inheritance})):(s=c.tracesSampleRate,t.tags=(0,i.C3)((0,i.C3)({},t.tags),{__sentry_samplingMethod:r.Rate,__sentry_sampleRate:String(Number(s))})),function(e){if(isNaN(e)||"number"!==typeof e&&"boolean"!==typeof e)return a.Q.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify(typeof e)+"."),!1;if(e<0||e>1)return a.Q.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1;return!0}(s)?s?(t.sampled=Math.random()<s,t.sampled?(t.initSpanRecorder(null===(o=c._experiments)||void 0===o?void 0:o.maxSpans),a.Q.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(a.Q.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(s)+")"),t)):(a.Q.log("[Tracing] Discarding transaction because "+("function"===typeof c.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(a.Q.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t)}function b(t){var n={transactionContext:t,parentSampled:t.parentSampled};if((0,s.ao)()){var r=(0,o.ud)();if(r){var a=(0,s.iq)(e,"http").IncomingMessage,u=r.members.find((function(e){return(0,l.aG)(e,a)}));u&&(n.request=(0,s.Kw)(u))}}else{var d=(0,c.mm)();"location"in d&&(n.location=(0,i.C3)({},d.location))}return n}function y(e,t){return v(this,new m.I(e,this),(0,i.C3)((0,i.C3)({},b(e)),t))}function _(e,t,n,r){return v(e,new f.if(t,e,n,r),b(t))}function x(){!function(){var e=(0,o.m2)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=y),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=g))}(),(0,u.c)({callback:h,type:"error"}),(0,u.c)({callback:h,type:"unhandledrejection"})}e=n.hmd(e)},9916:(e,t,n)=>{"use strict";n.d(t,{Y1:()=>c,if:()=>d});var r=n(8992),i=n(4184),o=n(1276),a=n(2696),s=n(8888),l=n(8300),c=1e3,u=function(e){function t(t,n,r,i){void 0===r&&(r="");var o=e.call(this,i)||this;return o._pushActivity=t,o._popActivity=n,o.transactionSpanId=r,o}return(0,r.ct)(t,e),t.prototype.add=function(t){var n=this;t.spanId!==this.transactionSpanId&&(t.finish=function(e){t.endTimestamp="number"===typeof e?e:(0,i.gb)(),n._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),e.prototype.add.call(this,t)},t}(a.U),d=function(e){function t(t,n,r,i){void 0===r&&(r=c),void 0===i&&(i=!1);var a=e.call(this,t,n)||this;return a._idleHub=n,a._idleTimeout=r,a._onScope=i,a.activities={},a._heartbeatTimer=0,a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&i&&(p(n),o.Q.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope((function(e){return e.setSpan(a)}))),a}return(0,r.ct)(t,e),t.prototype.finish=function(t){var n,a,l=this;if(void 0===t&&(t=(0,i.gb)()),this._finished=!0,this.activities={},this.spanRecorder){o.Q.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);try{for(var c=(0,r.gR)(this._beforeFinishCallbacks),u=c.next();!u.done;u=c.next()){(0,u.value)(this,t)}}catch(d){n={error:d}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(e){if(e.spanId===l.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus(s.D.Cancelled),o.Q.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));var n=e.startTimestamp<t;return n||o.Q.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(e,void 0,2)),n})),this._onScope&&p(this._idleHub),o.Q.log("[Tracing] flushing IdleTransaction")}else o.Q.log("[Tracing] No active IdleTransaction");return e.prototype.finish.call(this,t)},t.prototype.registerBeforeFinishCallback=function(e){this._beforeFinishCallbacks.push(e)},t.prototype.initSpanRecorder=function(e){var t=this;if(!this.spanRecorder){this._initTimeout=setTimeout((function(){t._finished||t.finish()}),this._idleTimeout);this.spanRecorder=new u((function(e){t._finished||t._pushActivity(e)}),(function(e){t._finished||t._popActivity(e)}),this.spanId,e),o.Q.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},t.prototype._pushActivity=function(e){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),o.Q.log("[Tracing] pushActivity: "+e),this.activities[e]=!0,o.Q.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(e){var t=this;if(this.activities[e]&&(o.Q.log("[Tracing] popActivity "+e),delete this.activities[e],o.Q.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=(0,i.gb)()+n/1e3;setTimeout((function(){t._finished||t.finish(r)}),n)}},t.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var e=Object.keys(this.activities),t=e.length?e.reduce((function(e,t){return e+t})):"";t===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(o.Q.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(s.D.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var e=this;o.Q.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout((function(){e._beat()}),5e3)},t}(l.I);function p(e){if(e){var t=e.getScope();if(t)t.getTransaction()&&t.setSpan(void 0)}}},7416:(e,t,n)=>{"use strict";n.d(t,{g:()=>c});var r=n(8992),i=n(5016),o=n(1276),a=n(5980);e=n.hmd(e);var s=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],l={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},c=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:s,this._describeOperations=!("describeOperations"in e)||e.describeOperations}return t.prototype.setupOnce=function(t,n){var r;try{r=(0,i.iq)(e,"mongodb").Collection}catch(a){return void o.Q.error("Mongo Integration was unable to require `mongodb` package.")}this._instrumentOperations(r,this._operations,n)},t.prototype._instrumentOperations=function(e,t,n){var r=this;t.forEach((function(t){return r._patchOperation(e,t,n)}))},t.prototype._patchOperation=function(e,t,n){if(t in e.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);(0,a.ym)(e.prototype,t,(function(e){return function(){for(var o,a,s,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var u=l[l.length-1],d=null===(o=n().getScope())||void 0===o?void 0:o.getSpan();if("function"!==typeof u||"mapReduce"===t&&2===l.length){var p=null===(a=d)||void 0===a?void 0:a.startChild(i(this,t,l));return e.call.apply(e,(0,r.KQ)([this],l)).then((function(e){var t;return null===(t=p)||void 0===t||t.finish(),e}))}var h=null===(s=d)||void 0===s?void 0:s.startChild(i(this,t,l.slice(0,-1)));return e.call.apply(e,(0,r.KQ)([this],l.slice(0,-1),[function(e,t){var n;null===(n=h)||void 0===n||n.finish(),u(e,t)}]))}}))}},t.prototype._getSpanContextFromOperationArguments=function(e,t,n){var i={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},o={op:"db",description:t,data:i},a=l[t],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(t):this._describeOperations;if(!a||!s)return o;try{if("mapReduce"===t){var c=(0,r.o5)(n,2),u=c[0],d=c[1];i[a[0]]="string"===typeof u?u:u.name||"<anonymous>",i[a[1]]="string"===typeof d?d:d.name||"<anonymous>"}else for(var p=0;p<a.length;p++)i[a[p]]=JSON.stringify(n[p])}catch(h){}return o},t.id="Mongo",t}()},6603:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var r=n(5016),i=n(1276),o=n(5980);e=n.hmd(e);var a=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,n){var a;try{a=(0,r.iq)(e,"mysql/lib/Connection.js")}catch(s){return void i.Q.error("Mysql Integration was unable to require `mysql` package.")}(0,o.ym)(a.prototype,"query",(function(e){return function(t,r,i){var o,a,s=null===(a=null===(o=n().getScope())||void 0===o?void 0:o.getSpan())||void 0===a?void 0:a.startChild({description:"string"===typeof t?t:t.sql,op:"db"});return"function"===typeof i?e.call(this,t,r,(function(e,t,n){var r;null===(r=s)||void 0===r||r.finish(),i(e,t,n)})):"function"===typeof r?e.call(this,t,(function(e,t,n){var i;null===(i=s)||void 0===i||i.finish(),r(e,t,n)})):e.call(this,t,r,i)}}))},t.id="Mysql",t}()},3160:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var r=n(5016),i=n(1276),o=n(5980);e=n.hmd(e);var a=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,n){var a;try{a=(0,r.iq)(e,"pg").Client}catch(s){return void i.Q.error("Postgres Integration was unable to require `pg` package.")}(0,o.ym)(a.prototype,"query",(function(e){return function(t,r,i){var o,a,s=null===(a=null===(o=n().getScope())||void 0===o?void 0:o.getSpan())||void 0===a?void 0:a.startChild({description:"string"===typeof t?t:t.text,op:"db"});return"function"===typeof i?e.call(this,t,r,(function(e,t){var n;null===(n=s)||void 0===n||n.finish(),i(e,t)})):"function"===typeof r?e.call(this,t,(function(e,t){var n;null===(n=s)||void 0===n||n.finish(),r(e,t)})):e.call(this,t,r).then((function(e){var t;return null===(t=s)||void 0===t||t.finish(),e}))}}))},t.id="Postgres",t}()},2696:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,U:()=>l});var r=n(8992),i=n(4156),o=n(4184),a=n(5980),s=n(8888),l=function(){function e(e){void 0===e&&(e=1e3),this.spans=[],this._maxlen=e}return e.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},e}(),c=function(){function e(e){if(this.traceId=(0,i.OW)(),this.spanId=(0,i.OW)().substring(16),this.startTimestamp=(0,o.gb)(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return e.prototype.child=function(e){return this.startChild(e)},e.prototype.startChild=function(t){var n=new e((0,r.C3)((0,r.C3)({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},e.prototype.setTag=function(e,t){var n;return this.tags=(0,r.C3)((0,r.C3)({},this.tags),((n={})[e]=t,n)),this},e.prototype.setData=function(e,t){var n;return this.data=(0,r.C3)((0,r.C3)({},this.data),((n={})[e]=t,n)),this},e.prototype.setStatus=function(e){return this.status=e,this},e.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var t=s.D.fromHttpCode(e);return t!==s.D.UnknownError&&this.setStatus(t),this},e.prototype.isSuccess=function(){return this.status===s.D.Ok},e.prototype.finish=function(e){this.endTimestamp="number"===typeof e?e:(0,o.gb)()},e.prototype.toTraceparent=function(){var e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},e.prototype.getTraceContext=function(){return(0,a.Sy)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return(0,a.Sy)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}()},8888:(e,t,n)=>{"use strict";var r;n.d(t,{D:()=>r}),function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"}(r||(r={})),function(e){e.fromHttpCode=function(t){if(t<400)return e.Ok;if(t>=400&&t<500)switch(t){case 401:return e.Unauthenticated;case 403:return e.PermissionDenied;case 404:return e.NotFound;case 409:return e.AlreadyExists;case 413:return e.FailedPrecondition;case 429:return e.ResourceExhausted;default:return e.InvalidArgument}if(t>=500&&t<600)switch(t){case 501:return e.Unimplemented;case 503:return e.Unavailable;case 504:return e.DeadlineExceeded;default:return e.InternalError}return e.UnknownError}}(r||(r={}))},8300:(e,t,n)=>{"use strict";n.d(t,{I:()=>l});var r=n(8992),i=n(9112),o=n(5336),a=n(1276),s=n(2696),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r._measurements={},r._hub=(0,i.WS)(),(0,o.aG)(n,i.wp)&&(r._hub=n),r.name=t.name?t.name:"",r._trimEnd=t.trimEnd,r.transaction=r,r}return(0,r.ct)(t,e),t.prototype.setName=function(e){this.name=e},t.prototype.initSpanRecorder=function(e){void 0===e&&(e=1e3),this.spanRecorder||(this.spanRecorder=new s.U(e)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(e){this._measurements=(0,r.C3)({},e)},t.prototype.finish=function(t){var n=this;if(void 0===this.endTimestamp){if(this.name||(a.Q.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,t),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(e){return e!==n&&e.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(e,t){return e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e})).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction"};return Object.keys(this._measurements).length>0&&(a.Q.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),this._hub.captureEvent(i)}a.Q.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},t}(s.C)},6360:(e,t,n)=>{"use strict";n.d(t,{Cg:()=>a,GW:()=>c,KQ:()=>o,gB:()=>s,kV:()=>l});var r=n(9112),i=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function o(e){return"tracesSampleRate"in e||"tracesSampler"in e}function a(e){var t=e.match(i);if(t){var n=void 0;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}}function s(e){var t,n;return void 0===e&&(e=(0,r.WS)()),null===(n=null===(t=e)||void 0===t?void 0:t.getScope())||void 0===n?void 0:n.getTransaction()}function l(e){return e/1e3}function c(e){return 1e3*e}},4756:(e,t,n)=>{"use strict";var r;n.d(t,{G:()=>r}),function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"}(r||(r={}))},8972:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=n(5336);function i(e){try{for(var t=e,n=[],r=0,i=0,a=void 0;t&&r++<5&&!("html"===(a=o(t))||r>1&&i+3*n.length+a.length>=80);)n.push(a),i+=a.length,t=t.parentNode;return n.reverse().join(" > ")}catch(s){return"<unknown>"}}function o(e){var t,n,i,o,a,s=e,l=[];if(!s||!s.tagName)return"";if(l.push(s.tagName.toLowerCase()),s.id&&l.push("#"+s.id),(t=s.className)&&(0,r.ct)(t))for(n=t.split(/\s+/),a=0;a<n.length;a++)l.push("."+n[a]);var c=["type","name","title","alt"];for(a=0;a<c.length;a++)i=c[a],(o=s.getAttribute(i))&&l.push("["+i+'="'+o+'"]');return l.join("")}},3456:(e,t,n)=>{"use strict";n.d(t,{c:()=>m});var r,i=n(8992),o=n(5336),a=n(1276),s=n(4156),l=n(5980),c=n(1496),u=n(648),d=(0,s.mm)(),p={},h={};function f(e){if(!h[e])switch(h[e]=!0,e){case"console":!function(){if(!("console"in d))return;["debug","info","warn","error","log","assert"].forEach((function(e){e in d.console&&(0,l.ym)(d.console,e,(function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];g("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,d.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in d))return;d.document.addEventListener("click",E("click",g.bind(null,"dom")),!1),d.document.addEventListener("keypress",T(g.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(e){var t=d[e]&&d[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&((0,l.ym)(t,"addEventListener",(function(e){return function(t,n,r){return n&&n.handleEvent?("click"===t&&(0,l.ym)(n,"handleEvent",(function(e){return function(t){return E("click",g.bind(null,"dom"))(t),e.call(this,t)}})),"keypress"===t&&(0,l.ym)(n,"handleEvent",(function(e){return function(t){return T(g.bind(null,"dom"))(t),e.call(this,t)}}))):("click"===t&&E("click",g.bind(null,"dom"),!0)(this),"keypress"===t&&T(g.bind(null,"dom"))(this)),e.call(this,t,n,r)}})),(0,l.ym)(t,"removeEventListener",(function(e){return function(t,n,r){try{e.call(this,t,n.__sentry_wrapped__,r)}catch(i){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in d))return;var e=[],t=[],n=XMLHttpRequest.prototype;(0,l.ym)(n,"open",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=this,s=r[1];a.__sentry_xhr__={method:(0,o.ct)(r[0])?r[0].toUpperCase():r[0],url:r[1]},(0,o.ct)(s)&&"POST"===a.__sentry_xhr__.method&&s.match(/sentry_key/)&&(a.__sentry_own_request__=!0);var c=function(){if(4===a.readyState){try{a.__sentry_xhr__&&(a.__sentry_xhr__.status_code=a.status)}catch(o){}try{var n=e.indexOf(a);if(-1!==n){e.splice(n);var i=t.splice(n)[0];a.__sentry_xhr__&&void 0!==i[0]&&(a.__sentry_xhr__.body=i[0])}}catch(o){}g("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}};return"onreadystatechange"in a&&"function"===typeof a.onreadystatechange?(0,l.ym)(a,"onreadystatechange",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return c(),e.apply(a,t)}})):a.addEventListener("readystatechange",c),n.apply(a,r)}})),(0,l.ym)(n,"send",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e.push(this),t.push(r),g("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))}();break;case"fetch":!function(){if(!(0,u.T0)())return;(0,l.ym)(d,"fetch",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:v(t),url:b(t)},startTimestamp:Date.now()};return g("fetch",(0,i.C3)({},r)),e.apply(d,t).then((function(e){return g("fetch",(0,i.C3)((0,i.C3)({},r),{endTimestamp:Date.now(),response:e})),e}),(function(e){throw g("fetch",(0,i.C3)((0,i.C3)({},r),{endTimestamp:Date.now(),error:e})),e}))}}))}();break;case"history":!function(){if(!(0,u.Ix)())return;var e=d.onpopstate;function t(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t.length>2?t[2]:void 0;if(i){var o=r,a=String(i);r=a,g("history",{from:o,to:a})}return e.apply(this,t)}}d.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=d.location.href,o=r;if(r=i,g("history",{from:o,to:i}),e)return e.apply(this,t)},(0,l.ym)(d.history,"pushState",t),(0,l.ym)(d.history,"replaceState",t)}();break;case"error":C=d.onerror,d.onerror=function(e,t,n,r,i){return g("error",{column:r,error:i,line:n,msg:e,url:t}),!!C&&C.apply(this,arguments)};break;case"unhandledrejection":k=d.onunhandledrejection,d.onunhandledrejection=function(e){return g("unhandledrejection",e),!k||k.apply(this,arguments)};break;default:a.Q.warn("unknown instrumentation type:",e)}}function m(e){e&&"string"===typeof e.type&&"function"===typeof e.callback&&(p[e.type]=p[e.type]||[],p[e.type].push(e.callback),f(e.type))}function g(e,t){var n,r;if(e&&p[e])try{for(var o=(0,i.gR)(p[e]||[]),s=o.next();!s.done;s=o.next()){var l=s.value;try{l(t)}catch(u){a.Q.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+(0,c.k)(l)+"\nError: "+u)}}}catch(d){n={error:d}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function v(e){return void 0===e&&(e=[]),"Request"in d&&(0,o.aG)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function b(e){return void 0===e&&(e=[]),"string"===typeof e[0]?e[0]:"Request"in d&&(0,o.aG)(e[0],Request)?e[0].url:String(e[0])}var y,_,x=1e3,w=0;function E(e,t,n){return void 0===n&&(n=!1),function(r){y=void 0,r&&_!==r&&(_=r,w&&clearTimeout(w),n?w=setTimeout((function(){t({event:r,name:e})})):t({event:r,name:e}))}}function T(e){return function(t){var n;try{n=t.target}catch(i){return}var r=n&&n.tagName;r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)&&(y||E("input",e)(t),clearTimeout(y),y=setTimeout((function(){y=void 0}),x))}}var C=null;var k=null},5336:(e,t,n)=>{"use strict";function r(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return m(e,Error)}}function i(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function o(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function l(e){return null===e||"object"!==typeof e&&"function"!==typeof e}function c(e){return"[object Object]"===Object.prototype.toString.call(e)}function u(e){return"undefined"!==typeof Event&&m(e,Event)}function d(e){return"undefined"!==typeof Element&&m(e,Element)}function p(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function h(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function f(e){return c(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function m(e,t){try{return e instanceof t}catch(n){return!1}}n.d(t,{K7:()=>f,KI:()=>d,Oe:()=>h,QX:()=>p,Qn:()=>a,SO:()=>u,Sc:()=>o,aG:()=>m,ct:()=>s,cz:()=>i,eU:()=>r,oF:()=>c,od:()=>l})},1276:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var r=n(4156),i=(0,r.mm)(),o="Sentry Logger ",a=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&(0,r.QD)((function(){i.console.log(o+"[Log]: "+e.join(" "))}))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&(0,r.QD)((function(){i.console.warn(o+"[Warn]: "+e.join(" "))}))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&(0,r.QD)((function(){i.console.error(o+"[Error]: "+e.join(" "))}))},e}();i.__SENTRY__=i.__SENTRY__||{};var s=i.__SENTRY__.logger||(i.__SENTRY__.logger=new a)},4156:(e,t,n)=>{"use strict";n.d(t,{Mt:()=>f,NP:()=>u,OW:()=>a,QD:()=>c,UX:()=>s,mm:()=>o,qW:()=>d,s5:()=>p,y_:()=>l});var r=n(5016),i={};function o(){return(0,r.ao)()?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:i}function a(){var e=o(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function s(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function l(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function c(e){var t=o();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach((function(e){e in t.console&&n[e].__sentry_original__&&(r[e]=n[e],n[e]=n[e].__sentry_original__)}));var i=e();return Object.keys(r).forEach((function(e){n[e]=r[e]})),i}function u(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function d(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach((function(n){e.exception.values[0].mechanism[n]=t[n]}))}catch(n){}}function p(){try{return document.location.href}catch(e){return""}}var h=6e4;function f(e,t){if(!t)return h;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?h:r-e}},5016:(e,t,n)=>{"use strict";n.d(t,{Kw:()=>l,ao:()=>o,iq:()=>a});var r=n(5336),i=n(5980);function o(){return"[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0)}function a(e,t){return e.require(t)}e=n.hmd(e);var s=["cookies","data","headers","method","query_string","url"];function l(t,n){if(void 0===n&&(n=s),!o())throw new Error("Can't get node request data outside of a node environment");var l={},c=t.headers||t.header||{},u=t.method,d=t.hostname||t.host||c.host||"<no host>",p="https"===t.protocol||t.secure||(t.socket||{}).encrypted?"https":"http",h=t.originalUrl||t.url||"",f=p+"://"+d+h;return n.forEach((function(n){switch(n){case"headers":l.headers=c;break;case"method":l.method=u;break;case"url":l.url=f;break;case"cookies":l.cookies=t.cookies||a(e,"cookie").parse(c.cookie||"");break;case"query_string":l.query_string=a(e,"url").parse(h||"",!1).query;break;case"data":if("GET"===u||"HEAD"===u)break;void 0!==t.body&&(l.data=(0,r.ct)(t.body)?t.body:JSON.stringify((0,i.Cs)(t.body)));break;default:({}).hasOwnProperty.call(t,n)&&(l[n]=t[n])}})),l}},5980:(e,t,n)=>{"use strict";n.d(t,{Sy:()=>b,yq:()=>v,ym:()=>c,Cs:()=>g,yY:()=>h,OW:()=>u});var r=n(8992),i=n(8972),o=n(5336),a=function(){function e(){this._hasWeakSet="function"===typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++){if(this._inner[t]===e)return!0}return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}(),s=n(1496),l=n(8776);function c(e,t,n){if(t in e){var r=e[t],i=n(r);if("function"===typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(o){}e[t]=i}}function u(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}function d(e){if((0,o.eU)(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}if((0,o.SO)(e)){var a=e,s={};s.type=a.type;try{s.target=(0,o.KI)(a.target)?(0,i.I)(a.target):Object.prototype.toString.call(a.target)}catch(l){s.target="<unknown>"}try{s.currentTarget=(0,o.KI)(a.currentTarget)?(0,i.I)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(l){s.currentTarget="<unknown>"}for(var r in"undefined"!==typeof CustomEvent&&(0,o.aG)(e,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,r)&&(s[r]=a);return s}return e}function p(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function h(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r=g(e,t);return p(r)>n?h(e,t-1,n):r}function f(e,t){return"domain"===t&&e&&"object"===typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":"undefined"!==typeof n.g&&e===n.g?"[Global]":"undefined"!==typeof window&&e===window?"[Window]":"undefined"!==typeof document&&e===document?"[Document]":(0,o.K7)(e)?"[SyntheticEvent]":"number"===typeof e&&e!==e?"[NaN]":void 0===e?"[undefined]":"function"===typeof e?"[Function: "+(0,s.k)(e)+"]":"symbol"===typeof e?"["+String(e)+"]":"bigint"===typeof e?"[BigInt: "+String(e)+"]":e}function m(e,t,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new a),0===n)return function(e){var t=Object.prototype.toString.call(e);if("string"===typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=f(e);return(0,o.od)(n)?n:t}(t);if(null!==t&&void 0!==t&&"function"===typeof t.toJSON)return t.toJSON();var i=f(t,e);if((0,o.od)(i))return i;var s=d(t),l=Array.isArray(t)?[]:{};if(r.memoize(t))return"[Circular ~]";for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(l[c]=m(c,s[c],n-1,r));return r.unmemoize(t),l}function g(e,t){try{return JSON.parse(JSON.stringify(e,(function(e,n){return m(e,n,t)})))}catch(n){return"**non-serializable**"}}function v(e,t){void 0===t&&(t=40);var n=Object.keys(d(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,l.E3)(n[0],t);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:(0,l.E3)(i,t)}return""}function b(e){var t,n;if((0,o.oF)(e)){var i=e,a={};try{for(var s=(0,r.gR)(Object.keys(i)),l=s.next();!l.done;l=s.next()){var c=l.value;"undefined"!==typeof i[c]&&(a[c]=b(i[c]))}}catch(u){t={error:u}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}return Array.isArray(e)?e.map(b):e}},1496:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r="<anonymous>";function i(e){try{return e&&"function"===typeof e&&e.name||r}catch(t){return r}}},8776:(e,t,n)=>{"use strict";n.d(t,{AU:()=>a,E3:()=>i,Y9:()=>o});var r=n(5336);function i(e,t){return void 0===t&&(t=0),"string"!==typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function o(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var i=e[r];try{n.push(String(i))}catch(o){n.push("[value cannot be serialized]")}}return n.join(t)}function a(e,t){return!!(0,r.ct)(e)&&((0,r.QX)(t)?t.test(e):"string"===typeof t&&-1!==e.indexOf(t))}},648:(e,t,n)=>{"use strict";n.d(t,{Gk:()=>o,Ix:()=>c,K4:()=>l,T0:()=>s});var r=n(1276),i=n(4156);function o(){if(!("fetch"in(0,i.mm)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function a(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function s(){if(!o())return!1;var e=(0,i.mm)();if(a(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"===typeof n.createElement)try{var s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s),s.contentWindow&&s.contentWindow.fetch&&(t=a(s.contentWindow.fetch)),n.head.removeChild(s)}catch(l){r.Q.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",l)}return t}function l(){if(!o())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function c(){var e=(0,i.mm)(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}},5044:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var r,i=n(5336);!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(r||(r={}));var o=function(){function e(e){var t=this;this._state=r.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(r.RESOLVED,e)},this._reject=function(e){t._setResult(r.REJECTED,e)},this._setResult=function(e,n){t._state===r.PENDING&&((0,i.Oe)(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if(t._state!==r.PENDING){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e.done||(t._state===r.RESOLVED&&e.onfulfilled&&e.onfulfilled(t._value),t._state===r.REJECTED&&e.onrejected&&e.onrejected(t._value),e.done=!0)}))}};try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}return e.resolve=function(t){return new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){return new e((function(n,r){if(Array.isArray(t))if(0!==t.length){var i=t.length,o=[];t.forEach((function(t,a){e.resolve(t).then((function(e){o[a]=e,0===(i-=1)&&n(o)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},e.prototype.then=function(t,n){var r=this;return new e((function(e,i){r._attachHandler({done:!1,onfulfilled:function(n){if(t)try{return void e(t(n))}catch(r){return void i(r)}else e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(r){return void i(r)}else i(t)}})}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,r){var i,o;return n.then((function(e){o=!1,i=e,t&&t()}),(function(e){o=!0,i=e,t&&t()})).then((function(){o?r(i):e(i)}))}))},e.prototype.toString=function(){return"[object SyncPromise]"},e}()},4184:(e,t,n)=>{"use strict";n.d(t,{CG:()=>l,W2:()=>u,gb:()=>c});var r=n(4156),i=n(5016);e=n.hmd(e);var o={nowSeconds:function(){return Date.now()/1e3}};var a=(0,i.ao)()?function(){try{return(0,i.iq)(e,"perf_hooks").performance}catch(t){return}}():function(){var e=(0,r.mm)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},l=o.nowSeconds.bind(o),c=s.nowSeconds.bind(s),u=function(){var e=(0,r.mm)().performance;if(e)return e.timeOrigin?e.timeOrigin:e.timing&&e.timing.navigationStart||Date.now()}()},6248:e=>{"use strict";const t=(e,t,n)=>{const r=t<0?e.length+t:t;if(r>=0&&r<e.length){const r=n<0?e.length+n:n,[i]=e.splice(t,1);e.splice(r,0,i)}};e.exports=(e,n,r)=>(e=[...e],t(e,n,r),e),e.exports.mutate=t},8364:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=s(e),a=o[0],l=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,l)),u=0,d=l>0?a-4:a;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,c=r-i;s<c;s+=a)o.push(l(e,s,s+a>c?c:s+a));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},3344:(e,t,n)=>{"use strict";const r=n(8364),i=n(924),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Sn=l,t.ZK=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=s(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const i=function(e){if(l.isBuffer(e)){const t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||Y(e.length)?s(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|f(e))}function p(e){const t=e.length<0?0:0|f(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function f(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(i)return r?-1:G(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){let o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*a}else-1!==r&&(o-=o-r),r=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function _(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let a;for(r>o/2&&(r=o/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Y(r))return a;e[n+a]=r}return a}function x(e,t,n,r){return $(G(t,e.length-n),e,n,r)}function w(e,t,n,r){return $(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return $(V(t),e,n,r)}function T(e,t,n,r){return $(function(e,t){let n,r,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,s,l;switch(a){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128===(192&n)&&(l=(31&t)<<6|63&n,l>127&&(o=l));break;case 3:n=e[i+1],r=e[i+2],128===(192&n)&&128===(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],128===(192&n)&&128===(192&r)&&128===(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(e){const t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"===typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(K(t,Uint8Array))i+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.ZK;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(K(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n);for(let l=0;l<s;++l)if(c[l]!==u[l]){o=c[l],a=u[l];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return w(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const S=4096;function O(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=t;o<n;++o)i+=Z[e[o]];return i}function P(e,t,n){const r=e.slice(t,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,i){z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function N(e,t,n,r,i){z(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,o){return t=+t,n>>>=0,o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,o){return t=+t,n>>>=0,o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=J((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=J((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=J((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=J((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){L(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){L(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=J((function(e){return R(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=J((function(e){return N(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=J((function(e){return R(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=J((function(e){return N(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=l.isBuffer(e)?e:l.from(e,r),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this};const Q={};function U(e,t,n){Q[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function F(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function z(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?">= 0".concat(r," and < 2").concat(r," ** ").concat(8*(o+1)).concat(r):">= -(2".concat(r," ** ").concat(8*(o+1)-1).concat(r,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(r):">= ".concat(t).concat(r," and <= ").concat(n).concat(r),new Q.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||H(t,e.length-(n+1))}(r,i,o)}function q(e,t){if("number"!==typeof e)throw new Q.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new Q.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new Q.ERR_BUFFER_OUT_OF_BOUNDS;throw new Q.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}U("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),U("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),U("ERR_OUT_OF_RANGE",(function(e,t,n){let r='The value of "'.concat(e,'" is out of range.'),i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=F(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),r+=" It must be ".concat(t,". Received ").concat(i),r}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function $(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!==e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function J(e){return"undefined"===typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}},3616:(e,t,n)=>{const r=n(8660);n(5408),n(3304),n(572),n(3092),n(8616),n(9156);const i=n(3024),o=n(6112),a=n(6576);const s={getAttributedEntry:(e,t,n)=>e.replace(/^\s*<[a-z]+/i,"$& data-".concat(t,'="').concat(n,'"')),getPrefixedEntry:(e,t)=>s.getAttributedEntry(e,"csl-entry-id",t),getWrappedEntry(e,t,n){const r=(e,t)=>"function"===typeof t?t(e):null==t?t:"";if(null==n.prepend&&null==n.append)return e;const i=r(t,n.prepend),o=r(t,n.append);let a="",s="";const l=e.match(/^([^>]+>)([\s\S]+)(<[^<]+)$/i);return l&&(a=l[1],e=l[2],s=l[3]),a+i+e+o+s}};function l(e,t){if(!(this instanceof l))return new l(e,t);const n=new r.Cite(e,t);this._options=n._options,this.log=n.log,this.data=n.data}l.prototype=Object.create(r.Cite.prototype),l.async=r.Cite.async,l.validateOptions=r.Cite.validateOptions,l.validateOutputOptions=r.Cite.validateOutputOptions,l.input=r.plugins.input.chain,l.inputAsync=r.plugins.input.chainAsync,l.util=Object.assign({attr:s},r.util),l.version={cite:r.version,citeproc:i.PROCESSOR_VERSION};const c=r.plugins.config.get("@csl");var u,d,p,h,f,m;l.CSL={engine:n(376).ig,item:e=>t=>e.find((e=>e.id===t)),locale:e=>c.styles.get(c.styles.has(e)?e:"en-US"),style:e=>c.templates.get(c.templates.has(e)?e:"apa"),register:{addTemplate:c.templates.add.bind(c.templates),getTemplate:c.templates.get.bind(c.templates),hasTemplate:c.templates.has.bind(c.templates),addLocale:c.locales.add.bind(c.locales),getLocale:c.locales.get.bind(c.locales),hasLocale:c.locales.has.bind(c.locales)}},l.plugins=function e(t){const n={};for(const r in t)n[r]="object"===typeof t[r]?e(t[r]):t[r];return n}(r.plugins),delete l.plugins.input.util.clean,l.parse=Object.assign({input:{chain:r.plugins.input.chain,chainAsync:r.plugins.input.chainAsync,chainLink:r.plugins.input.chainLink,chainLinkAsync:r.plugins.input.chainLinkAsync,data:r.plugins.input.data,dataAsync:r.plugins.input.dataAsync,type:r.plugins.input.type,async:{chain:r.plugins.input.chainAsync,chainLink:r.plugins.input.chainLinkAsync,data:r.plugins.input.dataAsync}},name:o.parse,date:a.parse,csl:r.plugins.input.util.clean,bibjson:n(5408).parsers.json.record,bibtex:(h=n(940).qy,f=n(2892),m=n(9776).target,{json:e=>e.parse([].concat(e)),prop(e,t){const n=f.parse([{type:"book",properties:{[e]:t}}])[0],r=Object.keys(n).find((e=>{let[t]=e;return"type"!==t}));return[r,n[r]]},text:e=>h["@biblatex/text"].parse(e),type:e=>m[e]||"book"}),bibtxt:(p=n(2652),{text:p.parse,textEntry:p.textEntry}),doi:(d=n(3092),{api:d.parsers.api.parse,id:d.parsers.id.parse,async:{api:d.parsers.api.parseAsync}}),json:n(7767).a8.json.parse,wikidata:(u=n(9156),{json:u.parsers.entity.parse,list:u.parsers.id.parse,prop:u.parsers.prop.parse,type:u.parsers.prop.parseType,async:{json:u.parsers.entity.parseAsync,prop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve(u.parsers.prop.parse.apply(this,t))}}})},l.plugins.input),l.get=Object.assign({dict:l.plugins.dict,name:o.format,date:a.format,bibtex:((e,t,n,r)=>({json:e=>t.formatBibtex([e])[0],label(e){let{id:t,"citation-label":r,author:i,issued:o,"year-suffix":a,title:s}=e;return n.LABEL.toSource(t,r,i,o,a,s)},text:(t,n)=>e.bibtex(t,{format:n?"html":"text"}),type:e=>r[e]||"misc"}))(n(3384).c,n(5480),n(448).Converters,n(9776).target),bibtxt:n(2683).format,json:n(6532).c.data,label:n(6532).c.label},l.plugins.output),e.exports=l},6576:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"format",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return r.default}});var r=o(n(1920)),i=o(n(7600));function o(e){return e&&e.__esModule?e:{default:e}}},1920:(e,t)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},o=/ (?:to|[-/]) | ?(?:--|[\u2013\u2014]) ?/,a=/^(\d{4}-\d{2}-\d{2})\/(\d{4}-\d{2}-\d{2})$/;function s(e){return i[e.toLowerCase().slice(0,3)]}const l=function(e){const t=/^(\d{4}|[-+]\d{6,})-(\d{2})(?:-(\d{2}))?/;if("string"!==typeof e||!t.test(e))return null;const r=n(e.match(t),4),i=r[1],o=r[2],a=r[3];return+o?+a?[i,o,a]:[i,o]:[i]},c=function(e){const t=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if("string"!==typeof e||!t.test(e))return null;let r=n(e.match(t),4),i=r[1],o=r[2],a=r[3];return o=s(o),o?[a,o,i]:null};function u(e){const t=function(e){const t=new Date(e);return"number"!==typeof e||isNaN(t.valueOf())?null:[t.getFullYear(),t.getMonth()+1,t.getDate()]}(e)||l(e)||c(e)||function(e){const t=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if("string"!==typeof e||!t.test(e))return null;const r=n(e.match(t),4),i=r[1],o=r[2],a=r[3];return new Date(a,i,o).getMonth()===parseInt(i)?[a,i,o]:null}(e)||function(e){const t=/^(\d{1,2})[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](-?\d+)/i,r=/^(-?\d+)[ .\-/](\d{1,2}|[a-z]{3,10})[ .\-/](\d{1,2})/i;let i,o,a;if("string"!==typeof e)return null;if(t.test(e)){var l=n(e.match(t),4);a=l[1],o=l[2],i=l[3]}else{if(!r.test(e))return null;var c=n(e.match(r),4);i=c[1],o=c[2],a=c[3]}if(s(o))o=s(o);else if(isNaN(o))return null;return[i,o,a]}(e)||function(e){const t=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if("string"===typeof e&&t.test(e)){const n=e.match(t).slice(1,3);let r;if(s(n[1]))r=s(n.pop());else if(s(n[0]))r=s(n.shift());else{if(n.some(isNaN)||n.every((e=>+e<0)))return null;r=+n[0]<0||+n[0]>+n[1]&&+n[1]>0?n.pop():n.shift()}return[n.pop(),r]}return null}(e)||function(e){if("string"!==typeof e)return null;const t=e.match(/^(\d+) ?(a\.?d\.?|b\.?c\.?)$/i);if(t){const e=n(t.slice(1),2);return[e[0]*("a"===e[1].toLowerCase()[0]?1:-1)]}return/^-?\d+$/.test(e)?[e]:null}(e);return t&&t.map((e=>parseInt(e)))}var d=function(e,t){const n=[],r="string"===typeof e&&function(e){return a.test(e)?e.match(a).slice(1,3):e.split(o)}(e);t?n.push(e,t):r&&2===r.length?n.push(...r):n.push(e);const i=n.map(u);return i.filter(Boolean).length===n.length?{"date-parts":i}:{raw:t?n.join("/"):e}};t.default=d},7600:(e,t)=>{"use strict";function n(e,t,n){if(e.length>=t)return e;for(;e.length<t;)e=n+e;return e.slice(-t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";if(!e["date-parts"])return e.raw;const r=e["date-parts"][0].map((e=>e.toString()));switch(r.length){case 3:r[2]=n(r[2],2,"0");case 2:r[1]=n(r[1],2,"0");case 1:r[0]=n(r[0],4,"0")}return r.join(t)};t.default=r},3024:e=>{"use strict";var t={PROCESSOR_VERSION:"1.4.61",error:function(e){throw"undefined"===typeof Error?new Error("citeproc-js error: "+e):"citeproc-js error: "+e},debug:function(e){"undefined"===typeof console?dump("CSL: "+e+"\n"):console.log("citeproc-js warning: "+e)},toLocaleUpperCase(e){var t=this.tmp.lang_array;try{e=e.toLocaleUpperCase(t)}catch(n){e=e.toUpperCase()}return e},toLocaleLowerCase(e){var t=this.tmp.lang_array;try{e=e.toLocaleLowerCase(t)}catch(n){e=e.toLowerCase()}return e},LOCATOR_LABELS_REGEXP:new RegExp("^((vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:vrs|sv|subpara|op|subch|add|amend|annot|app|art|bibliog|bk|ch|cl|col|cmt|dec|dept|div|ex|fig|fld|fol|n|hypo|illus|intro|l|no|p|pp|para|pt|pmbl|princ|pub|r|rn|sched|sec|ser|subdiv|subsec|supp|tbl|tit|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"vrs.":"verse","sv.":"sub-verbo","subpara.":"subparagraph","op.":"opus","subch.":"subchapter","add.":"addendum","amend.":"amendment","annot.":"annotation","app.":"appendix","art.":"article","bibliog.":"bibliography","bk.":"book","ch.":"chapter","cl.":"clause","col.":"column","cmt.":"comment","dec.":"decision","dept.":"department","ex.":"example","fig.":"figure","fld.":"field","fol.":"folio","n.":"note","hypo.":"hypothetical","illus.":"illustration","intro.":"introduction","l.":"line","no.":"issue","p.":"page","pp.":"page","para.":"paragraph","pt.":"part","pmbl.":"preamble","princ.":"principle","pub.":"publication","r.":"rule","rn.":"randnummer","sched.":"schedule","sec.":"section","ser.":"series,","subdiv.":"subdivision","subsec.":"subsection","supp.":"supplement","tbl.":"table","tit.":"title","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{verse:"vrs.","sub-verbo":"sv.","sub verbo":"sv.",subparagraph:"subpara.",opus:"op.",subchapter:"subch.",addendum:"add.",amendment:"amend.",annotation:"annot.",appendix:"app.",article:"art.",bibliography:"bibliog.",book:"bk.",chapter:"ch.",clause:"cl.",column:"col.",comment:"cmt.",decision:"dec.",department:"dept.",example:"ex.",figure:"fig.",field:"fld.",folio:"fol.",note:"n.",hypothetical:"hypo.",illustration:"illus.",introduction:"intro.",line:"l.",issue:"no.",page:"p.",paragraph:"para.",part:"pt.",preamble:"pmbl.",principle:"princ.",publication:"pub.",rule:"r.",randnummer:"rn.",schedule:"sched.",section:"sec.","series,":"ser.",subdivision:"subdiv.",subsection:"subsec.",supplement:"supp.",table:"tbl.",title:"tit.",volume:"vol."},LOCATOR_LABELS_MAP:{vrs:"verse",sv:"sub-verbo",subpara:"subparagraph",op:"opus",subch:"subchapter",add:"addendum",amend:"amendment",annot:"annotation",app:"appendix",art:"article",bibliog:"bibliography",bk:"book",ch:"chapter",cl:"clause",col:"column",cmt:"comment",dec:"decision",dept:"department",ex:"example",fig:"figure",fld:"field",fol:"folio",n:"note",hypo:"hypothetical",illus:"illustration",intro:"introduction",l:"line",no:"issue",p:"page",pp:"page",para:"paragraph",pt:"part",pmbl:"preamble",princ:"principle",pub:"publication",r:"rule",rn:"randnummer",sched:"schedule",sec:"section",ser:"series,",subdiv:"subdivision",subsec:"subsection",supp:"supplement",tbl:"table",tit:"title",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0,patent:!0,locator:!0},checkNestedBrace:function(e){"note"===e.opt.xclass?(this.depth=0,this.update=function(e){for(var t=(e=e||"").split(/([\(\)])/),n=1,r=t.length;n<r;n+=2)"("===t[n]?(1===this.depth%2&&(t[n]="["),this.depth+=1):")"===t[n]&&(0===this.depth%2&&(t[n]="]"),this.depth-=1);return t.join("")}):this.update=function(e){return e}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"titles",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"places",edition:"places",issue:"places",volume:"places"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},getAbbrevsDomain:function(e,t,n){var r=null;if(e.opt.availableAbbrevDomains&&t&&"default"!==t){var i=e.locale[e.opt.lang].opts["jurisdiction-preference"],o=null;if(e.locale[n]&&(o=e.locale[n].opts["jurisdiction-preference"]),o)for(var a=o.length-1;a>-1;a--)if(e.opt.availableAbbrevDomains[t].indexOf(o[a])>-1){r=o[a];break}if(!r&&i)for(a=i.length-1;a>-1;a--)if(e.opt.availableAbbrevDomains[t].indexOf(i[a])>-1){r=i[a];break}}return r},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"container-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","locator-extra":"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(e){if(this.opt.development_extensions.locator_date_and_revision&&e.locator){e.locator=""+e.locator;var t=e.locator.indexOf("|");if(t>-1){var n=e.locator;e.locator=n.slice(0,t);var r=(n=n.slice(t+1)).match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);r&&(e["locator-date"]=this.fun.dateparser.parseDateToObject(r[1]),n=n.slice(r[1].length)),e["locator-extra"]=n.replace(/^\s+/,"").replace(/\s+$/,"")}}return e.locator&&(e.locator=(""+e.locator).replace(/\s+$/,"")),e},normalizeLocaleStr:function(e){if(e){var t=e.split("-");return t[0]=t[0].toLowerCase(),t[1]&&(t[1]=t[1].toUpperCase()),t.join("-")}},parseNoteFieldHacks:function(e,n,r){if("string"===typeof e.note){for(var i=[],o=e.note.split("\n"),a=0,s=o.length;a<s;a++){i=[];var l=(f=o[a]).match(t.NOTE_FIELDS_REGEXP);if(l){for(var c=f.split(t.NOTE_FIELDS_REGEXP),u=0,d=c.length-1;u<d;u++)i.push(c[u]),i.push(l[u]);i.push(c[c.length-1]);for(u=1,d=i.length;u<d&&(!i[u-1].trim()||!(a>0||u>1)||i[u-1].match(t.NOTE_FIELD_REGEXP));u+=2)i[u]="\n"+i[u].slice(2,-1).trim()+"\n";o[a]=i.join("")}}var p=0,h={};for(a=0,s=(o=o.join("\n").split("\n")).length;a<s;a++){var f,m=(f=o[a]).match(t.NOTE_FIELD_REGEXP);if(f.trim()){if(!m){if(0===a)continue;p=a;break}var g=m[1],v=m[2].replace(/^\s+/,"").replace(/\s+$/,"");if("type"===g)e.type=v,o[a]="";else if(t.DATE_VARIABLES.indexOf(g.replace(/^alt-/,""))>-1)e[g]&&!r||(e[g]=t.DateParser.parseDateToArray(v),(!n||n[g]&&this.isDateString(v))&&(o[a]=""));else if(!e[g]){if(t.NAME_VARIABLES.indexOf(g.replace(/^alt-/,""))>-1){h[g]||(h[g]=[]);var b=v.split(/\s*\|\|\s*/);if(1===b.length)h[g].push({literal:b[0]});else if(2===b.length){var y={family:b[0],given:b[1]};t.parseParticles(y),h[g].push(y)}}else e[g]=v;n&&!n[g]||(o[a]="")}}}for(var g in h)e[g]=h[g];if(n){o[p].trim()&&(o[p]="\n"+o[p]);for(a=p-1;a>-1;a--)o[a].trim()||(o=o.slice(0,a).concat(o.slice(a+1)))}e.note=o.join("\n").trim()}},checkPrefixSpaceAppend:function(e,n){n||(n="");var r="",i=n.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),o=i.slice(-1);return(i.match(t.ENDSWITH_ROMANESQUE_REGEXP)||t.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(o)>-1||o.match(/[\)\],0-9]/))&&(r=" "),n=(n+r).replace(/\s+/g," ")},checkIgnorePredecessor:function(e,n){var r=n.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,"").slice(-1);return t.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(r)>-1&&n.trim().indexOf(" ")>-1&&(e.tmp.term_predecessor=!1,!0)},checkSuffixSpacePrepend:function(e,n){return n?((n.match(t.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(n.slice(0,1))>-1)&&(n=" "+n),n):""},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,PRIMARY:1,SECONDARY:2,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,POSITION_CONTAINER_SUBSEQUENT:4,POSITION_MAP:{0:0,4:1,1:2,2:3,3:4},POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort","intext"],CITE_FIELDS:["first-reference-note-number","first-container-reference-note-number","locator","locator-extra"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,TRIGRAPH:3,DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)(\.)*/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],CREATORS:["author","chair","collection-editor","compiler","composer","container-author","contributor","curator","director","editor","editor-translator","editorial-director","executive-producer","guest","host","illustrator","interviewer","narrator","organizer","original-author","performer","producer","recipient","reviewed-author","script-writer","series-creator","translator","commenter"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","division","edition","page","issue","locator","locator-extra","number","number-of-pages","number-of-volumes","part-number","printing-number","section","supplement-number","version","volume","supplement","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","original-date","publication-date","available-date","submitted","alt-issued","alt-event"],VARIABLES_WITH_SHORT_FORM:["title","container-title"],TITLE_FIELD_SPLITS:function(e){for(var t=["title","short","main","sub","subjoin"],n={},r=0,i=t.length;r<i;r++)n[t[r]]=e+"title"+("title"===t[r]?"":"-"+t[r]);return n},demoteNoiseWords:function(e,t,n){var r=e.locale[e.opt.lang].opts["leading-noise-words"];if(t&&n){(t=t.split(/\s+/)).reverse();for(var i=[],o=t.length-1;o>-1&&r.indexOf(t[o].toLowerCase())>-1;o+=-1)i.push(t.pop());t.reverse();var a=t.join(" "),s=i.join(" ");"drop"!==n&&s?"demote"===n&&(t=[a,s].join(", ")):t=a}return t},extractTitleAndSubtitle:function(e,n){var r=n?"\u202f":"",i=[""];this.opt.development_extensions.split_container_title&&i.push("container-");for(var o=0,a=i.length;o<a;o++){var s=i[o],l=t.TITLE_FIELD_SPLITS(s),c=[!1];if(e.multi)for(var u in e.multi._keys[l.short])c.push(u);for(var d=0,p=c.length;d<p;d++){var h={};(u=c[d])?(e.multi._keys[l.title]&&(h[l.title]=e.multi._keys[l.title][u]),e.multi._keys[l.short]&&(h[l.short]=e.multi._keys[l.short][u])):(h[l.title]=e[l.title],h[l.short]=e[l.short]),h[l.main]=h[l.title],h[l.sub]=!1;var f=h[l.short];if(h[l.title]){if(f&&f.toLowerCase()===h[l.title].toLowerCase())h[l.main]=h[l.title],h[l.subjoin]="",h[l.sub]="";else if(f){var m=h[l.title].slice(f.replace(/[\?\!]+$/,"").length),g=h[l.title].replace(m.replace(/^[\?\!]+/,""),"").trim();if((y=t.TITLE_SPLIT_REGEXP.matchfirst.exec(m))&&g.toLowerCase()===f.toLowerCase())h[l.main]=g,h[l.subjoin]=y[1].replace(/[\?\!]+(\s*)$/,"$1"),h[l.sub]=m.replace(t.TITLE_SPLIT_REGEXP.matchfirst,""),this.opt.development_extensions.force_short_title_casing_alignment&&(h[l.short]=h[l.main]);else 3==(v=t.TITLE_SPLIT(h[l.title])).length?(h[l.main]=v[0],h[l.subjoin]=v[1],h[l.sub]=v[2]):(h[l.main]=h[l.title],h[l.subjoin]="",h[l.sub]="")}else{var v;if(3==(v=t.TITLE_SPLIT(h[l.title])).length){if(h[l.main]=v[0],h[l.subjoin]=v[1],h[l.sub]=v[2],this.opt.development_extensions.implicit_short_title&&"legal_case"!==e.type&&!e[l.short]&&!h[l.main].match(/^[\-\.[0-9]+$/)){var b=h[l.subjoin].trim();-1===["?","!"].indexOf(b)&&(b=""),h[l.short]=h[l.main]+b}}else h[l.main]=h[l.title],h[l.subjoin]="",h[l.sub]=""}if(h[l.subjoin]&&h[l.subjoin].match(/([\?\!])/)){var y=h[l.subjoin].match(/(\s*)$/);h[l.main]=h[l.main]+r+h[l.subjoin].trim(),h[l.subjoin]=y[1]}}if(h[l.subjoin]&&(h[l.subjoin].indexOf(":")>-1&&(h[l.subjoin]=r+": "),(h[l.subjoin].indexOf("-")>-1||h[l.subjoin].indexOf("\u2014")>-1)&&(h[l.subjoin]="\u2014")),u)for(var _ in h)e.multi._keys[_]||(e.multi._keys[_]={}),e.multi._keys[_][u]=h[_];else for(var _ in h)e[_]=h[_]}}},titlecaseSentenceOrNormal:function(e,n,r,i,o){var a=t.TITLE_FIELD_SPLITS(r),s={};if(i&&n.multi?(n.multi._keys[a.title]&&(s[a.title]=n.multi._keys[a.title][i]),n.multi._keys[a.main]&&(s[a.main]=n.multi._keys[a.main][i]),n.multi._keys[a.sub]&&(s[a.sub]=n.multi._keys[a.sub][i]),n.multi._keys[a.subjoin]&&(s[a.subjoin]=n.multi._keys[a.subjoin][i])):(s[a.title]=n[a.title],s[a.main]=n[a.main],s[a.sub]=n[a.sub],s[a.subjoin]=n[a.subjoin]),s[a.main]&&s[a.sub]){var l=s[a.main],c=s[a.subjoin],u=s[a.sub];return o?(l=t.Output.Formatters.sentence(e,l),u=t.Output.Formatters.sentence(e,u)):e.opt.development_extensions.uppercase_subtitles&&(u=t.Output.Formatters["capitalize-first"](e,u)),[l,c,u].join("")}if(s[a.title]){if(o)return t.Output.Formatters.sentence(e,s[a.title]);if(e.opt.development_extensions.uppercase_subtitles){for(var d=t.TITLE_SPLIT(s[a.title]),p=0,h=d.length;p<h;p+=2)d[p]=t.Output.Formatters["capitalize-first"](e,d[p]);for(p=1,h=d.length-1;p<h;p+=2){var f=d[p].match(/([:\?\!] )/);if(f){var m="fr"===e.opt["default-locale"][0].slice(0,2).toLowerCase()?"\u202f":"";d[p]=m+f[1]}(d[p].indexOf("-")>-1||d[p].indexOf("\u2014")>-1)&&(d[p]="\u2014")}return s[a.title]=d.join(""),s[a.title]}return s[a.title]}return""},getSafeEscape:function(e){if(["bibliography","citation"].indexOf(e.tmp.area)>-1){var n=[];return e.opt.development_extensions.thin_non_breaking_space_html_hack&&"html"===e.opt.mode&&n.push((function(e){return e.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')})),n.length?function(r){for(var i=0,o=n.length;i<o;i+=1)r=n[i](r);return t.Output.Formats[e.opt.mode].text_escape(r)}:t.Output.Formats[e.opt.mode].text_escape}return function(e){return e}},SKIP_WORDS:["about","above","across","afore","after","against","al","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","et","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-\xe0-vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokm\xe5l)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukrainian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{"\xaa":"a","\xb2":"2","\xb3":"3","\xb9":"1","\xba":"o","\u02b0":"h","\u02b1":"\u0266","\u02b2":"j","\u02b3":"r","\u02b4":"\u0279","\u02b5":"\u027b","\u02b6":"\u0281","\u02b7":"w","\u02b8":"y","\u02e0":"\u0263","\u02e1":"l","\u02e2":"s","\u02e3":"x","\u02e4":"\u0295","\u1d2c":"A","\u1d2d":"\xc6","\u1d2e":"B","\u1d30":"D","\u1d31":"E","\u1d32":"\u018e","\u1d33":"G","\u1d34":"H","\u1d35":"I","\u1d36":"J","\u1d37":"K","\u1d38":"L","\u1d39":"M","\u1d3a":"N","\u1d3c":"O","\u1d3d":"\u0222","\u1d3e":"P","\u1d3f":"R","\u1d40":"T","\u1d41":"U","\u1d42":"W","\u1d43":"a","\u1d44":"\u0250","\u1d45":"\u0251","\u1d46":"\u1d02","\u1d47":"b","\u1d48":"d","\u1d49":"e","\u1d4a":"\u0259","\u1d4b":"\u025b","\u1d4c":"\u025c","\u1d4d":"g","\u1d4f":"k","\u1d50":"m","\u1d51":"\u014b","\u1d52":"o","\u1d53":"\u0254","\u1d54":"\u1d16","\u1d55":"\u1d17","\u1d56":"p","\u1d57":"t","\u1d58":"u","\u1d59":"\u1d1d","\u1d5a":"\u026f","\u1d5b":"v","\u1d5c":"\u1d25","\u1d5d":"\u03b2","\u1d5e":"\u03b3","\u1d5f":"\u03b4","\u1d60":"\u03c6","\u1d61":"\u03c7","\u2070":"0","\u2071":"i","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u207a":"+","\u207b":"\u2212","\u207c":"=","\u207d":"(","\u207e":")","\u207f":"n","\u2120":"SM","\u2122":"TM","\u3192":"\u4e00","\u3193":"\u4e8c","\u3194":"\u4e09","\u3195":"\u56db","\u3196":"\u4e0a","\u3197":"\u4e2d","\u3198":"\u4e0b","\u3199":"\u7532","\u319a":"\u4e59","\u319b":"\u4e19","\u319c":"\u4e01","\u319d":"\u5929","\u319e":"\u5730","\u319f":"\u4eba","\u02c0":"\u0294","\u02c1":"\u0295","\u06e5":"\u0648","\u06e6":"\u064a"},SUPERSCRIPTS_REGEXP:new RegExp("[\xaa\xb2\xb3\xb9\xba\u02b0\u02b1\u02b2\u02b3\u02b4\u02b5\u02b6\u02b7\u02b8\u02e0\u02e1\u02e2\u02e3\u02e4\u1d2c\u1d2d\u1d2e\u1d30\u1d31\u1d32\u1d33\u1d34\u1d35\u1d36\u1d37\u1d38\u1d39\u1d3a\u1d3c\u1d3d\u1d3e\u1d3f\u1d40\u1d41\u1d42\u1d43\u1d44\u1d45\u1d46\u1d47\u1d48\u1d49\u1d4a\u1d4b\u1d4c\u1d4d\u1d4f\u1d50\u1d51\u1d52\u1d53\u1d54\u1d55\u1d56\u1d57\u1d58\u1d59\u1d5a\u1d5b\u1d5c\u1d5d\u1d5e\u1d5f\u1d60\u1d61\u2070\u2071\u2074\u2075\u2076\u2077\u2078\u2079\u207a\u207b\u207c\u207d\u207e\u207f\u2120\u2122\u3192\u3193\u3194\u3195\u3196\u3197\u3198\u3199\u319a\u319b\u319c\u319d\u319e\u319f\u02c0\u02c1\u06e5\u06e6]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(e,t,n,r,i){if(e.opt.use_context_condition){var o=e.tmp.group_context.tip;o.condition?(o.condition.termtxt||(o.condition.termtxt=t,o.condition.valueTerm=n),o.value_seen||"comma-safe-numbers-only"!==o.condition.test||i&&(o.value_seen=!0,i.match(/^[0-9]/)||(e.tmp.just_did_number=!1))):r&&r.decorations.filter((e=>"@vertical-align"===e[0])).length>0||r&&r.strings.suffix?e.tmp.just_did_number=!1:t&&(t.match(/[0-9]$/)?e.tmp.just_did_number=!0:e.tmp.just_did_number=!1)}},EVALUATE_GROUP_CONDITION:function(e,n){if(e.opt.use_context_condition){var r,i="comma-safe-numbers-only"===n.condition.test;if("empty-label"===n.condition.test)r=!n.condition.termtxt;else if("empty-label-no-decor"===n.condition.test)r=!n.condition.termtxt||n.condition.termtxt.indexOf("%s")>-1;else if(["comma-safe","comma-safe-numbers-only"].indexOf(n.condition.test)>-1){var o=n.condition.termtxt,a=!1;n.condition.termtxt&&(a=n.condition.termtxt.slice(0,1).match(t.ALL_ROMANESQUE_REGEXP)),r=e.tmp.just_did_number?n.condition.valueTerm?!i:!o||(a?!i:["always","after-number"].indexOf(e.opt.require_comma_on_symbol)>-1):!n.condition.valueTerm&&(!!o&&(a?!i:"always"===e.opt.require_comma_on_symbol))}if(r)var s=!1;else s=!0;return n.condition.not&&(s=!s),s}},SYS_OPTIONS:["prioritize_disambiguate_condition","csl_reverse_lookup_support","main_title_from_short_title","uppercase_subtitles","force_short_title_casing_alignment","implicit_short_title","split_container_title"],TITLE_SPLIT_REGEXP:function(){var e=["\\.\\s+","\\!\\s+","\\?\\s+","\\s*::*\\s+","\\s*\u2014\\s*","\\s+\\-\\s+","\\s*\\-\\-\\-*\\s*"];return{match:new RegExp("("+e.join("|")+")","g"),matchfirst:new RegExp("^("+e.join("|")+")"),split:new RegExp("(?:"+e.join("|")+")")}}(),TITLE_SPLIT:function(e){if(!e)return e;for(var n=e.match(t.TITLE_SPLIT_REGEXP.match),r=e.split(t.TITLE_SPLIT_REGEXP.split),i=r.length-2;i>-1;i--)r[i]=r[i].trim(),r[i]&&r[i].slice(-1).toLowerCase()!==r[i].slice(-1)?(r[i]=r[i]+n[i]+r[i+1],r=r.slice(0,i+1).concat(r.slice(i+2))):r=r.slice(0,i+1).concat([n[i]]).concat(r.slice(i+1));return r},GET_COURT_CLASS:function(e,t,n){var r="",i=null,o=t.jurisdiction?t.jurisdiction.split(":")[0]:null,a="court_condition_classes";return n&&(a="court_key_classes"),o&&t.authority&&("string"===typeof t.authority?i=t.authority:t.authority[0]&&t.authority[0].literal&&(i=t.authority[0].literal)),i&&(this.lang&&e.locale[this.lang].opts[a]&&e.locale[this.lang].opts[a][o]&&e.locale[this.lang].opts[a][o][i]?r=e.locale[this.lang].opts[a][o][i]:e.locale[e.opt["default-locale"][0]].opts[a]&&e.locale[e.opt["default-locale"][0]].opts[a][o]&&e.locale[e.opt["default-locale"][0]].opts[a][o][i]&&(r=e.locale[e.opt["default-locale"][0]].opts[a][o][i])),r},SET_COURT_CLASSES:function(e,t,n,r){for(var i=n.getNodesByName(r,"court-class"),o=0,a=n.numberofnodes(i);o<a;o+=1){var s=i[o],l=n.attributes(s),c=l["@name"],u=l["@country"],d=l["@courts"],p="court_key_classes";if(e.registry&&(p="court_condition_classes"),c&&u&&d){d=d.trim().split(/\s+/),e.locale[t].opts[p]||(e.locale[t].opts[p]={}),e.locale[t].opts[p][u]||(e.locale[t].opts[p][u]={});for(var h=0,f=d.length;h<f;h++)e.locale[t].opts[p][u][d[h]]=c}}},INIT_JURISDICTION_MACROS:function(e,n,r,i){if(n["best-jurisdiction"])return!0;if(!e.sys.retrieveStyleModule||!t.MODULE_MACROS[i]||!n.jurisdiction)return!1;var o=e.getJurisdictionList(n.jurisdiction);if(!e.opt.jurisdictions_seen[o[0]]){var a=e.retrieveAllStyleModules(o);for(var s in a){var l=e.loadStyleModule(s,a[s]);l&&(a[l]||(Object.assign(a,e.retrieveAllStyleModules([l])),e.loadStyleModule(l,a[l],!0)))}}o=e.getJurisdictionList(n.jurisdiction);e.opt.parallel.enable&&(e.parallel||(e.parallel=new t.Parallel(e)));for(var c=0,u=o.length;c<u;c++){s=o[c];if(r&&e.juris[s]&&!r["best-jurisdiction"]&&e.juris[s].types.locator&&(n["best-jurisdiction"]=s),e.juris[s]&&e.juris[s].types[n.type])return n["best-jurisdiction"]=s,!0}return!1},XmlJSON:function(e){this.dataObj=e,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", "},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}}};t.XmlJSON.prototype.clean=function(e){return e},t.XmlJSON.prototype.getStyleId=function(e,t){var n="id";t&&(n="title");for(var r="",i=e.children,o=0,a=i.length;o<a;o++)if("info"===i[o].name)for(var s=i[o].children,l=0,c=s.length;l<c;l++)s[l].name===n&&(r=s[l].children[0]);return r},t.XmlJSON.prototype.children=function(e){return!(!e||!e.children.length)&&e.children.slice()},t.XmlJSON.prototype.nodename=function(e){return e?e.name:null},t.XmlJSON.prototype.attributes=function(e){var t={};for(var n in e.attrs)t["@"+n]=e.attrs[n];return t},t.XmlJSON.prototype.content=function(e){var t="";if(!e||!e.children)return t;for(var n=0,r=e.children.length;n<r;n+=1)"string"===typeof e.children[n]&&(t+=e.children[n]);return t},t.XmlJSON.prototype.namespace={},t.XmlJSON.prototype.numberofnodes=function(e){return e&&"number"==typeof e.length?e.length:0},t.XmlJSON.prototype.getAttributeValue=function(e,t,n){var r="";return n&&(t=n+":"+t),e&&e.attrs&&(r=e.attrs[t]?e.attrs[t]:""),r},t.XmlJSON.prototype.getNodeValue=function(e,t){var n="";if(t)for(var r=0,i=e.children.length;r<i;r+=1)e.children[r].name===t&&(n=e.children[r].children.length?e.children[r]:"");else e&&(n=e);return n&&n.children&&1==n.children.length&&"string"===typeof n.children[0]&&(n=n.children[0]),n},t.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(e,t,n,r,i){"@"===r.slice(0,1)&&(r=r.slice(1));for(var o=0,a=e.children.length;o<a;o+=1)e.children[o].name===t&&e.children[o].attrs.name===n&&(e.children[o].attrs[r]=i)},t.XmlJSON.prototype.deleteNodeByNameAttribute=function(e,t){var n,r;for(n=0,r=e.children.length;n<r;n+=1)e.children[n]&&"string"!==typeof e.children[n]&&e.children[n].attrs.name==t&&(e.children=e.children.slice(0,n).concat(e.children.slice(n+1)))},t.XmlJSON.prototype.deleteAttribute=function(e,t){"undefined"!==typeof e.attrs[t]&&e.attrs.pop(t)},t.XmlJSON.prototype.setAttribute=function(e,t,n){return e.attrs[t]=n,!1},t.XmlJSON.prototype.nodeCopy=function(e,t){if(!t)t={};if("object"===typeof t&&"undefined"===typeof t.length)for(var n in e)"string"===typeof e[n]?t[n]=e[n]:"object"===typeof e[n]&&("undefined"===typeof e[n].length?t[n]=this.nodeCopy(e[n],{}):t[n]=this.nodeCopy(e[n],[]));else for(var r=0,i=e.length;r<i;r+=1)"string"===typeof e[r]?t[r]=e[r]:t[r]=this.nodeCopy(e[r],{});return t},t.XmlJSON.prototype.getNodesByName=function(e,t,n,r){if(!r)r=[];if(!e||!e.children)return r;t===e.name&&(n?n===e.attrs.name&&r.push(e):r.push(e));for(var i=0,o=e.children.length;i<o;i+=1)"object"===typeof e.children[i]&&this.getNodesByName(e.children[i],t,n,r);return r},t.XmlJSON.prototype.nodeNameIs=function(e,t){return"undefined"!==typeof e&&t==e.name},t.XmlJSON.prototype.makeXml=function(e){return"string"===typeof e&&(e="<"===e.slice(0,1)?this.jsonStringWalker.walkToObject(e):JSON.parse(e)),e},t.XmlJSON.prototype.insertChildNodeAfter=function(e,t,n,r){for(var i=0,o=e.children.length;i<o;i+=1)if(t===e.children[i]){e.children=e.children.slice(0,i).concat([r]).concat(e.children.slice(i+1));break}return e},t.XmlJSON.prototype.insertPublisherAndPlace=function(e){if("group"===e.name){for(var t=!0,n=["publisher","publisher-place"],r=0,i=e.children.length;r<i;r+=1){var o=n.indexOf(e.children[r].attrs.variable);if(!("text"===e.children[r].name&&o>-1)||e.children[r].attrs.prefix||e.children[r].attrs.suffix){t=!1;break}n=n.slice(0,o).concat(n.slice(o+1))}t&&!n.length&&(e.attrs["has-publisher-and-publisher-place"]=!0)}for(r=0,i=e.children.length;r<i;r+=1)"object"===typeof e.children[r]&&this.insertPublisherAndPlace(e.children[r])},t.XmlJSON.prototype.isChildOfSubstitute=function(e){if(e.length>0){var t=e.slice();return"substitute"===t.pop()||this.isChildOfSubstitute(t)}return!1},t.XmlJSON.prototype.addMissingNameNodes=function(e,t){if(t||(t=[]),"names"===e.name&&!this.isChildOfSubstitute(t)){for(var n=!0,r=0,i=e.children.length;r<i;r++)if("name"===e.children[r].name){n=!1;break}n&&(e.children=[{name:"name",attrs:{},children:[]}].concat(e.children))}t.push(e.name);for(r=0,i=e.children.length;r<i;r+=1)"object"===typeof e.children[r]&&this.addMissingNameNodes(e.children[r],t);t.pop()},t.XmlJSON.prototype.addInstitutionNodes=function(e){if("names"===e.name){for(var n={},r=-1,i=0,o=e.children.length;i<o;i+=1){if("name"==e.children[i].name){for(var a in e.children[i].attrs)n[a]=e.children[i].attrs[a];n.delimiter=e.children[i].attrs.delimiter,n.and=e.children[i].attrs.and,r=i;for(var s=0,l=e.children[i].children.length;s<l;s+=1)if("family"===e.children[i].children[s].attrs.name)for(var a in e.children[i].children[s].attrs)n[a]=e.children[i].children[s].attrs[a]}if("institution"==e.children[i].name){r=-1;break}}if(r>-1){var c=this.nodeCopy(this.institution);for(i=0,o=t.INSTITUTION_KEYS.length;i<o;i+=1){var u=t.INSTITUTION_KEYS[i];"undefined"!==typeof n[u]&&(c.children[0].attrs[u]=n[u]),n.delimiter&&(c.attrs.delimiter=n.delimiter),n.and&&(c.attrs.and=n.and)}e.children=e.children.slice(0,r+1).concat([c]).concat(e.children.slice(r+1))}}for(i=0,o=e.children.length;i<o;i+=1)"string"!==typeof e.children[i]&&this.addInstitutionNodes(e.children[i])},t.XmlJSON.prototype.flagDateMacros=function(e){for(var t=0,n=e.children.length;t<n;t+=1)"macro"===e.children[t].name&&this.inspectDateMacros(e.children[t])&&(e.children[t].attrs["macro-has-date"]="true")},t.XmlJSON.prototype.inspectDateMacros=function(e){if(!e||!e.children)return!1;if("date"===e.name)return!0;for(var t=0,n=e.children.length;t<n;t+=1)if(this.inspectDateMacros(e.children[t]))return!0;return!1},t.stripXmlProcessingInstruction=function(e){return e?e=(e=(e=(e=e.replace(/^<\?[^?]+\?>/,"")).replace(/<!--[^>]+-->/g,"")).replace(/^\s+/g,"")).replace(/\s+$/g,""):e},t.parseXml=function(e){var t={children:[]},n=[t.children];function r(e){return e.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,(function(e,t){var n=parseInt(t,10);return String.fromCharCode(n)})).replace(/&#x([a-f0-9]{1,6});/gi,(function(e,t){var n=parseInt(t,16);return String.fromCharCode(n)}))}function i(e,t){var n=RegExp("^.*[\t ]+"+t+"=(\"(?:[^\"]*)\"|'(?:[^']*)').*$"),r=e.match(n);return r?r[1].slice(1,-1):null}function o(e){var t=RegExp("^<([^\t />]+)"),n=e.match(t);return n?n[1]:null}function a(e){var t={};t.name=o(e),t.attrs={};var n=function(e){var t=e.match(/([^\'\"=\x09 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(t)for(var n=0,r=t.length;n<r;n++)t[n]=t[n].replace(/=.*/,"");return t}(e);if(n)for(var a=0,s=n.length;a<s;a++){var l={name:n[a],value:i(e,n[a])};t.attrs[l.name]=r(l.value)}return t.children=[],t}function s(e){return r(e.match(/^.*>([^<]*)<.*$/)[1])}function l(e){n.slice(-1)[0].push(e)}function c(e){var t;e.slice(1).indexOf("<")>-1?((t=a(e.slice(0,e.indexOf(">")+1))).children=[s(e)],l(t)):"/>"===e.slice(-2)?(t=a(e),"term"===o(e)&&t.children.push(""),l(t)):"</"===e.slice(0,2)?n.pop():(l(t=a(e)),function(e){n.push(e.children)}(t))}for(var u=function(e){for(var t=(e=e.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[\x09 ]+</g,"><").replace(/<\!--.*?-->/g,"")).split("><"),n=null,r=0,i=t.length;r<i;r++)r>0&&(t[r]="<"+t[r]),r<t.length-1&&(t[r]=t[r]+">"),"number"!=typeof n&&("<style "!==t[r].slice(0,7)&&"<locale "!=t[r].slice(0,8)||(n=r));for(r=(t=t.slice(n)).length-2;r>-1;r--)if(-1===t[r].slice(1).indexOf("<")){var o=t[r].slice(0,5);"/>"!==t[r].slice(-2)&&("<term"===o?"</term"===t[r+1].slice(0,6)&&(t[r]=t[r]+t[r+1],t=t.slice(0,r+1).concat(t.slice(r+2))):["<sing","<mult"].indexOf(o)>-1&&"/>"!==t[r].slice(-2)&&"<"===t[r+1].slice(0,1)&&(t[r]=t[r]+t[r+1],t=t.slice(0,r+1).concat(t.slice(r+2))))}return t}(e),d=0,p=u.length;d<p;d++){c(u[d])}return t.children[0]},t.XmlDOM=function(e){this.dataObj=e,"undefined"==typeof DOMParser?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(e,t){var n;return"undefined"!=typeof ActiveXObject?((n=new ActiveXObject("MSXML.DomDocument")).async=!1,n.loadXML(e),n):"undefined"!=typeof XMLHttpRequest?(t||(t="text/xml"),(n=new XMLHttpRequest).open("GET","data:"+t+";charset=utf-8,"+encodeURIComponent(e),!1),n.overrideMimeType&&n.overrideMimeType(t),n.send(null),n.responseXML):"undefined"!=typeof marknote?(new marknote.Parser).parse(e):void 0},this.hasAttributes=function(e){return!(!e.attributes||!e.attributes.length)}):this.hasAttributes=function(e){return!(!e.attributes||!e.attributes.length)},this.importNode=function(e,t){return"undefined"==typeof e.importNode?this._importNode(e,t,!0):e.importNode(t,!0)},this._importNode=function(e,t,n){if(1===t.nodeType){var r=e.createElement(t.nodeName);if(t.attributes&&t.attributes.length>0)for(var i=0,o=t.attributes.length;i<o;)r.setAttribute(t.attributes[i].nodeName,t.getAttribute(t.attributes[i++].nodeName));if(n&&t.childNodes&&t.childNodes.length>0)for(i=0,o=t.childNodes.length;i<o;)r.appendChild(this._importNode(e,t.childNodes[i++],n));return r}},this.parser=new DOMParser;var t=this.parser.parseFromString('<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',"text/xml"),n=t.getElementsByTagName("institution");this.institution=n.item(0);var r=t.getElementsByTagName("institution-part");this.institutionpart=r.item(0),this.ns="http://purl.org/net/xbiblio/csl"},t.XmlDOM.prototype.clean=function(e){return e=(e=(e=(e=(e=e.replace(/<\?[^?]+\?>/g,"")).replace(/<![^>]+>/g,"")).replace(/^\s+/,"")).replace(/\s+$/,"")).replace(/^\n*/,"")},t.XmlDOM.prototype.getStyleId=function(e,t){var n="",r="id";t&&(r="title");var i=e.getElementsByTagName(r);return i&&i.length&&(i=i.item(0)),i&&(n=i.textContent),n||(n=i.innerText),n||(n=i.innerHTML),n},t.XmlDOM.prototype.children=function(e){var t,n,r,i;if(e){for(i=[],n=0,r=(t=e.childNodes).length;n<r;n+=1)"#text"!=t[n].nodeName&&i.push(t[n]);return i}return[]},t.XmlDOM.prototype.nodename=function(e){return e.nodeName},t.XmlDOM.prototype.attributes=function(e){var t,n,r,i,o;if(t=new Object,e&&this.hasAttributes(e))for(i=0,o=(n=e.attributes).length;i<o;i+=1)t["@"+(r=n[i]).name]=r.value;return t},t.XmlDOM.prototype.content=function(e){return"undefined"!=typeof e.textContent?e.textContent:"undefined"!=typeof e.innerText?e.innerText:e.txt},t.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},t.XmlDOM.prototype.numberofnodes=function(e){return e?e.length:0},t.XmlDOM.prototype.getAttributeName=function(e){return e.name},t.XmlDOM.prototype.getAttributeValue=function(e,t,n){var r="";return n&&(t=n+":"+t),e&&this.hasAttributes(e)&&e.getAttribute(t)&&(r=e.getAttribute(t)),r},t.XmlDOM.prototype.getNodeValue=function(e,t){var n=null;if(t){var r=e.getElementsByTagName(t);r.length>0&&(n="undefined"!=typeof r[0].textContent?r[0].textContent:"undefined"!=typeof r[0].innerText?r[0].innerText:r[0].text)}return null===n&&e&&e.childNodes&&(0==e.childNodes.length||1==e.childNodes.length&&"#text"==e.firstChild.nodeName)&&(n="undefined"!=typeof e.textContent?e.textContent:"undefined"!=typeof e.innerText?e.innerText:e.text),null===n&&(n=e),n},t.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(e,t,n,r,i){var o,a,s,l;for("@"===r.slice(0,1)&&(r=r.slice(1)),o=0,a=(s=e.getElementsByTagName(t)).length;o<a;o+=1)(l=s[o]).getAttribute("name")==n&&l.setAttribute(r,i)},t.XmlDOM.prototype.deleteNodeByNameAttribute=function(e,t){var n,r,i,o;for(n=0,r=(o=e.childNodes).length;n<r;n+=1)(i=o[n])&&i.nodeType!=i.TEXT_NODE&&this.hasAttributes(i)&&i.getAttribute("name")==t&&e.removeChild(o[n])},t.XmlDOM.prototype.deleteAttribute=function(e,t){e.removeAttribute(t)},t.XmlDOM.prototype.setAttribute=function(e,t,n){return e.ownerDocument||(e=e.firstChild),["function","unknown"].indexOf(typeof e.setAttribute)>-1&&e.setAttribute(t,n),!1},t.XmlDOM.prototype.nodeCopy=function(e){return e.cloneNode(!0)},t.XmlDOM.prototype.getNodesByName=function(e,t,n){var r,i,o,a,s;for(r=[],a=0,s=(i=e.getElementsByTagName(t)).length;a<s;a+=1)o=i.item(a),(!n||this.hasAttributes(o)&&o.getAttribute("name")==n)&&r.push(o);return r},t.XmlDOM.prototype.nodeNameIs=function(e,t){return t==e.nodeName},t.XmlDOM.prototype.makeXml=function(e){return e||(e="<docco><bogus/></docco>"),e=e.replace(/\s*<\?[^>]*\?>\s*\n*/g,""),this.parser.parseFromString(e,"application/xml").firstChild},t.XmlDOM.prototype.insertChildNodeAfter=function(e,t,n,r){var i;return i=this.importNode(t.ownerDocument,r),e.replaceChild(i,t),e},t.XmlDOM.prototype.insertPublisherAndPlace=function(e){for(var t=e.getElementsByTagName("group"),n=0,r=t.length;n<r;n+=1){for(var i=t.item(n),o=[],a=0,s=i.childNodes.length;a<s;a+=1)1!==i.childNodes.item(a).nodeType&&o.push(a);if(i.childNodes.length-o.length===2){var l=[];for(a=0,s=2;a<s;a+=1)if(!(o.indexOf(a)>-1)){for(var c=i.childNodes.item(a),u=[],d=0,p=c.childNodes.length;d<p;d+=1)1!==c.childNodes.item(d).nodeType&&u.push(d);if(c.childNodes.length-u.length===0&&(l.push(c.getAttribute("variable")),c.getAttribute("suffix")||c.getAttribute("prefix"))){l=[];break}}l.indexOf("publisher")>-1&&l.indexOf("publisher-place")>-1&&i.setAttribute("has-publisher-and-publisher-place",!0)}}},t.XmlDOM.prototype.isChildOfSubstitute=function(e){return!!e.parentNode&&("substitute"===e.parentNode.tagName.toLowerCase()||this.isChildOfSubstitute(e.parentNode))},t.XmlDOM.prototype.addMissingNameNodes=function(e){for(var t=e.getElementsByTagName("names"),n=0,r=t.length;n<r;n+=1){var i=t.item(n),o=i.getElementsByTagName("name");if((!o||0===o.length)&&!this.isChildOfSubstitute(i)){var a=i.ownerDocument.createElement("name");i.appendChild(a)}}},t.XmlDOM.prototype.addInstitutionNodes=function(e){var n,r,i,o,a,s,l,c;for(l=0,c=(n=e.getElementsByTagName("names")).length;l<c;l+=1)if(0!=(a=(r=n.item(l)).getElementsByTagName("name")).length&&0==r.getElementsByTagName("institution").length){o=(i=this.importNode(e.ownerDocument,this.institution)).getElementsByTagName("institution-part").item(0),s=a.item(0),r.insertBefore(i,s.nextSibling);for(var u=0,d=t.INSTITUTION_KEYS.length;u<d;u+=1){var p=t.INSTITUTION_KEYS[u];(g=s.getAttribute(p))&&o.setAttribute(p,g)}var h=s.getElementsByTagName("name-part");for(u=0,d=h.length;u<d;u+=1)if("family"===h[u].getAttribute("name"))for(var f=0,m=t.INSTITUTION_KEYS.length;f<m;f+=1){var g;p=t.INSTITUTION_KEYS[f];(g=h[u].getAttribute(p))&&o.setAttribute(p,g)}}},t.XmlDOM.prototype.flagDateMacros=function(e){var t,n,r,i=e.getElementsByTagName("macro");for(t=0,n=i.length;t<n;t+=1)(r=i.item(t)).getElementsByTagName("date").length&&r.setAttribute("macro-has-date","true")},t.setupXml=function(e){var n={},r=null;return"undefined"!==typeof e?"string"===typeof e?(n="<"===(e=e.replace("^\ufeff","").replace(/^\s+/,"")).slice(0,1)?t.parseXml(e):JSON.parse(e),r=new t.XmlJSON(n)):r="undefined"!==typeof e.getAttribute?new t.XmlDOM(e):"undefined"!==typeof e.toXMLString?new t.XmlE4X(e):new t.XmlJSON(e):t.error("unable to parse XML input"),r||t.error("citeproc-js error: unable to parse CSL style or locale object"),r},t.getSortCompare=function(e){if(t.stringCompare)return t.stringCompare;var n,r=this,i={sensitivity:"base",ignorePunctuation:!0,numeric:!0};e||(e="en-US");var o=function(e){return e.replace(/^[\[\]\'\"]*/g,"")},a=!!(n=function(n,o){return t.toLocaleLowerCase.call(r,n).localeCompare(t.toLocaleLowerCase.call(r,o),e,i)})("[x","x")&&function(e,t){return n(o(e),o(t))};return function(e,t){return a?a(e,t):n(e,t)}},t.ambigConfigDiff=function(e,t){var n,r,i,o;if(e.names.length!==t.names.length)return 1;for(n=0,r=e.names.length;n<r;n+=1){if(e.names[n]!==t.names[n])return 1;for(i=0,o=e.givens[n];i<o;i+=1)if(e.givens[n][i]!==t.givens[n][i])return 1}return e.disambiguate!=t.disambiguate||e.year_suffix!==t.year_suffix?1:0},t.cloneAmbigConfig=function(e,t){var n,r,i,o,a,s={names:[],givens:[],year_suffix:!1,disambiguate:!1};for(n=0,r=e.names.length;n<r;n+=1)a=e.names[n],s.names[n]=a;for(n=0,r=e.givens.length;n<r;n+=1){for(a=[],i=0,o=e.givens[n].length;i<o;i+=1)a.push(e.givens[n][i]);s.givens.push(a)}return t?(s.year_suffix=t.year_suffix,s.disambiguate=t.disambiguate):(s.year_suffix=e.year_suffix,s.disambiguate=e.disambiguate),s},t.getAmbigConfig=function(){var e;return(e=this.tmp.disambig_request)||(e=this.tmp.disambig_settings),t.cloneAmbigConfig(e)},t.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},t.getMinVal=function(){return this.tmp["et-al-min"]},t.tokenExec=function(e,t,n){var r,i;r=e.next,i=!1;e.test&&(r=function(t){return t?(this.tmp.jump.replace("succeed"),e.succeed):(this.tmp.jump.replace("fail"),e.fail)}.call(this,e.test(t,n)));for(var o=0,a=e.execs.length;o<a;o++)(i=e.execs[o].call(e,this,t,n))&&(r=i);return r},t.expandMacro=function(e,n){var r,i,o;r=e.postponed_macro;var a=e.strings.sort_direction;e=new t.Token("group",t.START);var s=!1,l=!1;(i=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",r)).length&&(l=this.cslXml.getAttributeValue(i[0],"cslid"),s=this.cslXml.getAttributeValue(i[0],"macro-has-date")),s&&(r=r+"@"+this.build.current_default_locale,d=function(e){e.tmp.extension&&(e.tmp["doing-macro-with-date"]=!0)},e.execs.push(d)),this.build.macro_stack.indexOf(r)>-1?t.error('CSL processor error: call to macro "'+r+'" would cause an infinite loop'):this.build.macro_stack.push(r),e.cslid=l,t.MODULE_MACROS[r]&&(e.juris=r,this.opt.update_mode=t.POSITION),t.Node.group.build.call(e,this,n,!0),this.cslXml.getNodeValue(i)||t.error('CSL style error: undefined macro "'+r+'"');var c,u=t.getMacroTarget.call(this,r);if(u&&(t.buildMacro.call(this,u,i),t.configureMacro.call(this,u)),!this.build.extension){var d=(c=r,function(e,n,r){for(var i=0;i<e.macros[c].length;)i=t.tokenExec.call(e,e.macros[c][i],n,r)}),p=new t.Token("text",t.SINGLETON);p.execs.push(d),n.push(p)}(o=new t.Token("group",t.END)).strings.sort_direction=a,s&&(d=function(e){e.tmp.extension&&(e.tmp["doing-macro-with-date"]=!1)},o.execs.push(d)),e.juris&&(o.juris=r),t.Node.group.build.call(o,this,n,!0),this.build.macro_stack.pop()},t.getMacroTarget=function(e){var t=!1;return this.build.extension?t=this[this.build.root+this.build.extension].tokens:this.macros[e]||(t=[],this.macros[e]=t),t},t.buildMacro=function(e,n){t.makeBuilder(this,e)("undefined"===typeof n.length?n:n[0])},t.configureMacro=function(e){this.build.extension||this.configureTokenList(e)},t.XmlToToken=function(e,n,r,i){var o,a,s,l,c,u;if(o=e.cslXml.nodename(this),!e.build.skip||e.build.skip===o)if(o){if(t.Node[e.cslXml.nodename(this)]||t.error('Undefined node name "'+o+'".'),[],s=e.cslXml.attributes(this),l=t.setDecorations.call(this,e,s),c=new t.Token(o,n),n!==t.END||"if"===o||"else-if"===o||"layout"===o){for(var d in s)if(s.hasOwnProperty(d)){if(n===t.END&&"@language"!==d&&"@locale"!==d)continue;if(s.hasOwnProperty(d))if(t.Attributes[d])try{t.Attributes[d].call(c,e,""+s[d])}catch(p){t.error(d+" attribute: "+p)}else t.debug('warning: undefined attribute "'+d+'" in style')}c.decorations=l,t.DATE_VARIABLES.indexOf(s["@variable"])>-1&&i.push(c.variables)}else n===t.END&&s["@variable"]&&(c.hasVariable=!0,t.DATE_VARIABLES.indexOf(s["@variable"])>-1&&(c.variables=i.pop()));u=r||e[e.build.area].tokens,t.Node[o].build.call(c,e,u,!0)}else(a=e.cslXml.content(this))&&(e.build.text=a)},t.DateParser=function(){for(var e=[["\u660e\u6cbb",1867],["\u5927\u6b63",1911],["\u662d\u548c",1925],["\u5e73\u6210",1988]],n={},r=0,i=e.length;r<i;r++){var o=e[r][0],a=e[r][1];n[o]=a}var s=[],l={};for(r=0,i=e.length;r<i;r++){var c=e[r];a=c[0];s.push(a),l[c[0]]=c[1]}var u=s.join("|"),d=new RegExp("(?:"+u+")(?:[0-9]+)"),p=new RegExp("(?:"+u+")(?:[0-9]+)","g"),h=/(\u6708|\u5E74)/g,f=/\u65E5/g,m=/\u301c/g,g="([?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])|(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])|[?0-9]{1,3}|[%%DATED%%]|[?~]|[^-/~?0-9]+)",v=new RegExp(g.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),b=new RegExp(g.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),y=new RegExp(g.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-"));this.monthStrings="january february march april may june july august september october november december spring summer fall winter spring summer".split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var e=0,t=this.monthStrings.length;e<t;e++)this.monthSets.push([this.monthStrings[e]]);this.monthAbbrevs=[];for(e=0,t=this.monthSets.length;e<t;e++){this.monthAbbrevs.push([]);for(var n=0,r=this.monthSets[e].length;n<r;n++)this.monthAbbrevs[e].push(this.monthSets[e][0].slice(0,3))}this.monthRexes=[];for(e=0,t=this.monthAbbrevs.length;e<t;e++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[e].join("|")+")"))},this.addDateParserMonths=function(e){if("string"===typeof e&&(e=e.split(/\s+/)),12===e.length||16===e.length){for(var n=0,r=e.length;n<r;n++){for(var i=null,o=!1,a=3,s={},l=0,c=this.monthAbbrevs.length;l<c;l++){if(s[l]={},l===n){for(var u=0,d=this.monthAbbrevs[n].length;u<d;u++)if(this.monthAbbrevs[n][u]===e[n].slice(0,this.monthAbbrevs[n][u].length)){o=!0;break}}else for(u=0,d=this.monthAbbrevs[l].length;u<d;u++)if(i=this.monthAbbrevs[l][u].length,this.monthAbbrevs[l][u]===e[n].slice(0,i)){for(;this.monthSets[l][u].slice(0,i)===e[n].slice(0,i);){if(i>e[n].length||i>this.monthSets[l][u].length){t.debug("unable to disambiguate month string in date parser: "+e[n]);break}i+=1}a=i,s[l][u]=i}for(var p in s)for(var h in s[p])i=s[p][h],p=parseInt(p,10),h=parseInt(h,10),this.monthAbbrevs[p][h]=this.monthSets[p][h].slice(0,i)}o||(this.monthSets[n].push(e[n]),this.monthAbbrevs[n].push(e[n].slice(0,a)))}this.monthRexes=[],this.monthRexStrs=[];for(n=0,r=this.monthAbbrevs.length;n<r;n++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[n].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[n].join("|")+")");if(18===this.monthAbbrevs.length)for(n=12,r=14;n<r;n++)this.monthRexes[n+4]=new RegExp("^(?:"+this.monthAbbrevs[n].join("|")+")"),this.monthRexStrs[n+4]="^(?:"+this.monthAbbrevs[n].join("|")+")"}else t.debug("month [+season] list of "+e.length+", expected 12 or 16. Ignoring.")},this.convertDateObjectToArray=function(e){e["date-parts"]=[],e["date-parts"].push([]);for(var t,n=0,r=0,i=3;r<i&&e[t=["year","month","day"][r]];r++)n+=1,e["date-parts"][0].push(e[t]),delete e[t];e["date-parts"].push([]);for(r=0,i=n;r<i&&e[t=["year_end","month_end","day_end"][r]];r++)e["date-parts"][1].push(e[t]),delete e[t];return e["date-parts"][0].length!==e["date-parts"][1].length&&e["date-parts"].pop(),e},this.convertDateObjectToString=function(e){for(var n=[],r=0;r<3&&e[t.DATE_PARTS_ALL[r]];r+=1)n.push(e[t.DATE_PARTS_ALL[r]]);return n.join("-")},this._parseNumericDate=function(e,t,n,r){n||(n="");for(var i=r.split(t),o=0,a=i.length;o<a;o++)if(4===i[o].length){e["year"+n]=i[o].replace(/^0*/,""),i=o?i.slice(0,o):i.slice(1);break}for(o=0,a=i.length;o<a;o++)i[o]=parseInt(i[o],10);if(1===i.length||2===i.length&&!i[1])(s=i[0])&&(e["month"+n]=""+i[0]);else if(2===i.length)if(i[this.monthGuess]>12){var s=i[this.dayGuess],l=i[this.monthGuess];s&&(e["month"+n]=""+s,l&&(e["day"+n]=""+l))}else{s=i[this.monthGuess],l=i[this.dayGuess];s&&(e["month"+n]=""+s,l&&(e["day"+n]=""+l))}},this.parseDateToObject=function(e){var n,r=e,i=-1,o=-1,a=!1;if(e){if("-"===(e=e.replace(/^(.*[0-9])T[0-9].*/,"$1")).slice(0,1)&&(a=!0,e=e.slice(1)),e.match(/^[0-9]{1,3}$/))for(;e.length<4;)e="0"+e;if(O=(e=(e=""+e).replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"")).match(h)){var s=(e=(e=(e=(e=(e=(e=e.replace(/\s+/g,"")).replace(f,"")).replace(h,"-")).replace(m,"/")).replace(/\-\//g,"/")).replace(/-$/g,"")).split(d);n=[];var c=e.match(p);if(c){for(var u=[],g=0,_=c.length;g<_;g++)u=u.concat(c[g].match(/([^0-9]+)([0-9]+)/).slice(1));for(g=0,_=s.length;g<_;g++)if(n.push(s[g]),g!==_-1){var x=2*g;n.push(u[x]),n.push(u[x+1])}}else n=s;for(g=1,_=n.length;g<_;g+=3)n[g+1]=l[n[g]]+parseInt(n[g+1],10),n[g]="";i=(e=(e=(e=(e=n.join("")).replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/")).replace(/\.\s*$/,"")).replace(/\.(?! )/,"")).indexOf("/"),o=e.indexOf("-")}}var w,E,T="",C="",k={};if('"'===(e=e.replace(/([A-Za-z])\./g,"$1")).slice(0,1)&&'"'===e.slice(-1))return k.literal=e.slice(1,-1),k;i>-1&&o>-1?e.split("/").length>3?(w="-",E="/",n=(e=e.replace(/\_/g,"-")).split(y)):(w="/",E="-",n=(e=e.replace(/\_/g,"/")).split(b)):(w="-",E="-",n=(e=(e=e.replace(/\//g,"-")).replace(/\_/g,"-")).split(v));var S=[];for(g=0,_=n.length;g<_;g++){var O;(O=n[g].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/))&&S.push(O[1])}var A=S.indexOf(w),j=[],P=!1;A>-1?(j.push([0,A]),j.push([A+1,S.length]),P=!0):j.push([0,S.length]);var I="";for(g=0,_=j.length;g<_;g++){var L=j[g],R=S.slice(L[0],L[1]);e:for(var N=0,D=R.length;N<D;N++){var M=R[N];if(M.indexOf(E)>-1)this._parseNumericDate(k,E,I,M);else if(M.match(/[0-9]{4}/))k["year"+I]=M.replace(/^0*/,"");else{("~"===M||"?"===M||"c"===M||M.match(/^cir/))&&(k.circa=!0);for(var B=0,Q=this.monthRexes.length;B<Q;B++)if(M.toLocaleLowerCase().match(this.monthRexes[B])){k["month"+I]=""+(parseInt(B,10)+1);continue e}M.match(/^[0-9]+$/)&&(T=M),M.toLocaleLowerCase().match(/^bc/)&&T?(k["year"+I]=""+-1*T,T=""):M.toLocaleLowerCase().match(/^ad/)&&T?(k["year"+I]=""+T,T=""):!M.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)||k["season"+I]||(C=M)}}T&&(k["day"+I]=T,T=""),C&&!k["season"+I]&&(k["season"+I]=C.trim(),C=""),I="_end"}if(P)for(N=0,D=t.DATE_PARTS_ALL.length;N<D;N++){var U=t.DATE_PARTS_ALL[N];k[U]&&!k[U+"_end"]?k[U+"_end"]=k[U]:!k[U]&&k[U+"_end"]&&(k[U]=k[U+"_end"])}(!k.year||k.year&&k.day&&!k.month)&&(k={literal:r});var F=["year","month","day","year_end","month_end","day_end"];for(g=0,_=F.length;g<_;g++){var z=F[g];"string"===typeof k[z]&&k[z].match(/^[0-9]+$/)&&(k[z]=parseInt(k[z],10))}return a&&Object.keys(k).indexOf("year")>-1&&(k.year=-1*k.year),k},this.parseDateToArray=function(e){return this.convertDateObjectToArray(this.parseDateToObject(e))},this.parseDateToString=function(e){return this.convertDateObjectToString(this.parseDateToObject(e))},this.parse=function(e){return this.parseDateToObject(e)},this.setOrderMonthDay(),this.resetDateParserMonths()},t.DateParser=new t.DateParser,t.Engine=function(e,n,r,i){var o,a;for(var s in this.processor_version=t.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=e,"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},writable:!0,configurable:!0}),e.variableWrapper&&(t.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(t.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),t.retrieveStyleModule&&(this.sys.retrieveStyleModule=t.retrieveStyleModule),t.getAbbreviation&&(this.sys.getAbbreviation=t.getAbbreviation),this.sys.stringCompare&&(t.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=t.AbbreviationSegments,this.transform=new t.Transform(this),this.setParseNames=function(e){this.opt["parse-names"]=e},this.opt=new t.Engine.Opt,this.tmp=new t.Engine.Tmp,this.build=new t.Engine.Build,this.fun=new t.Engine.Fun(this),this.configure=new t.Engine.Configure,this.citation_sort=new t.Engine.CitationSort,this.bibliography_sort=new t.Engine.BibliographySort,this.citation=new t.Engine.Citation(this),this.bibliography=new t.Engine.Bibliography,this.intext=new t.Engine.InText,this.output=new t.Output.Queue(this),this.dateput=new t.Output.Queue(this),this.cslXml=t.setupXml(n),t.SYS_OPTIONS){var l=t.SYS_OPTIONS[s];"boolean"===typeof this.sys[l]&&(this.opt.development_extensions[l]=this.sys[l])}(this.opt.development_extensions.uppercase_subtitles||this.opt.development_extensions.implicit_short_title)&&(this.opt.development_extensions.main_title_from_short_title=!0),this.opt.development_extensions.csl_reverse_lookup_support&&(this.build.cslNodeId=0,this.setCslNodeIds=function(e,t){var n=this.cslXml.children(e);this.cslXml.setAttribute(e,"cslid",this.build.cslNodeId),this.opt.nodenames.push(t),this.build.cslNodeId+=1;for(var r=0,i=this.cslXml.numberofnodes(n);r<i;r+=1)(t=this.cslXml.nodename(n[r]))&&this.setCslNodeIds(n[r],t)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),"undefined"===typeof this.cslXml.attributes(this.cslXml.dataObj)["@sort-separator"]&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt.class=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),"1.1m"===this.opt.version.slice(0,4)&&(this.opt.development_extensions.consolidate_legal_items=!0,this.opt.development_extensions.consolidate_container_items=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0,this.opt.development_extensions.force_title_abbrev_fallback=!0),r&&(r=r.replace("_","-"),r=t.normalizeLocaleStr(r)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=t.normalizeLocaleStr(this.opt["default-locale"][0])),r&&i&&(this.opt["default-locale"]=[r]),r&&!i&&this.opt["default-locale"][0]&&(r=this.opt["default-locale"][0]),0===this.opt["default-locale"].length&&(r||(r="en-US"),this.opt["default-locale"].push("en-US")),r||(r=this.opt["default-locale"][0]),o=t.localeResolve(r),this.opt.lang=o.best,this.opt["default-locale"][0]=o.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(o),this.locale[this.opt.lang].opts["skip-words-regexp"]=(a=(a=this.locale[this.opt.lang].opts["skip-words"]).slice(),new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+a.join("|")+")(?=[!?:]*\\s+|-|$))","g")),this.output.adjust=new t.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new t.Registry(this),this.macros={},this.build.area="citation";var c=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(c,this[this.build.area].tokens),this.build.area="bibliography";c=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(c,this[this.build.area].tokens),this.build.area="intext";c=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(c,this[this.build.area].tokens),this.opt.parallel.enable&&(this.parallel=new t.Parallel(this)),this.juris={},this.configureTokenLists(),this.disambiguate=new t.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=t.DateParser,this.fun.flipflopper=new t.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=t.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=t.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},t.Engine.prototype.setCloseQuotesArray=function(){var e;(e=[]).push(this.getTerm("close-quote")),e.push(this.getTerm("close-inner-quote")),e.push('"'),e.push("'"),this.opt.close_quotes_array=e},t.makeBuilder=function(e,n){var r=[],i=[];function o(o){i.push(o),t.XmlToToken.call(o,e,t.START,n,r)}function a(){var o=i.pop();t.XmlToToken.call(o,e,t.END,n,r)}function s(i){t.XmlToToken.call(i,e,t.SINGLETON,n,r)}return function n(r,i,l){l||(l=[]),r||(r=[]),"undefined"===typeof r.length&&(r=[r]);for(var c=0;c<r.length;c++){var u=r[c];null!==e.cslXml.nodename(u)&&(i&&"date"===e.cslXml.nodename(u)&&(t.Util.fixDateNode.call(e,i,c,u),u=e.cslXml.children(i)[c]),e.cslXml.numberofnodes(e.cslXml.children(u))?(o(u),n(e.cslXml.children(u),u,l),a()):s(u))}}},t.Engine.prototype.buildTokenLists=function(e,n){this.cslXml.getNodeValue(e)&&t.makeBuilder(this,n)("undefined"===typeof e.length?e:e[0])},t.Engine.prototype.setStyleAttributes=function(){var e,n,r={};for(n in r.name=this.cslXml.nodename(this.cslXml.dataObj),e=this.cslXml.attributes(this.cslXml.dataObj))e.hasOwnProperty(n)&&t.Attributes[n].call(r,this,e[n])},t.Engine.prototype.getTerm=function(e,n,r,i,o,a){var s;e&&e.match(/[A-Z]/)&&e===e.toUpperCase()&&(t.debug("Warning: term key is in uppercase form: "+e),e=e.toLowerCase()),s=a?this.opt["default-locale"][0]:this.opt.lang;var l=t.Engine.getField(t.LOOSE,this.locale[s].terms,e,n,r,i);return l||"range-delimiter"!==e||(l="\u2013"),"undefined"===typeof l&&(o===t.STRICT?t.error('Error in getTerm: term "'+e+'" does not exist.'):o===t.TOLERANT&&(l="")),l&&(this.tmp.cite_renders_content=!0),l},t.Engine.prototype.getDate=function(e,t){var n;return n=t?this.opt["default-locale"]:this.opt.lang,!!this.locale[n].dates[e]&&this.locale[n].dates[e]},t.Engine.prototype.getOpt=function(e){return"undefined"!==typeof this.locale[this.opt.lang].opts[e]&&this.locale[this.opt.lang].opts[e]},t.Engine.prototype.getVariable=function(e,n,r,i){return t.Engine.getField(t.LOOSE,e,n,r,i)},t.Engine.prototype.getDateNum=function(e,t){return"undefined"===typeof e?0:e[t]},t.Engine.getField=function(e,n,r,i,o,a){var s,l,c,u,d,p;if(s="","undefined"===typeof n[r]){if(e!==t.STRICT)return;t.error('Error in getField: term "'+r+'" does not exist.')}for(p=a&&n[r][a]?n[r][a]:n[r],l=[],"symbol"===i?l=["symbol","short"]:"verb-short"===i?l=["verb-short","verb"]:"long"!==i&&(l=[i]),d=(l=l.concat(["long"])).length,u=0;u<d;u+=1)if(c=l[u],"string"===typeof p||"number"===typeof p)s=p;else if("undefined"!==typeof p[c]){s="string"===typeof p[c]||"number"===typeof p[c]?p[c]:"number"===typeof o?p[c][o]:p[c][0];break}return s},t.Engine.prototype.configureTokenLists=function(){var e,n;for(n=t.AREAS.length,e=0;e<n;e+=1){var r=this[t.AREAS[e]].tokens;this.configureTokenList(r)}return this.version=t.version,this.state},t.Engine.prototype.configureTokenList=function(e){var n,r,i,o,a,s;for(n=["year","month","day"],o=e.length-1;o>-1;o+=-1){if("date"===(r=e[o]).name&&t.END===r.tokentype&&(i=[]),"date-part"===r.name&&r.strings.name)for(s=n.length,a=0;a<s;a+=1)n[a]===r.strings.name&&i.push(r.strings.name);"date"===r.name&&t.START===r.tokentype&&(i.reverse(),r.dateparts=i),r.next=o+1,r.name&&t.Node[r.name].configure&&t.Node[r.name].configure.call(r,this,o)}},t.Engine.prototype.refetchItems=function(e){for(var t=[],n=0,r=e.length;n<r;n+=1)t.push(this.refetchItem(""+e[n]));return t},t.ITERATION=0,t.Engine.prototype.retrieveItem=function(e){var n,r;if(this.tmp.loadedItemIDs[e])return this.registry.refhash[e];if(this.tmp.loadedItemIDs[e]=!0,this.opt.development_extensions.normalize_lang_keys_to_lowercase&&"boolean"===typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase){for(var i=0,o=this.opt["default-locale"].length;i<o;i+=1)this.opt["default-locale"][i]=this.opt["default-locale"][i].toLowerCase();for(i=0,o=this.opt["locale-translit"].length;i<o;i+=1)this.opt["locale-translit"][i]=this.opt["locale-translit"][i].toLowerCase();for(i=0,o=this.opt["locale-translat"].length;i<o;i+=1)this.opt["locale-translat"][i]=this.opt["locale-translat"][i].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(t.ITERATION+=1,n=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+e))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(n.multi){if(n.multi._keys)for(var a in n.multi._keys)for(var s in n.multi._keys[a])s!==s.toLowerCase()&&(n.multi._keys[a][s.toLowerCase()]=n.multi._keys[a][s],delete n.multi._keys[a][s]);if(n.multi.main)for(var a in n.multi.main)n.multi.main[a]=n.multi.main[a].toLowerCase()}for(i=0,o=t.NAME_VARIABLES.length;i>o;i+=1){var l=t.NAME_VARIABLES[i];if(n[l]&&n[l].multi)for(var c=0,u=n[l].length;c<u;c+=1){var d=n[l][c];if(d.multi){if(d.multi._key)for(var s in d.multi._key)s!==s.toLowerCase()&&(d.multi._key[s.toLowerCase()]=d.multi._key[s],delete d.multi._key[s]);d.multi.main&&(d.multi.main=d.multi.main.toLowerCase())}}}}n.language&&n.language.match(/[><]/)&&("<"===(r=n.language.match(/(.*?)([<>])(.*)/))[2]?(n["language-name"]=r[1],n["language-name-original"]=r[3]):(n["language-name"]=r[3],n["language-name-original"]=r[1]),this.opt.multi_layout?n["language-name-original"]&&(n.language=n["language-name-original"]):n["language-name"]&&(n.language=n["language-name"]));n.page&&(n["page-first"]=n.page,"\\"!==(r=(""+n.page).split(/\s*(?:&|, |-|\u2013)\s*/))[0].slice(-1)&&(n["page-first"]=r[0]));for(var s in this.opt.development_extensions.field_hack&&n.note&&t.parseNoteFieldHacks(n,!1,this.opt.development_extensions.allow_field_hack_date_override),n)if(t.DATE_VARIABLES.indexOf(s.replace(/^alt-/,""))>-1){var p=n[s];p&&(this.opt.development_extensions.raw_date_parsing&&(!p.raw||p["date-parts"]&&0!==p["date-parts"].length||(p=this.fun.dateparser.parseDateToObject(p.raw))),n[s]=this.dateParseArray(p))}if(this.opt.development_extensions.consolidate_legal_items&&n.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(n.type)>-1){var h=[];for(i=0,o=(g=["type","title","jurisdiction","genre","volume","container-title"]).length;i<o;i+=1)n[m=g[i]]&&h.push(n[m]);for(i=0,o=(g=["original-date","issued"]).length;i<o;i+=1)if(n[m=g[i]]&&n[m].year){var f=n[m].year;h.push(f);break}n.legislation_id=h.join("::")}if(this.bibliography.opt.track_container_items&&this.bibliography.opt.track_container_items.indexOf(n.type)>-1){var m,g,v=[];for(i=0,o=(g=["type","container-title","publisher","edition"]).length;i<o;i+=1)n[m=g[i]]&&v.push(n[m]);n.container_id=v.join("::")}if(this.opt.development_extensions.force_jurisdiction&&"string"===typeof n.authority&&(n.authority=[{literal:n.authority,multi:{_key:{}}}],n.multi&&n.multi._keys&&n.multi._keys.authority))for(var s in n.authority[0].multi._key={},n.multi._keys.authority)n.authority[0].multi._key[s]={literal:n.multi._keys.authority[s]};if(n["title-short"]||(n["title-short"]=n.shortTitle),this.opt.development_extensions.main_title_from_short_title){var b="fr"===this.opt["default-locale"][0].slice(0,2).toLowerCase();t.extractTitleAndSubtitle.call(this,n,b)}var y,_=["bill","legal_case","legislation","gazette","regulation"].indexOf(n.type)>-1;if(this.opt.development_extensions.force_jurisdiction&&_&&(n.jurisdiction||(n.jurisdiction="us")),!_&&n.title&&this.sys.getAbbreviation){n.jurisdiction||!0,y=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey("title",n.title):n.title;var x=this.transform.loadAbbreviation(n.jurisdiction,"title",y,n.language);this.transform.abbrevs[x].title&&this.transform.abbrevs[x].title[y]&&(n["title-short"]=this.transform.abbrevs[x].title[y])}if(n["container-title-short"]||(n["container-title-short"]=n.journalAbbreviation),n["container-title"]&&this.sys.getAbbreviation){y=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey(n["container-title"]):n["container-title"];x=this.transform.loadAbbreviation(n.jurisdiction,"container-title",y,n.language);this.transform.abbrevs[x]["container-title"]&&this.transform.abbrevs[x]["container-title"][y]&&(n["container-title-short"]=this.transform.abbrevs[x]["container-title"][y])}if(n.jurisdiction&&(n.country=n.jurisdiction.split(":")[0]),this.registry.refhash[e]){if(JSON.stringify(this.registry.refhash[e])!=JSON.stringify(n)){for(var s in this.registry.refhash[e])delete this.registry.refhash[e][s];this.tmp.taintedItemIDs[n.id]=!0,Object.assign(this.registry.refhash[e],n)}}else this.registry.refhash[e]=n;return this.registry.refhash[e]},t.Engine.prototype.refetchItem=function(e){return this.registry.refhash[e]},t.Engine.prototype.setOpt=function(e,t,n){"style"===e.name||"cslstyle"===e.name?(this.opt.inheritedAttributes[t]=n,this.citation.opt.inheritedAttributes[t]=n,this.bibliography.opt.inheritedAttributes[t]=n):["citation","bibliography"].indexOf(e.name)>-1?this[e.name].opt.inheritedAttributes[t]=n:e.strings[t]=n},t.Engine.prototype.inheritOpt=function(e,t,n,r){if("undefined"!==typeof e.strings[t])return e.strings[t];var i=this[this.tmp.root].opt.inheritedAttributes[n||t];return"undefined"!==typeof i?i:r},t.Engine.prototype.remapSectionVariable=function(e){for(var n=0,r=e.length;n<r;n+=1){var i=e[n][0],o=e[n][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(i.type)>-1){if(o.locator)o.locator=o.locator.trim(),(s=o.locator.match(t.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))||(o.label?o.locator=t.STATUTE_SUBDIV_STRINGS_REVERSE[o.label]+" "+o.locator:o.locator="p. "+o.locator);var a=null;if(i.section)i.section=i.section.trim(),(s=i.section.match(t.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))?a=s[0].trim():(i.section="sec. "+i.section,a="sec.");if(i.section)if(o.locator){var s,l=" ";(s=o.locator.match(/^([^ ]*)\s*(.*)/))?("p."===s[1]&&"p."!==a&&(o.locator=s[2]),["[","(",".",",",";",":","?"].indexOf(o.locator.slice(0,1))>-1&&(l="")):l="",o.locator=i.section+l+o.locator}else o.locator=i.section;o.label=""}}},t.Engine.prototype.setNumberLabels=function(e){if(e.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(e.type)>-1&&this.opt.development_extensions.consolidate_legal_items&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var n=""+e.number,r=(n=n.split("\\").join("")).split(/\s+/)[0],i=t.STATUTE_SUBDIV_STRINGS[r];if(i){var o=n.split(t.STATUTE_SUBDIV_PLAIN_REGEX);if(o.length>1){for(var a=[],s=1,l=o.length;s<l;s+=1)a.push(o[s].replace(/\s*$/,"").replace(/^\s*/,""));n=a.join(" ")}else n=o[0];this.tmp.shadow_numbers.number.label=i,this.tmp.shadow_numbers.number.values.push(["Blob",n,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",n,!1]),this.tmp.shadow_numbers.number.numeric=!0}},t.substituteOne=function(e){return function(t,n){return n?e.replace("%%STRING%%",n):""}},t.substituteTwo=function(e){return function(t){var n=e.replace("%%PARAM%%",t);return function(e,t){return t?n.replace("%%STRING%%",t):""}}},t.Mode=function(e){var n,r,i,o,a,s;for(i in n={},r=t.Output.Formats[e])"@"===i.slice(0,1)?(o=!1,a=r[i],s=i.split("/"),"string"===typeof a&&a.indexOf("%%STRING%%")>-1?o=a.indexOf("%%PARAM%%")>-1?t.substituteTwo(a):t.substituteOne(a):"boolean"!==typeof a||a?"function"===typeof a?o=a:t.error("Bad "+e+" config entry for "+i+": "+a):o=t.Output.Formatters.passthrough,1===s.length?n[s[0]]=o:2===s.length&&(n[s[0]]||(n[s[0]]={}),n[s[0]][s[1]]=o)):n[i]=r[i];return n},t.setDecorations=function(e,n){var r,i;for(i in r=[],t.FORMAT_KEY_SEQUENCE){var o;n[o=t.FORMAT_KEY_SEQUENCE[i]]&&(r.push([o,n[o]]),delete n[o])}return r},t.Doppeler=function(e,t){var n=new RegExp("("+e+")","g"),r=new RegExp(e,"g");this.split=function(e){t&&(e=t(e));var i=e.match(n);if(!i)return{tags:[],strings:[e]};for(var o=e.split(r),a=i.length-1;a>-1;a--){"number"===typeof i[a]&&(i[a]=""),"'"===i[a]&&o[a+1].length>0&&(o[a+1]=i[a]+o[a+1],i[a]="")}return{tags:i,strings:o,origStrings:o.slice()}},this.join=function(e){for(var t=e.strings.slice(-1),n=e.tags.length-1;n>-1;n--)t.push(e.tags[n]),t.push(e.strings[n]);return t.reverse(),t.join("")}},t.Engine.prototype.normalDecorIsOrphan=function(e,t){if("normal"===t[1]){for(var n,r=!1,i=(n="citation"===this.tmp.area?[this.citation.opt.layout_decorations].concat(e.alldecor):e.alldecor).length-1;i>-1;i+=-1)for(var o=n[i].length-1;o>-1;o+=-1)n[i][o][0]===t[0]&&"normal"!==n[i][o][1]&&(r=!0);if(!r)return!0}return!1},t.Engine.prototype.getCitationLabel=function(e){var n="",r=this.getTrigraphParams(),i=r[0],o=this.getTerm("reference","short",0);"undefined"===typeof o&&(o="reference"),o=(o=o.replace(".","")).slice(0,1).toUpperCase()+o.slice(1);for(var a=0,s=t.NAME_VARIABLES.length;a<s;a+=1){var l=t.NAME_VARIABLES[a];if(e[l]){var c=e[l];i=c.length>r.length?r[r.length-1]:r[c.length-1];for(var u=0,d=c.length;u<d&&u!==i.authors.length;u+=1){var p=this.nameOutput.getName(c[u],"locale-translit",!0).name;p&&p.family?o=(o=p.family).replace(/^([ \'\u2019a-z]+\s+)/,""):p&&p.literal&&(o=p.literal);var h=o.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(h&&(o=o.slice(h[1].length)),!(o=o.replace(t.ROMANESQUE_NOT_REGEXP,"")))break;(o=o.slice(0,i.authors[u])).length>1?o=o.slice(0,1).toUpperCase()+o.slice(1).toLowerCase():1===o.length&&(o=o.toUpperCase()),n+=o}break}}if(!n&&e.title){var f=this.locale[this.opt.lang].opts["skip-words"],m=e.title.split(/\s+/);for(a=m.length-1;a>-1;a--)f.indexOf(m[a])>-1&&(m=m.slice(0,a).concat(m.slice(a+1)));var g=m.join("");(g=g.slice(0,r[0].authors[0])).length>1?g=g.slice(0,1).toUpperCase()+g.slice(1).toLowerCase():1===g.length&&(g=g.toUpperCase()),n=g}var v="0000";return e.issued&&e.issued.year&&(v=""+e.issued.year),n+=v=v.slice(-1*i.year)},t.Engine.prototype.getTrigraphParams=function(){var e=[],n=this.opt.trigraph.split(":");this.opt.trigraph&&"A"===this.opt.trigraph.slice(0,1)||t.error("Bad trigraph definition: "+this.opt.trigraph);for(var r=0,i=n.length;r<i;r+=1){for(var o=n[r],a={authors:[],year:0},s=0,l=o.length;s<l;s+=1)switch(o.slice(s,s+1)){case"A":a.authors.push(1);break;case"a":a.authors[a.authors.length-1]+=1;break;case"0":a.year+=1;break;default:t.error("Invalid character in trigraph definition: "+this.opt.trigraph)}e.push(a)}return e},t.Engine.prototype.setOutputFormat=function(e){this.opt.mode=e,this.fun.decorate=t.Mode(e),this.output[e]||(this.output[e]={},this.output[e].tmp={})},t.Engine.prototype.getSortFunc=function(){return function(e,t){return e=e.split("-"),t=t.split("-"),e.length<t.length?1:e.length>t.length?-1:(e=e.slice(-1)[0],t=t.slice(-1)[0],e.length<t.length?1:e.length>t.length?-1:0)}},t.Engine.prototype.setLangTagsForCslSort=function(e){var t,n;if(e)for(this.opt["locale-sort"]=[],t=0,n=e.length;t<n;t+=1)this.opt["locale-sort"].push(e[t]);this.opt["locale-sort"].sort(this.getSortFunc())},t.Engine.prototype.setLangTagsForCslTransliteration=function(e){var t,n;if(this.opt["locale-translit"]=[],e)for(t=0,n=e.length;t<n;t+=1)this.opt["locale-translit"].push(e[t]);this.opt["locale-translit"].sort(this.getSortFunc())},t.Engine.prototype.setLangTagsForCslTranslation=function(e){var t,n;if(this.opt["locale-translat"]=[],e)for(t=0,n=e.length;t<n;t+=1)this.opt["locale-translat"].push(e[t]);this.opt["locale-translat"].sort(this.getSortFunc())},t.Engine.prototype.setLangPrefsForCites=function(e,t){var n=this.opt["cite-lang-prefs"];t||(t=function(e){return e.toLowerCase()});for(var r=["Persons","Institutions","Titles","Journals","Publishers","Places"],i=0,o=r.length;i<o;i+=1){var a=t(r[i]),s=r[i].toLowerCase();if(e[a]){for(var l=[];e[a].length>1;)l.push(e[a].pop());var c={orig:1,translit:2,translat:3};for(2===l.length&&c[l[0]]<c[l[1]]&&l.reverse();l.length;)e[a].push(l.pop());for(var u=n[s];u.length;)u.pop();for(var d=0,p=e[a].length;d<p;d+=1)u.push(e[a][d])}}},t.Engine.prototype.setLangPrefsForCiteAffixes=function(e){if(e&&48===e.length){for(var t,n=this.opt.citeAffixes,r=0,i=["persons","institutions","titles","journals","publishers","places"],o=["translit","orig","translit","translat"],a=0,s=i.length;a<s;a+=1)for(var l=0,c=o.length;l<c;l+=1)t="",r%8===4&&(n[i[a]]["locale-"+o[l]].prefix||n[i[a]]["locale-"+o[l]].suffix)||(t=e[r]?e[r]:"",n[i[a]]["locale-"+o[l]].prefix=t,t=e[r]?e[r+1]:"",n[i[a]]["locale-"+o[l]].suffix=t),r+=2;this.opt.citeAffixes=n}},t.Engine.prototype.setAutoVietnameseNamesOption=function(e){this.opt["auto-vietnamese-names"]=!!e},t.Engine.prototype.setAbbreviations=function(e){this.sys.setAbbreviations&&this.sys.setAbbreviations(e)},t.Engine.prototype.setSuppressTrailingPunctuation=function(e){this.citation.opt.suppressTrailingPunctuation=!!e},t.Output={},t.Output.Queue=function(e){this.levelname=["top"],this.state=e,this.queue=[],this.empty=new t.Token("empty");var n={};n.empty=this.empty,this.formats=new t.Stack(n),this.current=new t.Stack(this.queue)},t.Output.Queue.prototype.pop=function(){var e=this.current.value();return e.length?e.pop():e.blobs.pop()},t.Output.Queue.prototype.getToken=function(e){return this.formats.value()[e]},t.Output.Queue.prototype.mergeTokenStrings=function(e,n){var r,i,o;if(o=r=this.formats.value()[e],i=this.formats.value()[n]){r||((r=new t.Token(e,t.SINGLETON)).decorations=[]),o=new t.Token(e,t.SINGLETON);var a="";for(var a in r.strings)r.strings.hasOwnProperty(a)&&(o.strings[a]=r.strings[a]);for(var a in i.strings)i.strings.hasOwnProperty(a)&&(o.strings[a]=i.strings[a]);o.decorations=r.decorations.concat(i.decorations)}return o},t.Output.Queue.prototype.addToken=function(e,n,r){var i,o;if(i=new t.Token("output"),"string"===typeof r&&(r=this.formats.value()[r]),r&&r.strings){for(o in r.strings)r.strings.hasOwnProperty(o)&&(i.strings[o]=r.strings[o]);i.decorations=r.decorations}"string"===typeof n&&(i.strings.delimiter=n),this.formats.value()[e]=i},t.Output.Queue.prototype.pushFormats=function(e){e||(e={}),e.empty=this.empty,this.formats.push(e)},t.Output.Queue.prototype.popFormats=function(){this.formats.pop()},t.Output.Queue.prototype.startTag=function(e,t){var n={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(t=this.empty,e="empty"),n[e]=t,this.pushFormats(n),this.openLevel(e)},t.Output.Queue.prototype.endTag=function(e){this.closeLevel(e),this.popFormats()},t.Output.Queue.prototype.openLevel=function(e){var n,r;"object"===typeof e?n=new t.Blob(void 0,e):"undefined"===typeof e?n=new t.Blob(void 0,this.formats.value().empty,"empty"):(this.formats.value()&&this.formats.value()[e]||t.error('CSL processor error: call to nonexistent format token "'+e+'"'),n=new t.Blob(void 0,this.formats.value()[e],e)),r=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(n.strings.prefix=this.checkNestedBrace.update(n.strings.prefix)),r.push(n),this.current.push(n)},t.Output.Queue.prototype.closeLevel=function(e){e&&e!==this.current.value().levelname&&t.error("Level mismatch error:  wanted "+e+" but found "+this.current.value().levelname);var n=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(n.strings.suffix=this.checkNestedBrace.update(n.strings.suffix))},t.Output.Queue.prototype.append=function(e,n,r,i,o){var a,s,l,c=!0;if(r&&(i=!0),this.state.tmp["doing-macro-with-date"]&&!r){if("macro-with-date"!==n)return!1;"macro-with-date"===n&&(n="empty")}if("undefined"===typeof e)return!1;if("number"===typeof e&&(e=""+e),!r&&this.state.tmp.element_trace&&"suppress-me"===this.state.tmp.element_trace.value())return!1;if(s=!1,n?"literal"===n?(a=!0,c=!1):a="string"===typeof n?this.formats.value()[n]:n:a=this.formats.value().empty,a||t.error("CSL processor error: unknown format token name: "+n),a.strings&&"undefined"===typeof a.strings.delimiter&&(a.strings.delimiter=""),"string"===typeof e&&e.length&&(e=e.replace(/ ([:;?!\u00bb])/g,"\u202f$1").replace(/\u00ab /g,"\xab\u202f"),this.last_char_rendered=e.slice(-1),e=e.replace(/\s+'/g," '"),r||(e=e.replace(/^'/g," '")),i?r&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),s=new t.Blob(e,a),"undefined"===typeof(l=this.current.value())&&0===this.current.mystack.length&&(this.current.mystack.push([]),l=this.current.value()),"string"===typeof s.blobs&&(i?r&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),"string"===typeof e){if("string"===typeof s.blobs&&" "!==s.blobs.slice(0,1)){for(var u="",d=s.blobs;t.TERMINAL_PUNCTUATION.indexOf(d.slice(0,1))>-1;)u+=d.slice(0,1),d=d.slice(1);d&&u&&(s.strings.prefix=s.strings.prefix+u,s.blobs=d)}s.strings["text-case"]&&(s.blobs=t.Output.Formatters[s.strings["text-case"]](this.state,e)),this.state.tmp.strip_periods&&!o&&(s.blobs=s.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var p=s.decorations.length-1;p>-1;p+=-1)"@quotes"===s.decorations[p][0]&&"false"!==s.decorations[p][1]&&(s.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),s.blobs.match(t.ROMANESQUE_REGEXP)||"@font-style"===s.decorations[p][0]&&(s.decorations=s.decorations.slice(0,p).concat(s.decorations.slice(p+1)));l.push(s),this.state.fun.flipflopper.processTags(s)}else c?l.push(s):l.push(e);return!0},t.Output.Queue.prototype.string=function(e,n,r){var i,o=t.getSafeEscape(this.state),a=n.slice(),s=[];if(0===a.length)return s;var l,c,u,d,p="";r?p=r.strings.delimiter:(e.tmp.count_offset_characters=!1,e.tmp.offset_characters=0),r&&r.new_locale&&(r.old_locale=e.opt.lang,e.opt.lang=r.new_locale);for(var h=0,f=a.length;h<f;h+=1){if((l=a[h]).strings.first_blob&&(e.tmp.count_offset_characters=l.strings.first_blob),"string"===typeof l.blobs){if("number"===typeof l.num)s.push(l);else if(l.blobs){l.particle&&(l.blobs=l.particle+l.blobs,l.particle="");var m=(i=o(l.blobs)).length;if(!e.tmp.suppress_decorations)for(b=0,y=l.decorations.length;b<y;b+=1)"@showid"!==(d=l.decorations[b])[0]&&(e.normalDecorIsOrphan(l,d)||(i=e.fun.decorate[d[0]][d[1]].call(l,e,i,d[2])));if(i&&i.length){if(i=o(l.strings.prefix)+i+o(l.strings.suffix),e.opt.development_extensions.csl_reverse_lookup_support&&!e.tmp.suppress_decorations)for(b=0,y=l.decorations.length;b<y;b+=1)"@showid"===(d=l.decorations[b])[0]&&(i=e.fun.decorate[d[0]][d[1]].call(l,e,i,d[2]));s.push(i),e.tmp.count_offset_characters&&(e.tmp.offset_characters+=m+l.strings.suffix.length+l.strings.prefix.length)}}}else if(l.blobs.length){var g=e.output.string(e,l.blobs,l);if(r&&"string"!==g&&g.length>1&&l.strings.delimiter)for(var v=!1,b=0,y=g.length;b<y;b++)"string"!==typeof g[b]?v=!0:v&&(g[b]=l.strings.delimiter+g[b]);s=s.concat(g)}l.strings.first_blob&&e.registry.registry[l.strings.first_blob]&&(e.registry.registry[l.strings.first_blob].offset=e.tmp.offset_characters,e.tmp.count_offset_characters=!1)}for(h=0,f=s.length-1;h<f;h+=1)"number"!==typeof s[h].num||"number"!==typeof s[h+1].num||s[h+1].UGLY_DELIMITER_SUPPRESS_HACK||(s[h].strings.suffix=s[h].strings.suffix+(p||""),s[h+1].successor_prefix="",s[h+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);var _=0;for(h=0,f=s.length;h<f;h+=1)"string"===typeof s[h]&&(_=parseInt(h,10)+1,h<s.length-1&&"object"===typeof s[h+1]&&(p&&!s[h+1].UGLY_DELIMITER_SUPPRESS_HACK&&(s[h]+=o(p)),s[h+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(r&&(r.decorations.length||r.strings.suffix))_=s.length;else if(r&&r.strings.prefix)for(h=0,f=s.length;h<f;h++)if("undefined"!==typeof s[h].num){_=h,0===h&&(s[h].strings.prefix=r.strings.prefix+s[h].strings.prefix);break}var x=e.output.renderBlobs(s.slice(0,_),p,!1,r);if(x&&r&&(r.decorations.length||r.strings.suffix||r.strings.prefix)){if(!e.tmp.suppress_decorations)for(h=0,f=r.decorations.length;h<f;h+=1)d=r.decorations[h],["@cite","@bibliography","@display","@showid"].indexOf(d[0])>-1||e.normalDecorIsOrphan(l,d)||d[0]&&"string"===typeof x&&(x=e.fun.decorate[d[0]][d[1]].call(r,e,x,d[2]));if(i=x,c=r.strings.suffix,i&&i.length&&(i=o(u=r.strings.prefix)+i+o(c),e.tmp.count_offset_characters&&(e.tmp.offset_characters+=u.length+c.length)),x=i,!e.tmp.suppress_decorations)for(h=0,f=r.decorations.length;h<f;h+=1)d=r.decorations[h],-1!==["@cite","@bibliography","@display","@showid"].indexOf(d[0])&&"string"===typeof x&&(x=e.fun.decorate[d[0]][d[1]].call(r,e,x,d[2]))}var w=s.slice(_,s.length);return!w.length&&x?s=[x]:w.length&&!x?s=w:x&&w.length&&(s=[x].concat(w)),"undefined"===typeof r?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),e.tmp.suppress_decorations&&(s=e.output.renderBlobs(s,void 0,!1))):"boolean"===typeof r&&(s=e.output.renderBlobs(s,void 0,!0)),r&&r.new_locale&&(e.opt.lang=r.old_locale),s},t.Output.Queue.prototype.clearlevel=function(){var e,t,n;for(n=(e=this.current.value()).blobs.length,t=0;t<n;t+=1)e.blobs.pop()},t.Output.Queue.prototype.renderBlobs=function(e,n,r,i){var o,a,s,l,c,u,d,p,h,f,m;if(m=t.getSafeEscape(this.state),n||(n=""),o=this.state,a="",[],s="",u=e.length,"citation"===this.state.tmp.area&&!this.state.tmp.just_looking&&1===u&&"object"===typeof e[0]&&i)return e[0].strings.prefix=i.strings.prefix+e[0].strings.prefix,e[0].strings.suffix=e[0].strings.suffix+i.strings.suffix,e[0].decorations=e[0].decorations.concat(i.decorations),e[0].params=i.params,e[0];var g=!0;for(c=0;c<u;c+=1)e[c].checkNext?(e[c].checkNext(e[c+1],g),g=!1):g=!e[c+1]||!e[c+1].splice_prefix;var v=!0;for(c=e.length-1;c>0;c+=-1)e[c].checkLast?v&&e[c].checkLast(e[c-1])&&(v=!1):v=!0;for(u=e.length,c=0;c<u;c+=1)if(a&&(s=n),"string"===typeof(l=e[c]))a+=m(s),a+=l,o.tmp.count_offset_characters&&(o.tmp.offset_characters+=s.length);else if(r)a=a?[a,l]:[l];else if(l.status!==t.SUPPRESS){var b=(h=l.particle?l.particle+l.num:l.formatter.format(l.num,l.gender)).replace(/<[^>]*>/g,"").length;this.append(h,"empty",!0);var y=this.pop(),_=o.tmp.count_offset_characters;if(h=this.string(o,[y],!1),o.tmp.count_offset_characters=_,l.strings["text-case"]&&(h=t.Output.Formatters[l.strings["text-case"]](this.state,h)),h&&this.state.tmp.strip_periods&&(h=h.replace(/\.([^a-z]|$)/g,"$1")),!o.tmp.suppress_decorations)for(p=l.decorations.length,d=0;d<p;d+=1)f=l.decorations[d],o.normalDecorIsOrphan(l,f)||(h=o.fun.decorate[f[0]][f[1]].call(l,o,h,f[2]));h=m(l.strings.prefix)+h+m(l.strings.suffix);var x="";l.status===t.END?x=m(l.range_prefix):l.status===t.SUCCESSOR?x=m(l.successor_prefix):l.status===t.START?x=c>0&&!l.suppress_splice_prefix?m(l.splice_prefix):"":l.status===t.SEEN&&(x=m(l.splice_prefix)),a+=x,a+=h,o.tmp.count_offset_characters&&(o.tmp.offset_characters+=x.length+l.strings.prefix.length+b+l.strings.suffix.length)}return a},t.Output.Queue.purgeEmptyBlobs=function(e){if("object"===typeof e&&"object"===typeof e.blobs&&e.blobs.length)for(var n=e.blobs.length-1;n>-1;n--){t.Output.Queue.purgeEmptyBlobs(e.blobs[n]);var r=e.blobs[n];if(!r||!r.blobs||!r.blobs.length){for(var i=[];e.blobs.length-1>n;)i.push(e.blobs.pop());for(e.blobs.pop();i.length;)e.blobs.push(i.pop())}}},t.Output.Queue.adjust=function(e){var t={";":!0,":":!0},n={".":!0,"!":!0,"?":!0},r={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},i={},o={},a={},s={};for(var l in r)a[l]=!0,s[l]=!0,t[l]||(i[l]=!0),n[l]||(o[l]=!0);s[" "]=!0,s["\xa0"]=!0;var c={};for(var l in r)for(var u in r[l])c[u]||(c[u]={}),c[u][l]=r[l][u];function d(e){return"number"===typeof e.num||e.blobs&&1===e.blobs.length&&"number"===typeof e.blobs[0].num}function p(e){return"number"===typeof e.num||!(!e.blobs||"object"!==typeof e.blobs)&&(!!p(e.blobs[e.blobs.length-1])||void 0)}function h(e,t){var n=!1,r=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(t&&r.push("@quotes"),e.decorations)for(var i=0,o=e.decorations.length;i<o;i++)if(r.indexOf(e.decorations[i][0])>-1){n=!0;break}return n}function f(e){if(e.decorations)for(var t=0,n=e.decorations.length;t<n;t++)if("@quotes"===e.decorations[t][0]&&"false"!==e.decorations[t][1])return!0;return"object"===typeof e.blobs&&f(e.blobs[e.blobs.length-1])}function m(e,t){var n=t.strings.suffix.slice(-1);n||"string"!==typeof t.blobs||(n=t.blobs.slice(-1));var r=c[e][n];return!(!r||1!==r.length)||"object"===typeof t.blobs&&!!m(e,t.blobs[t.blobs.length-1])}function g(e,t){if(!a[t])return!1;if("string"===typeof e.blobs)return e.blobs.slice(-1)===t;var n=e.blobs[e.blobs.length-1];return!!n&&(n.strings.suffix.slice(-1)?n.strings.suffix.slice(-1)==t:g(n,t))}function v(e,t,n,i,o){var a="blobs"===t?e:e.strings,s="blobs"===i?n:n.strings,l=a[t].slice(-1),u=s[i].slice(0,1);function d(){s[i]=s[i].slice(1)}function p(){a[t]=a[t].slice(0,-1)}function h(e){s[i]=e+s[i]}function f(e){a[t]+=e}var m=o?function(){return r[l]}:function(){return c[u]};var g=o?function(){var e=r[l][u];"string"===typeof e?(p(),d(),h(e)):(h(l),p())}:function(){var e=c[u][l];"string"===typeof e?(p(),d(),f(e)):(f(u),d())};l===u?(o?p:d)():m()&&g()}function b(e){var t=e.strings.suffix.slice(0,1);if("string"===typeof e.blobs)for(;i[t];)v(e,"blobs",e,"suffix"),t=e.strings.suffix.slice(0,1);else for(;i[t];)v(e.blobs[e.blobs.length-1],"suffix",e,"suffix"),t=e.strings.suffix.slice(0,1)}function y(e){if("string"===typeof e.blobs)for(var t=e.blobs.slice(-1);o[t];)v(e,"blobs",e,"suffix",!0),t=e.blobs.slice(-1);else for(t=e.blobs[e.blobs.length-1].strings.suffix.slice(-1);o[t];)v(e.blobs[e.blobs.length-1],"suffix",e,"suffix",!0),t=e.blobs[e.blobs.length-1].strings.suffix.slice(-1)}this.upward=function(e){if(e.blobs&&"string"==typeof e.blobs)a[e.strings.suffix.slice(0,1)]&&e.strings.suffix.slice(0,1)===e.blobs.slice(-1)&&(e.strings.suffix=e.strings.suffix.slice(1));else if("object"===typeof e&&"object"===typeof e.blobs&&e.blobs.length)for(var t=h(e,!0),n=e.blobs.length-1;n>-1;n--){this.upward(e.blobs[n]);var r=e.strings,i=e.blobs[n].strings;if(0===n){" "===r.prefix.slice(-1)&&" "===i.prefix.slice(0,1)&&(i.prefix=i.prefix.slice(1));var o=i.prefix.slice(0,1);t||!s[o]||r.prefix||(r.prefix+=o,i.prefix=i.prefix.slice(1))}if(n===e.blobs.length-1){o=i.suffix.slice(-1);!t&&[" "].indexOf(o)>-1&&(r.suffix.slice(0,1)!==o&&(r.suffix=o+r.suffix),i.suffix=i.suffix.slice(0,-1))}r.delimiter&&n>0&&s[r.delimiter.slice(-1)]&&r.delimiter.slice(-1)===i.prefix.slice(0,1)&&(i.prefix=i.prefix.slice(1))}},this.leftward=function(e){if("object"===typeof e&&"object"===typeof e.blobs&&e.blobs.length)for(var t=e.blobs.length-1;t>-1;t--)if(this.leftward(e.blobs[t]),t<e.blobs.length-1&&!e.strings.delimiter){var n=e.blobs[t],r=n.strings.suffix.slice(-1),i=e.blobs[t+1],o=i.strings.prefix.slice(0,1),s="number"===typeof r||"number"===typeof o;if(!(h(n)||h(i))&&!s&&a[o]&&!s){var l=o===n.strings.suffix.slice(-1),c=!n.strings.suffix&&"string"===typeof n.blobs&&n.blobs.slice(-1)===o;l||c?i.strings.prefix=i.strings.prefix.slice(1):v(n,"suffix",i,"prefix")}}},this.downward=function(t){if(t.blobs&&"string"==typeof t.blobs)a[t.strings.suffix.slice(0,1)]&&t.strings.suffix.slice(0,1)===t.blobs.slice(-1)&&(t.strings.suffix=t.strings.suffix.slice(1));else if("object"===typeof t&&"object"===typeof t.blobs&&t.blobs.length){for(var n=t.strings,r=0,i=t.blobs.length;r<i;r++)if(d(t.blobs[r])){!0;break}if(n.delimiter&&a[n.delimiter.slice(0,1)]){var o=n.delimiter.slice(0,1);for(r=t.blobs.length-2;r>-1;r--){(c=t.blobs[r].strings).suffix.slice(-1)!==o&&(c.suffix+=o)}n.delimiter=n.delimiter.slice(1)}for(r=t.blobs.length-1;r>-1;r--){var l=t.blobs[r],c=t.blobs[r].strings,u=h(l,!0),b=d(l);if(r===t.blobs.length-1){var y=n.suffix.slice(0,1),_=!1;a[y]&&!(_=m(y,l))&&e&&(_=f(l)),_&&a[y]&&(p(l)||("string"===typeof l.blobs?v(l,"blobs",t,"suffix"):v(l,"suffix",t,"suffix"),"."===n.suffix.slice(0,1)&&(c.suffix+=n.suffix.slice(0,1),n.suffix=n.suffix.slice(1)))),"\xa0"===c.suffix.slice(-1)&&" "===n.suffix.slice(0,1)&&(n.suffix=n.suffix.slice(1)),s[c.suffix.slice(0,1)]&&("string"===typeof l.blobs&&l.blobs.slice(-1)===c.suffix.slice(0,1)&&(c.suffix=c.suffix.slice(1)),c.suffix.slice(-1)===n.suffix.slice(0,1)&&(n.suffix=n.suffix.slice(0,-1))),g(t,t.strings.suffix.slice(0,1))&&(t.strings.suffix=t.strings.suffix.slice(1))}else if(n.delimiter)s[n.delimiter.slice(0,1)]&&n.delimiter.slice(0,1)===c.suffix.slice(-1)&&(t.blobs[r].strings.suffix=t.blobs[r].strings.suffix.slice(0,-1));else{var x=t.blobs[r+1].strings;d(l)||u||!s[c.suffix.slice(-1)]||c.suffix.slice(-1)!==x.prefix.slice(0,1)||(x.prefix=x.prefix.slice(1))}b||u||!a[c.suffix.slice(0,1)]||"string"!==typeof l.blobs||v(l,"blobs",l,"suffix"),this.downward(t.blobs[r])}}},this.fix=function(t){if("object"===typeof t&&"object"===typeof t.blobs&&t.blobs.length){for(var n,r=0,i=t.blobs.length;r<i;r++){for(var o=t.blobs[r],a=!1,s=0,l=o.decorations.length;s<l;s++){var c=o.decorations[s];"@quotes"===c[0]&&"false"!==c[1]&&(a=!0)}a&&(e?b(o):y(o)),n=this.fix(t.blobs[r]),o.blobs&&"string"===typeof o.blobs&&(n=o.blobs.slice(-1))}return n}}},t.Engine.Opt=function(){this.parallel={enable:!1},this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=t.NONE,this.bib_mode=t.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.disable_duplicate_year_suppression=[],this.use_context_condition=!1,this.jurisdiction_fallbacks={},this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.consolidate_legal_items=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0,this.development_extensions.hanging_indent_legacy_number=!1,this.development_extensions.throw_on_empty=!1,this.development_extensions.strict_inputs=!0,this.development_extensions.prioritize_disambiguate_condition=!1,this.development_extensions.force_short_title_casing_alignment=!0,this.development_extensions.implicit_short_title=!1,this.development_extensions.force_title_abbrev_fallback=!1,this.development_extensions.split_container_title=!1,this.development_extensions.legacy_institution_name_ordering=!1,this.development_extensions.etal_min_etal_usefirst_hack=!1},t.Engine.Tmp=function(){this.names_max=new t.Stack,this.names_base=new t.Stack,this.givens_base=new t.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new t.Stack(0,t.LITERAL),this.element_rendered_ok=!1,this.element_trace=new t.Stack("style"),this.nameset_counter=0,this.group_context=new t.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_first:void 0,parallel_last:void 0,parallel_delimiter_override:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new t.Stack(0,t.LITERAL),this.decorations=new t.Stack,this.tokenstore_stack=new t.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new t.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new t.AmbigConfig,this.bib_sort_keys=[],this.prefix=new t.Stack("",t.LITERAL),this.suffix=new t.Stack("",t.LITERAL),this.delimiter=new t.Stack("",t.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={},this.condition_counter=0,this.condition_lang_val_arr=[],this.condition_lang_counter_arr=[]},t.Engine.Fun=function(e){this.match=new t.Util.Match,this.suffixator=new t.Util.Suffixator(t.SUFFIX_CHARS),this.romanizer=new t.Util.Romanizer,this.ordinalizer=new t.Util.Ordinalizer(e),this.long_ordinalizer=new t.Util.LongOrdinalizer},t.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.names_variables=[[]],this.name_label=[{}],this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new t.Stack(0,t.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1,this.bibliography_key_pos=0},t.Engine.Configure=function(){this.tests=[],this.fail=[],this.succeed=[]},t.Engine.Citation=function(e){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new t.Registry.Comparifier(e,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},t.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},t.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.opt.topdecor=[],this.opt.citation_number_sort_direction=t.ASCENDING,this.opt.citation_number_secondary=!1,this.tmp={},this.keys=[],this.root="bibliography"},t.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},t.Engine.InText=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="intext"},t.Engine.prototype.previewCitationCluster=function(e,n,r,i){var o=this.opt.mode;this.setOutputFormat(i),e.citationID&&delete e.citationID;var a=this.processCitationCluster(e,n,r,t.PREVIEW);return this.setOutputFormat(o),a[1]},t.Engine.prototype.appendCitationCluster=function(e){for(var t=[],n=this.registry.citationreg.citationByIndex.length,r=0;r<n;r+=1){var i=this.registry.citationreg.citationByIndex[r];t.push([""+i.citationID,i.properties.noteIndex])}return this.processCitationCluster(e,t,[])[1]},t.Engine.prototype.processCitationCluster=function(e,n,r,i){var o,a,s,l,c,u,d,p,h,f,m,g,v,b,y,_,x;if(this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[],this.registry.return_data={bibchange:!1},this.setCitationId(e),i===t.PREVIEW){this.debug&&t.debug("****** start state save *********"),y=this.registry.citationreg.citationByIndex.slice(),_=this.registry.reflist.slice();for(var w=n.concat(r),E={},T=[],C=0,k=w.length;C<k;C+=1)for(l=0,c=(o=this.registry.citationreg.citationById[w[C][0]]).citationItems.length;l<c;l+=1)E[o.citationItems[l].id]=!0,T.push(""+o.citationItems[l].id);for(l=0,c=e.citationItems.length;l<c;l+=1)E[e.citationItems[l].id]=!0,T.push(""+e.citationItems[l].id);x={};for(C=0,k=_.length;C<k;C+=1)if(!E[_[C].id]){var S=this.registry.registry[_[C].id].ambig,O=this.registry.ambigcites[S];if(O)for(l=0,c=O.length;l<c;l+=1)x[O[l]]=t.cloneAmbigConfig(this.registry.registry[O[l]].disambig)}this.debug&&t.debug("****** end state save *********")}this.tmp.taintedCitationIDs={};var A=[],j={};for(C=0,k=e.citationItems.length;C<k;C+=1){for(var P in m={},e.citationItems[C])m[P]=e.citationItems[C][P];var I;if((f=this.retrieveItem(""+m.id)).id&&this.transform.loadAbbreviation("default","hereinafter",f.id,f.language),m=t.parseLocator.call(this,m),this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable([[f,m]]),this.opt.development_extensions.locator_label_parse)if(m.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(f.type)&&(!m.label||"page"===m.label))if(I=t.LOCATOR_LABELS_REGEXP.exec(m.locator)){var L=t.LOCATOR_LABELS_MAP[I[2]];this.getTerm(L)&&(m.label=L,m.locator=I[3])}var R=[f,m];A.push(R),e.citationItems[C].item=f}e.sortedItems=A;var N,D=[],M={};for(C=0,k=n.length;C<k;C+=1)a=n[C],this.opt.development_extensions.strict_inputs&&(M[a[0]]&&t.error("Previously referenced citationID "+a[0]+" encountered in citationsPre"),a[1]&&(N>a[1]&&t.debug("Note index sequence is not sane at citationsPre["+C+"]"),N=a[1])),this.registry.citationreg.citationById[a[0]].properties.noteIndex=a[1],D.push(this.registry.citationreg.citationById[a[0]]),M[a[0]]=this.registry.citationreg.citationById[a[0]];for(e.properties||(e.properties={noteIndex:0}),this.opt.development_extensions.strict_inputs&&(M[e.citationID]&&t.error("Citation with previously referenced citationID "+e.citationID),e.properties.noteIndex&&(N>e.properties.noteIndex&&t.debug("Note index sequence is not sane for citation "+e.citationID),N=e.properties.noteIndex)),D.push(e),M[e.citationID]=e,C=0,k=r.length;C<k;C+=1)s=r[C],this.opt.development_extensions.strict_inputs&&(M[s[0]]&&t.error("Previously referenced citationID "+s[0]+" encountered in citationsPost"),s[1]&&(N>s[1]&&t.debug("Note index sequence is not sane at postCitation["+C+"]"),N=s[1])),this.registry.citationreg.citationById[s[0]].properties.noteIndex=s[1],D.push(this.registry.citationreg.citationById[s[0]]),M[s[0]]=this.registry.citationreg.citationById[s[0]];this.registry.citationreg.citationByIndex=D,this.registry.citationreg.citationById=M,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===t.POSITION&&(v=[],g=[],b={});var B,Q=[];for(C=0,k=D.length;C<k;C+=1){for(D[C].properties.index=C,l=0,c=D[C].sortedItems.length;l<c;l+=1)m=D[C].sortedItems[l],this.registry.citationreg.citationsByItemId[m[1].id]||(this.registry.citationreg.citationsByItemId[m[1].id]=[],Q.push(""+m[1].id)),-1===this.registry.citationreg.citationsByItemId[m[1].id].indexOf(D[C])&&this.registry.citationreg.citationsByItemId[m[1].id].push(D[C]);this.opt.update_mode===t.POSITION&&(D[C].properties.noteIndex?g.push(D[C]):(D[C].properties.noteIndex=0,v.push(D[C])))}if(i!==t.ASSUME_ALL_ITEMS_REGISTERED&&(this.debug&&t.debug("****** start update items *********"),this.updateItems(Q,null,null,!0),this.debug&&t.debug("****** endo update items *********")),!this.opt.citation_number_sort&&A&&A.length>1&&this.citation_sort.tokens.length>0){for(C=0,k=A.length;C<k;C+=1)A[C][1].sortkeys=t.getSortKeys.call(this,A[C][0],"citation_sort");if(this.opt.grouped_sort&&!e.properties.unsorted){for(C=0,k=A.length;C<k;C+=1){var U=A[C][1].sortkeys;this.tmp.authorstring_request=!0;var F=this.registry.registry[A[C][0].id].disambig;this.tmp.authorstring_request=!0,t.getAmbiguousCite.call(this,A[C][0],F);var z=this.registry.authorstrings[A[C][0].id];this.tmp.authorstring_request=!1,A[C][1].sortkeys=[z].concat(U)}A.sort(this.citation.srt.compareCompositeKeys);var q=!1,H=!1,W=!1;for(C=0,k=A.length;C<k;C+=1)A[C][1].sortkeys[0]!==q&&(W=A[C][1].sortkeys[0],H=A[C][1].sortkeys[1]),A[C][1].sortkeys[0]=""+H+C,q=W}e.properties.unsorted||A.sort(this.citation.srt.compareCompositeKeys)}if(this.opt.parallel.enable&&this.parallel.StartCitation(e.sortedItems),this.opt.update_mode===t.POSITION)for(C=0;C<2;C+=1){var G={},V={},$={};for(l=0,c=(B=[v,g][C]).length;l<c;l+=1){var K=B[l];for(B[l].properties.noteIndex||(B[l].properties.noteIndex=0),B[l].properties.noteIndex=parseInt(B[l].properties.noteIndex,10),l>0&&K.properties.noteIndex&&B[l-1].properties.noteIndex>K.properties.noteIndex&&(b={},G={},V={},$={}),u=0,d=K.sortedItems.length;u<d;u+=1)K.sortedItems[u][1].parallel&&"first"!==K.sortedItems[u][1].parallel||(b[K.properties.noteIndex]?b[K.properties.noteIndex]+=1:b[K.properties.noteIndex]=1);for(u=0,d=B[l].sortedItems.length;u<d;u+=1){var Y,Z,J=(m=B[l].sortedItems[u])[0].id,X=m[0].legislation_id?m[0].legislation_id:m[0].id,ee=m[0].legislation_id?m[0].legislation_id:m[0].container_id?m[0].container_id:m[0].id,te=m[1]["locator-extra"],ne=m[1].locator,re=m[1].label;if(u>0)if(K.sortedItems[u-1][0].legislation_id)Y=K.sortedItems[u-1][0].legislation_id;else{Y=K.sortedItems[u-1][1].id,Z=K.sortedItems[u-1][1]["locator-extra"];for(var ie=u-2;ie>-1;ie--)"first"===K.sortedItems[ie][1].parallel&&(Y=K.sortedItems[ie][1].id,Z=K.sortedItems[ie][1]["locator-extra"])}if(i!==t.PREVIEW||K.citationID==e.citationID){var oe,ae,se={};if(se.position=m[1].position,se["first-reference-note-number"]=m[1]["first-reference-note-number"],se["first-container-reference-note-number"]=m[1]["first-container-reference-note-number"],se["near-note"]=m[1]["near-note"],m[1]["first-reference-note-number"]=0,m[1]["first-container-reference-note-number"]=0,m[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[J]&&"note"===this.opt.xclass&&this.opt.has_disambiguate){var le=this.registry.registry[m[0].id]["citation-count"],ce=this.registry.citationreg.citationsByItemId[J].length;if(this.registry.registry[m[0].id]["citation-count"]=this.registry.citationreg.citationsByItemId[J].length,"number"===typeof le){if(le<2!==ce<2){ie=0;for(var ue=this.registry.citationreg.citationsByItemId[J].length;ie<ue;ie++)j[this.registry.registry[m[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[J][ie].citationID]=!0}}else for(ie=0,ue=this.registry.citationreg.citationsByItemId[J].length;ie<ue;ie++)j[this.registry.registry[m[0].id].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[J][ie].citationID]=!0}if("undefined"===typeof V[ee]&&"author-only"!==K.properties.mode)G[X]=K.properties.noteIndex,V[ee]=K.properties.noteIndex,$[ee]=K.properties.noteIndex,m[1].position=t.POSITION_FIRST;else{var de=!1,pe=!1,he=null;if(l>0)he=B[l-1];var fe,me,ge,ve,be=B[l];if(l>0){var ye=1;"author-only"===he.properties.mode&&l>1&&(ye=2);var _e=l-ye;B[_e].sortedItems.length&&(oe=B[_e].sortedItems.slice(-1)[0][1].id,ae=B[l-ye].sortedItems.slice(-1)[0][1]["locator-extra"]),he.sortedItems.length&&he.sortedItems[0].slice(-1)[0].legislation_id&&(oe=he.sortedItems[0].slice(-1)[0].legislation_id)}if(l>0&&0===u&&he.properties.noteIndex!==be.properties.noteIndex){var xe=!1,we=he.sortedItems[0][0].id;if(he.sortedItems[0][0].legislation_id&&(we=he.sortedItems[0][0].legislation_id),we==X&&he.properties.noteIndex>=be.properties.noteIndex-1){var Ee=he.sortedItems[0][1]["locator-extra"],Te=be.sortedItems[0][1]["locator-extra"];1!==b[he.properties.noteIndex]&&0!==he.properties.noteIndex||Ee!==Te||(xe=!0)}xe?de=!0:pe=!0}else u>0&&Y==X&&Z==te||0===u&&l>0&&he.properties.noteIndex==be.properties.noteIndex&&he.sortedItems.length&&oe==X&&ae==te?de=!0:pe=!0;de&&((fe=u>0?K.sortedItems[u-1][1]:B[l-1].sortedItems[0][1]).locator?(ge=fe.label?fe.label:"",me=""+fe.locator+ge):me=fe.locator,ve=ne?""+ne+(re||""):ne),de&&me&&!ve&&(de=!1,pe=!0),de&&(!me&&ve?m[1].position=t.POSITION_IBID_WITH_LOCATOR:me||ve?me&&ve===me?m[1].position=t.POSITION_IBID:me&&ve&&ve!==me?m[1].position=t.POSITION_IBID_WITH_LOCATOR:(de=!1,pe=!0):m[1].position=t.POSITION_IBID),pe&&(m[1].position=t.POSITION_CONTAINER_SUBSEQUENT,"undefined"===typeof G[X]?G[X]=K.properties.noteIndex:m[1].position=t.POSITION_SUBSEQUENT),(pe||de)&&("author-only"===K.properties.mode&&(m[1].position=t.POSITION_FIRST),$[ee]!=K.properties.noteIndex&&(m[1]["first-container-reference-note-number"]=$[ee],this.registry.registry[m[0].id]&&(this.registry.registry[m[0].id]["first-container-reference-note-number"]=$[ee])),G[X]!=K.properties.noteIndex&&(m[1]["first-reference-note-number"]=G[X],this.registry.registry[m[0].id]&&(this.registry.registry[m[0].id]["first-reference-note-number"]=G[X])))}if(K.properties.noteIndex){var Ce=parseInt(K.properties.noteIndex,10)-parseInt(V[ee],10);m[1].position!==t.POSITION_FIRST&&Ce<=this.citation.opt["near-note-distance"]&&(m[1]["near-note"]=!0),V[ee]=K.properties.noteIndex}else m[1].position!==t.POSITION_FIRST&&(m[1]["near-note"]=!0);if(K.citationID!=e.citationID)for(p=0,h=t.POSITION_TEST_VARS.length;p<h;p+=1){var ke=t.POSITION_TEST_VARS[p];m[1][ke]!==se[ke]&&(this.registry.registry[m[0].id]&&"first-reference-note-number"===ke&&(j[this.registry.registry[m[0].id].ambig]=!0,this.tmp.taintedItemIDs[m[0].id]=!0),this.tmp.taintedCitationIDs[K.citationID]=!0)}this.sys.variableWrapper&&(m[1].index=K.properties.index,m[1].noteIndex=K.properties.noteIndex)}else"undefined"===typeof G[m[1].id]?(G[X]=K.properties.noteIndex,V[ee]=K.properties.noteIndex):V[ee]=K.properties.noteIndex}}}if(this.opt.citation_number_sort&&A&&A.length>1&&this.citation_sort.tokens.length>0&&!e.properties.unsorted){for(C=0,k=A.length;C<k;C+=1)A[C][1].sortkeys=t.getSortKeys.call(this,A[C][0],"citation_sort");A.sort(this.citation.srt.compareCompositeKeys)}for(var P in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(P)&&(B=this.registry.citationreg.citationsByItemId[P]))for(C=0,k=B.length;C<k;C+=1)this.tmp.taintedCitationIDs[B[C].citationID]=!0;var Se=[];if(i===t.PREVIEW){this.debug&&t.debug("****** start run processor *********");try{Se=this.process_CitationCluster.call(this,e.sortedItems,e)}catch(Ie){t.error("Error running CSL processor for preview: "+Ie)}this.debug&&(t.debug("****** end run processor *********"),t.debug("****** start state restore *********")),this.registry.citationreg.citationByIndex=y,this.registry.citationreg.citationById={};for(C=0,k=y.length;C<k;C+=1)this.registry.citationreg.citationById[y[C].citationID]=y[C];this.debug&&t.debug("****** start final update *********");var Oe=[];for(C=0,k=_.length;C<k;C+=1)Oe.push(""+_[C].id);for(var P in this.updateItems(Oe,null,null,!0),this.debug&&t.debug("****** end final update *********"),x)x.hasOwnProperty(P)&&(this.registry.registry[P].disambig=x[P]);this.debug&&t.debug("****** end state restore *********")}else{for(var Ae in j)this.disambiguate.run(Ae,e);var je;for(var P in this.tmp.taintedCitationIDs)if(P!=e.citationID){var Pe=this.registry.citationreg.citationById[P];if(!Pe.properties.unsorted){for(C=0,k=Pe.sortedItems.length;C<k;C+=1)Pe.sortedItems[C][1].sortkeys=t.getSortKeys.call(this,Pe.sortedItems[C][0],"citation_sort");Pe.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=Pe.properties.index,this.tmp.citation_note_index=Pe.properties.noteIndex,this.tmp.citation_id=""+Pe.citationID,(je=[]).push(Pe.properties.index),je.push(this.process_CitationCluster.call(this,Pe.sortedItems,Pe)),je.push(Pe.citationID),Se.push(je)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=e.properties.index,this.tmp.citation_note_index=e.properties.noteIndex,this.tmp.citation_id=""+e.citationID,(je=[]).push(n.length),je.push(this.process_CitationCluster.call(this,A,e)),je.push(e.citationID),Se.push(je),Se.sort((function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0}))}return this.registry.return_data.citation_errors=this.tmp.citation_errors.slice(),[this.registry.return_data,Se]},t.Engine.prototype.process_CitationCluster=function(e,n){var r="";if(n&&n.properties&&"composite"===n.properties.mode){n.properties.mode="author-only";var i=t.getCitationCluster.call(this,e,n);n.properties.mode="suppress-author";var o="";n.properties.infix&&(this.output.append(n.properties.infix),"object"===typeof(o=this.output.string(this,this.output.queue))&&(o=o.join("")));var a=t.getCitationCluster.call(this,e,n);n.properties.mode="composite",i&&o&&t.SWAPPING_PUNCTUATION.concat(["\u2019","'"]).indexOf(o[0])>-1&&(i+=o,o=!1),r=[i,o,a].filter((function(e){return e})).join(" ")}else r=t.getCitationCluster.call(this,e,n);return r},t.Engine.prototype.makeCitationCluster=function(e){var n,r,i,o,a,s;for(n=[],o=e.length,i=0;i<o;i+=1){for(var l in a={},e[i])a[l]=e[i][l];if(s=this.retrieveItem(""+a.id),this.opt.development_extensions.locator_label_parse&&a.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(s.type)&&(!a.label||"page"===a.label)){var c=t.LOCATOR_LABELS_REGEXP.exec(a.locator);if(c){var u=t.LOCATOR_LABELS_MAP[c[2]];this.getTerm(u)&&(a.label=u,a.locator=c[3])}}a.locator&&(a.locator=(""+a.locator).replace(/\s+$/,"")),r=[s,a],n.push(r)}if(this.opt.development_extensions.consolidate_legal_items&&this.remapSectionVariable(n),n&&n.length>1&&this.citation_sort.tokens.length>0){for(o=n.length,i=0;i<o;i+=1)n[i][1].sortkeys=t.getSortKeys.call(this,n[i][0],"citation_sort");n.sort(this.citation.srt.compareCompositeKeys)}return this.tmp.citation_errors=[],t.getCitationCluster.call(this,n)},t.getAmbiguousCite=function(e,n,r,i){var o=this.tmp.group_context.tip,a={term_intended:o.term_intended,variable_attempt:o.variable_attempt,variable_success:o.variable_success,output_tip:o.output_tip,label_form:o.label_form,non_parallel:o.non_parallel,parallel_last:o.parallel_last,parallel_first:o.parallel_first,parallel_last_override:o.parallel_last_override,parallel_delimiter_override:o.parallel_delimiter_override,parallel_delimiter_override_on_suppress:o.parallel_delimiter_override_on_suppress,condition:o.condition,force_suppress:o.force_suppress,done_vars:o.done_vars.slice()};this.tmp.disambig_request=n||!1;var s={position:t.POSITION_SUBSEQUENT,"near-note":!0};i&&(s.locator=i.locator,s.label=i.label),this.registry.registry[e.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[e.id]&&this.registry.citationreg.citationsByItemId[e.id].length&&r&&"by-cite"===this.citation.opt["givenname-disambiguation-rule"]&&(s["first-reference-note-number"]=this.registry.registry[e.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation";var l=this.tmp.suppress_decorations;this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,t.getCite.call(this,e,s,null,!1);for(var c=0,u=this.output.queue.length;c<u;c+=1)t.Output.Queue.purgeEmptyBlobs(this.output.queue[c]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var d=0,p=this.output.queue.length;d<p;d+=1)this.output.adjust.upward(this.output.queue[d]),this.output.adjust.leftward(this.output.queue[d]),this.output.adjust.downward(this.output.queue[d]),this.output.adjust.fix(this.output.queue[d]);var h=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=l,this.tmp.group_context.replace(a),h},t.getSpliceDelimiter=function(e,n,r){if(void 0!==this.citation.opt["after-collapse-delimiter"])e||n&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:n||this.tmp.have_collapsed||"year-suffix"===this.citation.opt.collapse?this.tmp.splice_delimiter=this.citation.opt.layout_delimiter:this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"];else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&"in-text"===this.opt.xclass&&this.opt.update_mode!==t.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[r-1]){var i=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[r-1]];i&&i.delimiter&&(this.tmp.splice_delimiter=i.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter},t.getCitationCluster=function(e,n){var r,i,o,a,s,l,c,u,d,p,h,f,m,g,v,b,y,_,x,w,E,T="";this.output.checkNestedBrace=new t.checkNestedBrace(this),n&&(x=n.citationID,w="author-only"===n.properties.mode&&!!n.properties.mode,"note"!==this.opt.xclass&&(E="suppress-author"===n.properties.mode&&!!n.properties.mode),n.properties.prefix&&(T=t.checkPrefixSpaceAppend(this,n.properties.prefix))),e=e||[],this.tmp.last_primary_names_string=!1,y=t.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",r="",i=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.tmp.just_looking||(this.tmp.abbrev_trimmer={QUASHES:{}});var C=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix+T),k=!1;if(this.citation.opt.suppressTrailingPunctuation&&(k=!0),x&&this.registry.citationreg.citationById[x].properties["suppress-trailing-punctuation"]&&(k=!0),"note"===this.opt.xclass){for(var S=[],O=!1,A=!1,j=[],P=0,I=e.length;P<I;P+=1){var L=e[P][0].type,R=e[P][0].title,N=e[P][1].position,D=e[P][0].id;R&&"legal_case"===L&&D!==A&&N&&(R===O&&0!==S.length||(j=[],S.push(j)),j.push(e[P][1])),O=R,N,A=D}for(P=0,I=S.length;P<I;P+=1)if(!((j=S[P]).length<2)){var M=j.slice(-1)[0].locator;if(M)for(var B=0,Q=j.length-1;B<Q;B+=1)j[B].locator&&(M=!1);M&&(j[0].locator=M,delete j.slice(-1)[0].locator,j[0].label=j.slice(-1)[0].label,j.slice(-1)[0].label&&delete j.slice(-1)[0].label)}}for(o=[],a=e.length,e[0]&&e[0][1]&&(w?(delete e[0][1]["suppress-author"],e[0][1]["author-only"]=!0):E&&(delete e[0][1]["author-only"],e[0][1]["suppress-author"]=!0)),this.opt.parallel.enable&&this.parallel.StartCitation(e),s=0;s<a;s+=1){this.tmp.cite_index=s,f=e[s][0],l=e[s][1],l=t.parseLocator.call(this,l),c=this.tmp.have_collapsed;var U=!1;if(s>0&&e[s-1][1]&&(U=!!e[s-1][1].locator),u={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var F=this.output;this.output=new t.Output.Queue(this),this.output.adjust=new t.Output.Queue.adjust,t.getAmbiguousCite.call(this,f,null,!1,l),this.output=F}if(this.tmp.in_cite_predecessor=!1,s>0?t.getCite.call(this,f,l,""+e[s-1][0].id,!0):(this.tmp.term_predecessor=!1,t.getCite.call(this,f,l,null,!0)),this.tmp.cite_renders_content||(_={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+f.id,citationItems_pos:s,error_code:t.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(_)),u.splice_delimiter=t.getSpliceDelimiter.call(this,U,c,s),l&&l["author-only"]&&(this.tmp.suppress_decorations=!0),s>0){var z=(b=e[s-1][1]).suffix&&[";",".",","].indexOf(b.suffix.slice(-1))>-1,q=!b.suffix&&l.prefix&&[";",".",","].indexOf(l.prefix.slice(0,1))>-1;if(z||q){var H=u.splice_delimiter.indexOf(" ");u.splice_delimiter=H>-1&&!q?u.splice_delimiter.slice(H):""}}if(u.suppress_decorations=this.tmp.suppress_decorations,u.have_collapsed=this.tmp.have_collapsed,o.push(u),l["author-only"])break}h=this.output.queue.slice();var W="";n&&(W=t.checkSuffixSpacePrepend(this,n.properties.suffix));var G=this.citation.opt.layout_suffix,V=this.tmp.cite_locales[this.tmp.cite_locales.length-1];V&&this.tmp.cite_affixes[this.tmp.area][V]&&this.tmp.cite_affixes[this.tmp.area][V].suffix&&(G=this.tmp.cite_affixes[this.tmp.area][V].suffix),t.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(G.slice(0,1))>-1&&(G=G.slice(0,1)),G=this.output.checkNestedBrace.update(W+G);for(P=0,I=this.output.queue.length;P<I;P+=1)t.Output.Queue.purgeEmptyBlobs(this.output.queue[P]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&"citation"===this.tmp.area||(k||(this.output.queue[this.output.queue.length-1].strings.suffix=G),this.output.queue[0].strings.prefix=C)),this.opt.development_extensions.clean_up_csl_flaws)for(B=0,Q=this.output.queue.length;B<Q;B+=1)this.output.adjust.upward(this.output.queue[B]),this.output.adjust.leftward(this.output.queue[B]),this.output.adjust.downward(this.output.queue[B]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[B]);for(s=0,a=h.length;s<a;s+=1){var $=[];if(this.output.queue=[h[s]],this.tmp.suppress_decorations=o[s].suppress_decorations,this.tmp.splice_delimiter=o[s].splice_delimiter,h[s].parallel_delimiter&&(this.tmp.splice_delimiter=h[s].parallel_delimiter),this.tmp.have_collapsed=o[s].have_collapsed,d=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,"string"===typeof d)return this.tmp.suppress_decorations=!1,d||(this.opt.development_extensions.throw_on_empty?t.error("Citation would render no content"):d="[NO_PRINTED_FORM]"),d;if("object"===typeof d&&0===d.length&&!l["suppress-author"])if(0===s){var K=0===s?y(this.citation.opt.layout_prefix):"",Y=s===h.length-1?y(this.citation.opt.layout_suffix):"";d.push(K+"[CSL STYLE ERROR: reference with no printed form.]"+Y)}else if(s===h.length-1){var Z=i[i.length-1];"string"===typeof Z?i[i.length-1]+=y(this.citation.opt.layout_suffix):"object"===typeof Z&&(Z.strings.suffix+=y(this.citation.opt.layout_suffix))}if($.length&&"string"===typeof d[0]){d.reverse();var J=d.pop();J&&","===J.slice(0,1)?$.push(J):"string"==typeof $.slice(-1)[0]&&","===$.slice(-1)[0].slice(-1)?$.push(" "+J):J&&$.push(y(this.tmp.splice_delimiter)+J)}else d.reverse(),"undefined"!==typeof(p=d.pop())&&($.length&&"string"===typeof $[$.length-1]&&($[$.length-1]+=p.successor_prefix),$.push(p));for(m=d.length,g=0;g<m;g+=1)"string"!==typeof(v=d[g])?"undefined"!==typeof(p=d.pop())&&$.push(p):$.push(y(this.tmp.splice_delimiter)+v);0!==$.length||e[s][1]["suppress-author"]||1,$.length>1&&"string"!==typeof $[0]&&($=[this.output.renderBlobs($)]),$.length&&("string"===typeof $[0]?s>0&&($[0]=y(this.tmp.splice_delimiter)+$[0]):$[0].splice_prefix=s>0?this.tmp.splice_delimiter:""),i=i.concat($)}if((r+=this.output.renderBlobs(i))&&!this.tmp.suppress_decorations)for(a=this.citation.opt.layout_decorations.length,s=0;s<a;s+=1)"normal"!==(u=this.citation.opt.layout_decorations[s])[1]&&(l&&l["author-only"]||(r=this.fun.decorate[u[0]][u[1]](this,r)));return this.tmp.suppress_decorations=!1,r||(this.opt.development_extensions.throw_on_empty?t.error("Citation would render no content"):r="[NO_PRINTED_FORM]"),r},t.getCite=function(e,n,r,i){var o,a,s=this.tmp.area;for(n&&n["author-only"]&&this.intext&&this.intext.tokens.length>0&&(this.tmp.area="intext"),this.tmp.cite_renders_content=!1,this.tmp.probably_rendered_something=!1,this.tmp.prevItemID=r,t.citeStart.call(this,e,n,i),o=0,this.tmp.name_node={},this.nameOutput=new t.NameOutput(this,e,n);o<this[this.tmp.area].tokens.length;)o=t.tokenExec.call(this,this[this.tmp.area].tokens[o],e,n);return t.citeEnd.call(this,e,n),this.tmp.cite_renders_content||this.tmp.just_looking||"bibliography"===this.tmp.area&&(a={index:this.tmp.bibliography_pos,itemID:""+e.id,error_code:t.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(a)),this.tmp.area=s,""+e.id},t.citeStart=function(e,n,r){if(this.tmp.lang_array=[],e.language){var i=e.language.match(/^([a-zA-Z]+).*/);i&&this.tmp.lang_array.push(i[1].toLowerCase())}if(this.tmp.lang_array.push(this.opt.lang),r||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="","citation"===this.tmp.area&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[e.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[e.id].disambig,this.tmp.disambig_settings=this.registry.registry[e.id].disambig):this.tmp.disambig_settings=new t.AmbigConfig,"citation"!==this.tmp.area)if(this.registry.registry[e.id]){if(this.tmp.disambig_restore=t.cloneAmbigConfig(this.registry.registry[e.id].disambig),"bibliography"===this.tmp.area&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[e.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[e.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[e.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[e.id].disambig.givens.slice();for(var o=0,a=this.tmp.disambig_settings.givens.length;o<a;o+=1)this.tmp.disambig_settings.givens[o]=this.registry.registry[e.id].disambig.givens[o].slice();for(o=0,a=this.tmp.disambig_request.givens.length;o<a;o+=1)this.tmp.disambig_request.givens[o]=this.registry.registry[e.id].disambig.givens[o].slice()}}else this.tmp.disambig_restore=new t.AmbigConfig;this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.just_looking||n&&"first"!==n.parallel&&n.parallel||(this.tmp.abbrev_trimmer={QUASHES:{}}),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&n&&!n.position&&this.registry.registry[e.id]&&(this.tmp.disambig_restore=t.cloneAmbigConfig(this.registry.registry[e.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},t.citeEnd=function(e,t){if(this.tmp.disambig_restore&&this.registry.registry[e.id]){this.registry.registry[e.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[e.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var n=0,r=this.registry.registry[e.id].disambig.givens.length;n<r;n+=1)this.registry.registry[e.id].disambig.givens[n]=this.tmp.disambig_restore.givens[n].slice()}if(this.tmp.disambig_restore=!1,t&&t.suffix?this.tmp.last_suffix_used=t.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){var i=[];for(n=this.tmp.issued_date.list.length-1;n>this.tmp.issued_date.pos;n+=-1)i.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),n=i.length-1;n>-1;n+=-1)this.tmp.issued_date.list.push(i.pop())}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},t.Engine.prototype.makeBibliography=function(e){var n,r,i,o,a,s,l;if(!1,!e&&(this.bibliography.opt.exclude_types||this.bibliography.opt.exclude_with_fields)){if(e={exclude:[]},this.bibliography.opt.exclude_types)for(var c in this.bibliography.opt.exclude_types){var u=this.bibliography.opt.exclude_types[c];e.exclude.push({field:"type",value:u})}if(this.bibliography.opt.exclude_with_fields)for(var c in this.bibliography.opt.exclude_with_fields){var d=this.bibliography.opt.exclude_with_fields[c];e.exclude.push({field:d,value:!0})}}if(!this.bibliography.tokens.length)return!1;"string"===typeof e&&(this.opt.citation_number_slug=e,e=!1),s=(n=t.getBibliographyEntries.call(this,e))[0],l=n[1];var p=n[2];for(r={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:s,bibliography_errors:this.tmp.bibliography_errors.slice(),done:p},this.bibliography.opt["second-field-align"]&&(r["second-field-align"]=this.bibliography.opt["second-field-align"]),0,o=this.registry.reflist.length,a=0;a<o;a+=1)(i=this.registry.reflist[a]).offset>r.maxoffset&&(r.maxoffset=i.offset);return this.bibliography.opt.hangingindent&&(r.hangingindent=this.bibliography.opt.hangingindent),r.bibstart=this.fun.decorate.bibstart,r.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[r,l]},t.getBibliographyEntries=function(e){var n,r,i,o,a,s,l,c,u,d,p,h,f,m,g,v,b,y,_,x;function w(e,t){return e===t}function E(e,t){return"boolean"!==typeof e&&e?"string"===typeof t?w(e,t):!!t&&function(e,t){for(d=t.length,p=0;p<d;p+=1)if(w(e,t[p]))return!0;return!1}(e,t):e?!!t:!t}if(n=[],_=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,r=e&&e.page_start&&e.page_length?this.registry.getSortedIds():this.refetchItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0,b={},e&&e.page_start&&e.page_length&&(x=0,!0!==e.page_start))for(m=0,g=r.length;m<g&&(b[r[m]]=!0,e.page_start!=r[m]);m+=1);var T=[],C={};for(this.tmp.container_item_count={},r=r.filter((e=>{var t=e;return e.legislation_id?C[e.legislation_id]?t=!1:C[e.legislation_id]=!0:e.container_id&&(this.tmp.container_item_count[e.container_id]||(this.tmp.container_item_count[e.container_id]=0),this.tmp.container_item_count[e.container_id]++,this.bibliography.opt.consolidate_containers.indexOf(e.type)>-1&&(C[e.container_id]?t=!1:C[e.container_id]=!0)),t})),this.tmp.container_item_pos={},m=0,g=r.length;m<g;m+=1){if(e&&e.page_start&&e.page_length){if(b[r[m]])continue;if(c=this.refetchItem(r[m]),x===e.page_length)break}else if(b[(c=r[m]).id])continue;if(e){if(i=!0,e.include){for(i=!1,k=0,S=e.include.length;k<S;k+=1)if(E((u=e.include[k]).value,c[u.field])){i=!0;break}}else if(e.exclude){for(o=!1,k=0,S=e.exclude.length;k<S;k+=1)if(E((u=e.exclude[k]).value,c[u.field])){o=!0;break}o&&(i=!1)}else if(e.select){for(i=!1,a=!0,k=0,S=e.select.length;k<S;k+=1)E((u=e.select[k]).value,c[u.field])||(a=!1);a&&(i=!0)}if(e.quash){for(a=!0,k=0,S=e.quash.length;k<S;k+=1)E((u=e.quash[k]).value,c[u.field])||(a=!1);a&&(i=!1)}if(!i)continue}if(c.container_id&&(this.tmp.container_item_pos[c.container_id]||(this.tmp.container_item_pos[c.container_id]=0),this.tmp.container_item_pos[c.container_id]++),(s=new t.Token("group",t.START)).decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",s),c.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=c.system_id:this.output.current.value().system_id=c.id,f=[],!this.registry.registry[c.id].master||e&&e.page_start&&e.page_length)this.registry.registry[c.id].siblings||(this.tmp.term_predecessor=!1,this.tmp.cite_index=0,f.push(""+t.getCite.call(this,c)),e&&e.page_start&&e.page_length&&(x+=1));else{y=[[c,{id:c.id}]];for(var k=0,S=(v=this.registry.registry[c.id].siblings).length;k<S;k++)y.push([this.refetchItem(v[k]),{id:v[k]}]);for(this.parallel.StartCitation(y),this.registry.registry[c.id].parallel_delimiter_override?this.output.queue[0].strings.delimiter=this.registry.registry[c.id].parallel_delimiter_override:this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,this.tmp.cite_index=0,k=0,S=y.length;k<S;k+=1)k<y.length-1?this.tmp.parallel_and_not_last=!0:delete this.tmp.parallel_and_not_last,f.push(""+t.getCite.call(this,y[k][0],y[k][1])),this.tmp.cite_index++,b[y[k][0].id]=!0}for(_.push(""),this.tmp.bibliography_pos+=1,T.push(f),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&((h=this.output.queue[0].blobs[0].blobs[0].strings?this.output.queue[0].blobs[0].blobs:this.output.queue[0].blobs)[0].strings.prefix=this.bibliography.opt.layout_prefix+h[0].strings.prefix),k=0,S=this.output.queue.length;k<S;k+=1)t.Output.Queue.purgeEmptyBlobs(this.output.queue[k]);for(k=0,S=this.output.queue.length;k<S;k+=1)this.output.adjust.upward(this.output.queue[k]),this.output.adjust.leftward(this.output.queue[k]),this.output.adjust.downward(this.output.queue[k],!0),this.output.adjust.fix(this.output.queue[k]);if(!(l=this.output.string(this,this.output.queue)[0])&&this.opt.update_mode===t.NUMERIC){var O=n.length+1+". [CSL STYLE ERROR: reference with no printed form.]";l=t.Output.Formats[this.opt.mode]["@bibliography/entry"](this,O)}l&&n.push(l)}var A=!1;if(e&&e.page_start&&e.page_length){var j=r.slice(-1)[0],P=T.slice(-1)[0];j&&P&&j!=P||(A=!0)}return this.tmp.disambig_override=!1,[T,n,A]},t.Engine.prototype.setCitationId=function(e,t){var n,r,i;if(n=!1,!e.citationID||t){for(r=Math.floor(1e14*Math.random());;){if(i=0,!this.registry.citationreg.citationById[r]){e.citationID="a"+r.toString(32);break}r+=1===(i=!i&&r<5e13?1:-1)?1:-1}n=""+r}return this.registry.citationreg.citationById[e.citationID]=e,n},t.Engine.prototype.rebuildProcessorState=function(e,n,r){e||(e=[]),n||(n="html");for(var i={},o=[],a=0,s=e.length;a<s;a+=1)for(var l=0,c=e[a].citationItems.length;l<c;l+=1){var u=""+e[a].citationItems[l].id;i[u]||o.push(u),i[u]=!0}this.updateItems(o);var d=[],p=[],h=[],f=this.opt.mode;this.setOutputFormat(n);for(a=0,s=e.length;a<s;a+=1){var m=this.processCitationCluster(e[a],d,p,t.ASSUME_ALL_ITEMS_REGISTERED);d.push([e[a].citationID,e[a].properties.noteIndex]);for(l=0,c=m[1].length;l<c;l+=1){var g=m[1][l][0];h[g]=[d[g][0],d[g][1],m[1][l][1]]}}return this.updateUncitedItems(r),this.setOutputFormat(f),h},t.Engine.prototype.restoreProcessorState=function(e){var n,r,i,o,a,s,l,c,u,d;c=[],u=[],e||(e=[]);var p=[],h={};for(n=0,r=e.length;n<r;n+=1)h[e[n].citationID]&&this.setCitationId(e[n],!0),h[e[n].citationID]=!0,p.push(e[n].properties.index);var f=e.slice();for(f.sort((function(e,t){return e.properties.index<t.properties.index?-1:e.properties.index>t.properties.index?1:0})),n=0,r=f.length;n<r;n+=1)f[n].properties.index=n;for(n=0,r=f.length;n<r;n+=1){for(d=[],i=0,o=f[n].citationItems.length;i<o;i+=1)"undefined"===typeof(a=f[n].citationItems[i]).sortkeys&&(a.sortkeys=[]),l=[s=this.retrieveItem(""+a.id),a],d.push(l),f[n].citationItems[i].item=s,u.push(""+a.id);f[n].properties.unsorted||d.sort(this.citation.srt.compareCompositeKeys),f[n].sortedItems=d,this.registry.citationreg.citationById[f[n].citationID]=f[n]}for(this.updateItems(u),n=0,r=e.length;n<r;n+=1)c.push([""+e[n].citationID,e[n].properties.noteIndex]);var m=[];return e&&e.length?m=this.processCitationCluster(e[0],[],c.slice(1)):(this.registry=new t.Registry(this),this.tmp=new t.Engine.Tmp,this.disambiguate=new t.Disambiguation(this)),m},t.Engine.prototype.updateItems=function(e,t,n,r){var i=this.tmp.area,o=this.tmp.root,a=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",r||(this.tmp.loadedItemIDs={}),this.registry.init(e),n)for(var s in this.registry.ambigcites)this.registry.ambigsTouched[s]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=a,this.tmp.area=i,this.tmp.root=o,this.registry.getSortedIds()},t.Engine.prototype.updateUncitedItems=function(e,t){var n,r=this.tmp.area,i=this.tmp.root,o=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(t=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},e||(e=[]),"object"==typeof e)if("undefined"==typeof e.length)for(var a in n=e,e=[],n)e.push(a);else if("number"==typeof e.length){n={};for(var s=0,l=e.length;s<l;s+=1)n[e[s]]=!0}return this.registry.init(e,!0),this.registry.dopurge(n),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(t),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(t),this.registry.renumber(),this.tmp.extension=o,this.tmp.area=r,this.tmp.root=i,this.registry.getSortedIds()},t.localeResolve=function(e,n){var r,i;return n||(n="en-US"),e||(e=n),r={},i=e.split(/[\-_]/),r.base=t.LANG_BASES[i[0]],"undefined"===typeof r.base?{base:n,best:e,bare:i[0]}:(1===i.length&&(r.generic=!0),1===i.length||"x"===i[1]?r.best=r.base.replace("_","-"):r.best=i.slice(0,2).join("-"),r.base=r.base.replace("_","-"),r.bare=i[0],r)},t.Engine.prototype.localeConfigure=function(e,n){var r;if((!n||!this.locale[e.best])&&("en-US"===e.best?(r=t.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(r,"en-US",e.best)):"en-US"!==e.best&&(e.base!==e.best&&(r=t.setupXml(this.sys.retrieveLocale(e.base)),this.localeSet(r,e.base,e.best)),r=t.setupXml(this.sys.retrieveLocale(e.best)),this.localeSet(r,e.best,e.best)),this.localeSet(this.cslXml,"",e.best),this.localeSet(this.cslXml,e.bare,e.best),e.base!==e.best&&this.localeSet(this.cslXml,e.base,e.best),this.localeSet(this.cslXml,e.best,e.best),"undefined"===typeof this.locale[e.best].terms["page-range-delimiter"]&&(["fr","pt"].indexOf(e.best.slice(0,2).toLowerCase())>-1?this.locale[e.best].terms["page-range-delimiter"]="-":this.locale[e.best].terms["page-range-delimiter"]="\u2013"),"undefined"===typeof this.locale[e.best].terms["year-range-delimiter"]&&(this.locale[e.best].terms["year-range-delimiter"]="\u2013"),"undefined"===typeof this.locale[e.best].terms["citation-range-delimiter"]&&(this.locale[e.best].terms["citation-range-delimiter"]="\u2013"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var i=["default-locale","locale-sort","locale-translit","locale-translat"],o=0,a=i.length;o<a;o+=1)for(var s=0,l=this.opt[i[o]].length;s<l;s+=1)this.opt[i[o]][s]=this.opt[i[o]][s].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},t.Engine.prototype.localeSet=function(e,n,r){var i,o,a,s,l,c,u,d,p,h,f,m;if(n=n.replace("_","-"),r=r.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(n=n.toLowerCase(),r=r.toLowerCase()),this.locale[r]||(this.locale[r]={},this.locale[r].terms={},this.locale[r].opts={},this.locale[r].opts["skip-words"]=t.SKIP_WORDS,this.locale[r].opts["leading-noise-words"]||(this.locale[r].opts["leading-noise-words"]=[]),this.locale[r].dates={},this.locale[r].ord={"1.0.1":!1,keys:{}},this.locale[r]["noun-genders"]={}),o=e.makeXml(),e.nodeNameIs(e.dataObj,"locale"))o=e.dataObj;else{a=e.getNodesByName(e.dataObj,"locale");var g=!1;for(l=0,f=e.numberofnodes(a);l<f;l+=1)if(i=a[l],g||e.getAttributeValue(i,"lang","xml")!==n){var v=e.getAttributeValue(i,"lang","xml"),b=e.getNodesByName(i,"style-options");if(v&&b&&b.length){var y=e.getAttributeValue(b[0],"jurisdiction-preference");y&&(this.locale[v]||(this.locale[v]={opts:{}}),this.locale[v].opts["jurisdiction-preference"]=y.split(/\s+/))}}else o=i,g=!0}for(a=e.getNodesByName(o,"type"),M=0,B=e.numberofnodes(a);M<B;M+=1){var _=a[M],x=e.getAttributeValue(_,"name"),w=e.getAttributeValue(_,"gender");this.opt.gender[x]=w}if(e.getNodesByName(o,"term","ordinal").length){for(var E in this.locale[r].ord.keys)delete this.locale[r].terms[E];this.locale[r].ord={"1.0.1":!1,keys:{}}}a=e.getNodesByName(o,"term");var T={"last-digit":{},"last-two-digits":{},"whole-number":{}},C=!1,k={};for(l=0,f=e.numberofnodes(a);l<f;l+=1){if(c=a[l],"sub verbo"===(d=e.getAttributeValue(c,"name"))&&(d="sub-verbo"),"ordinal"===d.slice(0,7)){if("ordinal"===d)C=!0;else{var S,O=e.getAttributeValue(c,"match"),A=d.slice(8);(S=e.getAttributeValue(c,"gender-form"))||(S="neuter"),O||(O="last-two-digits","0"===A.slice(0,1)&&(O="last-digit")),"0"===A.slice(0,1)&&(A=A.slice(1)),T[O][A]||(T[O][A]={}),T[O][A][S]=d}this.locale[r].ord.keys[d]=!0}"undefined"===typeof this.locale[r].terms[d]&&(this.locale[r].terms[d]={}),u="long",S=!1,e.getAttributeValue(c,"form")&&(u=e.getAttributeValue(c,"form")),e.getAttributeValue(c,"gender-form")&&(S=e.getAttributeValue(c,"gender-form")),e.getAttributeValue(c,"gender")&&(this.locale[r]["noun-genders"][d]=e.getAttributeValue(c,"gender")),S?(this.locale[r].terms[d][S]={},this.locale[r].terms[d][S][u]=[],m=this.locale[r].terms[d][S],k[d]=!0):(this.locale[r].terms[d][u]=[],m=this.locale[r].terms[d]),e.numberofnodes(e.getNodesByName(c,"multiple"))?(m[u][0]=e.getNodeValue(c,"single"),m[u][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),m[u][1]=e.getNodeValue(c,"multiple"),m[u][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(m[u]=e.getNodeValue(c),m[u].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(this.locale[r].terms.supplement||(this.locale[r].terms.supplement={}),this.locale[r].terms.supplement.long||(this.locale[r].terms.supplement.long=["supplement","supplements"]),C){for(var j in k){var P={},I=0;for(var L in this.locale[r].terms[j])["masculine","feminine"].indexOf(L)>-1?P[L]=this.locale[r].terms[j][L]:I+=1;if(!I)if(P.feminine)for(var L in P.feminine)this.locale[r].terms[j][L]=P.feminine[L];else if(P.masculine)for(var L in P.masculine)this.locale[r].terms[j][L]=P.masculine[L]}this.locale[r].ord["1.0.1"]=T}for(d in this.locale[r].terms)for(M=0,B=2;M<B;M+=1)if(S=t.GENDERS[M],this.locale[r].terms[d][S])for(u in this.locale[r].terms[d])this.locale[r].terms[d][S][u]||(this.locale[r].terms[d][S][u]=this.locale[r].terms[d][u]);for(a=e.getNodesByName(o,"style-options"),l=0,f=e.numberofnodes(a);l<f;l+=1)for(h in p=a[l],s=e.attributes(p))if(s.hasOwnProperty(h))if("@punctuation-in-quote"===h||"@limit-day-ordinals-to-day-1"===h)"true"===s[h]?this.locale[r].opts[h.slice(1)]=!0:this.locale[r].opts[h.slice(1)]=!1;else if("@jurisdiction-preference"===h){var R=s[h].split(/\s+/);this.locale[r].opts[h.slice(1)]=R}else if("@skip-words"===h){var N=s[h].split(/\s*,\s*/);this.locale[r].opts[h.slice(1)]=N}else if("@leading-noise-words"===h){var D=s[h].split(/\s*,\s*/);this.locale[r].opts["leading-noise-words"]=D}else if("@name-as-sort-order"===h){this.locale[r].opts["name-as-sort-order"]={};for(var M=0,B=(Q=s[h].split(/\s+/)).length;M<B;M+=1)this.locale[r].opts["name-as-sort-order"][Q[M]]=!0}else if("@name-as-reverse-order"===h){this.locale[r].opts["name-as-reverse-order"]={};for(M=0,B=(Q=s[h].split(/\s+/)).length;M<B;M+=1)this.locale[r].opts["name-as-reverse-order"][Q[M]]=!0}else if("@name-never-short"===h){this.locale[r].opts["name-never-short"]={};var Q;for(M=0,B=(Q=s[h].split(/\s+/)).length;M<B;M+=1)this.locale[r].opts["name-never-short"][Q[M]]=!0}for(a=e.getNodesByName(o,"date"),l=0,f=e.numberofnodes(a);l<f;l+=1){var U=a[l];this.locale[r].dates[e.getAttributeValue(U,"form")]=U}t.SET_COURT_CLASSES(this,r,e,o)},t.getLocaleNames=function(e,n){var r=t.setupXml(e);function i(e,n){var r=["base","best"];if(n)for(var i=t.localeResolve(n),o=0,a=r.length;o<a;o++)i[r[o]]&&-1===e.indexOf(i[r[o]])&&e.push(i[r[o]])}var o=["en-US"];function a(e){for(var t=r.getNodesByName(r.dataObj,e),n=0,i=t.length;n<i;n++){var a=r.getAttributeValue(t[n],"locale");if(a)for(var s=0,l=(a=a.split(/ +/)).length;s<l;s++)this.extendLocaleList(o,a[s])}}i(o,n);var s=r.getNodesByName(r.dataObj,"style")[0],l=r.getAttributeValue(s,"default-locale");i(o,l);for(var c=["layout","if","else-if","condition"],u=0,d=c.length;u<d;u++)a(r);return o},t.Node={},t.Node.bibliography={build:function(e,n){if(this.tokentype===t.START){e.build.area="bibliography",e.build.root="bibliography",e.build.extension="";this.execs.push((function(e){e.tmp.area="bibliography",e.tmp.root="bibliography",e.tmp.extension=""}))}n.push(this)}},t.Node.choose={build:function(e,n){var r;this.tokentype===t.START&&(r=function(e){e.tmp.jump.push(void 0,t.LITERAL)}),this.tokentype===t.END&&(r=function(e){e.tmp.jump.pop()}),this.execs.push(r),n.push(this)},configure:function(e,n){this.tokentype===t.END?(e.configure.fail.push(n),e.configure.succeed.push(n)):(e.configure.fail.pop(),e.configure.succeed.pop())}},t.Node.citation={build:function(e,n){if(this.tokentype===t.START){e.build.area="citation",e.build.root="citation",e.build.extension="";this.execs.push((function(e){e.tmp.area="citation",e.tmp.root="citation",e.tmp.extension=""}))}if(this.tokentype===t.END){if(e.opt.grouped_sort="in-text"===e.opt.xclass&&e.citation.opt.collapse&&e.citation.opt.collapse.length||e.citation.opt.cite_group_delimiter&&e.citation.opt.cite_group_delimiter.length&&e.opt.update_mode!==t.POSITION&&e.opt.update_mode!==t.NUMERIC,e.opt.grouped_sort&&e.citation_sort.opt.sort_directions.length){var r=e.citation_sort.opt.sort_directions[0].slice();e.citation_sort.opt.sort_directions=[r].concat(e.citation_sort.opt.sort_directions)}e.citation.srt=new t.Registry.Comparifier(e,"citation_sort")}n.push(this)}},t.Node["#comment"]={build:function(){}},t.Node.date={build:function(e,n){var r,i,o,a,s,l,c,u,d,p;this.tokentype!==t.START&&this.tokentype!==t.SINGLETON||(e.dateput.string(e,e.dateput.queue),e.tmp.date_token=t.Util.cloneToken(this),e.tmp.date_token.strings.prefix="",e.tmp.date_token.strings.suffix="",e.dateput.openLevel(this),e.build.date_parts=[],e.build.date_variables=this.variables,e.build.extension||t.Util.substituteStart.call(this,e,n),r=e.build.extension?t.dateMacroAsSortKey:function(e,t,n){var r;if(e.tmp.element_rendered_ok=!1,e.tmp.donesies=[],e.tmp.dateparts=[],r=[],!this.variables.length||e.tmp.just_looking&&"accessed"===this.variables[0])e.tmp.date_object=!1;else{for("undefined"===typeof(i=t[this.variables[0]])&&(i={"date-parts":[[0]]},e.opt.development_extensions.locator_date_and_revision&&n&&"locator-date"===this.variables[0]&&n["locator-date"]&&(i=n["locator-date"])),e.tmp.date_object=i,o=this.dateparts.length,a=0;a<o;a+=1)s=this.dateparts[a],("undefined"!==typeof e.tmp.date_object[s+"_end"]||"month"===s&&"undefined"!==typeof e.tmp.date_object.season_end)&&r.push(s);for(l=[],o=(c=["year","month","day"]).length,a=0;a<o;a+=1)r.indexOf(c[a])>-1&&l.push(c[a]);for(r=l.slice(),u=2,o=r.length,a=0;a<o;a+=1)if(s=r[a],d=e.tmp.date_object[s],p=e.tmp.date_object[s+"_end"],d!==p){u=a;break}e.tmp.date_collapse_at=r.slice(u)}},this.execs.push(r),r=function(e,t){if(t[this.variables[0]]&&(e.output.startTag("date",this),"issued"===this.variables[0]&&("legal_case"===t.type||"legislation"===t.type)&&-1===e.opt.disable_duplicate_year_suppression.indexOf(t.country)&&!e.tmp.extension&&""+t["collection-number"]===""+e.tmp.date_object.year&&1===this.dateparts.length&&"year"===this.dateparts[0]))for(var n in e.tmp.date_object)if(e.tmp.date_object.hasOwnProperty(n)&&"year"===n.slice(0,4)){e.tmp.issued_date={};var r=e.output.current.mystack.slice(-2)[0].blobs;e.tmp.issued_date.list=r,e.tmp.issued_date.pos=r.length-1}},this.execs.push(r)),e.build.extension||this.tokentype!==t.END&&this.tokentype!==t.SINGLETON||(r=function(e,t){t[this.variables[0]]&&e.output.endTag()},this.execs.push(r)),n.push(this),this.tokentype!==t.END&&this.tokentype!==t.SINGLETON||e.build.extension||t.Util.substituteEnd.call(this,e,n)}},t.Node["date-part"]={build:function(e,n){var r,i,o,a,s,l,c,u,d,p,h,f,m,g,v,b,y,_,x,w;this.strings.form||(this.strings.form="long"),e.build.date_parts.push(this.strings.name);var E=e.build.date_variables[0];function T(n,r,i){if(!i)return i;if(i=""+t.Util.Dates[this.strings.name][n](e,i,r,this.default_locale),"month"===this.strings.name)if(e.tmp.strip_periods)i=i.replace(/\./g,"");else for(var o=0,a=this.decorations.length;o<a;o+=1)if("@strip-periods"===this.decorations[o][0]&&"true"===this.decorations[o][1]){i=i.replace(/\./g,"");break}return i}r=function(e,n){if(e.tmp.date_object){e.tmp.probably_rendered_something=!0;var r="";if(a=!0,s="",l="",e.tmp.donesies.push(this.strings.name),e.tmp.date_object.literal&&"year"===this.strings.name&&(r=e.tmp.date_object.literal,e.output.append(e.tmp.date_object.literal,this)),e.tmp.date_object&&(s=e.tmp.date_object[this.strings.name],l=e.tmp.date_object[this.strings.name+"_end"]),"year"!==this.strings.name||0!==s||e.tmp.suppress_decorations||(s=!1),c=!e.tmp.suppress_decorations,u=e.tmp.have_collapsed,d="year-suffix"===e[e.tmp.area].opt.collapse||"year-suffix-ranged"===e[e.tmp.area].opt.collapse,p=e.opt["disambiguate-add-year-suffix"],c&&p&&d&&(e.tmp.years_used.push(s),e.tmp.last_years_used.length>=e.tmp.years_used.length&&u&&e.tmp.last_years_used[e.tmp.years_used.length-1]===s&&(s=!1)),"undefined"!==typeof s){h=!1,f=!1,!1,!1,"year"===this.strings.name&&(parseInt(s,10)<500&&parseInt(s,10)>0&&(f=e.getTerm("ad")),parseInt(s,10)<0&&(h=e.getTerm("bc"),s=-1*parseInt(s,10)),l&&(parseInt(l,10)<500&&parseInt(l,10)>0&&e.getTerm("ad"),parseInt(l,10)<0&&(e.getTerm("bc"),l=-1*parseInt(l,10))));for(var C=""+e.tmp.date_object.month;C.length<2;)C="0"+C;C="month-"+C;var k=e.locale[e.opt.lang]["noun-genders"][C];if(this.strings.form){var S=this.strings.form,O=this.strings.form;"day"===this.strings.name&&"ordinal"===S&&e.locale[e.opt.lang].opts["limit-day-ordinals-to-day-1"]&&(1!=s&&(S="numeric"),1!=l&&(O="numeric")),s=T.call(this,S,k,s),l=T.call(this,O,k,l)}if(e.output.openLevel("empty"),e.tmp.date_collapse_at.length){for(m=!0,o=e.tmp.date_collapse_at.length,i=0;i<o;i+=1)if(x=e.tmp.date_collapse_at[i],-1===e.tmp.donesies.indexOf(x)){m=!1;break}if(m){if(""+l!=="0"){if(0===e.dateput.queue.length&&(a=!0),e.opt["year-range-format"]&&"expanded"!==e.opt["year-range-format"]&&!e.tmp.date_object.day&&!e.tmp.date_object.month&&!e.tmp.date_object.season&&"year"===this.strings.name&&s&&l){l=e.fun.year_mangler(s+"-"+l,!0);var A=e.getTerm("year-range-delimiter");l=l.slice(l.indexOf(A)+1)}r=l,e.dateput.append(l,this),a&&(w=e.dateput.current.value().blobs[0])&&(w.strings.prefix="")}r=s,e.output.append(s,this),g=e.output.current.value(),(w=g.blobs[g.blobs.length-1])&&(w.strings.suffix=""),this.strings["range-delimiter"]?e.output.append(this.strings["range-delimiter"]):e.output.append(e.getTerm("year-range-delimiter"),"empty"),e.dateput.closeLevel(),v=e.dateput.current.value(),g.blobs=g.blobs.concat(v),e.dateput.string(e,e.dateput.queue),e.dateput.openLevel(e.tmp.date_token),e.tmp.date_collapse_at=[]}else r=s,e.output.append(s,this),e.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+l!=="0"&&(0===e.dateput.queue.length&&(a=!0),e.dateput.openLevel("empty"),r=l,e.dateput.append(l,this),a&&(w=e.dateput.current.value().blobs[0])&&(w.strings.prefix=""),h&&(r=h,e.dateput.append(h)),f&&(r=f,e.dateput.append(f)),e.dateput.closeLevel())}else r=s,e.output.append(s,this);h&&(r=h,e.output.append(h)),f&&(r=f,e.output.append(f)),e.output.closeLevel()}else"month"===this.strings.name&&e.tmp.date_object.season&&((s=""+e.tmp.date_object.season)&&s.match(/^[1-4]$/)?(e.tmp.group_context.tip.variable_success=!0,r="winter",e.output.append(e.getTerm("season-0"+s),this)):s&&(r=s,e.output.append(s,this)));e.tmp.value=[],!n[E]||!s&&!e.tmp.have_collapsed||e.opt.has_year_suffix||"year"!==this.strings.name||e.tmp.just_looking||e.registry.registry[n.id]&&!1!==e.registry.registry[n.id].disambig.year_suffix&&!e.tmp.has_done_year_suffix&&(e.tmp.has_done_year_suffix=!0,r="x",y=parseInt(e.registry.registry[n.id].disambig.year_suffix,10),b=new t.NumericBlob(e,!1,y,this,n.id),this.successor_prefix=e[e.build.area].opt.layout_delimiter,this.splice_prefix=e[e.build.area].opt.layout_delimiter,_=new t.Util.Suffixator(t.SUFFIX_CHARS),b.setFormatter(_),"year-suffix-ranged"===e[e.tmp.area].opt.collapse&&(b.range_prefix=e.getTerm("citation-range-delimiter")),e[e.tmp.area].opt.cite_group_delimiter?b.successor_prefix=e[e.tmp.area].opt.cite_group_delimiter:e[e.tmp.area].opt["year-suffix-delimiter"]?b.successor_prefix=e[e.tmp.area].opt["year-suffix-delimiter"]:b.successor_prefix=e[e.tmp.area].opt.layout_delimiter,b.UGLY_DELIMITER_SUPPRESS_HACK=!0,e.output.append(b,"literal")),r&&!e.tmp.group_context.tip.condition&&(e.tmp.just_did_number=r.match(/[0-9]$/),e.output.current.tip.strings.suffix&&(e.tmp.just_did_number=!1))}},this.execs.push(r),n.push(this)}},t.Node["else-if"]={build:function(e,n){t.Conditions.TopNode.call(this,e,n),n.push(this)},configure:function(e,n){t.Conditions.Configure.call(this,e,n)}},t.Node.else={build:function(e,t){t.push(this)},configure:function(e,n){this.tokentype===t.START&&(e.configure.fail[e.configure.fail.length-1]=n)}},t.Node["et-al"]={build:function(e,t){if("citation"===e.build.area||"bibliography"===e.build.area){this.execs.push((function(e){e.tmp.etal_node=this,"string"===typeof this.strings.term&&(e.tmp.etal_term=this.strings.term)}))}t.push(this)}},t.Node.group={build:function(e,n,r){var i,o,a;if(this.realGroup=r,this.tokentype===t.START&&(t.Util.substituteStart.call(this,e,n),e.build.substitute_level.value()&&e.build.substitute_level.replace(e.build.substitute_level.value()+1),this.juris||n.push(this),i=function(e){if(e.output.startTag("group",this),this.strings.label_form_override&&(e.tmp.group_context.tip.label_form||(e.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(e.tmp.group_context.tip.label_capitalize_if_first||(e.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){e.tmp.group_context.tip.condition&&t.UPDATE_GROUP_CONTEXT_CONDITION(e,this.strings.prefix,null,this);var n=!1,r=!1;e.tmp.group_context.mystack.length&&(e.output.current.value().parent=e.tmp.group_context.tip.output_tip);var i=e.tmp.group_context.tip.label_form;i||(i=this.strings.label_form_override);var o=e.tmp.group_context.tip.label_capitalize_if_first;o||(o=this.strings.label_capitalize_if_first),e.tmp.group_context.tip.condition?(n=e.tmp.group_context.tip.condition,r=e.tmp.group_context.tip.force_suppress):this.strings.reject?n={test:this.strings.reject,not:!0}:this.strings.require&&(n={test:this.strings.require,not:!1});var a={old_term_predecessor:e.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:e.tmp.group_context.tip.variable_success,output_tip:e.output.current.tip,label_form:i,label_static:e.tmp.group_context.tip.label_static,label_capitalize_if_first:o,parallel_delimiter_override:this.strings.set_parallel_delimiter_override,parallel_delimiter_override_on_suppress:this.strings.set_parallel_delimiter_override_on_suppress,condition:n,force_suppress:r,done_vars:e.tmp.group_context.tip.done_vars.slice()};if(this.non_parallel){var s=e.tmp.group_context.tip.non_parallel;s||(s={}),Object.assign(s,this.non_parallel),a.non_parallel=s}if(this.parallel_first){var l=e.tmp.group_context.tip.parallel_first;l||(l={}),Object.assign(l,this.parallel_first),a.parallel_first=l}if(this.parallel_last){var c=e.tmp.group_context.tip.parallel_last;c||(c={}),Object.assign(c,this.parallel_last),a.parallel_last=c}if(e.tmp.abbrev_trimmer&&e.tmp.abbrev_trimmer.LAST_TO_FIRST&&a.parallel_last)for(var u in a.parallel_first||(a.parallel_first={}),e.tmp.abbrev_trimmer.LAST_TO_FIRST)a.parallel_last[u]&&(a.parallel_first[u]=!0,delete a.parallel_last[u]);if(e.tmp.group_context.push(a),e.tmp.abbrev_trimmer&&this.parallel_last_to_first)for(var u in e.tmp.abbrev_trimmer.LAST_TO_FIRST||(e.tmp.abbrev_trimmer.LAST_TO_FIRST={}),this.parallel_last_to_first)e.tmp.abbrev_trimmer.LAST_TO_FIRST[u]=!0}},(o=[]).push(i),this.execs=o.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(e.build["publisher-special"]=!0,this.strings["subgroup-delimiter"]&&(i=function(e,n){if(n.publisher&&n["publisher-place"]){var r=n.publisher.split(/;\s*/),i=n["publisher-place"].split(/;\s*/);r.length>1&&r.length===i.length&&(e.publisherOutput=new t.PublisherOutput(e,this),e.publisherOutput["publisher-list"]=r,e.publisherOutput["publisher-place-list"]=i)}},this.execs.push(i))),this.juris)){var s=new t.Token("choose",t.START);t.Node.choose.build.call(s,e,n);var l=new t.Token("if",t.START);a=this.juris,i=function(n,r){return t.INIT_JURISDICTION_MACROS(e,n,r,a)},l.tests||(l.tests=[]),l.tests.push(i),l.test=e.fun.match.any(l,e,l.tests),n.push(l);var c=new t.Token("text",t.SINGLETON);i=function(e,n,r){var i=n;r&&r["best-jurisdiction"]&&"juris-locator"===this.juris&&(i=r);var o=0;if(e.juris[i["best-jurisdiction"]][this.juris])for(;o<e.juris[i["best-jurisdiction"]][this.juris].length;)o=t.tokenExec.call(e,e.juris[i["best-jurisdiction"]][this.juris][o],n,r)},c.juris=this.juris,c.execs.push(i),n.push(c);var u=new t.Token("if",t.END);t.Node.if.build.call(u,e,n);var d=new t.Token("else",t.START);t.Node.else.build.call(d,e,n)}if(this.tokentype===t.END&&(e.build["publisher-special"]&&(e.build["publisher-special"]=!1,i=function(e){e.publisherOutput&&(e.publisherOutput.render(),e.publisherOutput=!1)},this.execs.push(i)),i=function(e,n,r){if(e.tmp.group_context.tip.condition||e.output.current.tip.strings.suffix&&(e.tmp.just_did_number=!1),e.output.endTag(),this.realGroup){var i=e.tmp.group_context.pop();if(i.parallel_delimiter_override&&(e.tmp.group_context.tip.parallel_delimiter_override=i.parallel_delimiter_override,!e.tmp.just_looking&&e.registry.registry[n.id].master&&(e.registry.registry[n.id].parallel_delimiter_override=i.parallel_delimiter_override)),i.parallel_delimiter_override_on_suppress&&(e.tmp.group_context.tip.parallel_delimiter_override_on_suppress=i.parallel_delimiter_override_on_suppress),"bibliography_sort"===e.tmp.area){var o=i.done_vars.indexOf("citation-number");this.strings.sort_direction&&o>-1&&1==e.tmp.group_context.length()&&(this.strings.sort_direction===t.DESCENDING?e.bibliography_sort.opt.citation_number_sort_direction=t.DESCENDING:e.bibliography_sort.opt.citation_number_sort_direction=t.ASCENDING,i.done_vars=i.done_vars.slice(0,o).concat(i.done_vars.slice(o+1)))}if(i.condition&&(i.force_suppress=t.EVALUATE_GROUP_CONDITION(e,i)),e.tmp.group_context.tip.condition&&(e.tmp.group_context.tip.force_suppress=i.force_suppress),!i.force_suppress&&(i.variable_success||i.term_intended&&!i.variable_attempt)){this.isJurisLocatorLabel||(e.tmp.group_context.tip.variable_success=!0);var a=e.output.current.value().blobs;e.output.current.value().blobs.length;if(!e.tmp.just_looking&&(i.non_parallel||i.parallel_last||i.parallel_first||i.parallel_delimiter_override||i.parallel_delimiter_override_on_suppress)){var s=e.parallel.checkRepeats(i);if(s&&a&&a.pop(),e.tmp.cite_index>0&&(s||!i.parallel_first&&!i.parallel_last&&!i.non_parallel)){var l=e.tmp.suppress_repeats[e.tmp.cite_index-1];s&&i.parallel_delimiter_override_on_suppress&&(l.SIBLING||l.ORPHAN)?e.output.queue.slice(-1)[0].parallel_delimiter=i.parallel_delimiter_override_on_suppress:i.parallel_delimiter_override&&l.SIBLING&&(e.output.queue.slice(-1)[0].parallel_delimiter=i.parallel_delimiter_override)}}}else{if(e.tmp.term_predecessor=i.old_term_predecessor,e.tmp.group_context.tip.variable_attempt=i.variable_attempt,i.force_suppress&&!e.tmp.group_context.tip.condition&&(e.tmp.group_context.tip.variable_attempt=!0,e.tmp.group_context.tip.variable_success=i.variable_success_parent),i.force_suppress)for(var c=0,u=i.done_vars.length;c<u;c++)for(var d=i.done_vars[c],p=0,h=e.tmp.done_vars.length;p<h;p++)e.tmp.done_vars[p]===d&&(e.tmp.done_vars=e.tmp.done_vars.slice(0,p).concat(e.tmp.done_vars.slice(p+1)));e.output.current.value().blobs&&e.output.current.value().blobs.pop()}}},this.execs.push(i),this.juris)){var p=new t.Token("else",t.END);t.Node.else.build.call(p,e,n);var h=new t.Token("choose",t.END);t.Node.choose.build.call(h,e,n)}this.tokentype===t.END&&(this.juris||n.push(this),e.build.substitute_level.value()&&e.build.substitute_level.replace(e.build.substitute_level.value()-1),t.Util.substituteEnd.call(this,e,n))}},t.Node.if={build:function(e,n){t.Conditions.TopNode.call(this,e,n),n.push(this)},configure:function(e,n){t.Conditions.Configure.call(this,e,n)}},t.Node.conditions={build:function(e){this.tokentype===t.START&&e.tmp.conditions.addMatch(this.match),this.tokentype===t.END&&e.tmp.conditions.matchCombine()}},t.Node.condition={build:function(e){if(this.tokentype===t.SINGLETON){var n=e.fun.match[this.match](this,e,this.tests);e.tmp.conditions.addTest(n)}}},t.Conditions={},t.Conditions.TopNode=function(e){var n;this.tokentype!==t.START&&this.tokentype!==t.SINGLETON||(this.locale&&(e.opt.lang=this.locale),this.tests&&this.tests.length?this.test=e.fun.match[this.match](this,e,this.tests):e.tmp.conditions=new t.Conditions.Engine(e,this),0===e.build.substitute_level.value()&&(n=function(e){e.tmp.condition_counter++},this.execs.push(n))),this.tokentype!==t.END&&this.tokentype!==t.SINGLETON||(0===e.build.substitute_level.value()&&(n=function(e){(e.tmp.condition_counter--,e.tmp.condition_lang_counter_arr.length>0)&&(e.tmp.condition_lang_counter_arr.slice(-1)[0]===e.tmp.condition_counter&&(e.opt.lang=e.tmp.condition_lang_val_arr.pop(),e.tmp.condition_lang_counter_arr.pop()));this.locale_default&&(e.output.current.value().old_locale=this.locale_default,e.output.closeLevel("empty"),e.opt.lang=this.locale_default)},this.execs.push(n)),n=function(e){return this[e.tmp.jump.value()]},this.execs.push(n),this.locale_default&&(e.opt.lang=this.locale_default))},t.Conditions.Configure=function(e,n){this.tokentype===t.START?(this.fail=e.configure.fail.slice(-1)[0],this.succeed=this.next,e.configure.fail[e.configure.fail.length-1]=n):this.tokentype===t.SINGLETON?(this.fail=this.next,this.succeed=e.configure.succeed.slice(-1)[0],e.configure.fail[e.configure.fail.length-1]=n):(this.succeed=e.configure.succeed.slice(-1)[0],this.fail=this.next)},t.Conditions.Engine=function(e,t){this.token=t,this.state=e},t.Conditions.Engine.prototype.addTest=function(e){this.token.tests||(this.token.tests=[]),this.token.tests.push(e)},t.Conditions.Engine.prototype.addMatch=function(e){this.token.match=e},t.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},t.Node.info={build:function(e){this.tokentype===t.START?e.build.skip="info":e.build.skip=!1}},t.Node.institution={build:function(e,n){if([t.SINGLETON,t.START].indexOf(this.tokentype)>-1){this.execs.push((function(e){"string"===typeof this.strings.delimiter?e.tmp.institution_delimiter=this.strings.delimiter:e.tmp.institution_delimiter=e.tmp.name_delimiter,"text"===e.inheritOpt(this,"and")?this.and_term=e.getTerm("and","long",0):"symbol"===e.inheritOpt(this,"and")?e.opt.development_extensions.expect_and_symbol_form?this.and_term=e.getTerm("and","symbol",0):this.and_term="&":"none"===e.inheritOpt(this,"and")&&(this.and_term=e.tmp.institution_delimiter),"undefined"===typeof this.and_term&&e.tmp.and_term&&(this.and_term=e.tmp.and_term),t.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"===typeof e.tmp.institution_delimiter&&(this.and_prefix_multiple=e.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===e.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=e.tmp.institution_delimiter:"never"===e.inheritOpt(this,"delimiter-precedes-last")&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},"undefined"!==typeof this.and_term?(e.output.append(this.and_term,"empty",!0),this.and.single=e.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,e.output.append(this.and_term,"empty",!0),this.and.multiple=e.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):"undefined"!==this.strings.delimiter&&(this.and.single=new t.Blob(e.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new t.Blob(e.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),e.nameOutput.institution=this}))}n.push(this)},configure:function(e){[t.SINGLETON,t.START].indexOf(this.tokentype)>-1&&(e.build.has_institution=!0)}},t.Node["institution-part"]={build:function(e,t){var n;"long"===this.strings.name?n=this.strings["if-short"]?function(e){e.nameOutput.institutionpart["long-with-short"]=this}:function(e){e.nameOutput.institutionpart.long=this}:"short"===this.strings.name&&(n=function(e){e.nameOutput.institutionpart.short=this}),this.execs.push(n),t.push(this)}},t.Node.key={build:function(e,n){var r;n=e[e.build.root+"_sort"].tokens;var i=new t.Token("key",t.START);e.tmp.root=e.build.root,i.strings["et-al-min"]=e.inheritOpt(this,"et-al-min"),i.strings["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first"),i.strings["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"),r=function(e){e.tmp.done_vars=[]},i.execs.push(r),r=function(e){e.output.openLevel("empty")},i.execs.push(r);var o=[];if(this.strings.sort_direction===t.DESCENDING?(o.push(1),o.push(-1)):(o.push(-1),o.push(1)),e[e.build.area].opt.sort_directions.push(o),t.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(e.build.date_key=!0),r=function(e){e.tmp.sort_key_flag=!0,e.inheritOpt(this,"et-al-min")&&(e.tmp["et-al-min"]=e.inheritOpt(this,"et-al-min")),e.inheritOpt(this,"et-al-use-first")&&(e.tmp["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first")),"boolean"===typeof e.inheritOpt(this,"et-al-use-last")&&(e.tmp["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"))},i.execs.push(r),n.push(i),this.variables.length){var a=this.variables[0];if(t.NAME_VARIABLES.indexOf(a)>-1){var s=new t.Token("names",t.START);s.tokentype=t.START,s.variables=this.variables,t.Node.names.build.call(s,e,n);var l=new t.Token("name",t.SINGLETON);l.tokentype=t.SINGLETON,l.strings["name-as-sort-order"]="all",l.strings["sort-separator"]=" ",l.strings["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last"),l.strings["et-al-min"]=e.inheritOpt(this,"et-al-min"),l.strings["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first"),t.Node.name.build.call(l,e,n);var c=new t.Token("institution",t.SINGLETON);c.tokentype=t.SINGLETON,t.Node.institution.build.call(c,e,n);var u=new t.Token("names",t.END);u.tokentype=t.END,t.Node.names.build.call(u,e,n)}else{var d=new t.Token("text",t.SINGLETON);if(d.strings.sort_direction=this.strings.sort_direction,d.dateparts=this.dateparts,t.NUMERIC_VARIABLES.indexOf(a)>-1)r="citation-number"===a?function(e,n){if("bibliography_sort"===e.tmp.area&&(this.strings.sort_direction===t.DESCENDING?e.bibliography_sort.opt.citation_number_sort_direction=t.DESCENDING:e.bibliography_sort.opt.citation_number_sort_direction=t.ASCENDING),"citation_sort"===e.tmp.area&&e.bibliography_sort.tmp.citation_number_map)var r=e.bibliography_sort.tmp.citation_number_map[e.registry.registry[n.id].seq];else r=e.registry.registry[n.id].seq;r&&(r=t.Util.padding(""+r)),e.output.append(r,this)}:function(e,n){var r=!1;(r=n[a])&&(r=t.Util.padding(r)),e.output.append(r,this)};else if("citation-label"===a)r=function(e,t){var n=e.getCitationLabel(t);e.output.append(n,this)};else if(t.DATE_VARIABLES.indexOf(a)>-1)r=t.dateAsSortKey,d.variables=this.variables;else if("title"===a){r=e.transform.getOutputFunction(this.variables,"title",!1,!1,!0)}else r="court-class"===a?function(e,n,r){t.INIT_JURISDICTION_MACROS(e,n,r,"juris-main");var i=t.GET_COURT_CLASS(e,n,!0);e.output.append(i,"empty")}:function(e,t){var n=t[a];e.output.append(n,"empty")};d.execs.push(r),n.push(d)}}else{var p=new t.Token("text",t.SINGLETON);p.strings.sort_direction=this.strings.sort_direction,p.postponed_macro=this.postponed_macro,t.expandMacro.call(e,p,n)}var h=new t.Token("key",t.END);r=function(e){var t=e.output.string(e,e.output.queue);e.sys.normalizeUnicode&&(t=e.sys.normalizeUnicode(t)),""===(t=t?t.split(" ").join(e.opt.sort_sep)+e.opt.sort_sep:"")&&(t=void 0),"string"!==typeof t&&(t=void 0),e[e[e.tmp.area].root+"_sort"].keys.push(t),e.tmp.value=[]},h.execs.push(r),e.build.date_key&&("citation"===e.build.area&&"_sort"===e.build.extension&&(e[e.build.area].opt.sort_directions.push([-1,1]),r=function(e,n){var r=e.registry.registry[n.id].disambig.year_suffix;r||(r=0);var i=t.Util.padding(""+r);e[e.tmp.area].keys.push(i)},h.execs.push(r)),e.build.date_key=!1),r=function(e){e.tmp["et-al-min"]=void 0,e.tmp["et-al-use-first"]=void 0,e.tmp["et-al-use-last"]=void 0,e.tmp.sort_key_flag=!1},h.execs.push(r),n.push(h)}},t.Node.label={build:function(e,n){if(this.strings.term){this.execs.push((function(e,n,r){var i=t.evaluateLabel(this,e,n,r);r&&"locator"===this.strings.term&&(r.section_form_override=this.strings.form),i&&(e.tmp.group_context.tip.term_intended=!0),t.UPDATE_GROUP_CONTEXT_CONDITION(e,i,null,this),-1===i.indexOf("%s")&&(this.strings.capitalize_if_first&&(e.tmp.term_predecessor||"in-text"===e.opt.class&&"citation"===e.tmp.area||(i=t.Output.Formatters["capitalize-first"](e,i))),e.output.append(i,this))}))}else{this.strings.form||(this.strings.form="long");for(var r=e.build.names_variables[e.build.names_variables.length-1],i=e.build.name_label[e.build.name_label.length-1],o=0,a=r.length;o<a;o+=1)i[r[o]]||(i[r[o]]={});if(e.build.name_flag)for(o=0,a=r.length;o<a;o+=1)i[r[o]].after=this;else for(var o=0,a=r.length;o<a;o+=1)i[r[o]].before=this}n.push(this)}},t.Node.layout={build:function(e,n){var r,i,o,a,s;function l(){"bibliography"===e.build.area&&(o=new t.Token("text",t.SINGLETON),r=function(e){if(!e.tmp.parallel_and_not_last){var t;t=e.tmp.cite_affixes[e.tmp.area][e.tmp.last_cite_locale]?e.tmp.cite_affixes[e.tmp.area][e.tmp.last_cite_locale].suffix:e.bibliography.opt.layout_suffix;var n=e.output.current.value();e.opt.using_display?n.blobs[n.blobs.length-1].strings.suffix=t:n.strings.suffix=t}e.bibliography.opt["second-field-align"]&&e.output.endTag("bib_other")},o.execs.push(r),n.push(o))}if(this.tokentype===t.START&&(this.locale_raw?e.build.current_default_locale=this.locale_raw:e.build.current_default_locale=e.opt["default-locale"],r=function(e,n,r){if(e.opt.development_extensions.apply_citation_wrapper&&e.sys.wrapCitationEntry&&!e.tmp.just_looking&&n.system_id&&"citation"===e.tmp.area){var i=new t.Token("group",t.START);i.decorations=[["@cite","entry"]],e.output.startTag("cite_entry",i),e.output.current.value().item_id=n.system_id,r&&(e.output.current.value().locator_txt=r.locator_txt,e.output.current.value().suffix_txt=r.suffix_txt)}},this.execs.push(r)),this.tokentype!==t.START||e.tmp.cite_affixes[e.build.area]||(r=function(e,t,n){if(e.tmp.done_vars=[],n&&n["author-only"]&&e.tmp.done_vars.push("locator"),e.opt.suppressedJurisdictions[t.country]&&t.country&&-1===["treaty","patent"].indexOf(t.type)&&e.tmp.done_vars.push("country"),!e.tmp.just_looking&&e.registry.registry[t.id]&&e.registry.registry[t.id].parallel&&e.tmp.done_vars.push("first-reference-note-number"),!e.tmp.just_looking&&e.tmp.abbrev_trimmer&&t.jurisdiction)for(var r in e.tmp.abbrev_trimmer.QUASHES[t.jurisdiction])e.tmp.done_vars.push(r);e.tmp.rendered_name=!1},this.execs.push(r),r=function(e){e.tmp.sort_key_flag=!1},this.execs.push(r),r=function(e){e.tmp.nameset_counter=0},this.execs.push(r),r=function(e,n){var r=new t.Token;e.output.openLevel(r)},this.execs.push(r),n.push(this),"citation"===e.build.area&&(i=new t.Token("text",t.SINGLETON),r=function(e,n,r){if(r&&r.prefix){var i=t.checkPrefixSpaceAppend(e,r.prefix);e.tmp.just_looking||(i=e.output.checkNestedBrace.update(i));var o=t.checkIgnorePredecessor(e,i);e.output.append(i,this,!1,o)}},i.execs.push(r),n.push(i))),this.locale_raw&&((s=new t.Token("dummy",t.START)).locale=this.locale_raw,s.strings.delimiter=this.strings.delimiter,s.strings.suffix=this.strings.suffix,e.tmp.cite_affixes[e.build.area]||(e.tmp.cite_affixes[e.build.area]={})),this.tokentype===t.START&&(e.build.layout_flag=!0,this.locale_raw||(e[e.tmp.area].opt.topdecor=[this.decorations],e[e.tmp.area+"_sort"].opt.topdecor=[this.decorations],e[e.build.area].opt.layout_prefix=this.strings.prefix,e[e.build.area].opt.layout_suffix=this.strings.suffix,e[e.build.area].opt.layout_delimiter=this.strings.delimiter,e[e.build.area].opt.layout_decorations=this.decorations,e.tmp.cite_affixes[e.build.area]&&(a=new t.Token("else",t.START),t.Node.else.build.call(a,e,n))),this.locale_raw)){if(e.build.layout_locale_flag)s.name="else-if",t.Attributes["@locale-internal"].call(s,e,this.locale_raw),t.Node["else-if"].build.call(s,e,n);else{var c=new t.Token("choose",t.START);t.Node.choose.build.call(c,e,n),s.name="if",t.Attributes["@locale-internal"].call(s,e,this.locale_raw),t.Node.if.build.call(s,e,n)}e.tmp.cite_affixes[e.build.area][s.locale]={},e.tmp.cite_affixes[e.build.area][s.locale].delimiter=this.strings.delimiter,e.tmp.cite_affixes[e.build.area][s.locale].suffix=this.strings.suffix}this.tokentype===t.END&&(this.locale_raw&&(l(),e.build.layout_locale_flag?(s.name="else-if",s.tokentype=t.END,t.Attributes["@locale-internal"].call(s,e,this.locale_raw),t.Node["else-if"].build.call(s,e,n)):(s.name="if",s.tokentype=t.END,t.Attributes["@locale-internal"].call(s,e,this.locale_raw),t.Node.if.build.call(s,e,n),e.build.layout_locale_flag=!0)),this.locale_raw||(l(),e.tmp.cite_affixes[e.build.area]&&e.build.layout_locale_flag&&(a=new t.Token("else",t.END),t.Node.else.build.call(a,e,n),a=new t.Token("choose",t.END),t.Node.choose.build.call(a,e,n)),e.build_layout_locale_flag=!0,"citation"===e.build.area&&(o=new t.Token("text",t.SINGLETON),r=function(e,n,r){if(r&&r.suffix){var i=t.checkSuffixSpacePrepend(e,r.suffix);e.tmp.just_looking||(i=e.output.checkNestedBrace.update(i)),e.output.append(i,this)}},o.execs.push(r),n.push(o)),r=function(e){e.output.closeLevel()},this.execs.push(r),r=function(e,t){e.opt.development_extensions.apply_citation_wrapper&&e.sys.wrapCitationEntry&&!e.tmp.just_looking&&t.system_id&&"citation"===e.tmp.area&&e.output.endTag()},this.execs.push(r),n.push(this),e.build.layout_flag=!1,e.build.layout_locale_flag=!1))}},t.Node.macro={build:function(){}},t.Node.alternative={build:function(e,n){if(this.tokentype===t.START){var r=new t.Token("choose",t.START);t.Node.choose.build.call(r,e,n);var i=new t.Token("if",t.START);t.Attributes["@alternative-node-internal"].call(i,e),t.Node.if.build.call(i,e,n);var o=function(e,n){if(e.tmp.oldItem=n,e.tmp.oldLang=e.opt.lang,e.tmp.abort_alternative=!0,n["language-name"]&&n["language-name-original"]){var r=JSON.parse(JSON.stringify(n));r.language=r["language-name"];var i=t.localeResolve(r.language,e.opt["default-locale"][0]);if(e.opt.multi_layout)for(var o in e.opt.multi_layout){var a=e.opt.multi_layout[o],s=!1;for(var l in a){var c=a[l];if(i.best===c.best||i.base===c.base||i.bare===c.bare){s=a[0].best;break}}s||(s=e.opt["default-locale"][0]),e.opt.lang=s}for(var u in r)if(-1===["id","type","language","multi"].indexOf(u)&&"alt-"!==u.slice(0,4))if(r.multi&&r.multi._keys[u]){var d=!0;for(var p in r.multi._keys[u])if(i.bare===p.replace(/^([a-zA-Z]+).*/,"$1")){d=!1;break}d&&delete r[u]}else delete r[u];for(var u in r)"alt-"===u.slice(0,4)?(r[u.slice(4)]=r[u],e.tmp.abort_alternative=!1):r.multi&&r.multi._keys&&!r["alt-"+u]&&r.multi._keys[u]&&(r.multi._keys[u][i.best]?(r[u]=r.multi._keys[u][i.best],e.tmp.abort_alternative=!1):r.multi._keys[u][i.base]?(r[u]=r.multi._keys[u][i.base],e.tmp.abort_alternative=!1):r.multi._keys[u][i.bare]&&(r[u]=r.multi._keys[u][i.bare],e.tmp.abort_alternative=!1))}e.output.openLevel(this),e.registry.refhash[n.id]=r,e.nameOutput=new t.NameOutput(e,r)};this.execs.push(o),n.push(this);r=new t.Token("choose",t.START);t.Node.choose.build.call(r,e,n);i=new t.Token("if",t.START);t.Attributes["@alternative-node-internal"].call(i,e);o=function(e){e.tmp.abort_alternative=!0};i.execs.push(o),t.Node.if.build.call(i,e,n)}else if(this.tokentype===t.END){i=new t.Token("if",t.END);t.Node.if.build.call(i,e,n);r=new t.Token("choose",t.END);t.Node.choose.build.call(r,e,n);o=function(e,n){e.output.closeLevel(),e.registry.refhash[n.id]=e.tmp.oldItem,e.opt.lang=e.tmp.oldLang,e.nameOutput=new t.NameOutput(e,e.tmp.oldItem),e.tmp.abort_alternative=!1};this.execs.push(o),n.push(this);i=new t.Token("if",t.END);t.Node.if.build.call(i,e,n);r=new t.Token("choose",t.END);t.Node.choose.build.call(r,e,n)}}},t.Node["alternative-text"]={build:function(e,n){if(this.tokentype===t.SINGLETON){this.execs.push((function(e,n){n=e.refetchItem(n.id);t.getCite.call(e,n)}))}n.push(this)}},t.NameOutput=function(e,t,n){this.debug=!1,this.state=e,this.debug&&this.state.sys.print("(1)"),this.Item=t,this.item=n,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},t.NameOutput.prototype.init=function(e){this.requireMatch=e.requireMatch,this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=e,this.variables=e.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var t=0,n=this.variables.length;t<n;t+=1)this.Item[this.variables[t]]&&this.Item[this.variables[t]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[t]]));if((this["et-al"]=void 0,this.with=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],this.state.tmp.value.length)&&this.checkCommonAuthor(this.requireMatch)){for(var t in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var r=this.state.tmp.done_vars.indexOf(this.variables[t]);r>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,r).concat(this.state.tmp.done_vars.slice(t+1)))}this.state.tmp.common_term_match_fail=!0,this.variables=[]}},t.NameOutput.prototype.reinit=function(e,n){if(this.requireMatch=e.requireMatch,this.labelVariable=n,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=e.variables;var r=this.state.tmp.value.slice();this.state.tmp.value=[];for(var i=0,o=this.variables.length;i<o;i+=1)this.Item[this.variables[i]]&&this.Item[this.variables[i]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[i]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,t.LITERAL),this.state.tmp.value=r}if(this.checkCommonAuthor(this.requireMatch)){for(var i in this.state.tmp.can_substitute.pop(),this.state.tmp.can_substitute.push(!0),this.variables){var a=this.state.tmp.done_vars.indexOf(this.variables[i]);a>-1&&(this.state.tmp.done_vars=this.state.tmp.done_vars.slice(0,a).concat(this.state.tmp.done_vars.slice(i+1)))}this.variables=[]}},t.NameOutput.prototype.outputNames=function(){var e=this.variables;if(this.institution.and&&(this.institution.and.single.blobs&&this.institution.and.single.blobs.length||(this.institution.and.single.blobs=this.name.and.single.blobs),this.institution.and.multiple.blobs&&this.institution.and.multiple.blobs.length||(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=t.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",f=0,m=this.family.execs.length;f<m;f+=1)this.family.execs[f].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=t.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",f=0,m=this.given.execs.length;f<m;f+=1)this.given.execs[f].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.debug&&this.state.sys.print("(2)"),this.getEtAlConfig(),this.debug&&this.state.sys.print("(3)"),this.divideAndTransliterateNames(),this.debug&&this.state.sys.print("(4)"),this.truncatePersonalNameLists(),this.debug&&this.state.sys.print("(5)"),this.debug&&this.state.sys.print("(6)"),this.disambigNames(),this.constrainNames(),this.debug&&this.state.sys.print("(7)"),"count"!==this.name.strings.form){this.debug&&this.state.sys.print("(8)"),this.setEtAlParameters(),this.debug&&this.state.sys.print("(9)"),this.setCommonTerm(this.requireMatch),this.debug&&this.state.sys.print("(10)"),this.renderAllNames(),this.debug&&this.state.sys.print("(11)");var n=[];for(f=0,m=e.length;f<m;f+=1){var r=e[f],i=[],o=!1,a=null;if(this.state.opt.development_extensions.spoof_institutional_affiliations){this.debug&&this.state.sys.print("(11a)");for(var s=0,l=this.institutions[r].length;s<l;s+=1)i.push(this.joinPersonsAndInstitutions([this.persons[r][s],this.institutions[r][s]]));if(this.debug&&this.state.sys.print("(11b)"),this.institutions[r].length){var c=this.nameset_base+this.variable_offset[r];this.freeters[r].length&&(c+=1),o=this.joinInstitutionSets(i,c)}this.debug&&this.state.sys.print("(11c)");a=this.joinFreetersAndInstitutionSets([this.freeters[r],o]);this.debug&&this.state.sys.print("(11d)")}else a=this._join([this.freeters[r]],"");if(a&&(this.state.tmp.extension||(a=this._applyLabels(a,r)),n.push(a)),this.debug&&this.state.sys.print("(11e)"),this.common_term)break}for(this.debug&&this.state.sys.print("(12)"),this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),this.debug&&this.state.sys.print("(13)"),f=0,m=n.length;f<m;f+=1)this.state.output.append(n[f],"literal",!0);!this.state.tmp.just_looking&&n.length>0&&(this.state.tmp.probably_rendered_something=!0),this.debug&&this.state.sys.print("(14)"),this.state.output.closeLevel("empty"),this.debug&&this.state.sys.print("(15)");var u=this.state.output.pop();this.state.tmp.name_node.top=u,this.debug&&this.state.sys.print("(16)");var d=t.Util.cloneToken(this.names);if(this.state.tmp.group_context.tip.condition&&t.UPDATE_GROUP_CONTEXT_CONDITION(this.state,this.names.strings.prefix,null,this.names),this.state.output.append(u,d),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.debug&&this.state.sys.print("(17)"),this.debug&&this.state.sys.print("(18)"),"authority"!==e[0]){var p=[],h=this.Item[e[0]];if(h)for(var f=0,m=h.length;f<m;f+=1){var g=t.Util.Names.getRawName(h[f]);g&&p.push(g)}(p=p.join(", "))&&(this.state.tmp.name_node.string=p)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),"classic"===this.Item.type&&this.state.tmp.first_name_string){var v=[];v.push(this.state.tmp.first_name_string),this.Item.title&&v.push(this.Item.title),(v=v.join(", "))&&this.state.sys.getAbbreviation&&(this.state.sys.normalizeAbbrevsKey&&(v=this.state.sys.normalizeAbbrevsKey("classic",v)),this.state.transform.loadAbbreviation("default","classic",v,this.Item.language),this.state.transform.abbrevs.default.classic[v]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs.default.classic[v],"empty",!0),u=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(u)))}this._collapseAuthor(),this.variables=[],this.state.tmp.authority_stop_last=0,this.debug&&this.state.sys.print("(19)")}else(this.state.tmp.extension||0!=this.names_count)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0)},t.NameOutput.prototype._applyLabels=function(e,t){var n;if(!this.label||!this.label[this.labelVariable])return e;var r=0,i=this.freeters_count[t]+this.institutions_count[t];if(i>1)r=1;else{for(var o=0,a=this.persons[t].length;o<a;o+=1)i+=this.persons_count[t][o];i>1&&(r=1)}return this.label[this.labelVariable].before?("number"===typeof this.label[this.labelVariable].before.strings.plural&&(r=this.label[this.labelVariable].before.strings.plural),n=this._buildLabel(t,r,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(n,this.label[this.labelVariable].before,!0),this.state.output.append(e,"literal",!0),this.state.output.closeLevel("empty"),e=this.state.output.pop()):this.label[this.labelVariable].after&&("number"===typeof this.label[this.labelVariable].after.strings.plural&&(r=this.label[this.labelVariable].after.strings.plural),n=this._buildLabel(t,r,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(e,"literal",!0),this.state.output.append(n,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),e=this.state.output.pop()),e},t.NameOutput.prototype._buildLabel=function(e,n,r,i){this.common_term&&(e=this.common_term);var o=!1,a=this.label[i][r];return a&&(o=t.castLabel(this.state,a,e,n,t.TOLERANT)),o},t.NameOutput.prototype._collapseAuthor=function(){var e,t,n;0!==this.state.tmp.name_node.top.blobs.length&&(0===this.nameset_base&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(t="",e=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,n=this.state.tmp.offset_characters,e&&(t=this.state.output.string(this.state,e,!1)),this.state.tmp.offset_characters=n,this.state.registry.authorstrings[this.Item.id]=t):this.state.tmp.just_looking||this.state.tmp.suppress_decorations||!(this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)||(t="",e=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,n=this.state.tmp.offset_characters,e&&(t=this.state.output.string(this.state,e,!1)),t===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=n),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=t,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&"legal_case"!==this.Item.type&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=n,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1)))))},t.NameOutput.prototype.isPerson=function(e){return!(e.literal||!e.given&&e.family&&e.isInstitution)},t.NameOutput.prototype.truncatePersonalNameLists=function(){var e,t,n,r;for(e in this.freeters_count={},this.persons_count={},this.institutions_count={},this.freeters)this.freeters.hasOwnProperty(e)&&(this.freeters_count[e]=this.freeters[e].length,this.freeters[e]=this._truncateNameList(this.freeters,e));for(e in this.persons)if(this.persons.hasOwnProperty(e))for(this.institutions_count[e]=this.institutions[e].length,this._truncateNameList(this.institutions,e),this.persons[e]=this.persons[e].slice(0,this.institutions[e].length),this.persons_count[e]=[],i=0,o=this.persons[e].length;i<o;i+=1)this.persons_count[e][i]=this.persons[e][i].length,this.persons[e][i]=this._truncateNameList(this.persons,e,i);if((r=!(!this.state.opt.development_extensions.etal_min_etal_usefirst_hack||1!==this.etal_min||1!==this.etal_use_first||this.state.tmp.extension||this.state.tmp.just_looking)&&e)||this._please_chop)for(t=0,n=this.variables.length;t<n;t+=1){e=this.variables[t],this.freeters[e].length&&(this._please_chop===e?(this.freeters[e]=this.freeters[e].slice(1),this.freeters_count[e]+=-1,this._please_chop=!1):r&&!this._please_chop&&(this.freeters[e]=this.freeters[e].slice(0,1),this.freeters_count[e]=1,this.institutions[e]=[],this.persons[e]=[],this._please_chop=r));for(var i=0,o=this.persons[e].length;i<o;i++)if(this.persons[e][i].length){if(this._please_chop===e){this.persons[e][i]=this.persons[e][i].slice(1),this.persons_count[e][i]+=-1,this._please_chop=!1;break}if(r&&!this._please_chop){this.freeters[e]=this.persons[e][i].slice(0,1),this.freeters_count[e]=1,this.institutions[e]=[],this.persons[e]=[],[],this._please_chop=r;break}}this.institutions[e].length&&(this._please_chop===e?(this.institutions[e]=this.institutions[e].slice(1),this.institutions_count[e]+=-1,this._please_chop=!1):r&&!this._please_chop&&(this.institutions[e]=this.institutions[e].slice(0,1),this.institutions_count[e]=1,[],this._please_chop=r))}for(t=0,n=this.variables.length;t<n;t+=1){this.institutions[e].length&&(this.nameset_offset+=1);for(i=0,o=this.persons[e].length;i<o;i++)this.persons[e][i].length&&(this.nameset_offset+=1)}},t.NameOutput.prototype._truncateNameList=function(e,t,n){var r;if(r="undefined"===typeof n?e[t]:e[t][n],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&r.length>50&&r.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var i=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;r=r.slice(0,i+1).concat(r.slice(-1))}return r},t.NameOutput.prototype.divideAndTransliterateNames=function(){var e,t,n,r,i=this.Item,o=this.variables;for(this.varnames=o.slice(),this.freeters={},this.persons={},this.institutions={},e=0,t=o.length;e<t;e+=1){var a=o[e];this.variable_offset[a]=this.nameset_offset;var s=this._normalizeVariableValue(i,a);if(this.name.strings["suppress-min"]&&s.length>=this.name.strings["suppress-min"]&&(s=[]),this.name.strings["suppress-max"]&&s.length<=this.name.strings["suppress-max"]&&(s=[]),this._getFreeters(a,s),this._getPersonsAndInstitutions(a,s),this.state.opt.development_extensions.spoof_institutional_affiliations)if(0===this.name.strings["suppress-min"])for(this.freeters[a]=[],n=0,r=this.persons[a].length;n<r;n+=1)this.persons[a][n]=[];else if(0===this.institution.strings["suppress-min"]){for(this.institutions[a]=[],this.freeters[a]=this.freeters[a].concat(this.persons[a]),n=0,r=this.persons[a].length;n<r;n+=1)for(var l=0,c=this.persons[a][n].length;l<c;l+=1)this.freeters[a].push(this.persons[a][n][l]);this.persons[a]=[]}}},t.NameOutput.prototype._normalizeVariableValue=function(e,n){var r;return"string"===typeof e[n]||"number"===typeof e[n]?(t.debug('name variable "'+n+'" is string or number, not array. Attempting to fix.'),r=[{literal:e[n]+""}]):e[n]?"number"!==typeof e[n].length?(t.debug('name variable "'+n+'" is object, not array. Attempting to fix.'),e[n]=[e[n]],r=e[n].slice()):r=e[n].slice():r=[],r},t.NameOutput.prototype._getFreeters=function(e,t){if(this.freeters[e]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var n=t.length-1;n>-1&&this.isPerson(t[n]);n--){(r=this._checkNickname(t.pop()))&&this.freeters[e].push(r)}else for(n=t.length-1;n>-1;n--){var r=t.pop();if(this.isPerson(r))r=this._checkNickname(r);this.freeters[e].push(r)}this.freeters[e].reverse(),this.freeters[e].length&&(this.nameset_offset+=1)},t.NameOutput.prototype._getPersonsAndInstitutions=function(e,t){if(this.persons[e]=[],this.institutions[e]=[],this.state.opt.development_extensions.spoof_institutional_affiliations){for(var n=[],r=!1,i=!0,o=t.length-1;o>-1;o+=-1)if(this.isPerson(t[o])){var a=this._checkNickname(t[o]);a&&n.push(a)}else r=!0,this.institutions[e].push(t[o]),i||(n.reverse(),this.persons[e].push(n),n=[]),i=!1;r&&(n.reverse(),this.persons[e].push(n),this.persons[e].reverse(),this.institutions[e].reverse())}},t.NameOutput.prototype._clearValues=function(e){for(var t=e.length-1;t>-1;t+=-1)e.pop()},t.NameOutput.prototype._checkNickname=function(e){if(["interview","personal_communication"].indexOf(this.Item.type)>-1){var n;if((n=t.Util.Names.getRawName(e))&&this.state.sys.getAbbreviation&&(!this.item||!this.item["suppress-author"])){var r=n;this.state.sys.normalizeAbbrevsKey&&(r=this.state.sys.normalizeAbbrevsKey("author",n)),this.state.transform.loadAbbreviation("default","nickname",r,this.Item.language);var i=this.state.transform.abbrevs.default.nickname[r];i&&(e="!here>>>"!==i&&{family:i,given:""})}}return e},t.NameOutput.prototype._purgeEmptyBlobs=function(e){for(var t=e.length-1;t>-1;t+=-1)e[t]&&0!==e[t].length&&e[t].blobs.length||(e=e.slice(0,t).concat(e.slice(t+1)));return e},t.NameOutput.prototype.joinPersons=function(e,t,n,r){return e=this._purgeEmptyBlobs(e),r||(r="name"),"undefined"===typeof n?1===this.etal_spec[t].freeters?this._joinEtAl(e):2===this.etal_spec[t].freeters?this._joinEllipsis(e):this.state.tmp.sort_key_flag?this._join(e,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):this._joinAnd(e):1===this.etal_spec[t].persons[n]?this._joinEtAl(e):2===this.etal_spec[t].persons[n]?this._joinEllipsis(e):this.state.tmp.sort_key_flag?this._join(e,this.state.inheritOpt(this.name,"delimiter","name-delimiter",", ")):this._joinAnd(e)},t.NameOutput.prototype.joinInstitutionSets=function(e,t){return e=this._purgeEmptyBlobs(e),1===this.etal_spec[t].institutions?this._joinEtAl(e,"institution"):2===this.etal_spec[t].institutions?this._joinEllipsis(e,"institution"):this._joinAnd(e)},t.NameOutput.prototype.joinPersonsAndInstitutions=function(e){e=this._purgeEmptyBlobs(e);var t=this._join(e,this.state.tmp.name_delimiter);return t.isInstitution=!0,t},t.NameOutput.prototype.joinFreetersAndInstitutionSets=function(e){return e=this._purgeEmptyBlobs(e),this._join(e,"[never here]",this.with.single,this.with.multiple)},t.NameOutput.prototype._getAfterInvertedName=function(e,t,n){if(n&&e.length>1&&"after-inverted-name"===this.state.inheritOpt(this.name,"delimiter-precedes-last")){var r=e[e.length-2];r.blobs.length>0&&r.blobs[0].isInverted&&(n.strings.prefix=t)}return n},t.NameOutput.prototype._getAndJoin=function(e,t){var n=!1;if(e.length>1){var r="single";e.length>2&&(r="multiple"),n=e[e.length-1].isInstitution?this.institution.and[r]:this.name.and[r],n=JSON.parse(JSON.stringify(n)),n=this._getAfterInvertedName(e,t,n)}return n},t.NameOutput.prototype._joinEtAl=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),n=this._join(e,t);return this.state.output.openLevel(this._getToken("name")),this.state.output.current.value().strings.delimiter="",this.state.output.append(n,"literal",!0),e.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):1===e.length&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},t.NameOutput.prototype._joinEllipsis=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),n=!1;if(e.length>1){var r="single";e.length>2&&(r="multiple"),n=JSON.parse(JSON.stringify(this.name.ellipsis[r])),n=this._getAfterInvertedName(e,t,n)}return this._join(e,t,n)},t.NameOutput.prototype._joinAnd=function(e){var t=this.state.inheritOpt(this.name,"delimiter","name-delimiter",", "),n=this._getAndJoin(e,t);return this._join(e,t,n)},t.NameOutput.prototype._join=function(e,t,n){if(!e)return!1;if(!(e=this._purgeEmptyBlobs(e)).length)return!1;if(e.length>1)if(2===e.length)n?e=[e[0],n,e[1]]:e[0].strings.suffix+=t;else{var r;r=n?1:0;for(var i=e.pop(),o=0,a=e.length-r;o<a;o++)e[o].strings.suffix+=t;e.push(n),e.push(i)}for(this.state.output.openLevel(),o=0,a=e.length;o<a;o+=1)this.state.output.append(e[o],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},t.NameOutput.prototype._getToken=function(e){var n=this[e];return"institution"===e?new t.Token:n},t.NameOutput.prototype.checkCommonAuthor=function(e){if(!e)return!1;var t=!1;if(2===this.variables.length){var n=this.variables.slice();n.sort(),t=n.join("")}if(!t)return!1;var r=!1;if(this.state.locale[this.state.opt.lang].terms[t]&&(r=!0),!r)return this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1]),!1;var i=this.Item[this.variables[0]],o=this.Item[this.variables[1]],a=this._compareNamesets(i,o);return!0===a&&(this.state.tmp.done_vars.push(this.variables[0]),this.state.tmp.done_vars.push(this.variables[1])),!a},t.NameOutput.prototype.setCommonTerm=function(){var e=this.variables.slice();if(e.sort(),this.common_term=e.join(""),this.common_term){var t=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?t=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(t=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!t||this.variables.length<2)this.common_term=!1;else for(var n=0,r=this.variables.length-1;n<r;n+=1){var i=this.variables[n],o=this.variables[n+1];if(this.freeters[i].length||this.freeters[o].length){if(this.etal_spec[i].freeters!==this.etal_spec[o].freeters||!this._compareNamesets(this.freeters[i],this.freeters[o]))return void(this.common_term=!1);1}if(this.persons[i].length!==this.persons[o].length)return void(this.common_term=!1);for(var a=0,s=this.persons[i].length;a<s;a+=1)if(this.etal_spec[i].persons[a]!==this.etal_spec[o].persons[a]||!this._compareNamesets(this.persons[i][a],this.persons[o][a]))return void(this.common_term=!1)}}},t.NameOutput.prototype._compareNamesets=function(e,n){if(!e||!n||e.length!==n.length)return!1;for(var r=0,i=n.length;r<i;r+=1)for(var o=0,a=t.NAME_PARTS.length;o<a;o+=1){var s=t.NAME_PARTS[o];if(!e[r]||e[r][s]!=n[r][s])return!1}return!0},t.NameOutput.prototype.constrainNames=function(){var e;this.names_count=0;for(var t=0,n=this.variables.length;t<n;t+=1){var r=this.variables[t];e=this.nameset_base+t,this.freeters[r].length&&(this.state.tmp.names_max.push(this.freeters[r].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,r,e),this.names_count+=this.freeters[r].length),this.institutions[r].length&&(this.state.tmp.names_max.push(this.institutions[r].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,r,e),this.persons[r]=this.persons[r].slice(0,this.institutions[r].length),this.names_count+=this.institutions[r].length);for(var i=0,o=this.persons[r].length;i<o;i+=1)this.persons[r][i].length&&(this.state.tmp.names_max.push(this.persons[r][i].length,"literal"),this._imposeNameConstraints(this.persons[r],this.persons_count[r],i,e),this.names_count+=this.persons[r][i].length)}},t.NameOutput.prototype._imposeNameConstraints=function(e,t,n,r){var i=e[n],o=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[r]?o=this.state.tmp.disambig_request.names[r]:t[n]>=this.etal_min&&(o=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[r]>this.etal_use_first?o=t[n]<this.etal_min?t[n]:this.state.tmp.disambig_request.names[r]:t[n]>=this.etal_min&&(o=this.etal_use_first),this.etal_use_last&&o>this.etal_min-2&&(o=this.etal_min-2));var a=this.etal_min>=this.etal_use_first,s=t[n]>o;o>t[n]&&(o=i.length),a&&s&&(this.etal_use_last?e[n]=i.slice(0,o).concat(i.slice(-1)):e[n]=i.slice(0,o)),this.state.tmp.disambig_settings.names[r]=e[n].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},t.NameOutput.prototype.disambigNames=function(){for(var e,t=0,n=this.variables.length;t<n;t+=1){var r=this.variables[t];if(e=this.nameset_base+t,this.freeters[r].length&&this._runDisambigNames(this.freeters[r],e),this.institutions[r].length){"undefined"===typeof this.state.tmp.disambig_settings.givens[e]&&(this.state.tmp.disambig_settings.givens[e]=[]);for(var i=0,o=this.institutions[r].length;i<o;i+=1)"undefined"===typeof this.state.tmp.disambig_settings.givens[e][i]&&this.state.tmp.disambig_settings.givens[e].push(2)}for(i=0,o=this.persons[r].length;i<o;i+=1)this.persons[r][i].length&&this._runDisambigNames(this.persons[r][i],e)}},t.NameOutput.prototype._runDisambigNames=function(e,n){var r,i,o,a,s,l;for(a=0,s=e.length;a<s;a+=1)if(e[a].given||e[a].family){if(i=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,e[a],a),"undefined"===typeof this.state.tmp.disambig_settings.givens[n])for(var c=0,u=n+1;c<u;c+=1)this.state.tmp.disambig_settings.givens[c]||(this.state.tmp.disambig_settings.givens[c]=[]);if("undefined"===typeof this.state.tmp.disambig_settings.givens[n][a]&&(r=this.state.inheritOpt(this.name,"form","name-form","long"),o=this.state.registry.namereg.evalname(""+this.Item.id,e[a],a,0,r,i),this.state.tmp.disambig_settings.givens[n].push(o)),r=this.state.inheritOpt(this.name,"form","name-form","long"),l=this.state.registry.namereg.evalname(""+this.Item.id,e[a],a,0,r,i),this.state.tmp.disambig_request){var d=this.state.tmp.disambig_settings.givens[n][a];1!==d||"by-cite"!==this.state.citation.opt["givenname-disambiguation-rule"]||"undefined"!==typeof this.state.inheritOpt(this.name,"initialize-with")&&"undefined"!==typeof e[a].given||(d=2),o=d,this.state.opt["disambiguate-add-givenname"]&&e[a].given&&(o=this.state.registry.namereg.evalname(""+this.Item.id,e[a],a,o,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else o=l;!this.state.tmp.just_looking&&this.item&&this.item.position===t.POSITION_FIRST&&l>o&&(o=l),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[n][a]=o,"string"!==typeof i||"undefined"!==typeof this.name.strings.initialize&&!0!==this.name.strings.initialize||(this.state.tmp.disambig_settings.use_initials=!0))}},t.NameOutput.prototype.getEtAlConfig=function(){var e=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,"undefined"===typeof e&&(e={}),e.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),"boolean"===typeof this.state.tmp["et-al-use-last"]?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},t.NameOutput.prototype.setEtAlParameters=function(){var e,t,n,r;for(e=0,t=this.variables.length;e<t;e+=1){var i=this.variables[e];for("undefined"===typeof this.etal_spec[i]&&(this.etal_spec[i]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+e]=this.etal_spec[i],this.freeters[i].length&&this._setEtAlParameter("freeters",i),n=0,r=this.persons[i].length;n<r;n+=1)"undefined"===typeof this.etal_spec[i][n]&&(this.etal_spec[i].persons[n]=0),this._setEtAlParameter("persons",i,n);this.institutions[i].length&&this._setEtAlParameter("institutions",i)}},t.NameOutput.prototype._setEtAlParameter=function(e,t,n){var r,i;"persons"===e?(r=this.persons[t][n],i=this.persons_count[t][n]):(r=this[e][t],i=this[e+"_count"][t]),r.length<i&&!this.state.tmp.sort_key_flag?this.etal_use_last?"persons"===e?this.etal_spec[t].persons[n]=2:this.etal_spec[t][e]=2:"persons"===e?this.etal_spec[t].persons[n]=1:this.etal_spec[t][e]=1:"persons"===e?this.etal_spec[t].persons[n]=0:this.etal_spec[t][e]=0},t.NameOutput.prototype.renderAllNames=function(){for(var e,t=0,n=this.variables.length;t<n;t+=1){var r=this.variables[t];(this.freeters[r].length||this.institutions[r].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),e=this.nameset_base+t,this.freeters[r].length&&(this.freeters[r]=this._renderNames(r,this.freeters[r],e));for(var i=0,o=this.institutions[r].length;i<o;i+=1)this.persons[r][i]=this._renderNames(r,this.persons[r][i],e,i)}this.renderInstitutionNames()},t.NameOutput.prototype.renderInstitutionNames=function(){for(var e=0,t=this.variables.length;e<t;e+=1)for(var n=this.variables[e],r=0,i=this.institutions[n].length;r<i;r+=1){var o,a=this.institutions[n][r],s={primary:"locale-orig",secondary:!1,tertiary:!1};if(o=this.state.tmp.extension?["sort"]:a.isInstitution||a.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var l=["primary","secondary","tertiary"],c=0,u=l.length;c<u&&!(o.length-1<c);c+=1)o[c]&&(s[l[c]]="locale-"+o[c]);else s.primary="locale-translat";"bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position||(s.secondary=!1,s.tertiary=!1),this.setRenderedName(a);var d=this._renderInstitutionName(n,a,s,r);this.institutions[n][r]=d}},t.NameOutput.prototype._renderInstitutionName=function(e,t,n,r){var i,o,a,s,l,c=this.getName(t,n.primary,!0),u=c.name,d=c.usedOrig;if(u&&(u=this.fixupInstitution(u,e,r)),p=!1,n.secondary){var p=(c=this.getName(t,n.secondary,!1,d)).name;d=c.usedOrig,p&&(p=this.fixupInstitution(p,e,r))}i=!1,n.tertiary&&(i=(c=this.getName(t,n.tertiary,!1,d)).name)&&(i=this.fixupInstitution(i,e,r));var h={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(u&&(h.l.pri=u.long,h.s.pri=u.short.length?u.short:u.long),p&&(h.l.sec=p.long,h.s.sec=p.short.length?p.short:p.long),i&&(h.l.ter=i.long,h.s.ter=i.short.length?i.short:i.long),this.institution.strings["institution-parts"]){case"short":u.short.length?(a=this._getShortStyle(),s=[this._composeOneInstitutionPart([h.s.pri,h.s.sec,h.s.ter],n,a,e)]):(o=this._getLongStyle(u,e,r),s=[this._composeOneInstitutionPart([h.l.pri,h.l.sec,h.l.ter],n,o,e)]);break;case"short-long":o=this._getLongStyle(u,e,r),a=this._getShortStyle(),s=[l=this._renderOneInstitutionPart(u.short,a),this._composeOneInstitutionPart([h.l.pri,h.l.sec,h.l.ter],n,o,e)];break;case"long-short":o=this._getLongStyle(u,e,r),a=this._getShortStyle(),l=this._renderOneInstitutionPart(u.short,a),s=[this._composeOneInstitutionPart([h.l.pri,h.l.sec,h.l.ter],n,o,e),l];break;default:o=this._getLongStyle(u,e,r),s=[this._composeOneInstitutionPart([h.l.pri,h.l.sec,h.l.ter],n,o,e)]}var f=this._join(s," ");return f&&(f.isInstitution=!0),this.state.tmp.name_node.children.push(f),f},t.NameOutput.prototype._composeOneInstitutionPart=function(e,n,r){var i,o,a,s,l=!1,c=!1,u=!1;if(e[0]){if(i=t.Util.cloneToken(r),this.state.opt.citeAffixes[n.primary]&&"<i>"===this.state.opt.citeAffixes.institutions[n.primary].prefix){for(var d=!1,p=0,h=i.decorations.length;p<h;p+=1)"@font-style"===r.decorations[p][0]&&"italic"===i.decorations[p][1]&&(d=!0);d||i.decorations.push(["@font-style","italic"])}l=this._renderOneInstitutionPart(e[0],i)}if(e[1]&&(c=this._renderOneInstitutionPart(e[1],r)),e[2]&&(u=this._renderOneInstitutionPart(e[2],r)),c||u){this.state.output.openLevel("empty"),this.state.output.append(l),o=t.Util.cloneToken(r),n.secondary&&(o.strings.prefix=this.state.opt.citeAffixes.institutions[n.secondary].prefix,o.strings.suffix=this.state.opt.citeAffixes.institutions[n.secondary].suffix,o.strings.prefix||(o.strings.prefix=" "));var f=new t.Token;f.decorations.push(["@font-style","normal"]),f.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(f),this.state.output.append(c,o),this.state.output.closeLevel(),a=t.Util.cloneToken(r),n.tertiary&&(a.strings.prefix=this.state.opt.citeAffixes.institutions[n.tertiary].prefix,a.strings.suffix=this.state.opt.citeAffixes.institutions[n.tertiary].suffix,a.strings.prefix||(a.strings.prefix=" "));var m=new t.Token;m.decorations.push(["@font-style","normal"]),m.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(m),this.state.output.append(u,a),this.state.output.closeLevel(),this.state.output.closeLevel(),s=this.state.output.pop()}else s=l;return s},t.NameOutput.prototype._renderOneInstitutionPart=function(e,n){for(var r=0,i=e.length;r<i;r+=1)if(e[r]){var o=e[r];if(this.state.tmp.strip_periods)o=o.replace(/\./g,"");else for(var a=0,s=n.decorations.length;a<s;a+=1)if("@strip-periods"===n.decorations[a][0]&&"true"===n.decorations[a][1]){o=o.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,t.LITERAL),"!here>>>"===o?e[r]=!1:(this.state.output.append(o,n,!0),e[r]=this.state.output.pop())}return"undefined"===typeof this.institution.strings["part-separator"]&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(e,this.institution.strings["part-separator"])},t.NameOutput.prototype._renderNames=function(e,n,r,i){var o=!1;if(n.length){for(var a=[],s=0,l=n.length;s<l;s+=1){var c,u=n[s],d={primary:"locale-orig",secondary:!1,tertiary:!1};if(c=this.state.tmp.extension?["sort"]:u.isInstitution||u.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var p=["primary","secondary","tertiary"],h=0,f=p.length;h<f&&!(c.length-1<h);h+=1)d[p[h]]="locale-"+c[h];else d.primary="locale-translat";if((this.state.tmp.sort_key_flag||"bibliography"!==this.state.tmp.area&&("citation"!==this.state.tmp.area||"note"!==this.state.opt.xclass||!this.item||this.item.position))&&(d.secondary=!1,d.tertiary=!1),this.setRenderedName(u),u.literal||u.isInstitution)a.push(this._renderInstitutionName(e,u,d,i));else{var m=this._renderPersonalName(e,u,d,r,s,i),g=t.Util.cloneToken(this.name);this.state.output.append(m,g,!0),a.push(this.state.output.pop())}}o=this.joinPersons(a,r,i)}return o},t.NameOutput.prototype._renderPersonalName=function(e,n,r,i,o,a){var s=this.getName(n,r.primary,!0),l=this._renderOnePersonalName(s.name,i,o,a),c=!1;r.secondary&&(s=this.getName(n,r.secondary,!1,s.usedOrig)).name&&(c=this._renderOnePersonalName(s.name,i,o,a));var u,d=!1;if(r.tertiary&&(s=this.getName(n,r.tertiary,!1,s.usedOrig)).name&&(d=this._renderOnePersonalName(s.name,i,o,a)),c||d){this.state.output.openLevel("empty"),this.state.output.append(l);var p=new t.Token;r.secondary&&(p.strings.prefix=this.state.opt.citeAffixes.persons[r.secondary].prefix,p.strings.suffix=this.state.opt.citeAffixes.persons[r.secondary].suffix,p.strings.prefix||(p.strings.prefix=" ")),this.state.output.append(c,p);var h=new t.Token;r.tertiary&&(h.strings.prefix=this.state.opt.citeAffixes.persons[r.tertiary].prefix,h.strings.suffix=this.state.opt.citeAffixes.persons[r.tertiary].suffix,h.strings.prefix||(h.strings.prefix=" ")),this.state.output.append(d,h),this.state.output.closeLevel(),u=this.state.output.pop()}else u=l;return u},t.NameOutput.prototype._isRomanesque=function(e){var n,r=2;return e.family.replace(/\"/g,"").match(t.ROMANESQUE_REGEXP)||(r=0),!r&&e.given&&e.given.match(t.STARTSWITH_ROMANESQUE_REGEXP)&&(r=1),2==r&&(e.multi&&e.multi.main?n=e.multi.main.slice(0,2):this.Item.language&&(n=this.Item.language.slice(0,2)),["ja","zh"].indexOf(n)>-1&&(r=1)),r},t.NameOutput.prototype._renderOnePersonalName=function(e,n,r,i){var o=e,a=this._droppingParticle(o,n,i),s=this._familyName(o),l=this._nonDroppingParticle(o),c=this._givenName(o,n,r),u=c.blob,d=this._nameSuffix(o);!1===u&&(a=!1,d=!1);var p,h=this.state.inheritOpt(this.name,"sort-separator");h||(h=""),p=o["comma-suffix"]?", ":" ";var f=this._isRomanesque(o);var m,g,v,b,y,_=function e(t){return!!t&&("string"===typeof t.blobs?["\u2019","'","-"," "].indexOf(t.blobs.slice(-1))>-1:e(t.blobs[t.blobs.length-1]))}(l);if(m=["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1?"\xa0":" ",0===f)g=this._join([l,s,u],"");else if(1===f||o["static-ordering"])v=this._join([l,s],m),g=this._join([v,u]," ");else if(o["reverse-ordering"])v=this._join([l,s],m),g=this._join([u,v]," ");else if(this.state.tmp.sort_key_flag)"never"===this.state.opt["demote-non-dropping-particle"]?(v=this._join([l,s],m),v=this._join([v,a]," "),v=this._join([v,u],this.state.opt.sort_sep),g=this._join([v,d]," ")):(y=this._join([u,a,l]," "),v=this._join([s,y],this.state.opt.sort_sep),g=this._join([v,d]," "));else if("all"===this.state.inheritOpt(this.name,"name-as-sort-order")||"first"===this.state.inheritOpt(this.name,"name-as-sort-order")&&0===r&&(0===i||"undefined"===typeof i))["Lord","Lady"].indexOf(o.given)>-1&&(h=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(y=this._join([u,a],o["comma-dropping-particle"]+" "),(y=this._join([y,l]," "))&&this.given&&(y.strings.prefix=this.given.strings.prefix,y.strings.suffix=this.given.strings.suffix),s&&this.family&&(s.strings.prefix=this.family.strings.prefix,s.strings.suffix=this.family.strings.suffix),v=this._join([s,y],h),g=this._join([v,d],h)):((b=_?this._join([l,s],""):this._join([l,s],m))&&this.family&&(b.strings.prefix=this.family.strings.prefix,b.strings.suffix=this.family.strings.suffix),(y=this._join([u,a],o["comma-dropping-particle"]+" "))&&this.given&&(y.strings.prefix=this.given.strings.prefix,y.strings.suffix=this.given.strings.suffix),v=this._join([b,y],h),g=this._join([v,d],h)),g.isInverted=!0;else{if(o["dropping-particle"]&&o.family&&!o["non-dropping-particle"]){var x=o["dropping-particle"];["'","\u02bc","\u2019","-"].indexOf(x.slice(-1))>-1&&"de"!==x.slice(0,-1)&&(s=this._join([a,s],""),a=!1)}var w;_?(y=this._join([l,s],""),y=this._join([a,y],m)):y=this._join([a,l,s],m),(y=this._join([y,d],p))&&this.family&&(y.strings.prefix=this.family.strings.prefix,y.strings.suffix=this.family.strings.suffix),u&&this.given&&(u.strings.prefix=this.given.strings.prefix,u.strings.suffix=this.given.strings.suffix),y.strings.prefix&&(o["comma-dropping-particle"]=""),w=this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&1===c.initializationLevel?m:" ",g=this._join([u,y],o["comma-dropping-particle"]+w)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,t.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(g),g},t.NameOutput.prototype._normalizeNameInput=function(e){var t={literal:e.literal,family:e.family,isInstitution:e.isInstitution,given:e.given,suffix:e.suffix,"comma-suffix":e["comma-suffix"],"non-dropping-particle":e["non-dropping-particle"],"dropping-particle":e["dropping-particle"],"static-ordering":e["static-ordering"],"static-particles":e["static-particles"],"reverse-ordering":e["reverse-ordering"],"full-form-always":e["full-form-always"],"parse-names":e["parse-names"],"comma-dropping-particle":"",block_initialize:e.block_initialize,multi:e.multi};return this._parseName(t),t},t.NameOutput.prototype._stripPeriods=function(e,t){var n=this[e+"_decor"];if(t)if(this.state.tmp.strip_periods)t=t.replace(/\./g,"");else if(n)for(var r=0,i=n.decorations.length;r<i;r+=1)if("@strip-periods"===n.decorations[r][0]&&"true"===n.decorations[r][1]){t=t.replace(/\./g,"");break}return t},t.NameOutput.prototype._nonDroppingParticle=function(e){var t=e["non-dropping-particle"];t&&this.state.tmp.sort_key_flag&&(t=t.replace(/[\'\u2019]/,""));var n=this._stripPeriods("family",t);return!!this.state.output.append(n,this.family_decor,!0)&&this.state.output.pop()},t.NameOutput.prototype._droppingParticle=function(e,t,n){var r=e["dropping-particle"];r&&this.state.tmp.sort_key_flag&&(r=r.replace(/[\'\u2019]/,""));var i=this._stripPeriods("given",r);if(e["dropping-particle"]&&e["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?"undefined"===typeof n?this.etal_spec[t].freeters=2:this.etal_spec[t].persons=2:"undefined"===typeof n?this.etal_spec[t].freeters=1:this.etal_spec[t].persons=1,e["comma-dropping-particle"]="";else if(this.state.output.append(i,this.given_decor,!0))return this.state.output.pop();return!1},t.NameOutput.prototype._familyName=function(e){var t=this._stripPeriods("family",e.family);return!!this.state.output.append(t,this.family_decor,!0)&&this.state.output.pop()},t.NameOutput.prototype._givenName=function(e,n,r){var i,o,a="long"!==this.state.inheritOpt(this.name,"form","name-form","long"),s=!1!==this.state.inheritOpt(this.name,"initialize"),l="string"===typeof this.state.inheritOpt(this.name,"initialize-with")&&!e.block_initialize;if(e["full-form-always"])o=2;else{i=a?0:l?1:2;var c=this.state.tmp.disambig_settings.givens[n][r];o=c>i?c:i}var u=this.state.citation.opt["givenname-disambiguation-rule"];if(u&&"-with-initials"===u.slice(-14)&&(l=!0),e.family&&1===o)if(l){var d=this.state.inheritOpt(this.name,"initialize-with",!1,"");e.given=t.Util.Names.initializeWith(this.state,e.given,d,!s)}else e.given=t.Util.Names.unInitialize(this.state,e.given);else{if(0===o)return{blob:!1};2===o&&(e.given=t.Util.Names.unInitialize(this.state,e.given))}var p=this._stripPeriods("given",e.given);return this.state.output.append(p,this.given_decor,!0)?{blob:this.state.output.pop(),initializationLevel:o}:{blob:!1}},t.NameOutput.prototype._nameSuffix=function(e){var n,r=e.suffix;r&&"string"===typeof this.state.inheritOpt(this.name,"initialize-with")&&(r=t.Util.Names.initializeWith(this.state,r,this.state.inheritOpt(this.name,"initialize-with"),!0));var i="";return(r=this._stripPeriods("family",r))&&"."===r.slice(-1)&&(r=r.slice(0,-1),i="."),!!this.state.output.append(r,"empty",!0)&&((n=this.state.output.pop()).strings.suffix=i+n.strings.suffix,n)},t.NameOutput.prototype._getLongStyle=function(e){var n;return(n=e.short.length&&this.institutionpart["long-with-short"]?this.institutionpart["long-with-short"]:this.institutionpart.long)||(n=new t.Token),n},t.NameOutput.prototype._getShortStyle=function(){return this.institutionpart.short?this.institutionpart.short:new t.Token},t.NameOutput.prototype._parseName=function(e){if(!e["parse-names"]&&"undefined"!==typeof e["parse-names"])return e;var n;e.family&&!e.given&&e.isInstitution&&(e.literal=e.family,e.family=void 0,e.isInstitution=void 0),e.family&&'"'===e.family.slice(0,1)&&'"'===e.family.slice(-1)||!e["parse-names"]&&"undefined"!==typeof e["parse-names"]?(e.family=e.family.slice(1,-1),n=!0,e["parse-names"]=0):n=!1,this.state.opt.development_extensions.parse_names&&!e["non-dropping-particle"]&&e.family&&!n&&e.given&&(e["static-particles"]||t.parseParticles(e,!0))},t.NameOutput.prototype.getName=function(e,t,n,r){if(r&&"locale-orig"===t)return{name:!1,usedOrig:r};e.family||(e.family=""),e.given||(e.given="");var i={};i["static-ordering"]=this.getStaticOrder(e);var o,a=!0;if("locale-orig"!==t&&(a=!1,e.multi))for(var s=this.state.opt[t],l=0,c=s.length;l<c;l+=1)if(o=s[l],e.multi._key[o]){a=!0;var u=e.isInstitution;(e=e.multi._key[o]).isInstitution=u,(i=this.getNameParams(o)).transliterated=!0;break}return a||(o=!1,e.multi&&e.multi.main?o=e.multi.main:this.Item.language&&(o=this.Item.language),o&&(i=this.getNameParams(o))),n||a?(e.family||(e.family=""),e.given||(e.given=""),e.literal&&(delete e.family,delete e.given),!(e={family:e.family,given:e.given,"non-dropping-particle":e["non-dropping-particle"],"dropping-particle":e["dropping-particle"],suffix:e.suffix,"static-ordering":i["static-ordering"],"static-particles":e["static-particles"],"reverse-ordering":i["reverse-ordering"],"full-form-always":i["full-form-always"],"parse-names":e["parse-names"],"comma-suffix":e["comma-suffix"],"comma-dropping-particle":e["comma-dropping-particle"],transliterated:i.transliterated,block_initialize:i["block-initialize"],literal:e.literal,isInstitution:e.isInstitution,multi:e.multi}).literal&&!e.given&&e.family&&e.isInstitution&&(e.literal=e.family),e.literal&&(delete e.family,delete e.given),{name:e=this._normalizeNameInput(e),usedOrig:r||!a}):{name:!1,usedOrig:r}},t.NameOutput.prototype.getNameParams=function(e){var n={},r=t.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),i=this.state.locale[r.best]?r.best:this.state.opt["default-locale"][0],o=this.state.locale[i].opts["name-as-sort-order"],a=this.state.locale[i].opts["name-as-reverse-order"],s=this.state.locale[i].opts["name-never-short"],l=e.split("-")[0];return o&&o[l]&&(n["static-ordering"]=!0,n["reverse-ordering"]=!1),a&&a[l]&&(n["reverse-ordering"]=!0,n["static-ordering"]=!1),s&&s[l]&&(n["full-form-always"]=!0),n["static-ordering"]&&(n["block-initialize"]=!0),n},t.NameOutput.prototype.setRenderedName=function(e){if("bibliography"===this.state.tmp.area){for(var n="",r=0,i=t.NAME_PARTS.length;r<i;r+=1)e[t.NAME_PARTS[r]]&&(n+=e[t.NAME_PARTS[r]]);this.state.tmp.rendered_name.push(n)}},t.NameOutput.prototype.fixupInstitution=function(e,t,n){!e.literal&&e.family&&(e.literal=e.family,delete e.family);var r=e.literal,i=r,o={long:r.split(/\s*\|\s*/),short:i.split(/\s*\|\s*/)};if(this.state.sys.getAbbreviation){if("short"===this.institution.strings.form){let e=this.Item.jurisdiction;e=this.state.transform.loadAbbreviation(e,"institution-entire",r,this.Item.language),this.state.transform.abbrevs[e]["institution-entire"][r]?r=this.state.transform.abbrevs[e]["institution-entire"][r]:(e=this.Item.jurisdiction,e=this.state.transform.loadAbbreviation(e,"institution-part",r,this.Item.language),this.state.transform.abbrevs[e]["institution-part"][r]&&(r=this.state.transform.abbrevs[e]["institution-part"][r])),r=this._quashChecks(e,r)}if(["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1){let e=this.Item.jurisdiction;e=this.state.transform.loadAbbreviation(e,"institution-part",i,this.Item.language),this.state.transform.abbrevs[e]["institution-part"][i]&&(i=this.state.transform.abbrevs[e]["institution-part"][i]),i=this._quashChecks(e,i),["short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1&&i===r&&(i="")}if(o.long=r.split(/\s*\|\s*/),o.short=i.split(/\s*\|\s*/),["short","short-long","long-short"].indexOf(this.institution.strings["institution-parts"])>-1)for(var a=o.short.length-1;a>-1;a--){let e=this.Item.jurisdiction;var s=o.short[a];if(e=this.state.transform.loadAbbreviation(e,"institution-part",s,this.Item.language),this.state.transform.abbrevs[e]["institution-part"][s]&&(o.short[a]=this.state.transform.abbrevs[e]["institution-part"][s]),o.short[a].indexOf("|")>-1){let e=o.short,t=e[a].split(/\s*\|\s*/);o.short=e.slice(0,a).concat(t).concat(e.slice(a+1))}}if(this.state.opt.development_extensions.legacy_institution_name_ordering&&o.short.reverse(),o.short=this._trimInstitution(o.short),this.institution.strings["reverse-order"]&&o.short.reverse(),!this.state.tmp.just_looking&&this.Item.jurisdiction){let e=this.Item.jurisdiction;var l=this.state.tmp.abbrev_trimmer;if(l&&l[e]&&l[e][t])for(var c=0,u=o.short.length;c<u;c++){var d=o.short[c];o.short[c]=d.replace(l[e][t],"").trim()}}}return this.state.opt.development_extensions.legacy_institution_name_ordering&&o.long.reverse(),o.long=this._trimInstitution(o.long),this.institution.strings["reverse-order"]&&o.long.reverse(),o},t.NameOutput.prototype.getStaticOrder=function(e,n){var r=!1;return(!n&&e["static-ordering"]||0===this._isRomanesque(e)||(!e.multi||!e.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1||e.multi&&e.multi.main&&["vi","hu"].indexOf(e.multi.main.slice(0,2))>-1||this.state.opt["auto-vietnamese-names"]&&t.VIETNAMESE_NAMES.exec(e.family+" "+e.given)&&t.VIETNAMESE_SPECIALS.exec(e.family+e.given))&&(r=!0),r},t.NameOutput.prototype._quashChecks=function(e,t){var n=(t=this.state.transform.quashCheck(e,t)).split(/>>[0-9]{4}>>/),r=t.match(/>>([0-9]{4})>>/);t=n.pop();var i=this.Item["original-date"]?this.Item["original-date"]:this.Item.issued;if(i&&(i=parseInt(i.year,10),i=!isNaN(i)&&i),i){if(n.length>0)for(var o=r.length-1;o>0&&!(i>=parseInt(r[o],10));o--)t=n.pop();t=t.replace(/\s*\|\s*/g,"|")}return t},t.NameOutput.prototype._trimInstitution=function(e){var t=!1,n=!1,r=!1,i=!1,o=e.slice();if(this.institution){if("undefined"!==typeof this.institution.strings["use-first"]&&(t=this.institution.strings["use-first"]),"undefined"!==typeof this.institution.strings["use-last"]&&(r=this.institution.strings["use-last"]),"undefined"!==typeof this.institution.strings["stop-first"]&&(i=this.institution.strings["stop-first"]),"undefined"!==typeof this.institution.strings["stop-last"]&&(n=this.institution.strings["stop-last"]),t&&(n&&(o=o.slice(0,-1*n)),o=o.slice(0,t)),r){var a=e.slice();t?i=t:o=[],i&&(a=a.slice(i)),a=a.slice(-1*r),o=o.concat(a)}e=o}return e},t.PublisherOutput=function(e,t){this.state=e,this.group_tok=t,this.varlist=[]},t.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},t.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var e=!1;"text"===this.group_tok.strings.and?e=this.state.getTerm("and"):"symbol"===this.group_tok.strings.and&&(e="&");var n=new t.Token;n.strings.suffix=" ",n.strings.prefix=" ",this.state.output.append(e,n,!0);var r=this.state.output.pop();n.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(e,n,!0);var i=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,e&&("always"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?this.and_blob.single=i:"never"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?(this.and_blob.single=r,this.and_blob.multiple=r):(this.and_blob.single=r,this.and_blob.multiple=i))},t.PublisherOutput.prototype.composeElements=function(){for(var e=0;e<2;e+=1)for(var t=["publisher","publisher-place"][e],n=0,r=this["publisher-list"].length;n<r;n+=1){var i=this[t+"-list"][n],o=this[t+"-token"];this.state.output.append(i,o,!0),this[t+"-list"][n]=this.state.output.pop()}},t.PublisherOutput.prototype.composePublishers=function(){for(var e,t=0,n=this["publisher-list"].length;t<n;t+=1)e=[this[this.varlist[0]+"-list"][t],this[this.varlist[1]+"-list"][t]],this["publisher-list"][t]=this._join(e,this.group_tok.strings.delimiter)},t.PublisherOutput.prototype.joinPublishers=function(){var e=this["publisher-list"],t=this._join(e,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok);this.state.output.append(t,"literal")},t.PublisherOutput.prototype._join=t.NameOutput.prototype._join,t.PublisherOutput.prototype._getToken=t.NameOutput.prototype._getToken,t.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},t.evaluateLabel=function(e,n,r,i){var o;"locator"===e.strings.term?(i&&i.label&&(o="sub verbo"===i.label?"sub-verbo":i.label),o||(o="page")):o=e.strings.term;var a=e.strings.plural;if("number"!==typeof a){var s=i&&"locator"===e.strings.term?i:r;s[e.strings.term]&&(n.processNumber(!1,s,e.strings.term,r.type),a=n.tmp.shadow_numbers[e.strings.term].plural,n.tmp.shadow_numbers[e.strings.term].labelForm||n.tmp.shadow_numbers[e.strings.term].labelDecorations||(e.strings.form?n.tmp.shadow_numbers[e.strings.term].labelForm=e.strings.form:n.tmp.group_context.tip.label_form&&(n.tmp.shadow_numbers[e.strings.term].labelForm=n.tmp.group_context.tip.label_form),n.tmp.shadow_numbers[e.strings.term].labelCapitalizeIfFirst=e.strings.capitalize_if_first,n.tmp.shadow_numbers[e.strings.term].labelDecorations=e.decorations.slice()),["locator","number","page"].indexOf(e.strings.term)>-1&&n.tmp.shadow_numbers[e.strings.term].label&&(o=n.tmp.shadow_numbers[e.strings.term].label),e.decorations&&n.opt.development_extensions.csl_reverse_lookup_support&&(e.decorations.reverse(),e.decorations.push(["@showid","true",e.cslid]),e.decorations.reverse()))}return t.castLabel(n,e,o,a,t.TOLERANT)},t.castLabel=function(e,n,r,i,o){var a=n.strings.form,s=n.strings.capitalize_if_first;e.tmp.group_context.tip.label_form&&("static"===a?e.tmp.group_context.tip.label_static=!0:a=e.tmp.group_context.tip.label_form),e.tmp.group_context.tip.label_capitalize_if_first&&(s=e.tmp.group_context.tip.label_capitalize_if_first);var l=e.getTerm(r,a,i,!1,o,n.default_locale);if(s&&(l=t.Output.Formatters["capitalize-first"](e,l)),e.tmp.strip_periods)l=l.replace(/\./g,"");else for(var c=0,u=n.decorations.length;c<u;c+=1)if("@strip-periods"===n.decorations[c][0]&&"true"===n.decorations[c][1]){l=l.replace(/\./g,"");break}return l},t.Node.name={build:function(e,n){var r,i;[t.SINGLETON,t.START].indexOf(this.tokentype)>-1&&("undefined"===typeof e.tmp.root?(i=void 0,e.tmp.root="citation"):i=e.tmp.root,e.inheritOpt(this,"et-al-subsequent-min")&&e.inheritOpt(this,"et-al-subsequent-min")!==e.inheritOpt(this,"et-al-min")&&(e.opt.update_mode=t.POSITION),e.inheritOpt(this,"et-al-subsequent-use-first")&&e.inheritOpt(this,"et-al-subsequent-use-first")!==e.inheritOpt(this,"et-al-use-first")&&(e.opt.update_mode=t.POSITION),e.tmp.root=i,r=function(e){e.tmp.etal_term="et-al",e.tmp.name_delimiter=e.inheritOpt(this,"delimiter","name-delimiter",", "),e.tmp["delimiter-precedes-et-al"]=e.inheritOpt(this,"delimiter-precedes-et-al"),"text"===e.inheritOpt(this,"and")?this.and_term=e.getTerm("and","long",0):"symbol"===e.inheritOpt(this,"and")&&(e.opt.development_extensions.expect_and_symbol_form?this.and_term=e.getTerm("and","symbol",0):this.and_term="&"),e.tmp.and_term=this.and_term,t.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"===typeof e.tmp.name_delimiter&&(this.and_prefix_multiple=e.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===e.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=e.tmp.name_delimiter:"never"===e.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):"after-inverted-name"===e.inheritOpt(this,"delimiter-precedes-last")&&(this.and_prefix_single&&(this.and_prefix_single=e.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},e.inheritOpt(this,"and")?(e.output.append(this.and_term,"empty",!0),this.and.single=e.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,e.output.append(this.and_term,"empty",!0),this.and.multiple=e.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):e.tmp.name_delimiter&&(this.and.single=new t.Blob(e.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new t.Blob(e.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},e.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="\u2026",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=e.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new t.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new t.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),"undefined"===typeof e.tmp["et-al-min"]&&(e.tmp["et-al-min"]=e.inheritOpt(this,"et-al-min")),"undefined"===typeof e.tmp["et-al-use-first"]&&(e.tmp["et-al-use-first"]=e.inheritOpt(this,"et-al-use-first")),"undefined"===typeof e.tmp["et-al-use-last"]&&(e.tmp["et-al-use-last"]=e.inheritOpt(this,"et-al-use-last")),e.nameOutput.name=this},e.build.name_flag=!0,this.execs.push(r));n.push(this)}},t.Node["name-part"]={build:function(e){e.build[this.strings.name]=this}},t.Node.names={build:function(e,n){var r;if(this.tokentype!==t.START&&this.tokentype!==t.SINGLETON||(t.Util.substituteStart.call(this,e,n),e.build.substitute_level.push(1)),this.tokentype===t.SINGLETON){for(var i in e.build.names_variables[e.build.names_variables.length-1].concat(this.variables),this.variables){var o=this.variables[i],a=e.build.name_label[e.build.name_label.length-1];Object.keys(a).length&&(a[o]=a[Object.keys(a)[0]])}r=function(e){e.nameOutput.reinit(this,this.variables_real[0])},this.execs.push(r)}if(this.tokentype===t.START&&(e.build.names_flag=!0,e.build.name_flag=!1,e.build.names_level+=1,e.build.names_variables.push(this.variables),e.build.name_label.push({}),r=function(e){e.tmp.can_substitute.push(!0),e.tmp.name_node={},e.tmp.name_node.children=[],e.nameOutput.init(this)},this.execs.push(r)),this.tokentype===t.END){for(i=0;i<3;i+=1){var s=["family","given","et-al"][i];this[s]=e.build[s],1===e.build.names_level&&(e.build[s]=void 0)}this.label=e.build.name_label[e.build.name_label.length-1],e.build.names_level+=-1,e.build.names_variables.pop(),e.build.name_label.pop(),r=function(e){e.tmp.etal_node?this.etal_style=e.tmp.etal_node:this.etal_style="empty",this.etal_term=e.getTerm(e.tmp.etal_term,"long",0),this.etal_prefix_single=" ",this.etal_prefix_multiple=e.tmp.name_delimiter,"always"===e.tmp["delimiter-precedes-et-al"]?this.etal_prefix_single=e.tmp.name_delimiter:"never"===e.tmp["delimiter-precedes-et-al"]?this.etal_prefix_multiple=" ":"after-inverted-name"===e.tmp["delimiter-precedes-et-al"]&&(this.etal_prefix_single=e.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix="",t.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)||(" "===this.etal_prefix_single&&(this.etal_prefix_single="")," "===this.etal_prefix_multiple&&(this.etal_prefix_multiple="")," "===this.etal_suffix&&(this.etal_suffix=""));for(var n=0;n<3;n+=1){var r=["family","given"][n];e.nameOutput[r]=this[r]}e.nameOutput.with=this.with;var i="with",o="",a="";t.STARTSWITH_ROMANESQUE_REGEXP.test(i)&&(o=" ",a=" ");var s={};s.single=new t.Blob(i),s.single.strings.suffix=a,s.multiple=new t.Blob(i),s.multiple.strings.suffix=a,"always"===e.inheritOpt(e.nameOutput.name,"delimiter-precedes-last")?(s.single.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter"),s.multiple.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter")):"contextual"===e.inheritOpt(e.nameOutput.name,"delimiter-precedes-last")?(s.single.strings.prefix=o,s.multiple.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter")):"after-inverted-name"===e.inheritOpt(e.nameOutput.name,"delimiter-precedes-last")?(s.single.strings.prefix=e.inheritOpt(this,"delimiter","names-delimiter"),s.multiple.strings.prefix=o):(s.single.strings.prefix=o,s.multiple.strings.prefix=o),e.nameOutput.with=s,e.nameOutput.label=this.label,e.nameOutput.etal_style=this.etal_style,e.nameOutput.etal_term=this.etal_term,e.nameOutput.etal_prefix_single=this.etal_prefix_single,e.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,e.nameOutput.etal_suffix=this.etal_suffix,e.nameOutput.outputNames(),e.tmp["et-al-use-first"]=void 0,e.tmp["et-al-min"]=void 0,e.tmp["et-al-use-last"]=void 0},this.execs.push(r),r=function(e){e.tmp.can_substitute.pop()||e.tmp.can_substitute.replace(!1,t.LITERAL),1===e.tmp.can_substitute.mystack.length&&(e.tmp.can_block_substitute=!1)},this.execs.push(r),e.build.name_flag=!1}n.push(this),this.tokentype!==t.END&&this.tokentype!==t.SINGLETON||(e.build.substitute_level.pop(),t.Util.substituteEnd.call(this,e,n))}},t.Node.number={build:function(e,n){var r;t.Util.substituteStart.call(this,e,n),"roman"===this.strings.form?this.formatter=e.fun.romanizer:"ordinal"===this.strings.form?this.formatter=e.fun.ordinalizer:"long-ordinal"===this.strings.form&&(this.formatter=e.fun.long_ordinalizer),"undefined"===typeof this.successor_prefix&&(this.successor_prefix=e[e.build.area].opt.layout_delimiter),"undefined"===typeof this.splice_prefix&&(this.splice_prefix=e[e.build.area].opt.layout_delimiter),r=function(e,n,r){if(0!==this.variables.length){var i;if(i=this.variables[0],"undefined"===typeof r)r={};if(["locator","locator-extra"].indexOf(i)>-1){if(e.tmp.just_looking)return;if(!r[i])return}else if(!n[i])return;"collection-number"===i&&"legal_case"===n.type&&(e.tmp.renders_collection_number=!0);var o=this;if(e.tmp.group_context.tip.force_suppress)return!1;if(["locator","locator-extra"].indexOf(i)>-1?e.processNumber.call(e,o,r,i,n.type):(!e.tmp.group_context.tip.condition&&n[i]&&(e.tmp.just_did_number=(""+n[i]).match(/[0-9]$/)),e.processNumber.call(e,o,n,i,n.type)),this.substring){var a=n[i].slice(this.substring);e.output.append(a,o)}else t.Util.outputNumericField(e,i,n.id);["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!e.tmp.just_looking&&(e.tmp.done_vars.push(this.variables_real[0]),e.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}},this.execs.push(r),n.push(this),t.Util.substituteEnd.call(this,e,n)}},t.Node.sort={build:function(e,n){if(n=e[e.build.root+"_sort"].tokens,this.tokentype===t.START){"citation"===e.build.area&&(e.opt.sort_citations=!0),e.build.area=e.build.root+"_sort",e.build.extension="_sort";var r=function(e,n){if(e.opt.has_layout_locale){for(var r,i=t.localeResolve(n.language,e.opt["default-locale"][0]),o=e[e.tmp.area.slice(0,-5)].opt.sort_locales,a=0,s=o.length;a<s&&((r=o[a][i.bare])||(r=o[a][i.best]),!r);a+=1);r||(r=e.opt["default-locale"][0]),e.tmp.lang_sort_hold=e.opt.lang,e.opt.lang=r}};this.execs.push(r)}if(this.tokentype===t.END){e.build.area=e.build.root,e.build.extension="";r=function(e){e.opt.has_layout_locale&&(e.opt.lang=e.tmp.lang_sort_hold,delete e.tmp.lang_sort_hold)};this.execs.push(r)}n.push(this)}},t.Node.substitute={build:function(e,n){var r;if(this.tokentype===t.START){var i=new t.Token("choose",t.START);t.Node.choose.build.call(i,e,n);var o=new t.Token("if",t.SINGLETON);r=function(){return!(!e.tmp.value.length||e.tmp.common_term_match_fail)},o.tests=[r],o.test=e.fun.match.any(o,e,o.tests),n.push(o),r=function(e){e.tmp.can_block_substitute=!0,e.tmp.value.length&&!e.tmp.common_term_match_fail&&e.tmp.can_substitute.replace(!1,t.LITERAL),e.tmp.common_term_match_fail=!1},this.execs.push(r),n.push(this)}if(this.tokentype===t.END){n.push(this);var a=new t.Token("choose",t.END);t.Node.choose.build.call(a,e,n)}}},t.Node.text={build:function(e,n){var r,i,o,a,s,l,c,u,d,p,h;if(this.postponed_macro){var f=t.Util.cloneToken(this);f.name="group",f.tokentype=t.START,t.Node.group.build.call(f,e,n),t.expandMacro.call(e,this,n);var m=t.Util.cloneToken(this);m.name="group",m.tokentype=t.END,"juris-locator-label"===this.postponed_macro&&(m.isJurisLocatorLabel=!0),t.Node.group.build.call(m,e,n)}else{if(t.Util.substituteStart.call(this,e,n),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),i="long",o=0,this.strings.form&&(i=this.strings.form),this.strings.plural&&(o=this.strings.plural),"citation-number"===this.variables_real[0]||"year-suffix"===this.variables_real[0]||"citation-label"===this.variables_real[0])"citation-number"===this.variables_real[0]?("citation"===e.build.root&&(e.opt.update_mode=t.NUMERIC),"bibliography"===e.build.root&&(e.opt.bib_mode=t.NUMERIC),"citation-number"===e[e.tmp.area].opt.collapse&&(this.range_prefix=e.getTerm("citation-range-delimiter")),this.successor_prefix=e[e.build.area].opt.layout_delimiter,this.splice_prefix=e[e.build.area].opt.layout_delimiter,r=function(e,n,r){if(a=""+n.id,!e.tmp.just_looking){if("_sort"===e.tmp.area.slice(-5)&&"citation-number"===this.variables[0]){if("bibliography_sort"===e.tmp.area&&e.tmp.group_context.tip.done_vars.push("citation-number"),"citation_sort"===e.tmp.area&&e.bibliography_sort.tmp.citation_number_map)var i=e.bibliography_sort.tmp.citation_number_map[e.registry.registry[n.id].seq];else i=e.registry.registry[n.id].seq;return i&&(i=t.Util.padding(""+i)),void e.output.append(i,this)}r&&r["author-only"]&&e.tmp.element_trace.replace("suppress-me"),i="bibliography_sort"!==e.tmp.area&&e.bibliography_sort.tmp.citation_number_map&&e.bibliography_sort.opt.citation_number_sort_direction===t.DESCENDING?e.bibliography_sort.tmp.citation_number_map[e.registry.registry[a].seq]:e.registry.registry[a].seq,e.opt.citation_number_slug?e.output.append(e.opt.citation_number_slug,this):(l=new t.NumericBlob(e,!1,i,this,n.id),e.tmp.in_cite_predecessor&&(l.suppress_splice_prefix=!0),e.output.append(l,"literal"))}},this.execs.push(r)):"year-suffix"===this.variables_real[0]?(e.opt.has_year_suffix=!0,"year-suffix-ranged"===e[e.tmp.area].opt.collapse&&(this.range_prefix=e.getTerm("citation-range-delimiter")),this.successor_prefix=e[e.build.area].opt.layout_delimiter,e[e.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=e[e.build.area].opt["year-suffix-delimiter"]),r=function(e,n){if(e.registry.registry[n.id]&&!1!==e.registry.registry[n.id].disambig.year_suffix&&!e.tmp.just_looking){s=parseInt(e.registry.registry[n.id].disambig.year_suffix,10),e[e.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=e[e.tmp.area].opt.cite_group_delimiter),l=new t.NumericBlob(e,!1,s,this,n.id),c=new t.Util.Suffixator(t.SUFFIX_CHARS),l.setFormatter(c),e.output.append(l,"literal"),u=!1;for(var r=0,i=e.tmp.group_context.mystack.length;r<i;r++){var o=e.tmp.group_context.mystack[r];if(!o.variable_success&&(o.variable_attempt||!o.variable_attempt&&!o.term_intended)){u=!0;break}}d=e[e.tmp.area].opt["year-suffix-delimiter"],u&&d&&!e.tmp.sort_key_flag&&(e.tmp.splice_delimiter=e[e.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(r)):"citation-label"===this.variables_real[0]&&("bibliography"===e.build.root&&(e.opt.bib_mode=t.TRIGRAPH),e.opt.has_year_suffix=!0,r=function(e,t){(p=t["citation-label"])||(p=e.getCitationLabel(t)),e.tmp.just_looking||(h="",e.registry.registry[t.id]&&!1!==e.registry.registry[t.id].disambig.year_suffix&&(s=parseInt(e.registry.registry[t.id].disambig.year_suffix,10),h=e.fun.suffixator.format(s)),p+=h),e.output.append(p,this)},this.execs.push(r));else if(this.strings.term)r=function(e,n){var r,a=e.opt.gender[n.type],s=this.strings.term;if(""!==(s=e.getTerm(s,i,o,a,t.TOLERANT,this.default_locale))&&(e.tmp.group_context.tip.term_intended=!0),t.UPDATE_GROUP_CONTEXT_CONDITION(e,s,null,this),r=e.tmp.term_predecessor||"in-text"===e.opt.class&&"citation"===e.tmp.area?s:t.Output.Formatters["capitalize-first"](e,s),e.tmp.strip_periods)r=r.replace(/\./g,"");else for(var l=0,c=this.decorations.length;l<c;l+=1)if("@strip-periods"===this.decorations[l][0]&&"true"===this.decorations[l][1]){r=r.replace(/\./g,"");break}e.output.append(r,this),e.tmp.can_block_substitute&&e.tmp.can_substitute.replace(!1,t.LITERAL)},this.execs.push(r),e.build.term=!1,e.build.form=!1,e.build.plural=!1;else if(this.variables_real.length){if(r=function(e,t){"locator"!==this.variables_real[0]&&(e.tmp.have_collapsed=!1),!e.tmp.group_context.tip.condition&&t[this.variables[0]]&&(e.tmp.just_did_number=!1);var n=t[this.variables[0]];n&&!e.tmp.group_context.tip.condition&&((""+n).slice(-1).match(/[0-9]/)?e.tmp.just_did_number=!0:e.tmp.just_did_number=!1)},this.execs.push(r),t.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||this.variables_real[0].indexOf("-main")>-1||this.variables_real[0].indexOf("-sub")>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var g=this.variables[0],v=!1,b=!1,y=!1;"short"===i?"-short"!==this.variables_real[0].slice(-6)&&(b=this.variables_real[0]+"-short"):g=!1,e.build.extension?y=!0:(y=!0,v=!0),r=e.transform.getOutputFunction(this.variables,g,v,b,y)}else r=t.CITE_FIELDS.indexOf(this.variables_real[0])>-1?function(e,n,r){r&&r[this.variables[0]]&&(e.processNumber(this,r,this.variables[0],n.type),t.Util.outputNumericField(e,this.variables[0],n.id),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!e.tmp.just_looking&&e.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?function(e,n){e.processNumber(this,n,this.variables[0],n.type),t.Util.outputNumericField(e,this.variables[0],n.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?function(e,n){var r;if(this.variables[0]&&(r=e.getVariable(n,this.variables[0],i)))if("URL"===this.variables[0]&&"short"===i&&(r=r.replace(/(.*\.[^\/]+)\/.*/,"$1")).match(/\/\/www\./)&&(r=r.replace(/https?:\/\//,"")),e.opt.development_extensions.wrap_url_and_doi)if(this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0])e.output.append(r,this,!1,!1,!0);else{var o=t.Util.cloneToken(this),a=new t.Blob(null,null,"url-wrapper");if(a.decorations.push(["@DOI","true"]),"DOI"===this.variables_real[0]){var s;this.strings.prefix&&this.strings.prefix.match(/^.*https:\/\/doi\.org\/$/)&&(s=(r=r.replace(/^https?:\/\/doi\.org\//,"")).match(/^https?:\/\//)?"":"https://doi.org/",o.strings.prefix=this.strings.prefix.slice(0,o.strings.prefix.length-16));var l=new t.Blob(s),c=new t.Blob(r);a.push(l),a.push(c),e.output.append(a,o,!1,!1,!0)}else{c=new t.Blob(r);a.push(c),e.output.append(a,o,!1,!1,!0)}}else{if(this.decorations.length)for(var u=this.decorations.length-1;u>-1;u--)this.decorations[u][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,u).concat(this.decorations.slice(u+1)));e.output.append(r,this,!1,!1,!0)}}:"section"===this.variables_real[0]?function(e,t){var n;(n=e.getVariable(t,this.variables[0],i))&&e.output.append(n,this)}:"hereinafter"===this.variables_real[0]?function(e,t){var n=e.transform.abbrevs.default.hereinafter[t.id];n&&(e.output.append(n,this),e.tmp.group_context.tip.variable_success=!0)}:function(e,t){var n;this.variables[0]&&(n=e.getVariable(t,this.variables[0],i))&&(n=(n=""+n).split("\\").join(""),e.output.append(n,this))};this.execs.push(r)}else this.strings.value&&(r=function(e){e.tmp.group_context.tip.term_intended=!0,t.UPDATE_GROUP_CONTEXT_CONDITION(e,this.strings.value,!0,this),e.output.append(this.strings.value,this),e.tmp.can_block_substitute&&e.tmp.can_substitute.replace(!1,t.LITERAL)},this.execs.push(r));n.push(this),t.Util.substituteEnd.call(this,e,n)}}},t.Node.intext={build:function(e,n){if(this.tokentype===t.START){e.build.area="intext",e.build.root="intext",e.build.extension="";this.execs.push((function(e,t){e.tmp.area="intext",e.tmp.root="intext",e.tmp.extension=""}))}this.tokentype===t.END&&(e.intext_sort={opt:{sort_directions:e.citation_sort.opt.sort_directions}},e.intext.srt=e.citation.srt),n.push(this)}},t.Attributes={},t.Attributes["@disambiguate"]=function(e,t){if(this.tests||(this.tests=[]),"true"===t){e.opt.has_disambiguate=!0;var n=function(t){if("bibliography"===e.tmp.area){if(e.tmp.disambiguate_count<e.registry.registry[t.id].disambig.disambiguate)return e.tmp.disambiguate_count+=1,!0}else if(e.tmp.disambiguate_maxMax+=1,e.tmp.disambig_settings.disambiguate&&e.tmp.disambiguate_count<e.tmp.disambig_settings.disambiguate)return e.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(n)}else if("check-ambiguity-and-backreference"===t){n=function(t){return!!(e.registry.registry[t.id].disambig.disambiguate&&e.registry.registry[t.id]["citation-count"]>1)};this.tests.push(n)}},t.Attributes["@is-numeric"]=function(e,n){this.tests||(this.tests=[]);for(var r=n.split(/\s+/),i=function(n){return function(r,i){var o=r;if(i&&["locator","locator-extra"].indexOf(n)>-1&&(o=i),!o[n])return!1;if(t.NUMERIC_VARIABLES.indexOf(n)>-1){if(e.tmp.shadow_numbers[n]||e.processNumber(!1,o,n,r.type),e.tmp.shadow_numbers[n].numeric)return!0}else if(["title","version"].indexOf(n)>-1&&o[n].slice(-1)===""+parseInt(o[n].slice(-1),10))return!0;return!1}},o=0;o<r.length;o+=1)this.tests.push(i(r[o]))},t.Attributes["@is-uncertain-date"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.split(/\s+/),r=function(e){return function(t){return!(!t[e]||!t[e].circa)}},i=0,o=n.length;i<o;i+=1)this.tests.push(r(n[i]))},t.Attributes["@locator"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.replace("sub verbo","sub-verbo"),r=function(t){return function(n,r){var i;return e.processNumber(!1,r,"locator"),!(!(i=e.tmp.shadow_numbers.locator.label)||t!==i)}},i=0,o=(n=n.split(/\s+/)).length;i<o;i+=1)this.tests.push(r(n[i]))},t.Attributes["@position"]=function(e,n){this.tests||(this.tests=[]),e.opt.update_mode=t.POSITION;for(var r=n.split(/\s+/),i=function(e,n){return!!(n&&t.POSITION_MAP[n.position]>=t.POSITION_MAP[t.POSITION_SUBSEQUENT]&&n["near-note"])},o=function(e,n){return!(!n||t.POSITION_MAP[n.position]!=t.POSITION_MAP[t.POSITION_SUBSEQUENT]||n["near-note"])},a=function(n){return function(r,i){if("bibliography"===e.tmp.area)return!1;if(i&&"undefined"===typeof i.position&&(i.position=0),i&&"number"===typeof i.position){if(0===i.position&&0===n)return!0;if(n>0&&t.POSITION_MAP[i.position]>=t.POSITION_MAP[n])return!0}else if(0===n)return!0;return!1}},s=0,l=r.length;s<l;s+=1){var c;"first"===(c=r[s])?c=t.POSITION_FIRST:"container-subsequent"===c?c=t.POSITION_CONTAINER_SUBSEQUENT:"subsequent"===c?c=t.POSITION_SUBSEQUENT:"ibid"===c?c=t.POSITION_IBID:"ibid-with-locator"===c&&(c=t.POSITION_IBID_WITH_LOCATOR),"near-note"===c?this.tests.push(i):"far-note"===c?this.tests.push(o):this.tests.push(a(c))}},t.Attributes["@type"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.split(/\s+/),r=function(e){return function(t){return!!(t.type===e)}},i=[],o=0,a=n.length;o<a;o+=1)i.push(r(n[o]));this.tests.push(e.fun.match.any(this,e,i))},t.Attributes["@variable"]=function(e,n){var r;if(this.tests||(this.tests=[]),this.variables=n.split(/\s+/),this.variables_real=this.variables.slice(),"label"===this.name&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)r=function(e,t,n){for(var r=this.variables.length-1;r>-1;r+=-1)this.variables.pop();r=0;for(var i=this.variables_real.length;r<i;r++)-1===e.tmp.done_vars.indexOf(this.variables_real[r])&&this.variables.push(this.variables_real[r]),e.tmp.can_block_substitute&&e.tmp.done_vars.push(this.variables_real[r])},this.execs.push(r),r=function(e,n,r){for(var i=!1,o=0,a=this.variables.length;o<a;o++){var s=this.variables[o];if(["authority","committee"].indexOf(s)>-1&&"string"===typeof n[s]&&"names"===this.name){var l=!0,c=n[s].split(/\s*;\s*/),u={};if(n.multi&&n.multi._keys[s])for(var d in n.multi._keys[s])if(u[d]=n.multi._keys[s][d].split(/\s*;\s*/),u[d].length!==c.length){l=!1;break}l||(c=[n[s]],u=n.multi._keys[s]);for(var p=0,h=c.length;p<h;p++){var f={literal:c[p],multi:{_key:{}}};for(var d in u){var m={literal:u[d][p]};f.multi._key[d]=m}c[p]=f}n[s]=c}if("short"!==this.strings.form||n[s]||("title"===s?s="title-short":"container-title"===s&&(s="container-title-short")),"year-suffix"===s){i=!0;break}if(t.DATE_VARIABLES.indexOf(s)>-1){if(e.opt.development_extensions.locator_date_and_revision&&"locator-date"===s){i=!0;break}if(n[s]){for(var g in n[s])if((-1!==this.dateparts.indexOf(g)||"literal"===g)&&n[s][g]){i=!0;break}if(i)break}}else{if("locator"===s){r&&r.locator&&(i=!0);break}if("locator-extra"===s){r&&r["locator-extra"]&&(i=!0);break}if(["citation-number","citation-label"].indexOf(s)>-1){i=!0;break}if("first-reference-note-number"===s){r&&r["first-reference-note-number"]&&(i=!0);break}if("first-container-reference-note-number"===s){r&&r["first-container-reference-note-number"]&&(i=!0);break}if("hereinafter"===s){e.transform.abbrevs.default.hereinafter[n.id]&&e.sys.getAbbreviation&&n.id&&(i=!0);break}if("object"===typeof n[s])break;if("string"===typeof n[s]&&n[s]){i=!0;break}if("number"===typeof n[s]){i=!0;break}}if(i)break}if(i){for(o=0,a=this.variables_real.length;o<a;o++){"citation-number"===(s=this.variables_real[o])&&"bibliography"===e.tmp.area||(e.tmp.cite_renders_content=!0),e.tmp.group_context.tip.variable_success=!0,e.tmp.can_substitute.value()&&"bibliography"===e.tmp.area&&"string"===typeof n[s]&&(e.tmp.name_node.top=e.output.current.value(),e.tmp.rendered_name.push(n[s]))}e.tmp.can_substitute.replace(!1,t.LITERAL)}else e.tmp.group_context.tip.variable_attempt=!0},this.execs.push(r);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var i=function(t){return function(n,r){var i=n;if(r&&["locator","locator-extra","first-reference-note-number","first-container-reference-note-number","locator-date"].indexOf(t)>-1&&(i=r),"hereinafter"===t&&e.sys.getAbbreviation&&i.id){if(e.transform.abbrevs.default.hereinafter[i.id])return!0}else if(i[t]){if("number"===typeof i[t]||"string"===typeof i[t])return!0;if("object"===typeof i[t])for(var o in i[t])if(i[t][o])return!0}return!1}},o=0,a=this.variables.length;o<a;o+=1)this.tests.push(i(this.variables[o]))},t.Attributes["@page"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.replace("sub verbo","sub-verbo"),r=function(t){return function(n){var r;return e.processNumber(!1,n,"page",n.type),r=e.tmp.shadow_numbers.page.label?"sub verbo"===e.tmp.shadow_numbers.page.label?"sub-verbo":e.tmp.shadow_numbers.page.label:"page",e.tmp.shadow_numbers.page.values.length>0&&e.tmp.shadow_numbers.page.values[0].gotosleepability&&(e.tmp.shadow_numbers.page.values[0].labelVisibility=!1),t===r}},i=0,o=(n=n.split(/\s+/)).length;i<o;i+=1)this.tests.push(r(n[i]))},t.Attributes["@number"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.split(/\s+/),r=function(t){return function(n){var r;return e.processNumber(!1,n,"number",n.type),r=e.tmp.shadow_numbers.number.label?e.tmp.shadow_numbers.number.label:"number",t===r}},i=0,o=n.length;i<o;i+=1)this.tests.push(r(n[i]))},t.Attributes["@jurisdiction"]=function(e,t){this.tests||(this.tests=[]);var n=t.split(/\s+/);this.tests.push(function(e){return function(t){if(!t.jurisdiction)return!1;for(var n=t.jurisdiction,r=0,i=e.length;r<i;r++)if(n===e[r])return!0;return!1}}(n))},t.Attributes["@country"]=function(e,t){this.tests||(this.tests=[]);var n=t.split(/\s+/);this.tests.push(function(e){return function(t){if(!t.country)return!1;for(var n=t.country,r=0,i=e.length;r<i;r++)if(n===e[r])return!0;return!1}}(n))},t.Attributes["@context"]=function(e,t){this.tests||(this.tests=[]);this.tests.push((function(){return["bibliography","citation"].indexOf(t)>-1?e.tmp.area.slice(0,t.length)===t:"alternative"===t?!!e.tmp.abort_alternative:void 0}))},t.Attributes["@has-year-only"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.split(/\s+/),r=function(e){return function(t){var n=t[e];return!(!n||n.month||n.season)}},i=0,o=n.length;i<o;i+=1)this.tests.push(r(n[i]))},t.Attributes["@has-to-month-or-season"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.split(/\s+/),r=function(e){return function(t){var n=t[e];return!(!n||!n.month&&!n.season||n.day)}},i=0,o=n.length;i<o;i+=1)this.tests.push(r(n[i]))},t.Attributes["@has-day"]=function(e,t){this.tests||(this.tests=[]);for(var n=t.split(/\s+/),r=function(e){return function(t){var n=t[e];return!(!n||!n.day)}},i=0,o=n.length;i<o;i+=1)this.tests.push(r(n[i]))},t.Attributes["@is-plural"]=function(e,t){this.tests||(this.tests=[]);this.tests.push((function(n){var r=n[t];if(r&&r.length){for(var i=0,o=0,a=!1,s=0,l=r.length;s<l;s+=1)e.opt.development_extensions.spoof_institutional_affiliations&&(r[s].literal||r[s].isInstitution&&r[s].family&&!r[s].given)?(o+=1,a=!1):(i+=1,a=!0);if(i>1)return!0;if(o>1)return!0;if(o&&a)return!0}return!1}))},t.Attributes["@is-multiple"]=function(e,t){this.tests||(this.tests=[]);this.tests.push((function(e){return(""+e[t]).split(/(?:,\s|\s(?:tot\sen\smet|l\u012bdz|oraz|and|bis|\u03ad\u03c9\u03c2|\u03ba\u03b1\u03b9|och|a\u017e|do|en|et|in|ir|ja|og|sa|to|un|und|\xe9s|\u0219i|i|u|y|\xe0|e|a|\u0438|-|\u2013)\s|\u2014|\&)/).length>1}))},t.Attributes["@locale"]=function(e,n){var r,i,o;this.tests||(this.tests=[]);var a=e.opt["default-locale"][0];if("layout"===this.name){if(this.locale_raw=n,this.tokentype===t.START){e.opt.multi_layout||(e.opt.multi_layout=[]);var s=[],l=n.split(/\s+/),c={},u=t.localeResolve(l[0],a);s.push(u),u.generic?c[u.generic]=u.best:c[u.best]=u.best;for(var d=1,p=l.length;d<p;d+=1){var h=t.localeResolve(l[d],a);s.push(h),h.generic?c[h.generic]=u.best:c[h.best]=u.best}e[e.build.area].opt.sort_locales.push(c),e.opt.multi_layout.push(s)}e.opt.has_layout_locale=!0}else{o=n.split(/\s+/);var f=[];for(d=0,p=o.length;d<p;d+=1)i=o[d],r=t.localeResolve(i,a),2===o[d].length&&f.push(r.bare),e.localeConfigure(r,!0),o[d]=r;var m=o.slice();this.tests.push(function(n,r,i){return function(o){var a;[],a=!1;var s,l;for(l=o.language?o.language:r,s=t.localeResolve(l,r),d=0,p=n.length;d<p;d+=1)if(s.best===n[d].best){e.tmp.condition_lang_counter_arr.push(e.tmp.condition_counter),e.tmp.condition_lang_val_arr.push(e.opt.lang),e.opt.lang=n[0].best,a=!0;break}return!a&&i.indexOf(s.bare)>-1&&(e.tmp.condition_lang_counter_arr.push(e.tmp.condition_counter),e.tmp.condition_lang_val_arr.push(e.opt.lang),e.opt.lang=n[0].best,a=!0),a}}(m,a,f))}},t.Attributes["@alternative-node-internal"]=function(e){this.tests||(this.tests=[]);this.tests.push((function(){return!e.tmp.abort_alternative}))},t.Attributes["@locale-internal"]=function(e,n){var r,i,o,a,s;for(this.tests||(this.tests=[]),o=n.split(/\s+/),this.locale_bares=[],a=0,s=o.length;a<s;a+=1)i=o[a],r=t.localeResolve(i,e.opt["default-locale"][0]),2===o[a].length&&this.locale_bares.push(r.bare),e.localeConfigure(r),o[a]=r;this.locale_default=e.opt["default-locale"][0],this.locale=o[0].best,this.locale_list=o.slice();this.tests.push(function(n){return function(r){var o;o=!1;var l=!1;if(r.language&&(i=r.language,(l=t.localeResolve(i,e.opt["default-locale"][0])).best===e.opt["default-locale"][0]&&(l=!1)),l){for(a=0,s=n.locale_list.length;a<s;a+=1)if(l.best===n.locale_list[a].best){e.opt.lang=n.locale,e.tmp.last_cite_locale=n.locale,e.output.openLevel("empty"),e.output.current.value().new_locale=n.locale,o=!0;break}!o&&n.locale_bares.indexOf(l.bare)>-1&&(e.opt.lang=n.locale,e.tmp.last_cite_locale=n.locale,e.output.openLevel("empty"),e.output.current.value().new_locale=n.locale,o=!0)}return o}}(this))},t.Attributes["@court-class"]=function(e,n){this.tests||(this.tests=[]);for(var r=n.split(/\s+/),i=function(n){return function(r){return t.GET_COURT_CLASS(e,r)===n}},o=0,a=r.length;o<a;o++)this.tests.push(i(r[o]))},t.Attributes["@container-multiple"]=function(e,t){this.tests||(this.tests=[]);var n="true"===t;this.tests.push(function(t){return function(n){return e.tmp.container_item_count[n.container_id]&&e.tmp.container_item_count[n.container_id]>1?t:!t}}(n))},t.Attributes["@container-subsequent"]=function(e,t){this.tests||(this.tests=[]);var n="true"===t;this.tests.push(function(t){return function(n){return e.tmp.container_item_pos[n.container_id]>1?t:!t}}(n))},t.Attributes["@has-subunit"]=function(e,t){this.tests||(this.tests=[]);var n;this.tests.push((n=t,function(e){var t=0;for(var r in e[n]){var i=e[n][r];if(!i.given){var o=(i.literal?i.literal:i.family).split("|").length;(0===t||o<t)&&(t=o)}}return t>1}))},t.Attributes["@cite-form"]=function(e,t){this.tests||(this.tests=[]);var n;this.tests.push((n=t,function(e){return e["cite-form"]===n}))},t.Attributes["@disable-duplicate-year-suppression"]=function(e,t){e.opt.disable_duplicate_year_suppression=t.split(/\s+/)},t.Attributes["@consolidate-containers"]=function(e,n){t.Attributes["@track-containers"](e,n);var r=n.split(/\s+/);e.bibliography.opt.consolidate_containers=r},t.Attributes["@track-containers"]=function(e,t){var n=t.split(/\s+/);e.bibliography.opt.track_container_items||(e.bibliography.opt.track_container_items=[]),e.bibliography.opt.consolidate_containers||(e.bibliography.opt.consolidate_containers=[]),e.bibliography.opt.track_container_items=e.bibliography.opt.track_container_items.concat(n)},t.Attributes["@parallel-first"]=function(e,t){e.opt.parallel.enable=!0;var n=t.split(/\s+/);for(var r in e.opt.track_repeat||(e.opt.track_repeat={}),this.parallel_first={},n){var i=n[r];this.parallel_first[i]=!0,e.opt.track_repeat[i]=!0}},t.Attributes["@parallel-last"]=function(e,t){e.opt.parallel.enable=!0;var n=t.split(/\s+/);for(var r in e.opt.track_repeat||(e.opt.track_repeat={}),this.parallel_last={},n){var i=n[r];this.parallel_last[i]=!0,e.opt.track_repeat[i]=!0}},t.Attributes["@parallel-last-to-first"]=function(e,t){e.opt.parallel.enable=!0;var n=t.split(/\s+/);this.parallel_last_to_first={};for(var r=0,i=n.length;r<i;r++)this.parallel_last_to_first[n[r]]=!0},t.Attributes["@parallel-delimiter-override"]=function(e,t){e.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override=t},t.Attributes["@parallel-delimiter-override-on-suppress"]=function(e,t){e.opt.parallel.enable=!0,this.strings.set_parallel_delimiter_override_on_suppress=t},t.Attributes["@no-repeat"]=function(e,t){e.opt.parallel.enable=!0;var n=t.split(/\s+/);for(var r in e.opt.track_repeat||(e.opt.track_repeat={}),this.non_parallel={},n){var i=n[r];this.non_parallel[i]=!0,e.opt.track_repeat[i]=!0}},t.Attributes["@require"]=function(e,t){e.opt.use_context_condition=!0,this.strings.require=t},t.Attributes["@reject"]=function(e,t){e.opt.use_context_condition=!0,this.strings.reject=t},t.Attributes["@require-comma-on-symbol"]=function(e,t){e.opt.require_comma_on_symbol=t},t.Attributes["@gender"]=function(e,t){this.gender=t},t.Attributes["@cslid"]=function(e,t){this.cslid=parseInt(t,10)},t.Attributes["@capitalize-if-first"]=function(e,t){this.strings.capitalize_if_first_override=t},t.Attributes["@label-capitalize-if-first"]=function(e,t){this.strings.label_capitalize_if_first_override=t},t.Attributes["@label-form"]=function(e,t){this.strings.label_form_override=t},t.Attributes["@part-separator"]=function(e,t){this.strings["part-separator"]=t},t.Attributes["@leading-noise-words"]=function(e,t){this["leading-noise-words"]=t},t.Attributes["@name-never-short"]=function(e,t){this["name-never-short"]=t},t.Attributes["@class"]=function(e,t){e.opt.class=t},t.Attributes["@version"]=function(e,t){e.opt.version=t},t.Attributes["@value"]=function(e,t){this.strings.value=t},t.Attributes["@name"]=function(e,t){this.strings.name=t},t.Attributes["@form"]=function(e,t){this.strings.form=t},t.Attributes["@date-parts"]=function(e,t){this.strings["date-parts"]=t},t.Attributes["@range-delimiter"]=function(e,t){this.strings["range-delimiter"]=t},t.Attributes["@macro"]=function(e,t){this.postponed_macro=t},t.Attributes["@term"]=function(e,t){this.strings.term="sub verbo"===t?"sub-verbo":t},t.Attributes["@xmlns"]=function(){},t.Attributes["@lang"]=function(e,t){t&&(e.build.lang=t)},t.Attributes["@lingo"]=function(){},t.Attributes["@macro-has-date"]=function(){this["macro-has-date"]=!0},t.Attributes["@suffix"]=function(e,t){this.strings.suffix=t},t.Attributes["@prefix"]=function(e,t){this.strings.prefix=t},t.Attributes["@delimiter"]=function(e,t){this.strings.delimiter=t},t.Attributes["@match"]=function(e,t){this.match=t},t.Attributes["@names-min"]=function(e,t){var n=parseInt(t,10);e[e.build.area].opt.max_number_of_names<n&&(e[e.build.area].opt.max_number_of_names=n),this.strings["et-al-min"]=n},t.Attributes["@names-use-first"]=function(e,t){this.strings["et-al-use-first"]=parseInt(t,10)},t.Attributes["@names-use-last"]=function(e,t){this.strings["et-al-use-last"]="true"===t},t.Attributes["@sort"]=function(e,n){"descending"===n&&(this.strings.sort_direction=t.DESCENDING)},t.Attributes["@plural"]=function(e,t){"always"===t||"true"===t?this.strings.plural=1:"never"===t||"false"===t?this.strings.plural=0:"contextual"===t&&(this.strings.plural=!1)},t.Attributes["@has-publisher-and-publisher-place"]=function(){this.strings["has-publisher-and-publisher-place"]=!0},t.Attributes["@publisher-delimiter-precedes-last"]=function(e,t){this.strings["publisher-delimiter-precedes-last"]=t},t.Attributes["@publisher-delimiter"]=function(e,t){this.strings["publisher-delimiter"]=t},t.Attributes["@publisher-and"]=function(e,t){this.strings["publisher-and"]=t},t.Attributes["@givenname-disambiguation-rule"]=function(e,n){t.GIVENNAME_DISAMBIGUATION_RULES.indexOf(n)>-1&&(e.citation.opt["givenname-disambiguation-rule"]=n)},t.Attributes["@collapse"]=function(e,t){t&&(e[this.name].opt.collapse=t)},t.Attributes["@cite-group-delimiter"]=function(e,t){t&&(e[e.tmp.area].opt.cite_group_delimiter=t)},t.Attributes["@names-delimiter"]=function(e,t){e.setOpt(this,"names-delimiter",t)},t.Attributes["@name-form"]=function(e,t){e.setOpt(this,"name-form",t)},t.Attributes["@subgroup-delimiter"]=function(e,t){this.strings["subgroup-delimiter"]=t},t.Attributes["@subgroup-delimiter-precedes-last"]=function(e,t){this.strings["subgroup-delimiter-precedes-last"]=t},t.Attributes["@name-delimiter"]=function(e,t){e.setOpt(this,"name-delimiter",t)},t.Attributes["@et-al-min"]=function(e,t){var n=parseInt(t,10);e[e.build.area].opt.max_number_of_names<n&&(e[e.build.area].opt.max_number_of_names=n),e.setOpt(this,"et-al-min",n)},t.Attributes["@et-al-use-first"]=function(e,t){e.setOpt(this,"et-al-use-first",parseInt(t,10))},t.Attributes["@et-al-use-last"]=function(e,t){"true"===t?e.setOpt(this,"et-al-use-last",!0):e.setOpt(this,"et-al-use-last",!1)},t.Attributes["@et-al-subsequent-min"]=function(e,t){var n=parseInt(t,10);e[e.build.area].opt.max_number_of_names<n&&(e[e.build.area].opt.max_number_of_names=n),e.setOpt(this,"et-al-subsequent-min",n)},t.Attributes["@et-al-subsequent-use-first"]=function(e,t){e.setOpt(this,"et-al-subsequent-use-first",parseInt(t,10))},t.Attributes["@suppress-min"]=function(e,t){this.strings["suppress-min"]=parseInt(t,10)},t.Attributes["@suppress-max"]=function(e,t){this.strings["suppress-max"]=parseInt(t,10)},t.Attributes["@and"]=function(e,t){e.setOpt(this,"and",t)},t.Attributes["@delimiter-precedes-last"]=function(e,t){e.setOpt(this,"delimiter-precedes-last",t)},t.Attributes["@delimiter-precedes-et-al"]=function(e,t){e.setOpt(this,"delimiter-precedes-et-al",t)},t.Attributes["@initialize-with"]=function(e,t){e.setOpt(this,"initialize-with",t)},t.Attributes["@initialize"]=function(e,t){"false"===t&&e.setOpt(this,"initialize",!1)},t.Attributes["@name-as-reverse-order"]=function(e,t){this["name-as-reverse-order"]=t},t.Attributes["@name-as-sort-order"]=function(e,t){"style-options"===this.name?this["name-as-sort-order"]=t:e.setOpt(this,"name-as-sort-order",t)},t.Attributes["@sort-separator"]=function(e,t){e.setOpt(this,"sort-separator",t)},t.Attributes["@require-match"]=function(e,t){"true"===t&&(this.requireMatch=!0)},t.Attributes["@exclude-types"]=function(e,t){e.bibliography.opt.exclude_types=t.split(/\s+/)},t.Attributes["@exclude-with-fields"]=function(e,t){e.bibliography.opt.exclude_with_fields=t.split(/\s+/)},t.Attributes["@year-suffix-delimiter"]=function(e,t){e[this.name].opt["year-suffix-delimiter"]=t},t.Attributes["@after-collapse-delimiter"]=function(e,t){e[this.name].opt["after-collapse-delimiter"]=t},t.Attributes["@subsequent-author-substitute"]=function(e,t){e[this.name].opt["subsequent-author-substitute"]=t},t.Attributes["@subsequent-author-substitute-rule"]=function(e,t){e[this.name].opt["subsequent-author-substitute-rule"]=t},t.Attributes["@disambiguate-add-names"]=function(e,t){"true"===t&&(e.opt["disambiguate-add-names"]=!0)},t.Attributes["@disambiguate-add-givenname"]=function(e,t){"true"===t&&(e.opt["disambiguate-add-givenname"]=!0)},t.Attributes["@disambiguate-add-year-suffix"]=function(e,t){"true"===t&&"numeric"!==e.opt.xclass&&(e.opt["disambiguate-add-year-suffix"]=!0)},t.Attributes["@second-field-align"]=function(e,t){"flush"!==t&&"margin"!==t||(e[this.name].opt["second-field-align"]=t)},t.Attributes["@hanging-indent"]=function(e,t){"true"===t&&(e.opt.development_extensions.hanging_indent_legacy_number?e[this.name].opt.hangingindent=2:e[this.name].opt.hangingindent=!0)},t.Attributes["@line-spacing"]=function(e,t){t&&t.match(/^[.0-9]+$/)&&(e[this.name].opt["line-spacing"]=parseFloat(t,10))},t.Attributes["@entry-spacing"]=function(e,t){t&&t.match(/^[.0-9]+$/)&&(e[this.name].opt["entry-spacing"]=parseFloat(t,10))},t.Attributes["@near-note-distance"]=function(e,t){e[this.name].opt["near-note-distance"]=parseInt(t,10)},t.Attributes["@substring"]=function(e,t){this.substring=parseInt(t,10)},t.Attributes["@text-case"]=function(e,t){this.execs.push((function(e,n){"normal"===t?this.text_case_normal=!0:(this.strings["text-case"]=t,"title"===t&&n.jurisdiction&&(this.strings["text-case"]="passthrough"))}))},t.Attributes["@page-range-format"]=function(e,t){e.opt["page-range-format"]=t},t.Attributes["@year-range-format"]=function(e,t){e.opt["year-range-format"]=t},t.Attributes["@default-locale"]=function(e,t){if("style"===this.name){var n,r,i,o,a;if(a=t.match(/-x-(sort|translit|translat)-/g))for(i=0,r=a.length;i<r;i+=1)a[i]=a[i].replace(/^-x-/,"").replace(/-$/,"");for(o=[(n=t.split(/-x-(?:sort|translit|translat)-/))[0]],i=1,r=n.length;i<r;i+=1)o.push(a[i-1]),o.push(n[i]);for(r=(n=o.slice()).length,i=1;i<r;i+=2)e.opt["locale-"+n[i]].push(n[i+1].replace(/^\s*/g,"").replace(/\s*$/g,""));n.length?e.opt["default-locale"]=n.slice(0,1):e.opt["default-locale"]=["en"]}else"true"===t&&(this.default_locale=!0)},t.Attributes["@default-locale-sort"]=function(e,t){e.opt["default-locale-sort"]=t},t.Attributes["@demote-non-dropping-particle"]=function(e,t){e.opt["demote-non-dropping-particle"]=t},t.Attributes["@initialize-with-hyphen"]=function(e,t){"false"===t&&(e.opt["initialize-with-hyphen"]=!1)},t.Attributes["@institution-parts"]=function(e,t){this.strings["institution-parts"]=t},t.Attributes["@if-short"]=function(e,t){"true"===t&&(this.strings["if-short"]=!0)},t.Attributes["@substitute-use-first"]=function(e,t){this.strings["substitute-use-first"]=parseInt(t,10)},t.Attributes["@use-first"]=function(e,t){this.strings["use-first"]=parseInt(t,10)},t.Attributes["@use-last"]=function(e,t){this.strings["use-last"]=parseInt(t,10)},t.Attributes["@stop-first"]=function(e,t){this.strings["stop-first"]=parseInt(t,10)},t.Attributes["@stop-last"]=function(e,t){this.strings["stop-last"]=-1*parseInt(t,10)},t.Attributes["@reverse-order"]=function(e,t){"true"===t&&(this.strings["reverse-order"]=!0)},t.Attributes["@display"]=function(e,t){2===e.bibliography.tokens.length&&(e.opt.using_display=!0),this.strings.cls=t},t.Stack=function(e,t){this.mystack=[],(t||e)&&this.mystack.push(e),this.tip=this.mystack[0]},t.Stack.prototype.push=function(e,t){t||e?this.mystack.push(e):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]},t.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},t.Stack.prototype.replace=function(e,n){0===this.mystack.length&&t.error("Internal CSL processor error: attempt to replace nonexistent stack item with "+e),this.mystack[this.mystack.length-1]=n||e?e:"",this.tip=this.mystack[this.mystack.length-1]},t.Stack.prototype.pop=function(){var e=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},e},t.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]},t.Stack.prototype.length=function(){return this.mystack.length},t.Parallel=function(e){this.state=e},t.Parallel.prototype.StartCitation=function(e,t){if(this.state.tmp.suppress_repeats=[],!(e.length<2)){for(var n=0,r=!1,i=[],o=0,a=e.length-1;o<a;o++){var s=e[o][0],l=e[o+1][0],c=!1,u={};if(e[o][0].seeAlso&&e[o][0].seeAlso.length>0&&!r){c=!0;var d=(r=[e[o][0].id].concat(e[o][0].seeAlso)).slice(),p=e.slice(o);p[0][1].parallel="first";for(var h=0,f=p.length;h<f;h++){var m=p[h][0].id,g=d.indexOf(m);if(n=!1,-1===g?n=o+h-1:o+h===e.length-1&&(n=o+h),n){i.push([o,n]);break}d=d.slice(0,g).concat(d.slice(g+1))}}for(var v in o>0&&c&&(this.state.tmp.suppress_repeats[o-1].START=!0,c=!1),this.state.opt.track_repeat)if(s[v]&&l[v])if("string"===typeof l[v]||"number"===typeof l[v]){if("title"===v&&s["title-short"]&&l["title-short"])var b=s["title-short"],y=l["title-short"];else b=s[v],y=l[v];u[v]=b==y}else if("undefined"===typeof s[v].length){u[v]=!1;var _=s[v].year,x=l[v].year;_&&x&&_==x&&(u[v]=!0)}else{b=JSON.stringify(s[v]),y=JSON.stringify(l[v]);u[v]=b===y}else u[v]=!1;r||(u.ORPHAN=!0),n===o&&(u.END=!0,r=!1),this.state.tmp.suppress_repeats.push(u)}for(h=0,f=i.length;h<f;h++){var w=e[i[h][0]][0].id;this.state.registry.registry[w].master=!0,this.state.registry.registry[w].siblings=[];for(var E=i[h][0],T=i[h][1],C=E;C<T;C++){this.state.tmp.suppress_repeats[C].SIBLING=!0;var k=e[C+1][0].id;e[C+1][1].parallel="other",this.state.registry.registry[w].siblings.push(k)}}}},t.Parallel.prototype.checkRepeats=function(e){var t=this.state.tmp.cite_index;if(this.state.tmp.suppress_repeats){if(e.parallel_first&&Object.keys(e.parallel_first).length>0){var n=[{}].concat(this.state.tmp.suppress_repeats),r=!0;for(var i in e.parallel_first)n[t][i]&&!n[t].START||(r=!1);return r}if(e.parallel_last&&Object.keys(e.parallel_last).length>0){n=this.state.tmp.suppress_repeats.concat([{}]),r=Object.keys(e.parallel_last).length>0;for(var i in e.parallel_last)n[t][i]&&!n[t].END||(r=!1);return r}if(e.non_parallel&&Object.keys(e.non_parallel).length>0){n=[{}].concat(this.state.tmp.suppress_repeats),r=!0;for(var i in e.non_parallel)n[t][i]||(r=!1);return r}}return!1},t.Util={},t.Util.Match=function(){this.any=function(e,t,n){return function(e,t){for(var r=0,i=n.length;r<i;r+=1){if(n[r](e,t))return!0}return!1}},this.none=function(e,t,n){return function(e,t){for(var r=0,i=n.length;r<i;r+=1){if(n[r](e,t))return!1}return!0}},this.all=function(e,t,n){return function(e,t){for(var r=0,i=n.length;r<i;r+=1){if(!n[r](e,t))return!1}return!0}},this[void 0]=this.all,this.nand=function(e,t,n){return function(e,t){for(var r=0,i=n.length;r<i;r+=1){if(!n[r](e,t))return!0}return!1}}},t.Transform=function(e){function n(t,n,r){var i="";return e.sys.getHumanForm&&("country"===t?i=(i=e.sys.getHumanForm(n.toLowerCase(),!1,!0)).split("|")[0]:"jurisdiction"===t&&(i=e.sys.getHumanForm(n.toLowerCase(),!1,!0),i=r?"":i.split("|").slice(1).join(", "))),i}function r(e,r,i,o,a,s,l){var c,u="",d=t.FIELD_CATEGORY_REMAP[s];if(!d)return a;var p=s,h=a;e.sys.normalizeAbbrevsKey&&(h=e.sys.normalizeAbbrevsKey(s,a));var f=!1;if("jurisdiction"===p&&h&&(f=-1===h.indexOf(":")),["jurisdiction","country"].indexOf(s)>-1&&a===a.toLowerCase()&&(h=a.toUpperCase()),e.sys.getAbbreviation){c=["jurisdiction","country","language-name","language-name-original"].indexOf(p)>-1?"default":i.jurisdiction?i.jurisdiction:"default";var m=e.transform.loadAbbreviation(c,d,h,i.language);if(e.transform.abbrevs[m][d]&&h){var g=e.transform.abbrevs[m][d][h];u="short"===r.strings.form&&g?f?"":g:n(p,h,f)}}return u||e.opt.development_extensions.require_explicit_legal_case_title_short&&"legal_case"===i.type||!o||!i[o]||!l||(u=i[o]),u||e.sys.getAbbreviation||!e.sys.getHumanForm||(u=n(p,h,f)),u||f||e.sys.getHumanForm&&"jurisdiction"===p||(u=a),e.opt.development_extensions.force_title_abbrev_fallback&&"title"===p&&u===a&&i["title-short"]&&(u=i["title-short"]),u}function i(t,n){var r,i=e.opt["default-locale"][0].slice(0,2);if(r=e.opt.development_extensions.strict_text_case_locales?new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),t.language){var o=(""+t.language).match(r);i=o?o[1]:"tlh"}return t.multi&&t.multi&&t.multi.main&&t.multi.main[n]&&(i=t.multi.main[n]),e.opt.development_extensions.strict_text_case_locales&&!e.opt.development_extensions.normalize_lang_keys_to_lowercase||(i=i.toLowerCase()),i}function o(n,r,o,a,s,l){var c,u,d,p,h=s,f=!1;if(!n[r])return{name:"",usedOrig:s,token:t.Util.cloneToken(this)};var m=!1;t.VARIABLES_WITH_SHORT_FORM.indexOf(r)>-1&&l&&(r+="-short",m=!0);var g=!1,v=null,b=[];"-short"===r.slice(-6)?(b.push(r),b.push(r.slice(0,-6))):b.push(r);for(var y=0,_=b.length;y<_;y++){var x=!1;d={name:"",usedOrig:s,locale:i(n,r=b[y])},p=e.opt[o]?e.opt[o].slice():[];var w=!1;if("locale-orig"===o?(s||(d.name=n[r],d.usedOrig=!1),w=!0,f=!0):!a||"undefined"!==typeof p&&0!==p.length||(d.name=n[r],d.usedOrig=!0,w=!0,f=!0),!w){for(var E=0,T=p.length;E<T;E+=1){if(u=(c=p[E]).split(/[\-_]/)[0],c&&n.multi&&n.multi._keys[r]&&n.multi._keys[r][c]){d.name=n.multi._keys[r][c],d.locale=c,w=!0,x=!0,f=!1;break}if(u&&n.multi&&n.multi._keys[r]&&n.multi._keys[r][u]){d.name=n.multi._keys[r][u],d.locale=u,w=!0,x=!0,f=!1;break}}!d.name&&a&&(d={name:n[r],usedOrig:!0,locale:i(n,r)},f=!0)}if(d.token=t.Util.cloneToken(this),0===y?(x&&(d.found_variant_ok=!0),v=d,m||"undefined"!==typeof p&&0!==p.length||(g=!0),x&&(g=!0)):m||x||!v?x&&(d.found_variant_ok=!0):(d=v,r=b[0]),["title","container-title"].indexOf(r)>-1&&!h&&(!d.token.strings["text-case"]||"sentence"===d.token.strings["text-case"]||"normal"===d.token.strings["text-case"])){var C;e.opt.lang;C=!f&&d.locale;var k=r.slice(0,-5),S="sentence"===d.token.strings["text-case"];d.name=t.titlecaseSentenceOrNormal(e,n,k,C,S),delete d.token.strings["text-case"]}if(g)break}return d}function a(t,n,i,o){var a=t.variables[0];if(e.publisherOutput&&i){if(-1===["publisher","publisher-place"].indexOf(a))return!1;e.publisherOutput[a+"-token"]=t,e.publisherOutput.varlist.push(a);var s=i.split(/;\s*/);s.length===e.publisherOutput[a+"-list"].length&&(e.publisherOutput[a+"-list"]=s);for(var l=0,c=s.length;l<c;l+=1)s[l]=r(e,t,n,!1,s[l],o,!0);return e.tmp[a+"-token"]=t,!0}return!1}function s(t,n){var r=n.match(/^(?:#[0-9]+)*(?:!((?:[-_a-z]+(?:(?:.*)))(?:,(?:[-_a-z]+(?:(?:.*))))*))*>>>/);if(r&&(n=n.slice(r[0].length),r[1]))for(var i=r[1].split(","),o=0,a=i.length;o<a;o+=1){var s=i[o].match(/^([-_a-z]+)(?:\:(.*))*$/),l=s[1],c=e.tmp.abbrev_trimmer;s[2]?c&&t&&(c[t]||(c[t]={}),c[t][l]=s[2]):-1===e.tmp.done_vars.indexOf(l)&&(c&&t&&(c.QUASHES[t]||(c.QUASHES[t]={}),c.QUASHES[t][l]=!0),e.tmp.done_vars.push(l))}return n}this.abbrevs={},this.abbrevs.default=new e.sys.AbbreviationSegments,this.getTextSubField=o,this.loadAbbreviation=function(n,r,i,o){n||(n="default");var a=n.split(":")[0],s=t.getAbbrevsDomain(e,a,o);return s&&(n+="@"+s),i?(e.sys.getAbbreviation&&((n=e.sys.getAbbreviation(e.opt.styleID,e.transform.abbrevs,n,r,i))||(n="default",s&&(n+="@"+s))),n):(e.transform.abbrevs[n]||(e.transform.abbrevs[n]=new e.sys.AbbreviationSegments),e.transform.abbrevs[n][r]||(e.transform.abbrevs[n][r]={}),n)},this.quashCheck=s,this.getOutputFunction=function(n,i,l,c){var u,d=t.LangPrefsMap[n[0]];return u=!!d&&e.opt["cite-lang-prefs"][d],function(e,l,p){var h,f,m,g,v,b;if(!n[0]||!l[n[0]]&&!l[c])return null;if(!e.tmp.just_looking&&p&&p["suppress-author"]&&!e.tmp.probably_rendered_something&&e.tmp.can_substitute.length()>1)return null;var y={primary:!1,secondary:!1,tertiary:!1};if("_sort"===e.tmp.area.slice(-5))y.primary="locale-sort";else if(u&&1===u.length&&"locale-orig"===u[0])y.primary="locale-orig",u=!1;else if(u&&!e.tmp.multi_layout)for(var _=["primary","secondary","tertiary"],x=0,w=_.length;x<w&&!(u.length-1<x);x+=1)u[x]&&(y[_[x]]="locale-"+u[x]);else y.primary="locale-orig";if("title-short"!==n[0]&&("bibliography"===e.tmp.area||"citation"===e.tmp.area&&"note"===e.opt.xclass&&p&&!p.position)||(y.secondary=!1,y.tertiary=!1),e.tmp.multi_layout&&(y.secondary=!1,y.tertiary=!1),e.tmp["publisher-list"])return"publisher"===n[0]?e.tmp["publisher-token"]=this:"publisher-place"===n[0]&&(e.tmp["publisher-place-token"]=this),null;var E=e.tmp.lang_array.slice(),T=o.call(this,l,n[0],y.primary,!0,null,i);h=T.name,f=T.locale;var C,k,S,O=T.token,A=T.usedOrig;if(i&&!T.found_variant_ok&&(h=r(e,O,l,c,h,i,!0))&&(!function(e,t){var n=t.match(/^#([0-9]+).*>>>/);n&&n[1]&&(e["cite-form"]=n[1])}(l,h),e.tmp.just_looking||(h=s(l.jurisdiction,h))),a(this,l,h,i))return e.tmp.lang_array=E,null;if(m=!1,v=!1,y.secondary&&(m=(T=o.call(this,l,n[0],y.secondary,!1,T.usedOrig,null,i)).name,g=T.locale,C=T.token,i&&!T.found_variant_ok&&m&&(m=r(e,C,l,!1,m,i,!0))),y.tertiary&&(v=(T=o.call(this,l,n[0],y.tertiary,!1,T.usedOrig,null,i)).name,b=T.locale,k=T.token,i&&!T.found_variant_ok&&v&&(v=r(e,k,l,!1,v,i,!0))),"locale-translit"===y.primary&&(S=e.opt.citeAffixes[d][y.primary].prefix),"<i>"===S&&"title"===n[0]&&!A){var j=!1;for(x=0,w=O.decorations.length;x<w;x+=1)"@font-style"===O.decorations[x][0]&&"italic"===O.decorations[x][1]&&(j=!0);j||O.decorations.push(["@font-style","italic"])}if("en"!==f&&"title"===O.strings["text-case"]&&(O.strings["text-case"]="passthrough"),"title"===n[0]&&(h=t.demoteNoiseWords(e,h,this["leading-noise-words"])),m||v){if(e.output.openLevel("empty"),O.strings.suffix=O.strings.suffix.replace(/[ .,]+$/,""),f&&(e.tmp.lang_array=[f].concat(E)),t.UPDATE_GROUP_CONTEXT_CONDITION(e,null,null,O,O.strings.prefix+h),e.output.append(h,O),e.tmp.probably_rendered_something=!0,h===m&&(m=!1),m){C.strings.prefix=e.opt.citeAffixes[d][y.secondary].prefix,C.strings.suffix=e.opt.citeAffixes[d][y.secondary].suffix,C.strings.prefix||(C.strings.prefix=" ");for(x=C.decorations.length-1;x>-1;x+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(C.decorations[x].join("/"))>-1&&(C.decorations=C.decorations.slice(0,x).concat(C.decorations.slice(x+1)));"en"!==g&&"title"===C.strings["text-case"]&&(C.strings["text-case"]="passthrough"),g&&(e.tmp.lang_array=[g].concat(E));var P=new t.Token;P.decorations.push(["@font-style","normal"]),P.decorations.push(["@font-weight","normal"]),e.output.openLevel(P),e.output.append(m,C),e.output.closeLevel();e.output.current.value(),e.output.current.value().blobs.length}if(h===v&&(v=!1),v){k.strings.prefix=e.opt.citeAffixes[d][y.tertiary].prefix,k.strings.suffix=e.opt.citeAffixes[d][y.tertiary].suffix,k.strings.prefix||(k.strings.prefix=" ");for(x=k.decorations.length-1;x>-1;x+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(k.decorations[x].join("/"))>-1&&(k.decorations=k.decorations.slice(0,x).concat(k.decorations.slice(x+1)));"en"!==b&&"title"===k.strings["text-case"]&&(k.strings["text-case"]="passthrough"),b&&(e.tmp.lang_array=[b].concat(E));var I=new t.Token;I.decorations.push(["@font-style","normal"]),I.decorations.push(["@font-weight","normal"]),e.output.openLevel(I),e.output.append(v,k),e.output.closeLevel();e.output.current.value(),e.output.current.value().blobs.length}e.output.closeLevel()}else f&&(e.tmp.lang_array=[f].concat(E)),t.UPDATE_GROUP_CONTEXT_CONDITION(e,null,null,O,O.strings.prefix+h),e.output.append(h,O),e.tmp.probably_rendered_something=!0;return e.tmp.lang_array=E,e.tmp.can_block_substitute&&e.tmp.name_node.children.push(e.output.current.value()),null}}},t.Token=function(e,t,n){this.name=e,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=t},t.Util.cloneToken=function(e){var n,r,i;if("string"===typeof e)return e;for(var o in n=new t.Token(e.name,e.tokentype),e.strings)e.strings.hasOwnProperty(o)&&(n.strings[o]=e.strings[o]);if(e.decorations)for(n.decorations=[],r=0,i=e.decorations.length;r<i;r+=1)n.decorations.push(e.decorations[r].slice());return e.variables&&(n.variables=e.variables.slice()),e.execs&&(n.execs=e.execs.slice(),e.tests&&(n.tests=e.tests.slice())),n},t.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},t.Blob=function(e,t,n){var r,i;if(this.levelname=n,t){for(var o in this.strings={prefix:"",suffix:""},t.strings)t.strings.hasOwnProperty(o)&&(this.strings[o]=t.strings[o]);for(this.decorations=[],r=void 0===t.decorations?0:t.decorations.length,i=0;i<r;i+=1)this.decorations.push(t.decorations[i].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];this.blobs="string"===typeof e?e:e?[e]:[],this.alldecor=[this.decorations]},t.Blob.prototype.push=function(e){"string"===typeof this.blobs?t.error("Attempt to push blob onto string object"):!1!==e&&(e.alldecor=e.alldecor.concat(this.alldecor),this.blobs.push(e))},t.NumericBlob=function(e,n,r,i,o){if(this.id=o,this.alldecor=[],this.num=r,this.particle=n,this.blobs=r.toString(),this.status=t.START,this.strings={},i){if(i.strings["text-case"]){var a=i.strings["text-case"];this.particle=t.Output.Formatters[a](e,this.particle),this.blobs=t.Output.Formatters[a](e,this.blobs)}this.gender=i.gender,this.decorations=i.decorations,this.strings.prefix=i.strings.prefix,this.strings.suffix=i.strings.suffix,this.strings["text-case"]=i.strings["text-case"],this.successor_prefix=i.successor_prefix,this.range_prefix=i.range_prefix,this.splice_prefix=i.splice_prefix,this.formatter=i.formatter,this.formatter||(this.formatter=new t.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))}else this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new t.Output.DefaultFormatter},t.NumericBlob.prototype.setFormatter=function(e){this.formatter=e,this.type=this.formatter.format(1)},t.Output.DefaultFormatter=function(){},t.Output.DefaultFormatter.prototype.format=function(e){return e.toString()},t.NumericBlob.prototype.checkNext=function(e,n){n?(this.status=t.START,"object"===typeof e&&(e.num===this.num+1?e.status=t.SUCCESSOR:e.status=t.SEEN)):e&&e.num&&this.type===e.type&&e.num===this.num+1?this.status===t.START||this.status===t.SEEN?e.status=t.SUCCESSOR:this.status!==t.SUCCESSOR&&this.status!==t.SUCCESSOR_OF_SUCCESSOR||(this.range_prefix?(e.status=t.SUCCESSOR_OF_SUCCESSOR,this.status=t.SUPPRESS):e.status=t.SUCCESSOR):(this.status===t.SUCCESSOR_OF_SUCCESSOR&&(this.status=t.END),"object"===typeof e&&(e.status=t.SEEN))},t.NumericBlob.prototype.checkLast=function(e){return(this.status===t.SEEN||e.num!==this.num-1&&this.status===t.SUCCESSOR)&&(this.status=t.SUCCESSOR,!0)},t.Util.fixDateNode=function(e,t,n){var r,i,o,a,s,l,c,u,d,p,h,f,m,g=this.cslXml.getAttributeValue(n,"lingo"),v=this.cslXml.getAttributeValue(n,"default-locale");if(this.build.date_key=!0,r=this.cslXml.getAttributeValue(n,"form"),g=v?this.opt["default-locale"][0]:this.cslXml.getAttributeValue(n,"lingo"),!this.getDate(r,v))return e;var b=this.cslXml.getAttributeValue(n,"date-parts");for(var y in i=this.cslXml.getAttributeValue(n,"variable"),u=this.cslXml.getAttributeValue(n,"prefix"),d=this.cslXml.getAttributeValue(n,"suffix"),f=this.cslXml.getAttributeValue(n,"display"),m=this.cslXml.getAttributeValue(n,"cslid"),o=this.cslXml.nodeCopy(this.getDate(r,v)),this.cslXml.setAttribute(o,"lingo",this.opt.lang),this.cslXml.setAttribute(o,"form",r),this.cslXml.setAttribute(o,"date-parts",b),this.cslXml.setAttribute(o,"cslid",m),this.cslXml.setAttribute(o,"variable",i),this.cslXml.setAttribute(o,"default-locale",v),u&&this.cslXml.setAttribute(o,"prefix",u),d&&this.cslXml.setAttribute(o,"suffix",d),f&&this.cslXml.setAttribute(o,"display",f),p=this.cslXml.children(o))a=p[y],"date-part"===this.cslXml.nodename(a)&&(s=this.cslXml.getAttributeValue(a,"name"),v&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(o,"date-part",s,"@default-locale","true"));for(var y in p=this.cslXml.children(n))if(a=p[y],"date-part"===this.cslXml.nodename(a))for(l in s=this.cslXml.getAttributeValue(a,"name"),h=this.cslXml.attributes(a))"@name"!==l&&(g&&g!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(l)>-1||(c=h[l],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(o,"date-part",s,l,c)));if("year"===this.cslXml.getAttributeValue(n,"date-parts"))this.cslXml.deleteNodeByNameAttribute(o,"month"),this.cslXml.deleteNodeByNameAttribute(o,"day");else if("year-month"===this.cslXml.getAttributeValue(n,"date-parts"))this.cslXml.deleteNodeByNameAttribute(o,"day");else if("month-day"===this.cslXml.getAttributeValue(n,"date-parts")){for(var _=this.cslXml.children(o),x=1,w=this.cslXml.numberofnodes(_);x<w;x++)if("year"===this.cslXml.getAttributeValue(_[x],"name")){this.cslXml.setAttribute(_[x-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(o,"year")}return this.cslXml.insertChildNodeAfter(e,n,t,o)},t.dateMacroAsSortKey=function(e,n){t.dateAsSortKey.call(this,e,n,!0)},t.dateAsSortKey=function(e,n,r){var i,o,a,s,l,c,u,d=this.variables[0],p="empty";if(r&&e.tmp.extension&&(p="macro-with-date"),"undefined"===typeof(i=n[d])&&(i={"date-parts":[[0]]}),"undefined"===typeof this.dateparts&&(this.dateparts=["year","month","day"]),i.raw?i=e.fun.dateparser.parseDateToArray(i.raw):i["date-parts"]&&(i=e.dateParseArray(i)),"undefined"===typeof i&&(i={}),i.year)for(c=0,u=t.DATE_PARTS_INTERNAL.length;c<u;c+=1)if(a=0,"_end"===(s=o=t.DATE_PARTS_INTERNAL[c]).slice(-4)&&(s=s.slice(0,-4)),i[o]&&this.dateparts.indexOf(s)>-1&&(a=i[o]),"year"===o.slice(0,4)){var h="1";"-"===(l=t.Util.Dates[s].numeric(e,a))[0]&&(h="0",l=l.slice(1),l=9999-parseInt(l,10)),e.output.append(t.Util.Dates[o.slice(0,4)].numeric(e,h+l),p)}else(a=t.Util.Dates[s]["numeric-leading-zeros"](e,a))||(a="00"),e.output.append(a,p)},t.Engine.prototype.dateParseArray=function(e){var n,r,i,o;for(r in n={},e)if("date-parts"===r){(i=e["date-parts"]).length>1&&i[0].length!==i[1].length&&t.error("CSL data error: element mismatch in date range input."),o=["","_end"];for(var a=0,s=i.length;a<s;a+=1)for(var l=0,c=t.DATE_PARTS.length;l<c;l+=1)isNaN(parseInt(i[a][l],10))?n[t.DATE_PARTS[l]+o[a]]=void 0:n[t.DATE_PARTS[l]+o[a]]=parseInt(i[a][l],10)}else e.hasOwnProperty(r)&&("literal"===r&&"object"===typeof e.literal&&"string"===typeof e.literal.part?(t.debug("Warning: fixing up weird literal date value"),n.literal=e.literal.part):n[r]=e[r]);return n},t.Util.Names={},t.Util.Names.compareNamesets=t.NameOutput.prototype._compareNamesets,t.Util.Names.unInitialize=function(e,t){var n,r,i,o,a;if(!t)return"";for(i=t.split(/(?:\-|\s+)/),o=t.match(/(\-|\s+)/g),a="",n=0,r=i.length;n<r;n+=1)a+=i[n],n<r-1&&(a+=o[n]);return a},t.Util.Names.initializeWith=function(e,n,r,i){var o;if(!n)return"";if(r||(r=""),["Lord","Lady"].indexOf(n)>-1||!n.replace(/^(?:<[^>]+>)*/,"").match(t.STARTSWITH_ROMANESQUE_REGEXP)&&!r.match("%s"))return n;!1===e.opt["initialize-with-hyphen"]&&(n=n.replace(/\-/g," "));for(var a=(n=(n=n.replace(/\s*\-\s*/g,"-").replace(/\s+/g," ")).replace(/-([a-z])/g,"\u2013$1")).length-2;a>-1;a+=-1)"."===n.slice(a,a+1)&&" "!==n.slice(a+1,a+2)&&(n=n.slice(0,a)+". "+n.slice(a+1));var s=t.Output.Formatters.nameDoppel.split(n),l=[];if(l=[s.strings[0]],0===s.tags.length){var c=l[0].match(/[^\.]+$/);c&&1===c[0].length&&c[0]!==c[0].toLowerCase()&&(l[0]+=".")}for(a=1,o=s.strings.length;a<o;a+=1)l.push(s.tags[a-1]),l.push(s.strings[a]);return(i?this.doNormalize(e,l,r):this.doInitialize(e,l,r)).replace(/\u2013([a-z])/g,"-$1")},t.Util.Names.notag=function(e){return e.replace(/^(?:<[^>]+>)*/,"")},t.Util.Names.mergetag=function(e,t,n){var r=t.match(/(?:-*<[^>]+>-*)/g);return r?(t=r.join(""),(r=n.match(/^(.*[^\s])*(\s+)$/))?(r[1]=r[1]?r[1]:"",n=r[1]+t+r[2]):n+=t,n):n},t.Util.Names.tagonly=function(e,t){var n=t.match(/(?:<[^>]+>)+/);return n?n.join(""):t},t.Util.Names.doNormalize=function(e,t,n){var r,i;n=n||"";var o=[];for(r=0,i=t.length;r<i;r+=1)this.notag(t[r]).length>1&&"."===this.notag(t[r]).slice(-1)?(t[r]=t[r].replace(/^(.*)\.(.*)$/,"$1$2"),o.push(!0)):1===t[r].length&&t[r].toUpperCase()===t[r]?o.push(!0):o.push(!1);for(r=0,i=t.length;r<i;r+=2)o[r]&&(r<t.length-2&&(t[r+1]=this.tagonly(e,t[r+1]),o[r+2]||(t[r+1]=this.tagonly(e,t[r+1])+" "),t[r+2].length>1?t[r+1]=n.replace(/\ufeff$/,"")+t[r+1]:t[r+1]=this.mergetag(e,t[r+1],n)),r===t.length-1&&(t[r]=t[r]+n));return t.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},t.Util.Names.doInitialize=function(e,n,r){var i,o,a,s,l,c,u;for(i=0,o=n.length;i<o;i+=2)if(u=n[i])if(!(a=u.match(t.NAME_INITIAL_REGEXP))&&!u.match(t.STARTSWITH_ROMANESQUE_REGEXP)&&u.length>1&&r.match("%s")&&(a=u.match(/(.)(.*)/)),a&&a[2]&&a[3]&&(a[1]=a[1]+a[2],a[2]=""),a&&a[1].slice(0,1)===a[1].slice(0,1).toUpperCase()){var d="";if(a[2]){var p="";for(s=0,l=(c=a[2].split("")).length;s<l;s+=1){var h=c[s];if(h!==h.toUpperCase())break;p+=h}p.length<a[2].length&&(d=t.toLocaleLowerCase.call(e,p))}n[i]=a[1]+d,i<o-1?r.match("%s")?n[i]=r.replace("%s",n[i]):n[i+1].indexOf("-")>-1?n[i+1]=this.mergetag(e,n[i+1].replace("-",""),r)+"-":n[i+1]=this.mergetag(e,n[i+1],r):r.match("%s")?n[i]=r.replace("%s",n[i]):n.push(r)}else!u.match(t.ROMANESQUE_REGEXP)||a&&a[3]||(n[i]=" "+u);var f=n.join("");return f=f.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},t.Util.Names.getRawName=function(e){var t=[];return e.literal?t.push(e.literal):(e.given&&t.push(e.given),e.family&&t.push(e.family)),t.join(" ")},t.Util.Dates={},t.Util.Dates.year={},t.Util.Dates.year.long=function(e,t){return t||(t="boolean"===typeof t?"":0),t.toString()},t.Util.Dates.year.imperial=function(e,t,n){var r="";t||(t="boolean"===typeof t?"":0),n=n?"_end":"";var i=e.tmp.date_object["month"+n];for(i=i?""+i:"1";i.length<2;)i="0"+i;var o=e.tmp.date_object["day"+n];for(o=o?""+o:"1";o.length<2;)o="0"+o;var a,s,l=parseInt(t+i+o,10);if(l>=18680908&&l<19120730?(a="\u660e\u6cbb",s=1867):l>=19120730&&l<19261225?(a="\u5927\u6b63",s=1911):l>=19261225&&l<19890108?(a="\u662d\u548c",s=1925):l>=19890108&&(a="\u5e73\u6210",s=1988),a&&s){var c=a;e.sys.normalizeAbbrevsKey&&(c=e.sys.normalizeAbbrevsKey("number",a)),e.transform.abbrevs.default.number[c]||e.transform.loadAbbreviation("default","number",c,null),e.transform.abbrevs.default.number[c]&&(a=e.transform.abbrevs.default.number[c]),r=a+(t-s)}return r},t.Util.Dates.year.short=function(e,t){if((t=t.toString())&&4===t.length)return t.substr(2)},t.Util.Dates.year.numeric=function(e,t){var n,r;for((r=(t=""+t).match(/([0-9]*)$/))?(n=t.slice(0,-1*r[1].length),t=r[1]):(n=t,t="");t.length<4;)t="0"+t;return n+t},t.Util.Dates.normalizeMonth=function(e,t){var n;if(e||(e=0),(e=""+e).match(/^[0-9]+$/)||(e=0),e=parseInt(e,10),t){var r={stub:"month-",num:e};if(r.num<1||r.num>24)r.num=0;else{for(;r.num>16;)r.num=r.num-4;r.num>12&&(r.stub="season-",r.num=r.num-12)}n=r}else(e<1||e>12)&&(e=0),n=e;return n},t.Util.Dates.month={},t.Util.Dates.month.numeric=function(e,n){return(n=t.Util.Dates.normalizeMonth(n))||(n=""),n},t.Util.Dates.month["numeric-leading-zeros"]=function(e,n){if(n=t.Util.Dates.normalizeMonth(n))for(n=""+n;n.length<2;)n="0"+n;else n="";return n},t.Util.Dates.month.long=function(e,n,r,i){var o=t.Util.Dates.normalizeMonth(n,!0);if(n=o.num){for(n=""+n;n.length<2;)n="0"+n;n=e.getTerm(o.stub+n,"long",0,0,!1,i)}else n="";return n},t.Util.Dates.month.short=function(e,n,r,i){var o=t.Util.Dates.normalizeMonth(n,!0);if(n=o.num){for(n=""+n;n.length<2;)n="0"+n;n=e.getTerm(o.stub+n,"short",0,0,!1,i)}else n="";return n},t.Util.Dates.day={},t.Util.Dates.day.numeric=function(e,t){return t.toString()},t.Util.Dates.day.long=t.Util.Dates.day.numeric,t.Util.Dates.day["numeric-leading-zeros"]=function(e,t){for(t||(t=0),t=t.toString();t.length<2;)t="0"+t;return t.toString()},t.Util.Dates.day.ordinal=function(e,t,n){return e.fun.ordinalizer.format(t,n)},t.Util.Sort={},t.Util.Sort.strip_prepositions=function(e){var t;return"string"===typeof e&&(t=e.match(/^(([aA]|[aA][nN]|[tT][hH][eE])\s+)/)),t&&(e=e.substr(t[1].length)),e},t.Util.substituteStart=function(e,n){var r,i,o,a,s,l,c;a=function(e,t,n){for(var r=0,i=this.decorations.length;r<i;r+=1)if("@strip-periods"===this.decorations[r][0]&&"true"===this.decorations[r][1]){e.tmp.strip_periods+=1;break}},this.execs.push(a),this.decorations&&e.opt.development_extensions.csl_reverse_lookup_support&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),c=["number","date","names"],("text"===this.name&&!this.postponed_macro||c.indexOf(this.name)>-1)&&(r=function(e,t,n){"author"===e.tmp.element_trace.value()||"names"===this.name?(!e.tmp.just_looking&&n&&n["author-only"]&&"intext"!==e.tmp.area&&e.tmp.probably_rendered_something&&e.tmp.element_trace.push("suppress-me"),!e.tmp.just_looking&&n&&n["suppress-author"]&&(e.tmp.probably_rendered_something||e.tmp.element_trace.push("suppress-me"))):"date"===this.name?!e.tmp.just_looking&&n&&n["author-only"]&&"intext"!==e.tmp.area&&e.tmp.probably_rendered_something&&e.tmp.element_trace.push("suppress-me"):!e.tmp.just_looking&&n&&n["author-only"]&&"intext"!==e.tmp.area?!e.tmp.probably_rendered_something&&e.tmp.can_block_substitute||e.tmp.element_trace.push("suppress-me"):n&&n["suppress-author"]&&e.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(r)),i=this.strings.cls,this.strings.cls=!1,0===e.build.render_nesting_level&&("bibliography"===e.build.area&&e.bibliography.opt["second-field-align"]?((o=new t.Token("group",t.START)).decorations=[["@display","left-margin"]],a=function(e,t){e.tmp.render_seen||(o.strings.first_blob=t.id,e.output.startTag("bib_first",o))},o.execs.push(a),n.push(o)):t.DISPLAY_CLASSES.indexOf(i)>-1&&((o=new t.Token("group",t.START)).decorations=[["@display",i]],a=function(e,t){o.strings.first_blob=t.id,e.output.startTag("bib_first",o)},o.execs.push(a),n.push(o)),e.build.cls=i),e.build.render_nesting_level+=1,1===e.build.substitute_level.value()&&(s=new t.Token("choose",t.START),t.Node.choose.build.call(s,e,n),a=function(){return!!e.tmp.can_substitute.value()},(l=new t.Token("if",t.START)).tests||(l.tests=[]),l.tests.push(a),l.test=e.fun.match.any(this,e,l.tests),n.push(l)),e.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(a=function(e,n,r){if(!e.tmp.just_looking&&!e.tmp.suppress_decorations){var i=new t.Token("text",t.START);i.decorations=[["@showid","true"]],e.output.startTag("variable_entry",i);var o=null;r&&(o=r.position),o||(o=0);var a=0;r&&r.noteIndex&&(a=r.noteIndex);var s=0;r&&r["first-reference-note-number"]&&(s=r["first-reference-note-number"]);var l=0;r&&r["first-container-reference-note-number"]&&(l=r["first-container-reference-note-number"]);var c=0;r&&r["citation-number"]&&(c=r["citation-number"]);var u=0;r&&r.index&&(u=r.index);var d={itemData:n,variableNames:this.variables,context:e.tmp.area,xclass:e.opt.xclass,position:["first","container-subsequent","subsequent","ibid","ibid-with-locator"][o],"note-number":a,"first-reference-note-number":s,"first-container-reference-note-number":l,"citation-number":c,index:u,mode:e.opt.mode};e.output.current.value().params=d}},this.execs.push(a))},t.Util.substituteEnd=function(e,n){var r,i,o,a,s,l;if(e.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(r=function(e){e.tmp.just_looking||e.tmp.suppress_decorations||e.output.endTag("variable_entry")},this.execs.push(r)),r=function(e){for(var t=0,n=this.decorations.length;t<n;t+=1)if("@strip-periods"===this.decorations[t][0]&&"true"===this.decorations[t][1]){e.tmp.strip_periods+=-1;break}},this.execs.push(r),e.build.render_nesting_level+=-1,0===e.build.render_nesting_level&&(e.build.cls?(r=function(e){e.output.endTag("bib_first")},this.execs.push(r),e.build.cls=!1):"bibliography"===e.build.area&&e.bibliography.opt["second-field-align"]&&(r=function(e){e.tmp.render_seen||e.output.endTag("bib_first")},(i=new t.Token("group",t.END)).execs.push(r),n.push(i),(o=new t.Token("group",t.START)).decorations=[["@display","right-inline"]],r=function(e){e.tmp.render_seen||(e.tmp.render_seen=!0,e.output.startTag("bib_other",o))},o.execs.push(r),n.push(o))),1===e.build.substitute_level.value()&&(a=new t.Token("if",t.END),n.push(a),s=new t.Token("choose",t.END),t.Node.choose.build.call(s,e,n)),"names"===this.name||"text"===this.name&&"title"!==this.variables_real){new t.Token("text",t.SINGLETON);var c=this.name;r=function(e,n){if("bibliography"===e.tmp.area&&"string"===typeof e.bibliography.opt["subsequent-author-substitute"]&&(!this.variables_real||n[this.variables_real])&&(!this.variables_real||"names"!==c)){var r,i,o=e.bibliography.opt["subsequent-author-substitute-rule"];if(!e.tmp.suppress_decorations&&e.tmp.subsequent_author_substitute_ok&&e.tmp.rendered_name){if("partial-each"===o||"partial-first"===o){var a=!0,s=[];for(r=0,i=e.tmp.name_node.children.length;r<i;r+=1){var u=e.tmp.rendered_name[r];a&&e.tmp.last_rendered_name&&e.tmp.last_rendered_name.length>r-1&&u&&!u.localeCompare(e.tmp.last_rendered_name[r])?(l=new t.Blob(e[e.tmp.area].opt["subsequent-author-substitute"]),e.tmp.name_node.children[r].blobs=[l],"partial-first"===o&&(a=!1)):a=!1,s.push(u)}e.tmp.last_rendered_name=s}else if("complete-each"===o){if(s=e.tmp.rendered_name.join(",")){if(e.tmp.last_rendered_name&&!s.localeCompare(e.tmp.last_rendered_name))for(r=0,i=e.tmp.name_node.children.length;r<i;r+=1)l=new t.Blob(e[e.tmp.area].opt["subsequent-author-substitute"]),e.tmp.name_node.children[r].blobs=[l];e.tmp.last_rendered_name=s}}else{(s=e.tmp.rendered_name.join(","))&&(e.tmp.last_rendered_name&&!s.localeCompare(e.tmp.last_rendered_name)&&(l=new t.Blob(e[e.tmp.area].opt["subsequent-author-substitute"]),e.tmp.label_blob?e.tmp.name_node.top.blobs=[l,e.tmp.label_blob]:e.tmp.name_node.top.blobs.length?e.tmp.name_node.top.blobs[0].blobs=[l]:e.tmp.name_node.top.blobs=[l],e.tmp.substituted_variable=c),e.tmp.last_rendered_name=s)}e.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(r)}("text"===this.name&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(r=function(e,t){e.tmp.element_trace.mystack.length>1&&e.tmp.element_trace.pop()},this.execs.push(r))},t.Util.padding=function(e){var t=e.match(/\s*(-{0,1}[0-9]+)/);if(t)for((e=parseInt(t[1],10))<0&&(e=1e20+e),e=""+e;e.length<20;)e="0"+e;return e},t.Util.LongOrdinalizer=function(){},t.Util.LongOrdinalizer.prototype.init=function(e){this.state=e},t.Util.LongOrdinalizer.prototype.format=function(e,n){e<10&&(e="0"+e);var r=t.Engine.getField(t.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+e,"long",0,n);return r||(r=this.state.fun.ordinalizer.format(e,n)),this.state.tmp.cite_renders_content=!0,r},t.Util.Ordinalizer=function(e){this.state=e,this.suffixes={}},t.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var e=0;e<3;e+=1){var t=[void 0,"masculine","feminine"][e];this.suffixes[this.state.opt.lang][t]=[];for(var n=1;n<5;n+=1){var r=this.state.getTerm("ordinal-0"+n,"long",!1,t);if("undefined"===typeof r){delete this.suffixes[this.state.opt.lang][t];break}this.suffixes[this.state.opt.lang][t].push(r)}}}},t.Util.Ordinalizer.prototype.format=function(e,t){var n;n=""+(e=parseInt(e,10));var r="",i=[];if(t&&i.push(t),i.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){var o;r=this.state.getTerm("ordinal",!1,0,t);for(var a=0,s=i.length;a<s;a+=1){o=i[a];var l=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(l["whole-number"][n]&&l["whole-number"][n][o]?r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][n][o],!1,0,t):l["last-two-digits"][n.slice(n.length-2)]&&l["last-two-digits"][n.slice(n.length-2)][o]?r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][n.slice(n.length-2)][o],!1,0,t):l["last-digit"][n.slice(n.length-1)]&&l["last-digit"][n.slice(n.length-1)][o]&&(r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][n.slice(n.length-1)][o],!1,0,t)),r)break}}else t||(t=void 0),this.state.fun.ordinalizer.init(),r=e/10%10===1||e>10&&e<20?this.suffixes[this.state.opt.lang][t][3]:e%10===1&&e%100!==11?this.suffixes[this.state.opt.lang][t][0]:e%10===2&&e%100!==12?this.suffixes[this.state.opt.lang][t][1]:e%10===3&&e%100!==13?this.suffixes[this.state.opt.lang][t][2]:this.suffixes[this.state.opt.lang][t][3];return n=n+=r},t.Util.Romanizer=function(){},t.Util.Romanizer.prototype.format=function(e){var n,r,i,o,a;if(n="",e<6e3)for((o=e.toString().split("")).reverse(),r=0,i=0,a=o.length,r=0;r<a;r+=1)i=parseInt(o[r],10),n=t.ROMAN_NUMERALS[r][i]+n;return n},t.Util.Suffixator=function(e){e||(e=t.SUFFIX_CHARS),this.slist=e.split(",")},t.Util.Suffixator.prototype.format=function(e){var t;e+=1;var n="";do{t=e%26===0?26:e%26;n=this.slist[t-1]+n;e=(e-t)/26}while(0!==e);return n},t.Engine.prototype.processNumber=function(e,n,r){var i,o=this,a=r;r="page-first"===r?"page":r;var s=",\\s+and\\s+|\\s+and\\s+";"en"!==this.opt.lang.slice(0,2)&&(s+="|,\\s+"+this.getTerm("and")+"\\s+|\\s+"+this.getTerm("and")+"\\s+");var l="\\s*&\\s*",c=new RegExp("^"+l+"$"),u=new RegExp("("+l+"|"+s+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)","g"),d=new RegExp("(?:"+l+"|"+s+"|;\\s+|,\\s+|\\s*\\\\*[\\-\\u2013]+\\s*)"),p=this.getTerm("and"),h=this.getTerm("and","symbol");function f(e,n,i,o,s){o=o||"";var l={};if(n||t.STATUTE_SUBDIV_STRINGS_REVERSE[r]||(n="var:"+r),n){var c=n.match(/(\s*)([^\s]+)(\s*)/);"page"===a&&0===s&&-1===["p.","pp."].indexOf(c[2])?(l.gotosleepability=!0,l.labelVisibility=!0):l.labelVisibility=!1,l.label=c[2],l.origLabel=e,l.labelSuffix=c[3]?c[3]:"",l.plural=0}return(c=i.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/))?(l.particle=c[1]?c[1]:"",l.value=c[2]):(l.particle="",l.value=i),l.joiningSuffix=o.replace(/\s*-\s*/,"-"),l}function m(e,t,n){var r=e[n.pos],i=e[t].value,o="\\-"===r.joiningSuffix;i.particle&&i.particle!==r.particle&&(n.collapsible=!1);var a=i.match(/^[0-9]+([-,:a-zA-Z]*)$/),s=r.value.match(/^(?:[0-9]+|[ixv]+)([-,:a-zA-Z]*|\-[\-0-9]+)$/);if(i&&a&&s&&!o||(n.collapsible=!1,i&&s||(n.numeric=!1),o&&n.count--),(a&&a[1]||s&&s[1])&&(n.collapsible=!1),void 0===e[t].collapsible){for(var l=t,c=t+n.count;l<c;l++)isNaN(parseInt(e[l].value))&&!e[l].value.match(/^[ivxlcmIVXLCM]+$/)?e[l].collapsible=!1:e[l].collapsible=!0;n.collapsible=e[t].collapsible}var u=n.collapsible;for(l=n.pos,c=n.pos+n.count;l<c;l++)n.count>1&&u&&(e[l].plural=1),e[l].numeric=n.numeric,e[l].collapsible=n.collapsible}function g(e,n,i){"var:"!==i.label.slice(0,4)&&(0===i.pos?(["locator","number","locator-extra","page"].indexOf(r)>-1&&"undefined"===typeof o.getTerm(t.STATUTE_SUBDIV_STRINGS[i.label])&&(e[i.pos].labelVisibility=!0),-1===["locator","number","locator-extra","page"].indexOf(r)&&t.STATUTE_SUBDIV_STRINGS[i.label]!==r&&(e[0].labelVisibility=!0)):e[i.pos].labelVisibility=!0)}function v(e){return e.replace("\\-","-")}function b(n){var r=t.Util.cloneToken(e),i=new t.Token;o.tmp.just_looking||(i.decorations=r.decorations,r.decorations=[],i.strings.prefix=r.strings.prefix,r.strings.prefix="",i.strings.suffix=r.strings.suffix,r.strings.suffix="");var a=n.length?n[0].label:null;if(n.length){for(var s=0,l=n.length;s<l;s++){var c=n[s],u=t.Util.cloneToken(r);u.gender=e.gender,a===c.label&&(u.formatter=e.formatter),c.numeric&&(u.successor_prefix=c.successor_prefix),u.strings.suffix=u.strings.suffix+v(c.joiningSuffix),c.styling=u}o.tmp.just_looking||'"'===n[0].value.slice(0,1)&&'"'===n[n.length-1].value.slice(-1)&&(n[0].value=n[0].value.slice(1),n[n.length-1].value=n[n.length-1].value.slice(0,-1),i.decorations.push(["@quotes",!0]))}return i}function y(e,t){return"page"===e||["locator","locator-extra"].indexOf(e)>-1&&(["p."].indexOf(t.label)>-1||["p."].indexOf(t.origLabel)>-1)}function _(e,n,r,i){var a=y(e,n),s=function(e,n){var r,i=!0;return["locator","locator-extra","page"].indexOf(e)>-1&&(r=n.origLabel?n.origLabel:n.label,i=!!o.getTerm(t.STATUTE_SUBDIV_STRINGS[r])),i}(e,n);return s&&"-"===r&&i&&((a||["locator","locator-extra","issue","volume","edition","number"].indexOf(e)>-1)&&((r=o.getTerm("page-range-delimiter"))||(r="\u2013")),"collection-number"===e&&((r=o.getTerm("year-range-delimiter"))||(r="\u2013"))),r}function x(e,t,n){if(!(t<1)&&2===n.count&&e[t-1].particle===e[t].particle)if("-"===e[t-1].joiningSuffix)if(!o.opt["page-range-format"]&&parseInt(e[t-1].value,10)>parseInt(e[t].value,10))e[t-1].joiningSuffix=_(r,e[t],e[t-1].joiningSuffix,!0);else{var i,a=e[t];!y(r,a)||isNaN(parseInt(e[t-1].value))||isNaN(parseInt(e[t].value))?((""+e[t-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+e[t].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(e[t-1].joiningSuffix=o.getTerm("page-range-delimiter")),i=e[t-1].value+v(e[t-1].joiningSuffix)+e[t].value):(i=e[t-1].particle+e[t-1].value+" - "+e[t].particle+e[t].value,i=o.fun.page_mangler(i));var s=i.match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+[a-z]*)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+[a-z]*)$/);if(s){var l=s[3];l=_(r,a,l,e[t].numeric),e[t-1].particle=s[1],e[t-1].value=s[2],e[t-1].joiningSuffix=l,e[t].particle=s[4],e[t].value=s[5]}n.count=0}else n.count=1}function w(t){if(e&&-1!==["page","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator","locator-extra"].indexOf(r)){for(var n={count:0,label:null,lastHadRangeDelimiter:!1},i=0,o=t.length;i<o;i++){var a=t[i];if(a.collapsible)n.label===a.label&&"-"===a.joiningSuffix?n.count=1:n.label===a.label&&"-"!==a.joiningSuffix?(n.count++,2===n.count&&x(t,i,n)):n.label!==a.label?(n.label=a.label,n.count=1):(n.count=1,n.label=a.label);else{n.count=0,n.label=null;var s=a.numeric;a.joiningSuffix=_(r,a,a.joiningSuffix,s)}}2===n.count&&x(t,t.length-1,n)}}if(p===h&&(h="&"),e&&this.tmp.shadow_numbers[a]&&this.tmp.shadow_numbers[a].values.length)return w(O=this.tmp.shadow_numbers[a].values),void(this.tmp.shadow_numbers[a].masterStyling=b(O));if(this.tmp.shadow_numbers[a]||(this.tmp.shadow_numbers[a]={values:[]}),n){var E=t.LangPrefsMap[r];if(E){var T=this.opt["cite-lang-prefs"][E][0];i=(i=this.transform.getTextSubField(n,a,"locale-"+T,!0)).name}else i=n[a];if(i&&"number"===a&&"legal_case"===n.type&&(i=i.replace(/[\\]*-/g,"\\-")),i&&this.sys.getAbbreviation){if(this.sys.normalizeAbbrevsKey)var C=this.sys.normalizeAbbrevsKey(a,i);else C=i;var k=this.transform.loadAbbreviation(n.jurisdiction,"number",C,n.language);this.transform.abbrevs[k].number&&(this.transform.abbrevs[k].number[C]?i=this.transform.abbrevs[k].number[C]:"undefined"!==typeof this.transform.abbrevs[k].number[C]&&delete this.transform.abbrevs[k].number[C])}if("undefined"!==typeof i&&("string"===typeof i||"number"===typeof i)){"number"===typeof i&&(i=""+i);var S=t.STATUTE_SUBDIV_STRINGS_REVERSE[r];if(0===this.tmp.shadow_numbers[a].values.length){var O=function(e,i){var a,s,l;if(i=i||"",e=function(e){var i=(e=e.trim()).match(/^([^ ]+)/);if(i&&!t.STATUTE_SUBDIV_STRINGS[i[1]]){var o=null;(o=["locator","locator-extra","page"].indexOf(r)>-1?n.label?t.STATUTE_SUBDIV_STRINGS_REVERSE[n.label]:"p.":t.STATUTE_SUBDIV_STRINGS_REVERSE[r])&&(e=o+" "+e)}return e}(e),"page"===r&&e.indexOf("\u2013")>-1&&(e=e.replace(/\u2013/g,"-")),e.indexOf("\\-")>-1){a=new RegExp(u.source.replace("\\-","")),s=new RegExp(d.source.replace("\\-",""));for(var p=0,m=(v=e.split("\\-")).length;p<m;p++)v[p]=v[p].replace(/\-/g,"\u2013");l=(l=v.join("\\-")).replace(/\\/g,"")}else a=u,s=d,l=e;var g=[];if(x=l.match(a)){var v=l.split(s);for(p=0,m=x.length;p<m;p++)x[p].match(c)&&(v[p].match(/[a-zA-Z]$/)&&v[p].match(/^[a-zA-Z]/)?x[p]=h:x[p]=" "+h+" ");for(var p in v)if((""+v[p]).replace(/^[a-z]\.\s+/,"").match(/[^\s0-9ivxlcmIVXLCM]/))break;for(p=0,m=v.length-1;p<m;p++)g.push(v[p]),g.push(x[p]);g.push(v[v.length-1]),g=function(e){for(var t=e.length-2;t>-1;t-=2)"-"===e[t]&&e[t-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&e[t+1].match(/^[,a-zA-Z]+$/)&&(e[t-1]=e.slice(t-1,t+2).join(""),e=e.slice(0,t).concat(e.slice(t+2)));return e}(g)}else g=[l];var b=[],y=i,_="";for(p=0,m=g.length;p<m;p+=2){var x;if(x=g[p].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/g)){for(var w=(v=g[p].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z]|subpara|subch|amend|bibliog|annot|illus|princ|intro|sched|subdiv|subsec)(?:\.| ) *)/)).length-1;w>0;w--)!v[w-1]||v[w].match(/^[0-9]+([-;,:a-zA-Z]*)$/)&&v[w-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||(v[w-1]=v[w-1]+x[w-1]+v[w],v=v.slice(0,w).concat(v.slice(w+1)),x=x.slice(0,w-1).concat(x.slice(w)));if(x.length>0){var E=x[0].trim();!t.STATUTE_SUBDIV_STRINGS[E]||"undefined"===typeof o.getTerm(t.STATUTE_SUBDIV_STRINGS[E])||-1===["locator","number","locator-extra","page"].indexOf(r)&&t.STATUTE_SUBDIV_STRINGS[E]!==r?0===p&&(x=x.slice(1),v[0]=v[0]+" "+E+" "+v[1],v=v.slice(0,1).concat(v.slice(2))):_=E}w=0;for(var T=v.length;w<T;w++)(v[w]||w===v.length-1)&&(C=_===(y=x[w-1]?x[w-1]:y).trim()?"":_,l=v[w]?v[w].trim():"",w===v.length-1?b.push(f(C,y,l,g[p+1],p)):b.push(f(C,y,l,null,p)))}else{var C;C=_===y.trim()?"":_,b.push(f(C,y,g[p],g[p+1]))}}return b}(i,S);for(var A of(function(e){for(var t=0,n=e.length-1;t<n;t++)!e[t].joiningSuffix&&e[t+1].label&&(e[t].joiningSuffix=" ")}(O),function(e){if(0!==e.length){for(var t=0,i=1,o=1,s=e.length;o<s;o++){var l=e[o-1],c=e[o];l.label===c.label&&l.particle===l.particle?i++:((u=JSON.parse(JSON.stringify(e[t]))).pos=t,u.count=i,u.numeric=!0,m(e,t,u),l.label!==c.label&&g(e,0,u),t=o,i=1)}var u;(u=JSON.parse(JSON.stringify(e[t]))).pos=t,u.count=i,u.numeric=!0,m(e,t,u),g(e,0,u),e.length&&e[0].numeric&&"number-of-"===r.slice(0,10)&&parseInt(n[a],10)>1&&(e[0].plural=1)}}(O),O))A.numeric||(A.plural=0);this.tmp.shadow_numbers[a].values=O,e&&(w(O),this.tmp.shadow_numbers[a].masterStyling=b(O)),function(e,n,i){var a=e[n];i.length&&(a.numeric=i[0].numeric,a.collapsible=i[0].collapsible,a.plural=i[0].plural,a.label=t.STATUTE_SUBDIV_STRINGS[i[0].label],"number"===r&&"issue"===a.label&&o.getTerm("number")&&(a.label="number"))}(this.tmp.shadow_numbers,a,O)}var j=this.tmp.shadow_numbers[a];"number"===r&&1===j.values.length&&j.values[0].value.indexOf("|")>-1&&(j.values[0].value=j.values[0].value.replace(/\|/g,", "),j.values[0].numeric=!0,j.values[0].plural=1,j.values[0].collapsible=!1,j.numeric=!0,j.plural=1,j.collapsible=!1),1===j.values.length&&j.values[0].value.match(/^[0-9]+(?:\/[0-9]+)+$/)&&(j.values[0].numeric=!0,j.values[0].plural=0,j.values[0].collapsible=!1,j.numeric=!0,j.plural=0,j.collapsible=!1),"page"===r&&j.values.length>0&&j.values[0].gotosleepability&&(j.labelForm="short")}}},t.Util.outputNumericField=function(e,n,r){e.output.openLevel(e.tmp.shadow_numbers[n].masterStyling);var i,o=e.tmp.shadow_numbers[n].masterStyling,a=e.tmp.shadow_numbers[n].values,s=a.length?a[0].label:null,l=e.tmp.shadow_numbers[n].labelForm,c=e.tmp.group_context.tip.label_static;i=l||"short";for(var u=e.tmp.shadow_numbers[n].labelCapitalizeIfFirst,d=e.tmp.shadow_numbers[n].labelDecorations,p=null,h=0,f=a.length;h<f;h++){var m,g=a[h],v="";g.label&&(m="var:"===g.label.slice(0,4)?g.label.slice(4):t.STATUTE_SUBDIV_STRINGS[g.label])&&(g.label===s?(c&&-1===(v=e.getTerm(m,"static",g.plural)).indexOf("%s")&&(v=""),v||(v=e.getTerm(m,l,g.plural))):(c&&-1===(v=e.getTerm(m,"static",g.plural)).indexOf("%s")&&(v=""),v||(v=e.getTerm(m,i,g.plural))),u&&(v=t.Output.Formatters["capitalize-first"](e,v)));var b=-1;v&&(b=v.indexOf("%s"));var y,_=t.Util.cloneToken(g.styling);if(_.formatter=g.styling.formatter,_.type=g.styling.type,_.num=g.styling.num,_.gender=g.styling.gender,b>0&&b<v.length-2)_.strings.prefix+=v.slice(0,b),_.strings.suffix=v.slice(b+2)+_.strings.suffix;else if(g.labelVisibility)if(v||(v=g.label,m=g.label),b>0){var x=new t.Token;x.decorations=d,e.output.append(v.slice(0,b),x)}else b!==v.length-2&&-1!==b||e.output.append(v+g.labelSuffix,"empty");if(t.UPDATE_GROUP_CONTEXT_CONDITION(e,o.strings.prefix,null,o,"".concat(g.particle).concat(g.value)),g.collapsible)"undefined"===typeof(y=g.value.match(/^[1-9][0-9]*$/)&&Number.isSafeInteger(parseInt(g.value,10))?new t.NumericBlob(e,g.particle,parseInt(g.value,10),_,r):new t.NumericBlob(e,g.particle,g.value,_,r)).gender&&(y.gender=e.locale[e.opt.lang]["noun-genders"][n]),e.output.append(y,"literal");else e.output.append(g.particle+g.value,_);if(0===b&&b<v.length-2&&(null===p&&(p=m),m!==p||h===a.length-1)){var w=new t.Token;w.decorations=d,e.output.append(v.slice(b+2),w)}p=m,e.tmp.term_predecessor=!0}e.output.closeLevel()},t.Util.PageRangeMangler={},t.Util.PageRangeMangler.getFunction=function(e,t){var n,r,i,o,a,s,l,c,u,d,p,h,f,m,g,v,b,y,_=e.getTerm(t+"-range-delimiter");n=/([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)/,o=function(n){for(i=n.length,r=1;r<i;r+=2)"object"===typeof n[r]&&(n[r]=n[r].join(""));var o=n.join("");return o=o.replace(/([^\\])\-/g,"$1"+e.getTerm(t+"-range-delimiter"))},a=function(e){var t,n,o,a="\\s+\\-\\s+",s=new RegExp("([^\\\\])[-"+("-"===_?"":_)+"\\u2013]","g");e=e.replace(s,"$1 - ").replace(/\s+-\s+/g," - ");var l=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+a+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*)","g"),c=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*"+a+"(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*");if(t=e.match(l),0===(n=e.split(c)).length)o=t;else for(o=[n[0]],r=1,i=n.length;r<i;r+=1)o.push(t[r-1].replace(/\s*\-\s*/g,"-")),o.push(n[r]);return o},s=function(e){for(p=a(e=""+e),i=p.length,r=1;r<i;r+=2)(h=p[r].match(n))&&(h[3]&&h[1]!==h[3]||(h[4].length<h[2].length&&(h[4]=h[2].slice(0,h[2].length-h[4].length)+h[4]),parseInt(h[2],10)<parseInt(h[4],10)&&(h[3]=_+(h[1]?h[1]:""),p[r]=h.slice(1)))),"string"===typeof p[r]&&(p[r]=p[r].replace(/\-/g,_));return p},l=function(e,t,n){i=e.length;for(var r=1,a=e.length;r<a;r+=2)"object"===typeof e[r]&&(e[r][3]=c(e[r][1],e[r][3],t,n),e[r][2].slice(1)===e[r][0]&&(e[r][2]=_));return o(e)},c=function(e,t,n,r){if(n||(n=0),f=(""+e).split(""),m=(""+t).split(""),(g=m.slice()).reverse(),f.length===m.length)for(var i=0,o=f.length;i<o;i+=1){if(!(f[i]===m[i]&&g.length>n)){if(n&&r&&3===g.length){var a=f.slice(0,i);a.reverse(),g=g.concat(a)}break}g.pop()}return g.reverse(),g.join("")},u=function(e){for(i=e.length,r=1;r<i;r+=2)"object"===typeof e[r]&&(h=e[r],v=parseInt(h[1],10),b=parseInt(h[3],10),v>100&&v%100&&parseInt(v/100,10)===parseInt(b/100,10)?h[3]=""+b%100:v>=1e4&&(h[3]=""+b%1e3)),h[2].slice(1)===h[0]&&(h[2]=_);return o(e)},d=function(e){for(i=e.length,r=1;r<i;r+=2){if("object"===typeof e[r]&&(h=e[r],v=parseInt(h[1],10),b=parseInt(h[3],10),m=""+b,v>100&&v%100))for(var t=2;t<m.length;t++){var n=Math.pow(10,t);if(Math.floor(v/n)===Math.floor(b/n)){h[3]=""+b%n;break}}h[2].slice(1)===h[0]&&(h[2]=_)}return o(e)};var x=function(e,t,n,r){return t(s(e=""+e),n,r)};return e.opt[t+"-range-format"]?"expanded"===e.opt[t+"-range-format"]?y=function(e){return x(e,o)}:"minimal"===e.opt[t+"-range-format"]?y=function(e){return x(e,l)}:"minimal-two"===e.opt[t+"-range-format"]?y=function(e,t){return x(e,l,2,t)}:"chicago"===e.opt[t+"-range-format"]||"chicago-15"===e.opt[t+"-range-format"]?y=function(e){return x(e,u)}:"chicago-16"===e.opt[t+"-range-format"]&&(y=function(e){return x(e,d)}):y=function(e){return x(e,o)},y},t.Util.FlipFlopper=function(e){var n=[],r={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{true:"inner",inner:"true",false:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{true:"inner",inner:"true",false:"true"}}};r['("']=r[' "'],r["('"]=r[" '"];var i=e.getTerm("open-quote"),o=e.getTerm("close-quote"),a=e.getTerm("open-inner-quote"),s=e.getTerm("close-inner-quote");function l(e){for(var t=[],n=Object.keys(r),i=0,o=n.length;i<o;i++){var a=n[i];"quote"===r[e].type&&r[e]||t.push(a)}var s=r[e];return s.opener=new RegExp("^(?:"+t.map((function(e){return e.replace("(","\\(")})).join("|")+")"),s}i&&o&&-1===[' "'," '",'"',"'"].indexOf(i)&&(r[i]=JSON.parse(JSON.stringify(r[' "'])),r[i].opener=i,r[i].closer=o),a&&s&&-1===[' "'," '",'"',"'"].indexOf(a)&&(r[a]=JSON.parse(JSON.stringify(r[" '"])),r[a].opener=a,r[a].closer=s);var c=function(){for(var e={},t=Object.keys(r),n=0,i=t.length;n<i;n++){var o=t[n];e[o]=l(o)}return e}(),u=function(){var e=[],t=[],n={};for(var r in c)e.push(r),n[c[r].closer]=!0;for(var i=Object.keys(n),o=0,a=i.length;o<a;o++){var s=i[o];t.push(s)}var l=e.concat(t).map((function(e){return e.replace("(","\\(")})).join("|");return{matchAll:new RegExp("((?:"+l+"))","g"),splitAll:new RegExp("(?:"+l+")","g"),open:new RegExp("(^(?:"+e.map((function(e){return e.replace("(","\\(")})).join("|")+")$)"),close:new RegExp("(^(?:"+t.join("|")+")$)")}}();function d(e,t){return e.match(u.open)?function(e,t){var r=n[n.length-1];return!r||e.match(r.opener)?(n.push({type:c[e].type,opener:c[e].opener,closer:c[e].closer,pos:t}),!1):(n.pop(),n.push({type:c[e].type,opener:c[e].opener,closer:c[e].closer,pos:t}),{fixtag:r.pos})}(e,t):function(e,t){var r=n[n.length-1];return r&&e===r.closer?(n.pop(),"nocase"===r.type&&{nocase:{open:r.pos,close:t}}):r?{fixtag:r.pos}:{fixtag:t}}(e,t)}var p=function(t){var n=[];this.set=function(i){for(var o=r[i].attr,a=null,s=n.length-1;s>-1;s--){if((d=n[s])[0]===o){a=d;break}}if(!a){var l=[e[e.tmp.area].opt.layout_decorations].concat(t.alldecor);e:for(s=l.length-1;s>-1;s--){var c=l[s];if(c)for(var u=c.length-1;u>-1;u--){var d;if((d=c[u])[0]===o){a=d;break e}}}}a=a?[o,r[i].flipflop[a[1]]]:[o,r[i].outer],n.push(a)},this.pair=function(){return n[n.length-1]},this.pop=function(){n.pop()}};function h(e,t){if("'"===e){if(t&&t.match(/^[^\,\.\?\:\;\ ]/))return"\u2019"}else if(" '"===e&&t&&t.match(/^[\ ]/))return" \u2019";return!1}this.processTags=function(i){var o=!1;" "!==(g=i.blobs).slice(0,1)||g.match(/^\s+[\'\"]/)||(o=!0);var a=new RegExp("("+t.ROMANESQUE_REGEXP.source+")\u2019("+t.ROMANESQUE_REGEXP.source+")","g"),s=function(e){var t=[],n=(e=(e=e.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4')).replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3")).match(u.matchAll);if(!n)return{tags:[],strings:[e],forcedSpaces:[]};for(var i=e.split(u.splitAll),o=0,a=n.length-1;o<a;o++)r[n[o]]&&(""===i[o+1]&&['"',"'"].indexOf(n[o+1])>-1?(n[o+1]=" "+n[o+1],t.push(!0)):t.push(!1));return{tags:n,strings:i,forcedSpaces:t}}(g=" "+g.replace(a,"$1'$2"));if(0!==s.tags.length){for(var l,c=!1,f=0,m=s.tags.length;f<m;f++){var g,v=h(x=s.tags[f],g=s.strings[f+1]);if(v)s.strings[f+1]=v+s.strings[f+1],s.tags[f]="";else{for(var b;b=d(x,f);){if(!(Object.keys(b).indexOf("fixtag")>-1)){if(b.nocase){s.tags[b.nocase.open]="",s.tags[b.nocase.close]="";break}break}if(x.match(u.close)&&"'"===x)s.strings[f+1]="\u2019"+s.strings[f+1],s.tags[f]="";else{var y=s.tags[b.fixtag];s.forcedSpaces[b.fixtag-1]&&(y=y.slice(1)),s.strings[b.fixtag+1]=y+s.strings[b.fixtag+1],s.tags[b.fixtag]=""}if(!(n.length>0))break;if("'"===x)break;n.pop()}b&&(b.fixtag||0===b.fixtag)&&(s.strings[f+1]=s.tags[f]+s.strings[f+1],s.tags[f]="")}}for(f=n.length-1;f>-1;f--){var _=n[f].pos,x=s.tags[_];s.strings[_+1]=" '"===x||"'"===x?" \u2019"+s.strings[_+1]:s.tags[_]+s.strings[_+1],s.tags[_]="",n.pop()}for(f=s.tags.length-1;f>-1;f--)s.tags[f]||(s.tags=s.tags.slice(0,f).concat(s.tags.slice(f+1)),s.strings[f]=s.strings[f]+s.strings[f+1],s.strings=s.strings.slice(0,f+1).concat(s.strings.slice(f+2)));for(f=0,m=s.tags.length;f<m;f++){x=s.tags[f];var w=s.forcedSpaces[f-1];[' "'," '",'("',"('"].indexOf(x)>-1&&(c||(r[l=x].outer="true",r[{" '":' "',' "':" '",'("':"('","('":'("'}[l]].outer="inner",c=!0),w||(s.strings[f]+=x.slice(0,1)))}!function(n,r,i){var o=!0,a=new p(n);n.blobs=[];var s=new function(n){this.stack=[n],this.latest=n,this.addStyling=function(n,r){if(o&&(" "===n.slice(0,1)&&(n=n.slice(1))," "===n.slice(0,1)&&(n=n.slice(1)),o=!1),this.latest=this.stack[this.stack.length-1],r){"string"===typeof this.latest.blobs&&((f=new t.Blob).blobs=this.latest.blobs,f.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[f]);var i,a=new t.Token;if((i=new t.Blob(null,a)).alldecor=this.latest.alldecor.slice(),"@class"===r[0]&&"nodecor"===r[1]){for(var s=[],l={},c=[e[e.tmp.area].opt.layout_decorations].concat(i.alldecor),u=c.length-1;u>-1;u--){var d=c[u];if(d)for(var p=d.length-1;p>-1;p--){var h=d[p];["@font-weight","@font-style","@font-variant"].indexOf(h[0])>-1&&!l[h[0]]&&("normal"!==r[1]&&(i.decorations.push([h[0],"normal"]),s.push([h[0],"normal"])),l[h[0]]=!0)}}i.alldecor.push(s)}else i.decorations.push(r),i.alldecor.push([r]);if(this.latest.blobs.push(i),this.stack.push(i),this.latest=i,n)a=new t.Token,(i=new t.Blob(null,a)).blobs=n,i.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(i)}else{var f;n&&((f=new t.Blob).blobs=n,f.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(f))}},this.popStyling=function(){this.stack.pop()}}(n);if(r.strings.length){var l=r.strings[0];i&&(l=" "+l),s.addStyling(l)}for(var c=0,d=r.tags.length;c<d;c++){var h=r.tags[c];l=r.strings[c+1],h.match(u.open)?(a.set(h),s.addStyling(l,a.pair())):(a.pop(),s.popStyling(),s.addStyling(l))}}(i,s,o)}}},t.Output.Formatters=function(){var e=new t.Doppeler('(?:\u2018|\u2019|\u201c|\u201d| "| \'|"|\'|[-\u2013\u2014/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)',(function(e){return e.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")})),n=new t.Doppeler('(?:[-\\s]*<\\/*(?:spans+class="no(?:case|decor)"|i|sc|b|sub|sup)>[-\\s]*|[-\\s]+)'),r=new t.Doppeler("(?:[\xa0 \xa0\u2000-\u200b\u205f\u3000]+)"),i={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>","<sc>":"</sc>","<sub>":"</sub>","<sup>":"</sup>"};function o(e){var n=e.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return!n||n[2].match(/^[\u0370-\u03FF]$/)&&!n[3]?e:n[1]+t.toLocaleUpperCase.call(this,n[2])+n[3]}function a(n,a){if(!a)return"";n.doppel=e.split(a);var s={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"\u2018":{opener:"\u2018",closer:"\u2019"},"\u201c":{opener:"\u201c",closer:"\u201d"}};function l(e,t){return["\u201c","\u2018",' "'," '"].indexOf(e)>-1?function(e,t){if(0===n.quoteState.length||e===n.quoteState[n.quoteState.length-1].opener)return n.quoteState.push({opener:s[e].opener,closer:s[e].closer,pos:t}),!1;var r=n.quoteState[n.quoteState.length-1].pos;return n.quoteState.pop(),n.quoteState.push({opener:s[e].opener,closer:s[e].closer,positions:t}),r}(e,t):function(e,t){if(!(n.quoteState.length>0&&e===n.quoteState[n.quoteState.length-1].closer))return t;n.quoteState.pop()}(e,t)}function c(e,t){var n=e.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(n)return l(n[1],t)}n.doppel.strings.length&&n.doppel.strings[0].trim()&&(n.doppel.strings[0]=n.capitaliseWords(n.doppel.strings[0],0,n.doppel.tags[0]));for(var u=0,d=n.doppel.tags.length;u<d;u++){var p=n.doppel.tags[u],h=n.doppel.strings[u+1];if(null!==n.tagState&&(i[p]?n.tagState.push(i[p]):n.tagState.length&&p===n.tagState[n.tagState.length-1]&&n.tagState.pop()),null!==n.afterPunct&&p.match(/[\!\?\:]$/)&&(n.afterPunct=!0),0===n.tagState.length?n.doppel.strings[u+1]=n.capitaliseWords(h,u+1,n.doppel,n.doppel.tags[u+1]):n.doppel.strings[u+1].trim()&&(n.lastWordPos=null),null!==n.quoteState)if((m=c(p,u))||0===m){var f=n.doppel.origStrings[m+1].slice(0,1);n.doppel.strings[m+1]=f+n.doppel.strings[m+1].slice(1),n.lastWordPos=null}n.isFirst&&h.trim()&&(n.isFirst=!1),n.afterPunct&&h.trim()&&(n.afterPunct=!1)}if(n.quoteState)for(u=0,d=n.quoteState.length;u<d;u++){var m;if("undefined"!==typeof(m=n.quoteState[u].pos)){f=n.doppel.origStrings[m+1].slice(0,1);n.doppel.strings[m+1]=f+n.doppel.strings[m+1].slice(1)}}if(n.lastWordPos){var g=r.split(n.doppel.strings[n.lastWordPos.strings]),v=g.strings[n.lastWordPos.words];v.length>1&&t.toLocaleLowerCase.call(this,v).match(n.skipWordsRex)&&(v=o.call(this,v),g.strings[n.lastWordPos.words]=v),n.doppel.strings[n.lastWordPos.strings]=r.join(g)}return e.join(n.doppel)}return{nameDoppel:n,passthrough:function(e,t){return t},lowercase:function(e,n){var r={quoteState:null,capitaliseWords:function(n){for(var r=n.split(" "),i=0,o=r.length;i<o;i++){var a=r[i];a&&(r[i]=t.toLocaleLowerCase.call(e,a))}return r.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return a.call(e,r,n)},uppercase:function(e,n){var r={quoteState:null,capitaliseWords:function(n){for(var r=n.split(" "),i=0,o=r.length;i<o;i++){var a=r[i];a&&(r[i]=t.toLocaleUpperCase.call(e,a))}return r.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return a.call(e,r,n)},sentence:function(e,n){var r={quoteState:[],capitaliseWords:function(n){for(var i=n.split(" "),a=0,s=i.length;a<s;a++){var l=i[a];l&&(r.isFirst?(i[a]=o.call(e,l),r.isFirst=!1):i[a]=t.toLocaleLowerCase.call(e,l))}return i.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return a.call(e,r,n)},title:function(e,n){var i={quoteState:[],capitaliseWords:function(n,a,s){if(n.trim()){for(var l=r.split(n),c=l.strings,u=0,d=c.length;u<d;u++){var p=c[u];if(!p)continue;let n=t.toLocaleLowerCase.call(e,p),r=!1;(p.length>1&&!n.match(i.skipWordsRex)||u===c.length-1&&"-"===s||i.isFirst||i.afterPunct)&&(r=!0),r&&p===n&&(c[u]=o.call(e,p)),i.afterPunct=!1,i.isFirst=!1,i.lastWordPos={strings:a,words:u}}n=r.join(l)}return n},skipWordsRex:e.locale[e.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return a.call(e,i,n)},"capitalize-first":function(e,n){var i={quoteState:[],capitaliseWords:function(n){for(var a=r.split(n),s=a.strings,l=0,c=s.length;l<c;l++){var u=s[l];if(u&&i.isFirst){u===t.toLocaleLowerCase.call(e,u)&&(s[l]=o.call(e,u)),i.isFirst=!1;break}}return r.join(a)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return a.call(e,i,n)},"capitalize-all":function(e,n){var i={quoteState:[],capitaliseWords:function(n){for(var i=r.split(n),a=i.strings,s=0,l=a.length;s<l;s++){var c=a[s];c&&c===t.toLocaleLowerCase.call(e,c)&&(a[s]=o.call(e,c))}return r.join(i)},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null};return a.call(e,i,n)}}}(),t.Output.Formats=function(){},t.Output.Formats.prototype.html={text_escape:function(e){return e||(e=""),e.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"\xa0 ").replace(t.SUPERSCRIPTS_REGEXP,(function(e){return"<sup>"+t.SUPERSCRIPTS[e]+"</sup>"}))},bibstart:'<div class="csl-bib-body">\n',bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":t.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":t.Output.Formatters.passthrough,"@strip-periods/false":t.Output.Formatters.passthrough,"@quotes/true":function(e,t){return"undefined"===typeof t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return"undefined"===typeof t?"\u2019":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){var n="";return e.sys.embedBibliographyEntry&&(n=e.sys.embedBibliographyEntry(this.item_id)+"\n"),'  <div class="csl-entry">'+t+"</div>\n"+n},"@display/block":function(e,t){return'\n\n    <div class="csl-block">'+t+"</div>\n"},"@display/left-margin":function(e,t){return'\n    <div class="csl-left-margin">'+t+"</div>"},"@display/right-inline":function(e,t){return'<div class="csl-right-inline">'+t+"</div>\n  "},"@display/indent":function(e,t){return'<div class="csl-indent">'+t+"</div>\n  "},"@showid/true":function(e,n,r){if(e.tmp.just_looking||e.tmp.suppress_decorations)return n;if(r)return'<span class="'+e.opt.nodenames[r]+'" cslid="'+r+'">'+n+"</span>";if(this.params&&"string"===typeof n){var i="";if(n){var o=n.match(t.VARIABLE_WRAPPER_PREPUNCT_REX);i=o[1],n=o[2]}var a="";return n&&t.SWAPPING_PUNCTUATION.indexOf(n.slice(-1))>-1&&(a=n.slice(-1),n=n.slice(0,-1)),e.sys.variableWrapper(this.params,i,n,a)}return n},"@URL/true":function(e,t){return'<a href="'+t+'">'+t+"</a>"},"@DOI/true":function(e,t){var n=t;return t.match(/^https?:\/\//)||(n="https://doi.org/"+t),'<a href="'+n+'">'+t+"</a>"}},t.Output.Formats.prototype.text={text_escape:function(e){return e||(e=""),e},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":t.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":t.Output.Formatters.passthrough,"@strip-periods/false":t.Output.Formatters.passthrough,"@quotes/true":function(e,t){return"undefined"===typeof t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return"undefined"===typeof t?"\u2019":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t+"\n"},"@display/block":function(e,t){return"\n"+t},"@display/left-margin":function(e,t){return t+" "},"@display/right-inline":function(e,t){return t},"@display/indent":function(e,t){return"\n    "+t},"@showid/true":function(e,t){return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},t.Output.Formats.prototype.rtf={text_escape:function(e){return e||(e=""),e.replace(/([\\{}])/g,"\\$1").replace(t.SUPERSCRIPTS_REGEXP,(function(e){return"\\super "+t.SUPERSCRIPTS[e]+"\\nosupersub{}"})).replace(/[\u007F-\uFFFF]/g,(function(e){return"\\uc0\\u"+e.charCodeAt(0).toString()+"{}"})).split("\t").join("\\tab{}")},"@passthrough/true":t.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":t.Output.Formatters.passthrough,"@strip-periods/false":t.Output.Formatters.passthrough,"@quotes/true":function(e,n){return"undefined"===typeof n?t.Output.Formats.rtf.text_escape(e.getTerm("open-quote")):t.Output.Formats.rtf.text_escape(e.getTerm("open-quote"))+n+t.Output.Formats.rtf.text_escape(e.getTerm("close-quote"))},"@quotes/inner":function(e,n){return"undefined"===typeof n?t.Output.Formats.rtf.text_escape("\u2019"):t.Output.Formats.rtf.text_escape(e.getTerm("open-inner-quote"))+n+t.Output.Formats.rtf.text_escape(e.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":"\\line{}%%STRING%%\\line\r\n","@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t},"@display/left-margin":function(e,t){return t+"\\tab "},"@display/right-inline":function(e,t){return t+"\r\n"},"@display/indent":function(e,t){return"\n\\tab "+t+"\\line\r\n"},"@showid/true":function(e,n){if(e.tmp.just_looking||e.tmp.suppress_decorations)return n;var r="";if(n){var i=n.match(t.VARIABLE_WRAPPER_PREPUNCT_REX);r=i[1],n=i[2]}var o="";return n&&t.SWAPPING_PUNCTUATION.indexOf(n.slice(-1))>-1&&(o=n.slice(-1),n=n.slice(0,-1)),e.sys.variableWrapper(this.params,r,n,o)},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},t.Output.Formats.prototype.asciidoc={text_escape:function(e){return e||(e=""),e.replace("*","pass:[*]","g").replace("_","pass:[_]","g").replace("#","pass:[#]","g").replace("^","pass:[^]","g").replace("~","pass:[~]","g").replace("[[","pass:[[[]","g").replace("  ","&#160; ","g").replace(t.SUPERSCRIPTS_REGEXP,(function(e){return"^"+t.SUPERSCRIPTS[e]+"^"}))},bibstart:"",bibend:"","@passthrough/true":t.Output.Formatters.passthrough,"@font-style/italic":"__%%STRING%%__","@font-style/oblique":"__%%STRING%%__","@font-style/normal":!1,"@font-variant/small-caps":"[small-caps]#%%STRING%%#","@font-variant/normal":!1,"@font-weight/bold":"**%%STRING%%**","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"[underline]##%%STRING%%##","@vertical-align/sup":"^^%%STRING%%^^","@vertical-align/sub":"~~%%STRING%%~~","@vertical-align/baseline":!1,"@strip-periods/true":t.Output.Formatters.passthrough,"@strip-periods/false":t.Output.Formatters.passthrough,"@quotes/true":function(e,t){return"undefined"===typeof t?"``":"``"+t+"''"},"@quotes/inner":function(e,t){return"undefined"===typeof t?"`":"`"+t+"'"},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return t+"\n"},"@display/block":function(e,t){return t},"@display/left-margin":function(e,t){return t},"@display/right-inline":function(e,t){return" "+t},"@display/indent":function(e,t){return" "+t},"@showid/true":function(e,n){if(e.tmp.just_looking||e.tmp.suppress_decorations||!this.params||"string"!==typeof n)return n;var r="";if(n){var i=n.match(t.VARIABLE_WRAPPER_PREPUNCT_REX);r=i[1],n=i[2]}var o="";return n&&t.SWAPPING_PUNCTUATION.indexOf(n.slice(-1))>-1&&(o=n.slice(-1),n=n.slice(0,-1)),e.sys.variableWrapper(this.params,r,n,o)},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){var n=t;return t.match(/^https?:\/\//)||(n="https://doi.org/"+t),n+"["+t+"]"}},t.Output.Formats.prototype.fo={text_escape:function(e){return e||(e=""),e.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace("  ","&#160; ","g").replace(t.SUPERSCRIPTS_REGEXP,(function(e){return'<fo:inline vertical-align="super">'+t.SUPERSCRIPTS[e]+"</fo:inline>"}))},bibstart:"",bibend:"","@passthrough/true":t.Output.Formatters.passthrough,"@font-style/italic":'<fo:inline font-style="italic">%%STRING%%</fo:inline>',"@font-style/oblique":'<fo:inline font-style="oblique">%%STRING%%</fo:inline>',"@font-style/normal":'<fo:inline font-style="normal">%%STRING%%</fo:inline>',"@font-variant/small-caps":'<fo:inline font-variant="small-caps">%%STRING%%</fo:inline>',"@font-variant/normal":'<fo:inline font-variant="normal">%%STRING%%</fo:inline>',"@font-weight/bold":'<fo:inline font-weight="bold">%%STRING%%</fo:inline>',"@font-weight/normal":'<fo:inline font-weight="normal">%%STRING%%</fo:inline>',"@font-weight/light":'<fo:inline font-weight="lighter">%%STRING%%</fo:inline>',"@text-decoration/none":'<fo:inline text-decoration="none">%%STRING%%</fo:inline>',"@text-decoration/underline":'<fo:inline text-decoration="underline">%%STRING%%</fo:inline>',"@vertical-align/sup":'<fo:inline vertical-align="super">%%STRING%%</fo:inline>',"@vertical-align/sub":'<fo:inline vertical-align="sub">%%STRING%%</fo:inline>',"@vertical-align/baseline":'<fo:inline vertical-align="baseline">%%STRING%%</fo:inline>',"@strip-periods/true":t.Output.Formatters.passthrough,"@strip-periods/false":t.Output.Formatters.passthrough,"@quotes/true":function(e,t){return"undefined"===typeof t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return"undefined"===typeof t?"\u2019":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){var n="";if(e.bibliography&&e.bibliography.opt&&e.bibliography.opt.hangingindent){var r=e.bibliography.opt.hangingindent;n=' start-indent="'+r+'em" text-indent="-'+r+'em"'}var i="";return e.sys.embedBibliographyEntry&&(i=e.sys.embedBibliographyEntry(this.item_id)+"\n"),'<fo:block id="'+this.system_id+'"'+n+">"+t+"</fo:block>\n"+i},"@display/block":function(e,t){return"\n  <fo:block>"+t+"</fo:block>\n"},"@display/left-margin":function(e,t){return'\n  <fo:table table-layout="fixed" width="100%">\n    <fo:table-column column-number="1" column-width="$$$__COLUMN_WIDTH_1__$$$"/>\n    <fo:table-column column-number="2" column-width="proportional-column-width(1)"/>\n    <fo:table-body>\n      <fo:table-row>\n        <fo:table-cell>\n          <fo:block>'+t+"</fo:block>\n        </fo:table-cell>\n        "},"@display/right-inline":function(e,t){return"<fo:table-cell>\n          <fo:block>"+t+"</fo:block>\n        </fo:table-cell>\n      </fo:table-row>\n    </fo:table-body>\n  </fo:table>\n"},"@display/indent":function(e,t){return'<fo:block margin-left="2em">'+t+"</fo:block>\n"},"@showid/true":function(e,n){if(e.tmp.just_looking||e.tmp.suppress_decorations||!this.params||"string"!==typeof n)return n;var r="";if(n){var i=n.match(t.VARIABLE_WRAPPER_PREPUNCT_REX);r=i[1],n=i[2]}var o="";return n&&t.SWAPPING_PUNCTUATION.indexOf(n.slice(-1))>-1&&(o=n.slice(-1),n=n.slice(0,-1)),e.sys.variableWrapper(this.params,r,n,o)},"@URL/true":function(e,t){return"<fo:basic-link external-destination=\"url('"+t+"')\">"+t+"</fo:basic-link>"},"@DOI/true":function(e,t){var n=t;return t.match(/^https?:\/\//)||(n="https://doi.org/"+t),"<fo:basic-link external-destination=\"url('"+n+"')\">"+t+"</fo:basic-link>"}},t.Output.Formats.prototype.latex={text_escape:function(e){return e||(e=""),e},bibstart:"\\begin{thebibliography}{4}",bibend:"\\end{thebibliography}","@font-style/italic":"{\\em %%STRING%%}","@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":t.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":"{\\bf %%STRING%%}","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":t.Output.Formatters.passthrough,"@strip-periods/false":t.Output.Formatters.passthrough,"@quotes/true":function(e,t){return"undefined"===typeof t?e.getTerm("open-quote"):e.getTerm("open-quote")+t+e.getTerm("close-quote")},"@quotes/inner":function(e,t){return"undefined"===typeof t?"\u2019":e.getTerm("open-inner-quote")+t+e.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(e,t){return e.sys.wrapCitationEntry(t,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(e,t){return"\\bibitem{"+e.sys.embedBibliographyEntry(this.item_id)+"}\n"},"@display/block":function(e,t){return"\n"+t},"@display/left-margin":function(e,t){return t},"@display/right-inline":function(e,t){return t},"@display/indent":function(e,t){return"\n    "+t},"@showid/true":function(e,t,n){return t},"@URL/true":function(e,t){return t},"@DOI/true":function(e,t){return t}},t.Output.Formats=new t.Output.Formats,t.Registry=function(e){this.debug=!1,this.state=e,this.registry={},this.reflist=[],this.refhash={},this.namereg=new t.Registry.NameReg(e),this.citationreg=new t.Registry.CitationReg(e),this.authorstrings={},this.masterMap={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new t.Registry.Comparifier(e,"bibliography_sort"),this.getSortedIds=function(){for(var e=[],t=0,n=this.reflist.length;t<n;t+=1)e.push(""+this.reflist[t].id);return e},this.getSortedRegistryItems=function(){for(var e=[],t=0,n=this.reflist.length;t<n;t+=1)e.push(this.reflist[t]);return e}},t.Registry.prototype.init=function(e,t){if(this.oldseq={},t){this.uncited={};for(var n=0,r=e.length;n<r;n+=1)this.myhash[e[n]]||this.mylist.push(""+e[n]),this.uncited[e[n]]=!0,this.myhash[e[n]]=!0}else{for(var i in this.uncited)e.push(i);var o={};for(n=e.length-1;n>-1;n+=-1)o[e[n]]?e=e.slice(0,n).concat(e.slice(n+1)):o[e[n]]=!0;this.mylist=e,this.myhash=o}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},t.Registry.prototype.dopurge=function(e){for(var t=this.mylist.length-1;t>-1;t+=-1)this.citationreg.citationsByItemId&&(this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[this.mylist[t]]||e[this.mylist[t]]||(delete this.myhash[this.mylist[t]],delete this.uncited[this.mylist[t]],this.mylist=this.mylist.slice(0,t).concat(this.mylist.slice(t+1))));this.dodeletes(this.myhash)},t.Registry.prototype.dodeletes=function(e){var t,n,r,i,o,a,s;if("string"===typeof e){var l=e;(e={})[l]=!0}for(var l in this.registry)if(!e[l]){if(this.uncited[l])continue;for(o in this.namereg.delitems(l))this.refreshes[o]=!0;for(t=this.registry[l].ambig,(a=this.ambigcites[t].indexOf(l))>-1&&(i=this.ambigcites[t].slice(),this.ambigcites[t]=i.slice(0,a).concat(i.slice(a+1,i.length)),this.ambigresets[t]=this.ambigcites[t].length),r=this.ambigcites[t].length,n=0;n<r;n+=1)s=""+this.ambigcites[t][n],this.refreshes[s]=!0;if(this.registry[l].siblings)if(1==this.registry[l].siblings.length){var c=this.registry[l].siblings[0];this.registry[c].siblings&&(this.registry[c].siblings.pop(),this.registry[c].master=!0)}else if(this.registry[l].siblings.length>1){var u=[l];if(this.registry[l].master){var d=this.registry[l].siblings[0];this.registry[d].master=!0,u.push(d)}for(var p=[],h=this.registry[l].siblings.length-1;h>-1;h+=-1){var f=this.registry[l].siblings.pop();-1===u.indexOf(f)&&p.push(f)}for(h=p.length-1;h>-1;h+=-1)this.registry[l].siblings.push(p[h])}for(var m=this.reflist.length-1;m>-1;m--)this.reflist[m].id===l&&(this.reflist=this.reflist.slice(0,m).concat(this.reflist.slice(m+1)));delete this.registry[l],delete this.refhash[l],this.return_data.bibchange=!0}},t.Registry.prototype.doinserts=function(e){var n,r,i,o,a;"string"===typeof e&&(e=[e]);for(var s=0,l=e.length;s<l;s+=1)n=e[s],this.registry[n]||(r=this.state.retrieveItem(n),i=t.getAmbiguousCite.call(this.state,r),this.ambigsTouched[i]=!0,r.legislation_id||(this.akeys[i]=!0),o={id:""+n,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:r,newItem:!0},this.registry[n]=o,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[n]&&(this.registry[n]["first-reference-note-number"]=this.citationreg.citationsByItemId[n][0].properties.noteIndex),a=t.getAmbigConfig.call(this.state),this.registerAmbigToken(i,n,a),this.touched[n]=!0,this.return_data.bibchange=!0)},t.Registry.prototype.rebuildlist=function(e){var t,n,r,i;if(e)for(this.reflist=[],t=this.mylist.length,n=0;n<t;n+=1)r=this.mylist[n],i=this.registry[r],this.reflist.push(i),this.oldseq[r]=this.registry[r].seq,this.registry[r].seq=n+1;else for(this.reflist_inserts=[],t=this.mylist.length,n=0;n<t;n+=1)r=this.mylist[n],(i=this.registry[r]).newItem&&this.reflist_inserts.push(i),this.oldseq[r]=this.registry[r].seq,this.registry[r].seq=n+1},t.Registry.prototype.dorefreshes=function(){var e;for(var n in this.refreshes)if(e=this.registry[n]){e.sortkeys=void 0,a=this.state.refetchItem(n);var r=e.ambig;for(var i in"undefined"===typeof r&&(this.state.tmp.disambig_settings=!1,r=t.getAmbiguousCite.call(this.state,a),s=t.getAmbigConfig.call(this.state),this.registerAmbigToken(r,n,s)),this.ambigresets)if(1===this.ambigresets[i]){var o=this.ambigcites[r][0],a=this.state.refetchItem(o);this.registry[o].disambig=new t.AmbigConfig,this.state.tmp.disambig_settings=!1;r=t.getAmbiguousCite.call(this.state,a);var s=t.getAmbigConfig.call(this.state);this.registerAmbigToken(r,o,s)}this.state.tmp.taintedItemIDs[n]=!0,this.ambigsTouched[r]=!0,a.legislation_id||(this.akeys[r]=!0),this.touched[n]=!0}},t.Registry.prototype.setdisambigs=function(){for(var e in this.ambigsTouched)this.state.disambiguate.run(e);this.ambigsTouched={},this.akeys={}},t.Registry.prototype.renumber=function(){var e,n,r;for(this.state.bibliography_sort.opt.citation_number_sort_direction===t.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map={}),e=this.reflist.length,n=0;n<e;n+=1)(r=this.reflist[n]).seq=n+1,this.state.bibliography_sort.opt.citation_number_sort_direction===t.DESCENDING&&(this.state.bibliography_sort.tmp.citation_number_map[r.seq]=this.reflist.length-r.seq+1),this.state.opt.update_mode===t.NUMERIC&&r.seq!=this.oldseq[r.id]&&(this.state.tmp.taintedItemIDs[r.id]=!0),r.seq!=this.oldseq[r.id]&&(this.return_data.bibchange=!0)},t.Registry.prototype.setsortkeys=function(){for(var e=0,n=this.mylist.length;e<n;e+=1){var r=this.mylist[e];(this.touched[r]||this.state.tmp.taintedItemIDs[r]||!this.registry[r].sortkeys)&&(this.registry[r].sortkeys=t.getSortKeys.call(this.state,this.state.retrieveItem(r),"bibliography_sort"))}},t.Registry.prototype._insertItem=function(e,t){return t.splice(this._locationOf(e,t)+1,0,e),t},t.Registry.prototype._locationOf=function(e,t,n,r){if(0===t.length)return-1;var i=(n=n||0)+(r=r||t.length)>>1,o=this.sorter.compareKeys(e,t[i]);if(r-n<=1)return-1==o?i-1:i;switch(o){case-1:return this._locationOf(e,t,n,i);case 0:return i;case 1:return this._locationOf(e,t,i,r)}},t.Registry.prototype.sorttokens=function(e){var t,n,r;if(!e){for(this.reflist_inserts=[],t=this.mylist.length,r=0;r<t;r+=1)n=this.mylist[r],(s=this.registry[n]).newItem&&this.reflist_inserts.push(s);for(var i in this.state.tmp.taintedItemIDs)if(this.registry[i]&&!this.registry[i].newItem)for(var o=this.reflist.length-1;o>-1;o--)this.reflist[o].id===i&&(this.reflist_inserts.push(this.reflist[o]),this.reflist=this.reflist.slice(0,o).concat(this.reflist.slice(o+1)));o=0;for(var a=this.reflist_inserts.length;o<a;o++){var s;delete(s=this.reflist_inserts[o]).newItem,this.reflist=this._insertItem(s,this.reflist)}for(r=0;r<t;r+=1)n=this.mylist[r],s=this.registry[n],this.registry[n].seq=r+1}},t.Registry.Comparifier=function(e,n){var r,i,o,a,s=t.getSortCompare.call(e,e.opt["default-locale-sort"]);r=e[n].opt.sort_directions,this.compareKeys=function(e,t){for(i=e.sortkeys?e.sortkeys.length:0,o=0;o<i;o+=1){var n=0;if(0<(n=e.sortkeys[o]===t.sortkeys[o]?0:"undefined"===typeof e.sortkeys[o]?r[o][1]:"undefined"===typeof t.sortkeys[o]?r[o][0]:s(e.sortkeys[o],t.sortkeys[o])))return r[o][1];if(0>n)return r[o][0]}return e.seq>t.seq?1:e.seq<t.seq?-1:0},a=this.compareKeys,this.compareCompositeKeys=function(e,t){return a(e[1],t[1])}},t.Registry.prototype.compareRegistryTokens=function(e,t){return e.seq>t.seq?1:e.seq<t.seq?-1:0},t.Registry.prototype.registerAmbigToken=function(e,n,r){if(this.registry[n]||t.debug("Warning: unregistered item: itemID=("+n+"), akey=("+e+")"),this.registry[n]&&this.registry[n].disambig&&this.registry[n].disambig.names)for(var i=0,o=r.names.length;i<o;i+=1){if(r.names[i]!==this.registry[n].disambig.names[i])this.state.tmp.taintedItemIDs[n]=!0;else if(r.givens[i])for(var a=0,s=r.givens[i].length;a<s;a+=1){r.givens[i][a]!==this.registry[n].disambig.givens[i][a]&&(this.state.tmp.taintedItemIDs[n]=!0)}}this.ambigcites[e]||(this.ambigcites[e]=[]),-1===this.ambigcites[e].indexOf(""+n)&&this.ambigcites[e].push(""+n),this.registry[n].ambig=e,this.registry[n].disambig=t.cloneAmbigConfig(r)},t.getSortKeys=function(e,n){var r,i,o,a,s,l;for(r=this.tmp.area,i=this.tmp.root,o=this.tmp.extension,a=t.Util.Sort.strip_prepositions,this.tmp.area=n,this.tmp.root=n.indexOf("_")>-1?n.slice(0,-5):n,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.tmp.suppress_decorations=!0,t.getCite.call(this,e),this.tmp.suppress_decorations=!1,this.tmp.disambig_override=!1,s=this[n].keys.length,l=0;l<s;l+=1)this[n].keys[l]=a(this[n].keys[l]);return this.tmp.area=r,this.tmp.root=i,this.tmp.extension=o,this[n].keys},t.Registry.NameReg=function(e){var n,r,i,o,a,s,l,c,u,d,p,h;this.state=e,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},l=function(e){return e||(e=""),e.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},c=function(e,o,a){n=l(a.family),"never"===e.opt["demote-non-dropping-particle"]&&a["non-dropping-particle"]&&a.family&&(n="".concat(n," ").concat(a["non-dropping-particle"]));var s=(i=l(a.given)).match(/[,\!]* ([^,]+)$/);s&&s[1]===s[1].toLowerCase()&&(i=i.replace(/[,\!]* [^,]+$/,"")),r=t.Util.Names.initializeWith(e,i,"%s"),"by-cite"===e.citation.opt["givenname-disambiguation-rule"]&&(n=""+o+n)},u=function(t,i,s,l,u,d){var p;if("bibliography"===e.tmp.area.slice(0,12)&&!u)return"string"===typeof d?1:2;i=e.nameOutput.getName(i,"locale-translit",!0).name,c(this.state,""+t,i),p=2,o=e.opt["disambiguate-add-givenname"];var h=a=e.citation.opt["givenname-disambiguation-rule"];return"by-cite"===a&&(a="all-names"),"short"===u?p=0:"string"===typeof d&&(p=1),"undefined"===typeof this.namereg[n]||"undefined"===typeof this.namereg[n].ikey[r]?p:"by-cite"===h&&p<=l?l:o?"string"===typeof a&&"primary-name"===a.slice(0,12)&&s>0?p:(a&&"all-names"!==a&&"primary-name"!==a?"all-names-with-initials"!==a&&"primary-name-with-initials"!==a||(p=this.namereg[n].count>1?1:0):(this.namereg[n].count>1&&(p=1),(this.namereg[n].ikey&&this.namereg[n].ikey[r].count>1||this.namereg[n].count>1&&"string"!==typeof d)&&(p=2)),e.registry.registry[t]?p:"short"==u?0:"string"==typeof d?1:void 0):p},d=function(t){var o,a,l,c,u;"string"!==typeof t&&"number"!==typeof t||(t=[""+t]);for(a=t.length,o=0;o<a;o+=1)if(c=""+t[o],this.nameind[c]){for(u in this.nameind[c])if(this.nameind[c].hasOwnProperty(u)){var d=u.split("::");if(n=d[0],r=d[1],i=d[2],"undefined"===typeof this.namereg[n])continue;if(s=this.namereg[n].items,i&&this.namereg[n].ikey[r]&&this.namereg[n].ikey[r].skey[i]&&((l=(h=this.namereg[n].ikey[r].skey[i].items).indexOf(""+c))>-1&&(this.namereg[n].ikey[r].skey[i].items=h.slice(0,l).concat(h.slice([l+1]))),0===this.namereg[n].ikey[r].skey[i].items.length&&(delete this.namereg[n].ikey[r].skey[i],this.namereg[n].ikey[r].count+=-1,this.namereg[n].ikey[r].count<2)))for(var p=0,f=this.namereg[n].ikey[r].items.length;p<f;p+=1)e.tmp.taintedItemIDs[this.namereg[n].ikey[r].items[p]]=!0;if(r&&this.namereg[n].ikey[r]&&((l=this.namereg[n].ikey[r].items.indexOf(""+c))>-1&&(s=this.namereg[n].ikey[r].items.slice(),this.namereg[n].ikey[r].items=s.slice(0,l).concat(s.slice([l+1]))),0===this.namereg[n].ikey[r].items.length&&(delete this.namereg[n].ikey[r],this.namereg[n].count+=-1,this.namereg[n].count<2)))for(p=0,f=this.namereg[n].items.length;p<f;p+=1)e.tmp.taintedItemIDs[this.namereg[n].items[p]]=!0;n&&((l=this.namereg[n].items.indexOf(""+c))>-1&&(s=this.namereg[n].items.slice(),this.namereg[n].items=s.slice(0,l).concat(s.slice([l+1],s.length))),this.namereg[n].items.length<2&&delete this.namereg[n]),delete this.nameind[c][u]}delete this.nameind[c],delete this.nameindpkeys[c]}return{}},p=function(t,o,a){if(o=e.nameOutput.getName(o,"locale-translit",!0).name,!e.citation.opt["givenname-disambiguation-rule"]||"primary-"!==e.citation.opt["givenname-disambiguation-rule"].slice(0,8)||0===a){if(c(this.state,""+t,o),n&&("undefined"===typeof this.namereg[n]?(this.namereg[n]={},this.namereg[n].count=0,this.namereg[n].ikey={},this.namereg[n].items=[t]):-1===this.namereg[n].items.indexOf(t)&&this.namereg[n].items.push(t)),n&&r)if("undefined"===typeof this.namereg[n].ikey[r]){if(this.namereg[n].ikey[r]={},this.namereg[n].ikey[r].count=0,this.namereg[n].ikey[r].skey={},this.namereg[n].ikey[r].items=[t],this.namereg[n].count+=1,2===this.namereg[n].count)for(var s=0,l=this.namereg[n].items.length;s<l;s+=1)e.tmp.taintedItemIDs[this.namereg[n].items[s]]=!0}else-1===this.namereg[n].ikey[r].items.indexOf(t)&&this.namereg[n].ikey[r].items.push(t);if(n&&r&&i)if("undefined"===typeof this.namereg[n].ikey[r].skey[i]){if(this.namereg[n].ikey[r].skey[i]={},this.namereg[n].ikey[r].skey[i].items=[t],this.namereg[n].ikey[r].count+=1,2===this.namereg[n].ikey[r].count)for(s=0,l=this.namereg[n].ikey[r].items.length;s<l;s+=1)e.tmp.taintedItemIDs[this.namereg[n].ikey[r].items[s]]=!0}else-1===this.namereg[n].ikey[r].skey[i].items.indexOf(t)&&this.namereg[n].ikey[r].skey[i].items.push(t);"undefined"===typeof this.nameind[t]&&(this.nameind[t]={},this.nameindpkeys[t]={}),n&&(this.nameind[t][n+"::"+r+"::"+i]=!0,this.nameindpkeys[t][n]=this.namereg[n])}},this.addname=p,this.delitems=d,this.evalname=u},t.Registry.CitationReg=function(){this.citationById={},this.citationByIndex=[]},t.Disambiguation=function(e){this.state=e,this.sys=this.state.sys,this.registry=e.registry.registry,this.ambigcites=e.registry.ambigcites,this.configModes(),this.debug=!1},t.Disambiguation.prototype.run=function(e){this.modes.length&&(this.debug&&this.state.sys.print("[A] === RUN ==="),this.akey=e,this.initVars(e)&&this.runDisambig())},t.Disambiguation.prototype.runDisambig=function(){var e;for(this.debug&&this.state.sys.print("[C] === runDisambig() ==="),this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;)this.listpos=0,this.base||(this.base=this.lists[0][0]),e=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(e);this.lists=this.lists.slice(1)}},t.Disambiguation.prototype.scanItems=function(e){var n;this.debug&&this.state.sys.print("[2] === scanItems() ==="),this.Item=e[1][0],this.ItemCite=t.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=e[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var r=0,i=1,o=e[1].length;i<o;i+=1){n=e[1][i];var a=t.getAmbiguousCite.call(this.state,n,this.base,!0);this.debug&&i>1&&this.state.sys.print("  -----------"),this.ItemCite===a?(this.debug&&(this.state.sys.print("  [CLASH]--\x3e "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+n.id+": "+a)),r+=1,this.partners.push(n)):(this.debug&&(this.state.sys.print("  [clear]--\x3e "+this.Item.id+": "+this.ItemCite),this.state.sys.print("             "+n.id+": "+a)),this.nonpartners.push(n))}this.clashes[0]=this.clashes[1],this.clashes[1]=r},t.Disambiguation.prototype.evalScan=function(e){this[this.modes[this.modeindex]](e),e&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},t.Disambiguation.prototype.disNames=function(e){if(this.debug&&this.state.sys.print("[3] == disNames() =="),0===this.clashes[1]&&1===this.nonpartners.length)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [a]: lone partner, one nonpartner"),this.state.sys.print("  registering "+this.partners[0].id+" and "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(0===this.clashes[1])this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [b]: lone partner, unknown number of remaining nonpartners"),this.state.sys.print("  registering "+this.partners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(1===this.nonpartners.length)this.captureStepToBase(),this.debug&&(this.state.sys.print("  ** RESOLUTION [c]: lone nonpartner, unknown number of partners remaining"),this.state.sys.print("  registering "+this.nonpartners[0].id)),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.debug&&this.state.sys.print("  ** RESOLUTION [d]: better result, but no entries safe to register"),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(this.debug&&this.state.sys.print("  ** RESOLUTION [e]: no improvement, and clashes remain"),e&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){this.debug&&this.state.sys.print("     (registering clashing entries because we've run out of options)");for(var t=0,n=this.partners.length;t<n;t+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[t].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},t.Disambiguation.prototype.disExtraText=function(){this.debug&&this.state.sys.print("[3] === disExtraText ==");var e=!1;if(0===this.clashes[1]&&this.nonpartners.length<2&&(e=!0),e||this.base.disambiguate&&this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax){if(e||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(e||this.modeindex===this.modes.length-1){var t=this.lists[this.listpos][0];for(n=0,r=this.lists[this.listpos][1].length;n<r;n+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][n].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][n].id,t);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1,(t=this.lists[this.listpos][0]).disambiguate=!0;for(n=0,r=this.lists[this.listpos][1].length;n<r;n+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][n].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][n].id,t)}}else if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var n=0,r=this.lists[this.listpos][1].length;n<r;n+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][n].id]=!0}},t.Disambiguation.prototype.disYears=function(){var e;this.debug&&this.state.sys.print("[3] === disYears =="),e=[];var n=this.lists[this.listpos][0];if(this.clashes[1])for(var r=0,i=this.state.registry.mylist.length;r<i;r+=1)for(var o=this.state.registry.mylist[r],a=0,s=this.lists[this.listpos][1].length;a<s;a+=1){var l;if((l=this.lists[this.listpos][1][a]).id==o){e.push(this.registry[l.id]);break}}e.sort(this.state.registry.sorter.compareKeys);for(var c=0,u=e.length;c<u;c+=1){n.year_suffix=""+c;var d=this.state.registry.registry[e[c].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+e[c].id,n),t.ambigConfigDiff(d,n)&&(this.state.tmp.taintedItemIDs[e[c].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},t.Disambiguation.prototype.incrementDisambig=function(){if(this.debug&&this.state.sys.print("\n[1] === incrementDisambig() ==="),this.initGivens)return this.initGivens=!1,!1;var e=!1,t=!0;if("disNames"===this.modes[this.modeindex]){t=!1,"number"!==typeof this.givensMax&&(t=!0);var n=!1;"number"!==typeof this.namesMax&&(n=!0),"number"===typeof this.givensMax&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:t=!0),"number"===typeof this.namesMax&&t&&(this.state.opt["disambiguate-add-names"]?(n=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):n=!0):n=!0),"number"===typeof this.namesetsMax&&n&&this.gnameset<this.namesetsMax&&(this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0),this.debug&&(this.state.sys.print("    ------------------"),this.state.sys.print("    incremented values"),this.state.sys.print("    ------------------"),this.state.sys.print("    | gnameset: "+this.gnameset),this.state.sys.print("    | gname: "+this.gname),this.state.sys.print("    | names value: "+this.base.names[this.gnameset]),this.base.givens.length?this.state.sys.print("    | givens value: "+this.base.givens[this.gnameset][this.gname]):this.state.sys.print("    | givens value: nil"),this.state.sys.print("    | namesetsMax: "+this.namesetsMax),this.state.sys.print("    | namesMax: "+this.namesMax),this.state.sys.print("    | givensMax: "+this.givensMax)),"number"===typeof this.namesetsMax&&-1!==this.namesetsMax&&this.gnameset!==this.namesetsMax||this.state.opt["disambiguate-add-names"]&&"number"===typeof this.namesMax&&this.gname!==this.namesMax||"number"==typeof this.givensMax&&"undefined"!==typeof this.base.givens[this.gnameset]&&"undefined"!==typeof this.base.givens[this.gnameset][this.gname]&&this.base.givens[this.gnameset][this.gname]!==this.givensMax||(e=!0,this.debug&&this.state.sys.print("    MAXED"))}else"disExtraText"===this.modes[this.modeindex]&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return e},t.Disambiguation.prototype.initVars=function(e){var n,r,i;if(this.debug&&this.state.sys.print("[B] === initVars() ==="),this.lists=[],this.base=!1,this.betterbase=!1,this.akey=e,this.maxNamesByItemId={},r=[],!(n=this.ambigcites[e])||!n.length)return!1;var o=this.state.refetchItem(""+n[0]);if(this.getCiteData(o),this.base=t.getAmbigConfig.call(this.state),n&&n.length>1){r.push([this.maxNamesByItemId[o.id],o]);for(var a=1,s=n.length;a<s;a+=1)o=this.state.refetchItem(""+n[a]),this.getCiteData(o,this.base),r.push([this.maxNamesByItemId[o.id],o]);r.sort((function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:e[1].id>t[1].id?1:e[1].id<t[1].id?-1:0})),i=[];for(var a=0,s=r.length;a<s;a+=1)i.push(r[a][1]);this.lists.push([this.base,i]),this.Item=this.lists[0][1][0]}else this.Item=this.state.refetchItem(""+n[0]);return this.modeindex=0,this.state.citation.opt["disambiguate-add-names"],this.namesMax=this.maxNamesByItemId[this.Item.id][0],this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},t.Disambiguation.prototype.padBase=function(e){for(var t=0,n=e.names.length;t<n;t+=1){e.givens[t]||(e.givens[t]=[]);for(var r=0,i=e.names[t];r<i;r+=1)e.givens[t][r]||(e.givens[t][r]=0)}},t.Disambiguation.prototype.configModes=function(){var e,t;this.modes=[],e=this.state.opt["disambiguate-add-givenname"],t=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||e&&"by-cite"===t)&&this.modes.push("disNames"),this.state.opt.development_extensions.prioritize_disambiguate_condition?(this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")):(this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"))},t.Disambiguation.prototype.getCiteData=function(e,n){if(!this.maxNamesByItemId[e.id]){t.getAmbiguousCite.call(this.state,e,n),n=t.getAmbigConfig.call(this.state),this.maxNamesByItemId[e.id]=t.getMaxVals.call(this.state),this.state.registry.registry[e.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var r=0,i=this.state.registry.registry[e.id].disambig.givens.length;r<i;r+=1)this.state.registry.registry[e.id].disambig.givens[r]=this.state.tmp.disambig_settings.givens[r].slice();this.namesetsMax=this.state.registry.registry[e.id].disambig.names.length-1,this.base||(this.base=n,this.betterbase=t.cloneAmbigConfig(n)),n.names.length<this.base.names.length&&(this.base=n);for(r=0,i=n.names.length;r<i;r+=1)n.names[r]>this.base.names[r]&&(this.base.givens[r]=n.givens[r].slice(),this.base.names[r]=n.names[r],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var o=0,a=this.base.givens.length;o<a;o+=1)this.betterbase.givens[o]=this.base.givens[o].slice()}},t.Disambiguation.prototype.captureStepToBase=function(){"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.base.givens&&this.base.givens.length&&"undefined"!==typeof this.base.givens[this.gnameset][this.gname]&&(this.betterbase.givens.length<this.base.givens.length&&(this.betterbase.givens=JSON.parse(JSON.stringify(this.base.givens))),this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},t.Engine.prototype.getJurisdictionList=function(e){for(var t=[],n=e.split(":"),r=n.length;r>0;r--){var i=n.slice(0,r).join(":");if(t.push(i),this.opt.jurisdiction_fallbacks[i]){var o=this.opt.jurisdiction_fallbacks[i];t.push(o)}}return-1===t.indexOf("us")&&t.push("us"),t},t.Engine.prototype.loadStyleModule=function(e,n,r){var i=null;this.juris[e]={};var o=t.setupXml(n);o.addMissingNameNodes(o.dataObj),o.addInstitutionNodes(o.dataObj),o.insertPublisherAndPlace(o.dataObj),o.flagDateMacros(o.dataObj);for(var a=0,s=(p=o.getNodesByName(o.dataObj,"law-module")).length;a<s;a++){var l=o.getAttributeValue(p[a],"types");if(l){this.juris[e].types={};for(var c=0,u=(l=l.split(/\s+/)).length;c<u;c++)this.juris[e].types[l[c]]=!0}r||(i=o.getAttributeValue(p[a],"fallback"))&&"us"!==e&&(this.opt.jurisdiction_fallbacks[e]=i)}var d=this.opt.lang?this.opt.lang:this.opt["default-locale"][0];t.SET_COURT_CLASSES(this,d,o,o.dataObj),this.juris[e].types||(this.juris[e].types=t.MODULE_TYPES);var p;for(a=0,s=(p=o.getNodesByName(o.dataObj,"macro")).length;a<s;a++){var h=o.getAttributeValue(p[a],"name");t.MODULE_MACROS[h]?(this.juris[e][h]=[],this.buildTokenLists(p[a],this.juris[e][h]),this.configureTokenList(this.juris[e][h])):t.debug('CSL: skipping non-modular macro name "'+h+'" in module context')}return i},t.Engine.prototype.retrieveAllStyleModules=function(e){for(var t={},n=this.locale[this.opt.lang].opts["jurisdiction-preference"],r=(n=[""].concat(n=n||[])).length-1;r>-1;r--)for(var i=n[r],o=0,a=e.length;o<a;o++){var s=e[o];if(!this.opt.jurisdictions_seen[s]){var l=this.sys.retrieveStyleModule(s,i);(!l&&!i||l)&&(this.opt.jurisdictions_seen[s]=!0),l&&(t[s]=l)}}return t},t.ParticleList=function(){var e=[[[0,1],null]],t=[[null,[0,1]]],n=[[null,[0,2]]],r=[[null,[0,3]]],i=[[null,[0,1]],[[0,1],null]],o=[[null,[0,2]],[[0,2],null]],a=[[[0,1],null],[null,[0,1]]],s=[[[0,2],null],[null,[0,2]]],l=[[null,[0,2]],[[0,1],[1,2]]];return[["'s",t],["'s-",t],["'t",t],["a",t],["aan 't",n],["aan de",n],["aan den",n],["aan der",n],["aan het",n],["aan t",n],["aan",t],["ad-",i],["adh-",i],["af",i],["al",i],["al-",i],["am de",n],["am",t],["an-",i],["ar-",i],["as-",i],["ash-",i],["at-",i],["ath-",i],["auf dem",s],["auf den",s],["auf der",s],["auf ter",n],["auf",a],["aus 'm",s],["aus dem",s],["aus den",s],["aus der",s],["aus m",s],["aus",a],["aus'm",s],["az-",i],["a\u0161-",i],["a\u1e0d-",i],["a\u1e0f-",i],["a\u1e63-",i],["a\u1e6d-",i],["a\u1e6f-",i],["a\u1e93-",i],["ben",t],["bij 't",n],["bij de",n],["bij den",n],["bij het",n],["bij t",n],["bij",t],["bin",t],["boven d",n],["boven d'",n],["d",t],["d'",i],["da",i],["dal",t],["dal'",t],["dall'",t],["dalla",t],["das",i],["de die le",r],["de die",n],["de l",n],["de l'",n],["de la",l],["de las",l],["de le",n],["de li",o],["de van der",r],["de",i],["de'",i],["deca",t],["degli",i],["dei",i],["del",i],["dela",e],["dell'",i],["della",i],["delle",i],["dello",i],["den",i],["der",i],["des",i],["di",i],["die le",n],["do",t],["don",t],["dos",i],["du",i],["ed-",i],["edh-",i],["el",i],["el-",i],["en-",i],["er-",i],["es-",i],["esh-",i],["et-",i],["eth-",i],["ez-",i],["e\u0161-",i],["e\u1e0d-",i],["e\u1e0f-",i],["e\u1e63-",i],["e\u1e6d-",i],["e\u1e6f-",i],["e\u1e93-",i],["het",t],["i",t],["il",e],["im",t],["in 't",n],["in de",n],["in den",n],["in der",o],["in het",n],["in t",n],["in",t],["l",t],["l'",t],["la",t],["las",t],["le",t],["les",i],["lo",i],["los",t],["lou",t],["of",t],["onder 't",n],["onder de",n],["onder den",n],["onder het",n],["onder t",n],["onder",t],["op 't",n],["op de",o],["op den",n],["op der",n],["op gen",n],["op het",n],["op t",n],["op ten",n],["op",t],["over 't",n],["over de",n],["over den",n],["over het",n],["over t",n],["over",t],["s",t],["s'",t],["sen",e],["t",t],["te",t],["ten",t],["ter",t],["tho",t],["thoe",t],["thor",t],["to",t],["toe",t],["tot",t],["uijt 't",n],["uijt de",n],["uijt den",n],["uijt te de",r],["uijt ten",n],["uijt",t],["uit 't",n],["uit de",n],["uit den",n],["uit het",n],["uit t",n],["uit te de",r],["uit ten",n],["uit",t],["unter",t],["v",t],["v.",t],["v.d.",t],["van 't",n],["van de l",r],["van de l'",r],["van de",n],["van de",n],["van den",n],["van der",n],["van gen",n],["van het",n],["van la",n],["van t",n],["van ter",n],["van van de",r],["van",i],["vander",t],["vd",t],["ver",t],["vom und zum",[[[0,3],null]]],["vom",i],["von 't",n],["von dem",s],["von den",s],["von der",s],["von t",n],["von und zu",[[[0,3],null],[null,[0,3]]]],["von zu",s],["von",a],["voor 't",n],["voor de",n],["voor den",n],["voor in 't",r],["voor in t",r],["voor",t],["vor der",s],["vor",a],["z",e],["ze",e],["zu",a],["zum",i],["zur",i]]}(),t.parseParticles=function(){function e(e,n,r){var i=e;e=r?e.toLowerCase():e;var o,a,s=[];n?(e=e.split("").reverse().join(""),o=t.PARTICLE_GIVEN_REGEXP):o=t.PARTICLE_FAMILY_REGEXP;for(var l=e.match(o);l;){var c,u=n?l[1].split("").reverse().join(""):l[1];if(!(a=!!(c=!!(c=!!l&&u)&&u.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"))&&c.toUpperCase()!==c))break;n?(s.push(i.slice(-1*u.length)),i=i.slice(0,-1*u.length)):(s.push(i.slice(0,u.length)),i=i.slice(u.length)),l=(e=l[2]).match(o)}if(n){e=e.split("").reverse().join(""),s.reverse();for(var d=1,p=s.length;d<p;d++)" "==s[d].slice(0,1)&&(s[d-1]+=" ");for(d=0,p=s.length;d<p;d++)" "==s[d].slice(0,1)&&(s[d]=s[d].slice(1));e=i.slice(0,e.length)}else e=i.slice(-1*e.length);return[a,e,s]}return function(t){var n=(o=e(t.family))[1],r=o[2];t.family=n;var i=function(e){var t=e.slice(-1);return e=e.trim()," "===t&&["'","\u2019"].indexOf(e.slice(-1))>-1&&(e+=" "),e}(r.join(""));i&&(t["non-dropping-particle"]=i),function(e){if(!e.suffix&&e.given){var t=e.given.match(/(\s*,!*\s*)/);if(t){var n=e.given.indexOf(t[1]),r=e.given.slice(n+t[1].length),i=e.given.slice(n,n+t[1].length).replace(/\s*/g,"");"et al"!==r.replace(/\./g,"")||e["dropping-particle"]?(2===i.length&&(e["comma-suffix"]=!0),e.suffix=r):(e["dropping-particle"]=r,e["comma-dropping-particle"]=","),e.given=e.given.slice(0,n)}}}(t);var o,a=(o=e(t.given,!0))[1],s=o[2];t.given=a;var l=s.join("").trim();l&&(t["dropping-particle"]=l)}}(),e.exports=t},5504:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}n.d(t,{c:()=>i});const i=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},4084:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}},3948:function(e,t,n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,n){var s=a.URL||a.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):i(l.href)?r(e,t,n):o(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(i(e))r(e,n,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var o="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&l||s)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var d=a.URL||a.webkitURL,p=d.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});a.saveAs=l.saveAs=l,e.exports=l})?r.apply(t,i):r)||(e.exports=o)},9996:(e,t,n)=>{"use strict";var r=n(2484),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=h(n);i&&i!==f&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var b=p(n,v);try{c(t,v,b)}catch(y){}}}}return t}},8864:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case m:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return w(e)||x(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===h||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===b||e.$$typeof===y||e.$$typeof===_||e.$$typeof===v)},t.typeOf=x},2484:(e,t,n)=>{"use strict";e.exports=n(8864)},924:(e,t)=>{t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,p=n?-1:1,h=e[t+d];for(d+=p,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=p,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=p,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=f,a/=256,c-=8);e[n+h-f]|=128*m}},3256:(e,t,n)=>{n(2412),e.exports=self.fetch.bind(self)},8024:e=>{e.exports=function(e,t,n){var r=null,i=null,o=function(){r&&(clearTimeout(r),i=null,r=null)},a=function(){if(!t)return e.apply(this,arguments);var a=this,s=arguments,l=n&&!r;return o(),i=function(){e.apply(a,s)},r=setTimeout((function(){if(r=null,!l){var e=i;return i=null,e()}}),t),l?i():void 0};return a.cancel=o,a.flush=function(){var e=i;o(),e&&e()},a}},9820:()=>{var e,t;e=window,t=document,L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(e,t){this._map=e,this._container=e._container,this._overlayPane=e._panes.overlayPane,this._popupPane=e._panes.popupPane,t&&t.shapeOptions&&(t.shapeOptions=L.Util.extend({},this.options.shapeOptions,t.shapeOptions)),L.setOptions(this,t);var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(L.DomUtil.disableTextSelection(),e.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(e){L.setOptions(this,e)},_fireCreatedEvent:function(e){this._map.fire(L.Draw.Event.CREATED,{layer:e,layerType:this.type})},_cancelDrawing:function(e){27===e.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(e,t){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,t&&t.drawError&&(t.drawError=L.Util.extend({},this.options.drawError,t.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var e=this._markers.pop(),t=this._poly,n=t.getLatLngs(),r=n.splice(-1,1)[0];this._poly.setLatLngs(n),this._markerGroup.removeLayer(e),t.getLatLngs().length<2&&this._map.removeLayer(t),this._vertexChanged(r,!1)}},addVertex:function(e){this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(e)?this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(e)),this._poly.addLatLng(e),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(e,!0))},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var e=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),t=this._poly.newLatLngIntersects(e[e.length-1]);!this.options.allowIntersection&&t||!this._shapeIsValid()?this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent),n=this._map.layerPointToLatLng(t);this._currentLatLng=n,this._updateTooltip(n),this._updateGuide(t),this._mouseMarker.setLatLng(n),L.DomEvent.preventDefault(e.originalEvent)},_vertexChanged:function(e,t){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(e,t),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(e){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(e),this._clickHandled=!0,this._disableNewMarkers();var t=e.originalEvent,n=t.clientX,r=t.clientY;this._startPoint.call(this,n,r)}},_startPoint:function(e,t){this._mouseDownOrigin=L.point(e,t)},_onMouseUp:function(e){var t=e.originalEvent,n=t.clientX,r=t.clientY;this._endPoint.call(this,n,r,e),this._clickHandled=null},_endPoint:function(t,n,r){if(this._mouseDownOrigin){var i=L.point(t,n).distanceTo(this._mouseDownOrigin),o=this._calculateFinishDistance(r.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(r.latlng),this._finishShape()):o<10&&L.Browser.touch?this._finishShape():Math.abs(i)<9*(e.devicePixelRatio||1)&&this.addVertex(r.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(e){var t,n,r=e.originalEvent;!r.touches||!r.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(t=r.touches[0].clientX,n=r.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,t,n),this._endPoint.call(this,t,n,e),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(e){var t;if(this._markers.length>0){var n;if(this.type===L.Draw.Polyline.TYPE)n=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;n=this._markers[0]}var r=this._map.latLngToContainerPoint(n.getLatLng()),i=new L.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),o=this._map.latLngToContainerPoint(i.getLatLng());t=r.distanceTo(o)}else t=1/0;return t},_updateFinishHandler:function(){var e=this._markers.length;e>1&&this._markers[e-1].on("click",this._finishShape,this),e>2&&this._markers[e-2].off("click",this._finishShape,this)},_createMarker:function(e){var t=new L.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(t),t},_updateGuide:function(e){var t=this._markers?this._markers.length:0;t>0&&(e=e||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[t-1].getLatLng()),e))},_updateTooltip:function(e){var t=this._getTooltipText();e&&this._tooltip.updatePosition(e),this._errorShown||this._tooltip.updateContent(t)},_drawGuide:function(e,t){var n,r,i,o=Math.floor(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))),a=this.options.guidelineDistance,s=this.options.maxGuideLineLength,l=o>s?o-s:a;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));l<o;l+=this.options.guidelineDistance)n=l/o,r={x:Math.floor(e.x*(1-n)+n*t.x),y:Math.floor(e.y*(1-n)+n*t.y)},(i=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer)).style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(i,r)},_updateGuideColor:function(e){if(this._guidesContainer)for(var t=0,n=this._guidesContainer.childNodes.length;t<n;t++)this._guidesContainer.childNodes[t].style.backgroundColor=e},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var e,t,n=this.options.showLength;return 0===this._markers.length?e={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(t=n?this._getMeasurementString():"",e=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:t}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:t}),e},_updateRunningMeasure:function(e,t){var n,r,i=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(n=i-(t?2:1),r=L.GeometryUtil.isVersion07x()?e.distanceTo(this._markers[n].getLatLng())*(this.options.factor||1):this._map.distance(e,this._markers[n].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=r*(t?1:-1))},_getMeasurementString:function(){var e,t=this._currentLatLng,n=this._markers[this._markers.length-1].getLatLng();return e=L.GeometryUtil.isVersion07x()?n&&t&&t.distanceTo?this._measurementRunningTotal+t.distanceTo(n)*(this.options.factor||1):this._measurementRunningTotal||0:n&&t?this._measurementRunningTotal+this._map.distance(t,n)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(e,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var e=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(e,t){L.Draw.Polyline.prototype.initialize.call(this,e,t),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var e=this._markers.length;1===e&&this._markers[0].on("click",this._finishShape,this),e>2&&(this._markers[e-1].on("dblclick",this._finishShape,this),e>3&&this._markers[e-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var e,t;return 0===this._markers.length?e=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(e=L.drawLocal.draw.handlers.polygon.tooltip.cont,t=this._getMeasurementString()):(e=L.drawLocal.draw.handlers.polygon.tooltip.end,t=this._getMeasurementString()),{text:e,subtext:t}},_getMeasurementString:function(){var e=this._area,t="";return e||this.options.showLength?(this.options.showLength&&(t=L.Draw.Polyline.prototype._getMeasurementString.call(this)),e&&(t+="<br>"+L.GeometryUtil.readableArea(e,this.options.metric,this.options.precision)),t):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(e,t){var n;!this.options.allowIntersection&&this.options.showArea&&(n=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(n)),L.Draw.Polyline.prototype._vertexChanged.call(this,e,t)},_cleanUpShape:function(){var e=this._markers.length;e>0&&(this._markers[0].off("click",this._finishShape,this),e>2&&this._markers[e-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(e,t){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),t.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(t,"mouseup",this._onMouseUp,this),L.DomEvent.off(t,"touchend",this._onMouseUp,this),t.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(e){this._isDrawing=!0,this._startLatLng=e.latlng,L.DomEvent.on(t,"mouseup",this._onMouseUp,this).on(t,"touchend",this._onMouseUp,this).preventDefault(e.originalEvent)},_onMouseMove:function(e){var t=e.latlng;this._tooltip.updatePosition(t),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(t))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(e,t){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,e,t)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(e){this._shape||this._isCurrentlyTwoClickDrawing?this._isCurrentlyTwoClickDrawing&&!function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}(e.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this):this._isCurrentlyTwoClickDrawing=!0},_drawShape:function(e){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,e)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,e),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var e=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,e)},_getTooltipText:function(){var e,t,n,r=L.Draw.SimpleShape.prototype._getTooltipText.call(this),i=this._shape,o=this.options.showArea;return i&&(e=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),t=L.GeometryUtil.geodesicArea(e),n=o?L.GeometryUtil.readableArea(t,this.options.metric):""),{text:r.text,subtext:n}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(e,t){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(e){var t=e.latlng;this._tooltip.updatePosition(t),this._mouseMarker.setLatLng(t),this._marker?(t=this._mouseMarker.getLatLng(),this._marker.setLatLng(t)):(this._marker=this._createMarker(t),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(e){return new L.Marker(e,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(e){this._onMouseMove(e),this._onClick()},_fireCreatedEvent:function(){var e=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(e,t){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,e,t)},_fireCreatedEvent:function(){var e=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)},_createMarker:function(e){return new L.CircleMarker(e,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(e,t){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,e,t)},_drawShape:function(e){if(L.GeometryUtil.isVersion07x())var t=this._startLatLng.distanceTo(e);else t=this._map.distance(this._startLatLng,e);this._shape?this._shape.setRadius(t):(this._shape=new L.Circle(this._startLatLng,t,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var e=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,e)},_onMouseMove:function(e){var t,n=e.latlng,r=this.options.showRadius,i=this.options.metric;if(this._tooltip.updatePosition(n),this._isDrawing){this._drawShape(n),t=this._shape.getRadius().toFixed(1);var o="";r&&(o=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(t,i,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:o})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(e,t){this._marker=e,L.setOptions(this,t)},addHooks:function(){var e=this._marker;e.dragging.enable(),e.on("dragend",this._onDragEnd,e),this._toggleMarkerHighlight()},removeHooks:function(){var e=this._marker;e.dragging.disable(),e.off("dragend",this._onDragEnd,e),this._toggleMarkerHighlight()},_onDragEnd:function(e){var t=e.target;t.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:t})},_toggleMarkerHighlight:function(){var e=this._marker._icon;e&&(e.style.display="none",L.DomUtil.hasClass(e,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,-4)):(L.DomUtil.addClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,4)),e.style.display="")},_offsetMarker:function(e,t){var n=parseInt(e.style.marginTop,10)-t,r=parseInt(e.style.marginLeft,10)-t;e.style.marginTop=n+"px",e.style.marginLeft=r+"px"}}),L.Marker.addInitHook((function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(e){this.latlngs=[e._latlngs],e._holes&&(this.latlngs=this.latlngs.concat(e._holes)),this._poly=e,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(e){for(var t=0;t<this._verticesHandlers.length;t++)e(this._verticesHandlers[t])},addHooks:function(){this._initHandlers(),this._eachVertexHandler((function(e){e.addHooks()}))},removeHooks:function(){this._eachVertexHandler((function(e){e.removeHooks()}))},updateMarkers:function(){this._eachVertexHandler((function(e){e.updateMarkers()}))},_initHandlers:function(){this._verticesHandlers=[];for(var e=0;e<this.latlngs.length;e++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[e],this._poly.options.poly))},_updateLatLngs:function(e){this.latlngs=[e.layer._latlngs],e.layer._holes&&(this.latlngs=this.latlngs.concat(e.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(e,t,n){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=e,n&&n.drawError&&(n.drawError=L.Util.extend({},this.options.drawError,n.drawError)),this._latlngs=t,L.setOptions(this,n)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var e=this._poly,t=e._path;e instanceof L.Polygon||(e.options.fill=!1,e.options.editing&&(e.options.editing.fill=!1)),t&&e.options.editing&&e.options.editing.className&&(e.options.original.className&&e.options.original.className.split(" ").forEach((function(e){L.DomUtil.removeClass(t,e)})),e.options.editing.className.split(" ").forEach((function(e){L.DomUtil.addClass(t,e)}))),e.setStyle(e.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var e=this._poly,t=e._path;t&&e.options.editing&&e.options.editing.className&&(e.options.editing.className.split(" ").forEach((function(e){L.DomUtil.removeClass(t,e)})),e.options.original.className&&e.options.original.className.split(" ").forEach((function(e){L.DomUtil.addClass(t,e)}))),e.setStyle(e.options.original),e._map&&(e._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var e,t,n,r,i,o,a=this._defaultShape();for(e=0,n=a.length;e<n;e++)(r=this._createMarker(a[e],e)).on("click",this._onMarkerClick,this),r.on("contextmenu",this._onContextMenu,this),this._markers.push(r);for(e=0,t=n-1;e<n;t=e++)(0!==e||L.Polygon&&this._poly instanceof L.Polygon)&&(i=this._markers[t],o=this._markers[e],this._createMiddleMarker(i,o),this._updatePrevNext(i,o))},_createMarker:function(e,t){var n=new L.Marker.Touch(e,{draggable:!0,icon:this.options.icon});return n._origLatLng=e,n._index=t,n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(n),n},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var e=this._defaultShape(),t=[].splice.apply(e,arguments);return this._poly._convertLatLngs(e,!0),this._poly.redraw(),t},_removeMarker:function(e){var t=e._index;this._markerGroup.removeLayer(e),this._markers.splice(t,1),this._spliceLatLngs(t,1),this._updateIndexes(t,-1),e.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(e){var t=e.target,n=this._poly,r=L.LatLngUtil.cloneLatLng(t._origLatLng);if(L.extend(t._origLatLng,t._latlng),n.options.poly){var i=n._map._editTooltip;if(!n.options.poly.allowIntersection&&n.intersects()){L.extend(t._origLatLng,r),t.setLatLng(r);var o=n.options.color;n.setStyle({color:this.options.drawError.color}),i&&i.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout((function(){n.setStyle({color:o}),i&&i.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})}),1e3)}}t._middleLeft&&t._middleLeft.setLatLng(this._getMiddleLatLng(t._prev,t)),t._middleRight&&t._middleRight.setLatLng(this._getMiddleLatLng(t,t._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var a=this._poly.getLatLngs();this._poly._convertLatLngs(a,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(e){var t=L.Polygon&&this._poly instanceof L.Polygon?4:3,n=e.target;this._defaultShape().length<t||(this._removeMarker(n),this._updatePrevNext(n._prev,n._next),n._middleLeft&&this._markerGroup.removeLayer(n._middleLeft),n._middleRight&&this._markerGroup.removeLayer(n._middleRight),n._prev&&n._next?this._createMiddleMarker(n._prev,n._next):n._prev?n._next||(n._prev._middleRight=null):n._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(e){var t=e.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:t,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent.touches[0]),n=this._map.layerPointToLatLng(t),r=e.target;L.extend(r._origLatLng,n),r._middleLeft&&r._middleLeft.setLatLng(this._getMiddleLatLng(r._prev,r)),r._middleRight&&r._middleRight.setLatLng(this._getMiddleLatLng(r,r._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(e,t){this._markerGroup.eachLayer((function(n){n._index>e&&(n._index+=t)}))},_createMiddleMarker:function(e,t){var n,r,i,o=this._getMiddleLatLng(e,t),a=this._createMarker(o);a.setOpacity(.6),e._middleRight=t._middleLeft=a,r=function(){a.off("touchmove",r,this);var i=t._index;a._index=i,a.off("click",n,this).on("click",this._onMarkerClick,this),o.lat=a.getLatLng().lat,o.lng=a.getLatLng().lng,this._spliceLatLngs(i,0,o),this._markers.splice(i,0,a),a.setOpacity(1),this._updateIndexes(i,1),t._index++,this._updatePrevNext(e,a),this._updatePrevNext(a,t),this._poly.fire("editstart")},i=function(){a.off("dragstart",r,this),a.off("dragend",i,this),a.off("touchmove",r,this),this._createMiddleMarker(e,a),this._createMiddleMarker(a,t)},n=function(){r.call(this),i.call(this),this._fireEdit()},a.on("click",n,this).on("dragstart",r,this).on("dragend",i,this).on("touchmove",r,this),this._markerGroup.addLayer(a)},_updatePrevNext:function(e,t){e&&(e._next=t),t&&(t._prev=e)},_getMiddleLatLng:function(e,t){var n=this._poly._map,r=n.project(e.getLatLng()),i=n.project(t.getLatLng());return n.unproject(r._add(i)._divideBy(2))}}),L.Polyline.addInitHook((function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})))})),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(e,t){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=e,L.Util.setOptions(this,t)},addHooks:function(){var e=this._shape;this._shape._map&&(this._map=this._shape._map,e.setStyle(e.options.editing),e._map&&(this._map=e._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var e=this._shape;if(e.setStyle(e.options.original),e._map){this._unbindMarker(this._moveMarker);for(var t=0,n=this._resizeMarkers.length;t<n;t++)this._unbindMarker(this._resizeMarkers[t]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(e,t){var n=new L.Marker.Touch(e,{draggable:!0,icon:t,zIndexOffset:10});return this._bindMarker(n),this._markerGroup.addLayer(n),n},_bindMarker:function(e){e.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(e){e.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(e){e.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(e){var t=e.target,n=t.getLatLng();t===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(e){e.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(e){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,e),"function"==typeof this._getCorners){var t=this._getCorners(),n=e.target,r=n._cornerIndex;n.setOpacity(0),this._oppositeCorner=t[(r+2)%4],this._toggleCornerMarkers(0,r)}this._shape.fire("editstart")},_onTouchMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent.touches[0]),n=this._map.layerPointToLatLng(t);return e.target===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),!1},_onTouchEnd:function(e){e.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var e=this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){var e=this._getCorners();this._resizeMarkers=[];for(var t=0,n=e.length;t<n;t++)this._resizeMarkers.push(this._createMarker(e[t],this.options.resizeIcon)),this._resizeMarkers[t]._cornerIndex=t},_onMarkerDragStart:function(e){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,e);var t=this._getCorners(),n=e.target._cornerIndex;this._oppositeCorner=t[(n+2)%4],this._toggleCornerMarkers(0,n)},_onMarkerDragEnd:function(e){var t,n=e.target;n===this._moveMarker&&(t=this._shape.getBounds().getCenter(),n.setLatLng(t)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,e)},_move:function(e){for(var t,n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),r=this._shape.getBounds().getCenter(),i=[],o=0,a=n.length;o<a;o++)t=[n[o].lat-r.lat,n[o].lng-r.lng],i.push([e.lat+t[0],e.lng+t[1]]);this._shape.setLatLngs(i),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(e){var t;this._shape.setBounds(L.latLngBounds(e,this._oppositeCorner)),t=this._shape.getBounds(),this._moveMarker.setLatLng(t.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var e=this._shape.getBounds();return[e.getNorthWest(),e.getNorthEast(),e.getSouthEast(),e.getSouthWest()]},_toggleCornerMarkers:function(e){for(var t=0,n=this._resizeMarkers.length;t<n;t++)this._resizeMarkers[t].setOpacity(e)},_repositionCornerMarkers:function(){for(var e=this._getCorners(),t=0,n=this._resizeMarkers.length;t<n;t++)this._resizeMarkers[t].setLatLng(e[t])}}),L.Rectangle.addInitHook((function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var e=this._shape.getLatLng();this._moveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(e){if(this._resizeMarkers.length){var t=this._getResizeMarkerPoint(e);this._resizeMarkers[0].setLatLng(t)}this._shape.setLatLng(e),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook((function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))})),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var e=this._shape.getLatLng(),t=this._getResizeMarkerPoint(e);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(t,this.options.resizeIcon))},_getResizeMarkerPoint:function(e){var t=this._shape._radius*Math.cos(Math.PI/4),n=this._map.project(e);return this._map.unproject([n.x+t,n.y-t])},_resize:function(e){var t=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=t.distanceTo(e):radius=this._map.distance(t,e),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook((function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())})),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(e,t){var n={};if(void 0!==e.touches){if(!e.touches.length)return;n=e.touches[0]}else{if("touch"!==e.pointerType)return;if(n=e,!this._filterClick(e))return}var r=this._map.mouseEventToContainerPoint(n),i=this._map.mouseEventToLayerPoint(n),o=this._map.layerPointToLatLng(i);this._map.fire(t,{latlng:o,layerPoint:i,containerPoint:r,pageX:n.pageX,pageY:n.pageY,originalEvent:e})},_filterClick:function(e){var t=e.timeStamp||e.originalEvent.timeStamp,n=L.DomEvent._lastClick&&t-L.DomEvent._lastClick;return n&&n>100&&n<500||e.target._simulatedClick&&!e._simulated?(L.DomEvent.stop(e),!1):(L.DomEvent._lastClick=t,!0)},_onTouchStart:function(e){this._map._loaded&&this._touchEvent(e,"touchstart")},_onTouchEnd:function(e){this._map._loaded&&this._touchEvent(e,"touchend")},_onTouchCancel:function(e){if(this._map._loaded){var t="touchcancel";this._detectIE()&&(t="pointercancel"),this._touchEvent(e,t)}},_onTouchLeave:function(e){this._map._loaded&&this._touchEvent(e,"touchleave")},_onTouchMove:function(e){this._map._loaded&&this._touchEvent(e,"touchmove")},_detectIE:function(){var t=e.navigator.userAgent,n=t.indexOf("MSIE ");if(n>0)return parseInt(t.substring(n+5,t.indexOf(".",n)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var e=this._icon,t=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?t.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):t.concat(["touchcancel"]),L.DomUtil.addClass(e,"leaflet-clickable"),L.DomEvent.on(e,"click",this._onMouseClick,this),L.DomEvent.on(e,"keypress",this._onKeyPress,this);for(var n=0;n<t.length;n++)L.DomEvent.on(e,t[n],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var t=e.navigator.userAgent,n=t.indexOf("MSIE ");if(n>0)return parseInt(t.substring(n+5,t.indexOf(".",n)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)}}),L.LatLngUtil={cloneLatLngs:function(e){for(var t=[],n=0,r=e.length;n<r;n++)Array.isArray(e[n])?t.push(L.LatLngUtil.cloneLatLngs(e[n])):t.push(this.cloneLatLng(e[n]));return t},cloneLatLng:function(e){return L.latLng(e.lat,e.lng)}},function(){var e={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(e){var t,n,r=e.length,i=0,o=Math.PI/180;if(r>2){for(var a=0;a<r;a++)t=e[a],i+=((n=e[(a+1)%r]).lng-t.lng)*o*(2+Math.sin(t.lat*o)+Math.sin(n.lat*o));i=6378137*i*6378137/2}return Math.abs(i)},formattedNumber:function(e,t){var n=parseFloat(e).toFixed(t),r=L.drawLocal.format&&L.drawLocal.format.numeric,i=r&&r.delimiters,o=i&&i.thousands,a=i&&i.decimal;if(o||a){var s=n.split(".");n=o?s[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+o):s[0],a=a||".",s.length>1&&(n=n+a+s[1])}return n},readableArea:function(t,n,r){var i,o;return r=L.Util.extend({},e,r),n?(o=["ha","m"],type=typeof n,"string"===type?o=[n]:"boolean"!==type&&(o=n),i=t>=1e6&&-1!==o.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*t,r.km)+" km\xb2":t>=1e4&&-1!==o.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*t,r.ha)+" ha":L.GeometryUtil.formattedNumber(t,r.m)+" m\xb2"):i=(t/=.836127)>=3097600?L.GeometryUtil.formattedNumber(t/3097600,r.mi)+" mi\xb2":t>=4840?L.GeometryUtil.formattedNumber(t/4840,r.ac)+" acres":L.GeometryUtil.formattedNumber(t,r.yd)+" yd\xb2",i},readableDistance:function(t,n,r,i,o){var a;switch(o=L.Util.extend({},e,o),n?"string"==typeof n?n:"metric":r?"feet":i?"nauticalMile":"yards"){case"metric":a=t>1e3?L.GeometryUtil.formattedNumber(t/1e3,o.km)+" km":L.GeometryUtil.formattedNumber(t,o.m)+" m";break;case"feet":t*=3.28083,a=L.GeometryUtil.formattedNumber(t,o.ft)+" ft";break;case"nauticalMile":t*=.53996,a=L.GeometryUtil.formattedNumber(t/1e3,o.nm)+" nm";break;default:a=(t*=1.09361)>1760?L.GeometryUtil.formattedNumber(t/1760,o.mi)+" miles":L.GeometryUtil.formattedNumber(t,o.yd)+" yd"}return a},isVersion07x:function(){var e=L.version.split(".");return 0===parseInt(e[0],10)&&7===parseInt(e[1],10)}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(e,t,n,r){return this._checkCounterclockwise(e,n,r)!==this._checkCounterclockwise(t,n,r)&&this._checkCounterclockwise(e,t,n)!==this._checkCounterclockwise(e,t,r)},_checkCounterclockwise:function(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}}),L.Polyline.include({intersects:function(){var e,t,n,r=this._getProjectedPoints(),i=r?r.length:0;if(this._tooFewPointsForIntersection())return!1;for(e=i-1;e>=3;e--)if(t=r[e-1],n=r[e],this._lineSegmentsIntersectsRange(t,n,e-2))return!0;return!1},newLatLngIntersects:function(e,t){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(e),t)},newPointIntersects:function(e,t){var n=this._getProjectedPoints(),r=n?n.length:0,i=n?n[r-1]:null,o=r-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(i,e,o,t?1:0)},_tooFewPointsForIntersection:function(e){var t=this._getProjectedPoints(),n=t?t.length:0;return!t||(n+=e||0)<=3},_lineSegmentsIntersectsRange:function(e,t,n,r){var i,o,a=this._getProjectedPoints();r=r||0;for(var s=n;s>r;s--)if(i=a[s-1],o=a[s],L.LineUtil.segmentsIntersect(e,t,i,o))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var e=[],t=this._defaultShape(),n=0;n<t.length;n++)e.push(this._map.latLngToLayerPoint(t[n]));return e}}),L.Polygon.include({intersects:function(){var e,t,n,r,i=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(e=i.length,t=i[0],n=i[e-1],r=e-2,this._lineSegmentsIntersectsRange(n,t,r,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(e){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");var t;L.Control.prototype.initialize.call(this,e),this._toolbars={},L.DrawToolbar&&this.options.draw&&(t=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=t,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(t=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=t,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(e){var t,n=L.DomUtil.create("div","leaflet-draw"),r=!1;for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&(t=this._toolbars[i].addToolbar(e))&&(r||(L.DomUtil.hasClass(t,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(t.childNodes[0],"leaflet-draw-toolbar-top"),r=!0),n.appendChild(t));return n},onRemove:function(){for(var e in this._toolbars)this._toolbars.hasOwnProperty(e)&&this._toolbars[e].removeToolbar()},setDrawingOptions:function(e){for(var t in this._toolbars)this._toolbars[t]instanceof L.DrawToolbar&&this._toolbars[t].setOptions(e)},_toolbarEnabled:function(e){var t=e.target;for(var n in this._toolbars)this._toolbars[n]!==t&&this._toolbars[n].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook((function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))})),L.Toolbar=L.Class.extend({initialize:function(e){L.setOptions(this,e),this._modes={},this._actionButtons=[],this._activeMode=null;var t=L.version.split(".");1===parseInt(t[0],10)&&parseInt(t[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(e){var t,n=L.DomUtil.create("div","leaflet-draw-section"),r=0,i=this._toolbarClass||"",o=this.getModeHandlers(e);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=e,t=0;t<o.length;t++)o[t].enabled&&this._initModeHandler(o[t].handler,this._toolbarContainer,r++,i,o[t].title);if(r)return this._lastButtonIndex=--r,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),n.appendChild(this._toolbarContainer),n.appendChild(this._actionsContainer),n},removeToolbar:function(){for(var e in this._modes)this._modes.hasOwnProperty(e)&&(this._disposeButton(this._modes[e].button,this._modes[e].handler.enable,this._modes[e].handler),this._modes[e].handler.disable(),this._modes[e].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var t=0,n=this._actionButtons.length;t<n;t++)this._disposeButton(this._actionButtons[t].button,this._actionButtons[t].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(e,t,n,r,i){var o=e.type;this._modes[o]={},this._modes[o].handler=e,this._modes[o].button=this._createButton({type:o,title:i,className:r+"-"+o,container:t,callback:this._modes[o].handler.enable,context:this._modes[o].handler}),this._modes[o].buttonIndex=n,this._modes[o].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!e.MSStream},_createButton:function(e){var t=L.DomUtil.create("a",e.className||"",e.container),n=L.DomUtil.create("span","sr-only",e.container);t.href="#",t.appendChild(n),e.title&&(t.title=e.title,n.innerHTML=e.title),e.text&&(t.innerHTML=e.text,n.innerHTML=e.text);var r=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(t,"click",L.DomEvent.stopPropagation).on(t,"mousedown",L.DomEvent.stopPropagation).on(t,"dblclick",L.DomEvent.stopPropagation).on(t,"touchstart",L.DomEvent.stopPropagation).on(t,"click",L.DomEvent.preventDefault).on(t,r,e.callback,e.context),t},_disposeButton:function(e,t){var n=this._detectIOS()?"touchstart":"click";L.DomEvent.off(e,"click",L.DomEvent.stopPropagation).off(e,"mousedown",L.DomEvent.stopPropagation).off(e,"dblclick",L.DomEvent.stopPropagation).off(e,"touchstart",L.DomEvent.stopPropagation).off(e,"click",L.DomEvent.preventDefault).off(e,n,t)},_handlerActivated:function(e){this.disable(),this._activeMode=this._modes[e.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(e){var t,n,r,i,o=this._actionsContainer,a=this.getActions(e),s=a.length;for(n=0,r=this._actionButtons.length;n<r;n++)this._disposeButton(this._actionButtons[n].button,this._actionButtons[n].callback);for(this._actionButtons=[];o.firstChild;)o.removeChild(o.firstChild);for(var l=0;l<s;l++)"enabled"in a[l]&&!a[l].enabled||(t=L.DomUtil.create("li","",o),i=this._createButton({title:a[l].title,text:a[l].text,container:t,callback:a[l].callback,context:a[l].context}),this._actionButtons.push({button:i,callback:a[l].callback}))},_showActionsToolbar:function(){var e=this._activeMode.buttonIndex,t=this._lastButtonIndex,n=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=n+"px",0===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),e===t&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(e){this._map=e,this._popupPane=e._panes.popupPane,this._visible=!1,this._container=e.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(e){return this._container?(e.subtext=e.subtext||"",0!==e.subtext.length||this._singleLineLabel?e.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(e.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+e.subtext+"</span><br />":"")+"<span>"+e.text+"</span>",e.text||e.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(e){var t=this._map.latLngToLayerPoint(e),n=this._container;return this._container&&(this._visible&&(n.style.visibility="inherit"),L.DomUtil.setPosition(n,t)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(e){for(var t in this.options)this.options.hasOwnProperty(t)&&e[t]&&(e[t]=L.extend({},this.options[t],e[t]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,e)},getModeHandlers:function(e){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(e,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(e,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(e,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(e,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(e,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(e,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(e){return[{enabled:e.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:e.completeShape,context:e},{enabled:e.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:e.deleteLastVertex,context:e},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(e){for(var t in L.setOptions(this,e),this._modes)this._modes.hasOwnProperty(t)&&e.hasOwnProperty(t)&&this._modes[t].handler.setOptions(e[t])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(e){e.edit&&(void 0===e.edit.selectedPathOptions&&(e.edit.selectedPathOptions=this.options.edit.selectedPathOptions),e.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,e.edit.selectedPathOptions)),e.remove&&(e.remove=L.extend({},this.options.remove,e.remove)),e.poly&&(e.poly=L.extend({},this.options.poly,e.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,e),this._selectedFeatureCount=0},getModeHandlers:function(e){var t=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(e,{featureGroup:t,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(e,{featureGroup:t}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(e){var t=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return e.removeAllLayers&&t.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),t},addToolbar:function(e){var t=L.Toolbar.prototype.addToolbar.call(this,e);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),t},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var e,t=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(e=this._modes[L.EditToolbar.Edit.TYPE].button,t?L.DomUtil.removeClass(e,"leaflet-disabled"):L.DomUtil.addClass(e,"leaflet-disabled"),e.setAttribute("title",t?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(e=this._modes[L.EditToolbar.Delete.TYPE].button,t?L.DomUtil.removeClass(e,"leaflet-disabled"):L.DomUtil.addClass(e,"leaflet-disabled"),e.setAttribute("title",t?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(e,t){if(L.Handler.prototype.initialize.call(this,e),L.setOptions(this,t),this._featureGroup=t.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(e.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),e._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer((function(e){this._revertLayer(e)}),this)},save:function(){var e=new L.LayerGroup;this._featureGroup.eachLayer((function(t){t.edited&&(e.addLayer(t),t.edited=!1)})),this._map.fire(L.Draw.Event.EDITED,{layers:e})},_backupLayer:function(e){var t=L.Util.stamp(e);this._uneditedLayerProps[t]||(e instanceof L.Polyline||e instanceof L.Polygon||e instanceof L.Rectangle?this._uneditedLayerProps[t]={latlngs:L.LatLngUtil.cloneLatLngs(e.getLatLngs())}:e instanceof L.Circle?this._uneditedLayerProps[t]={latlng:L.LatLngUtil.cloneLatLng(e.getLatLng()),radius:e.getRadius()}:(e instanceof L.Marker||e instanceof L.CircleMarker)&&(this._uneditedLayerProps[t]={latlng:L.LatLngUtil.cloneLatLng(e.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(e){var t=L.Util.stamp(e);e.edited=!1,this._uneditedLayerProps.hasOwnProperty(t)&&(e instanceof L.Polyline||e instanceof L.Polygon||e instanceof L.Rectangle?e.setLatLngs(this._uneditedLayerProps[t].latlngs):e instanceof L.Circle?(e.setLatLng(this._uneditedLayerProps[t].latlng),e.setRadius(this._uneditedLayerProps[t].radius)):(e instanceof L.Marker||e instanceof L.CircleMarker)&&e.setLatLng(this._uneditedLayerProps[t].latlng),e.fire("revert-edited",{layer:e}))},_enableLayerEdit:function(e){var t,n,r=e.layer||e.target||e;this._backupLayer(r),this.options.poly&&(n=L.Util.extend({},this.options.poly),r.options.poly=n),this.options.selectedPathOptions&&((t=L.Util.extend({},this.options.selectedPathOptions)).maintainColor&&(t.color=r.options.color,t.fillColor=r.options.fillColor),r.options.original=L.extend({},r.options),r.options.editing=t),r instanceof L.Marker?(r.editing&&r.editing.enable(),r.dragging.enable(),r.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):r.editing.enable()},_disableLayerEdit:function(e){var t=e.layer||e.target||e;t.edited=!1,t.editing&&t.editing.disable(),delete t.options.editing,delete t.options.original,this._selectedPathOptions&&(t instanceof L.Marker?this._toggleMarkerHighlight(t):(t.setStyle(t.options.previousOptions),delete t.options.previousOptions)),t instanceof L.Marker?(t.dragging.disable(),t.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):t.editing.disable()},_onMouseMove:function(e){this._tooltip.updatePosition(e.latlng)},_onMarkerDragEnd:function(e){var t=e.target;t.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:t})},_onTouchMove:function(e){var t=e.originalEvent.changedTouches[0],n=this._map.mouseEventToLayerPoint(t),r=this._map.layerPointToLatLng(n);e.target.setLatLng(r)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(e,t){if(L.Handler.prototype.initialize.call(this,e),L.Util.setOptions(this,t),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(e.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer((function(e){this._deletableLayers.addLayer(e),e.fire("revert-deleted",{layer:e})}),this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer((function(e){this._removeLayer({layer:e})}),this),this.save()},_enableLayerDelete:function(e){(e.layer||e.target||e).on("click",this._removeLayer,this)},_disableLayerDelete:function(e){var t=e.layer||e.target||e;t.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(t)},_removeLayer:function(e){var t=e.layer||e.target||e;this._deletableLayers.removeLayer(t),this._deletedLayers.addLayer(t),t.fire("deleted")},_onMouseMove:function(e){this._tooltip.updatePosition(e.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})},5036:function(e,t){!function(e){"use strict";var t="1.9.4";function n(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function a(e){return"_leaflet_id"in e||(e._leaflet_id=++o),e._leaflet_id}function s(e,t,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(a,t),r=!0)},o}function l(e,t,n){var r=t[1],i=t[0],o=r-i;return e===r&&n?e:((e-i)%o+o)%o+i}function c(){return!1}function u(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function d(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function p(e){return d(e).split(/\s+/)}function h(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function f(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(m,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r}))}var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function b(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var x=0;function w(e){var t=+new Date,n=Math.max(0,16-(t-x));return x=t+n,window.setTimeout(e,n)}var E=window.requestAnimationFrame||_("RequestAnimationFrame")||w,T=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function C(e,t,n){if(!n||E!==w)return E.call(window,i(e,t));e.call(t)}function k(e){e&&T.call(window,e)}var S={__proto__:null,extend:n,create:r,bind:i,get lastId(){return o},stamp:a,throttle:s,wrapNum:l,falseFn:c,formatNum:u,trim:d,splitWords:p,setOptions:h,getParamString:f,template:g,isArray:v,indexOf:b,emptyImageUrl:y,requestFn:E,cancelFn:T,requestAnimFrame:C,cancelAnimFrame:k};function O(){}function A(e){if("undefined"!==typeof L&&L&&L.Mixin){e=v(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}O.extend=function(e){var t=function(){h(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,o=r(i);for(var a in o.constructor=t,t.prototype=o,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(t[a]=this[a]);return e.statics&&n(t,e.statics),e.includes&&(A(e.includes),n.apply(null,[o].concat(e.includes))),n(o,e),delete o.statics,delete o.includes,o.options&&(o.options=i.options?r(i.options):{},n(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},t},O.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},O.mergeOptions=function(e){return n(this.prototype.options,e),this},O.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var j={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,o=(e=p(e)).length;i<o;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else{e=p(e);for(var i=1===arguments.length,o=0,a=e.length;o<a;o++)i?this._off(e[o]):this._off(e[o],t,n)}else delete this._events;return this},_on:function(e,t,n,r){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var r,i,o;if(this._events&&(r=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var a=this._listens(e,t,n);if(!1!==a){var s=r[a];this._firingCount&&(s.fn=c,this._events[e]=r=r.slice()),r.splice(a,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(i=0,o=r.length;i<o;i++)r[i].fn=c;delete this._events[e]}},fire:function(e,t,r){if(!this.listens(e,r))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var l=o[a],c=l.fn;l.once&&this.off(e,c,l.ctx),c.call(l.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t,n,r){"string"!==typeof e&&console.warn('"string" type argument expected');var i=t;"function"!==typeof t&&(r=!!t,i=void 0,n=void 0);var o=this._events&&this._events[e];if(o&&o.length&&!1!==this._listens(e,i,n))return!0;if(r)for(var a in this._eventParents)if(this._eventParents[a].listens(e,t,n,r))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,o=r.length;i<o;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t,!0);else for(var i=0,o=(e=p(e)).length;i<o;i++)this._on(e[i],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};j.addEventListener=j.on,j.removeEventListener=j.clearAllEventListeners=j.off,j.addOneTimeEventListener=j.once,j.fireEvent=j.fire,j.hasEventListeners=j.listens;var P=O.extend(j);function I(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var R=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function N(e,t,n){return e instanceof I?e:v(e)?new I(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new I(e.x,e.y):new I(e,t,n)}function D(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function M(e,t){return!e||e instanceof D?e:new D(e,t)}function B(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function Q(e,t){return e instanceof B?e:new B(e,t)}function U(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function F(e,t,n){return e instanceof U?e:v(e)&&"object"!==typeof e[0]?3===e.length?new U(e[0],e[1],e[2]):2===e.length?new U(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new U(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new U(e,t,n)}I.prototype={clone:function(){return new I(this.x,this.y)},add:function(e){return this.clone()._add(N(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(N(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new I(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new I(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=R(this.x),this.y=R(this.y),this},distanceTo:function(e){var t=(e=N(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=N(e)).x===this.x&&e.y===this.y},contains:function(e){return e=N(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},D.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof I||"number"===typeof e[0]||"x"in e)t=n=N(e);else if(t=(e=M(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return N(this.min.x,this.max.y)},getTopRight:function(){return N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof I?N(e):M(e))instanceof D?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=M(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>=t.x&&r.x<=n.x,a=i.y>=t.y&&r.y<=n.y;return o&&a},overlaps:function(e){e=M(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>t.x&&r.x<n.x,a=i.y>t.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return M(N(t.x-r,t.y-i),N(n.x+r,n.y+i))},equals:function(e){return!!e&&(e=M(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},B.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof U)t=e,n=e;else{if(!(e instanceof B))return e?this.extend(F(e)||Q(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new U(t.lat,t.lng),this._northEast=new U(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new B(new U(t.lat-r,t.lng-i),new U(n.lat+r,n.lng+i))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof U||"lat"in e?F(e):Q(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof B?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=Q(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>=t.lat&&r.lat<=n.lat,a=i.lng>=t.lng&&r.lng<=n.lng;return o&&a},overlaps:function(e){e=Q(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>t.lat&&r.lat<n.lat,a=i.lng>t.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=Q(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},U.prototype={equals:function(e,t){return!!e&&(e=F(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+u(this.lat,e)+", "+u(this.lng,e)+")"},distanceTo:function(e){return q.distance(this,F(e))},wrap:function(){return q.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return Q([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new U(this.lat,this.lng,this.alt)}};var z={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new D(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new U(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var o=e.getSouthWest(),a=e.getNorthEast();return new B(new U(o.lat-r,o.lng-i),new U(a.lat-r,a.lng-i))}},q=n({},z,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),H=6378137,W={R:H,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new I(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new U((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=H*Math.PI;return new D([-e,-e],[e,e])}()};function G(e,t,n,r){if(v(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function V(e,t,n,r){return new G(e,t,n,r)}G.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new I((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var $=n({},q,{code:"EPSG:3857",projection:W,transformation:function(){var e=.5/(Math.PI*W.R);return V(e,.5,-e,.5)}()}),K=n({},$,{code:"EPSG:900913"});function Y(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Z(e,t){var n,r,i,o,a,s,l="";for(n=0,i=e.length;n<i;n++){for(r=0,o=(a=e[n]).length;r<o;r++)l+=(r?"L":"M")+(s=a[r]).x+" "+s.y;l+=t?De.svg?"z":"x":""}return l||"M0 0"}var J=document.documentElement.style,X="ActiveXObject"in window,ee=X&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Ne("webkit"),re=Ne("android"),ie=Ne("android 2")||Ne("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ae=re&&Ne("Google")&&oe<537&&!("AudioNode"in window),se=!!window.opera,le=!te&&Ne("chrome"),ce=Ne("gecko")&&!ne&&!se&&!X,ue=!le&&Ne("safari"),de=Ne("phantom"),pe="OTransition"in J,he=0===navigator.platform.indexOf("Win"),fe=X&&"transition"in J,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,ge="MozPerspective"in J,ve=!window.L_DISABLE_3D&&(fe||me||ge)&&!pe&&!de,be="undefined"!==typeof orientation||Ne("mobile"),ye=be&&ne,_e=be&&me,xe=!window.PointerEvent&&window.MSPointerEvent,we=!(!window.PointerEvent&&!xe),Ee="ontouchstart"in window||!!window.TouchEvent,Te=!window.L_NO_TOUCH&&(Ee||we),Ce=be&&se,ke=be&&ce,Se=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Oe=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),Ae=!!document.createElement("canvas").getContext,je=!(!document.createElementNS||!Y("svg").createSVGRect),Pe=!!je&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),Ie=!je&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),Le=0===navigator.platform.indexOf("Mac"),Re=0===navigator.platform.indexOf("Linux");function Ne(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var De={ie:X,ielt9:ee,edge:te,webkit:ne,android:re,android23:ie,androidStock:ae,opera:se,chrome:le,gecko:ce,safari:ue,phantom:de,opera12:pe,win:he,ie3d:fe,webkit3d:me,gecko3d:ge,any3d:ve,mobile:be,mobileWebkit:ye,mobileWebkit3d:_e,msPointer:xe,pointer:we,touch:Te,touchNative:Ee,mobileOpera:Ce,mobileGecko:ke,retina:Se,passiveEvents:Oe,canvas:Ae,svg:je,vml:Ie,inlineSvg:Pe,mac:Le,linux:Re},Me=De.msPointer?"MSPointerDown":"pointerdown",Be=De.msPointer?"MSPointerMove":"pointermove",Qe=De.msPointer?"MSPointerUp":"pointerup",Ue=De.msPointer?"MSPointerCancel":"pointercancel",Fe={touchstart:Me,touchmove:Be,touchend:Qe,touchcancel:Ue},ze={touchstart:Je,touchmove:Ze,touchend:Ze,touchcancel:Ze},qe={},He=!1;function We(e,t,n){return"touchstart"===t&&Ye(),ze[t]?(n=ze[t].bind(this,n),e.addEventListener(Fe[t],n,!1),n):(console.warn("wrong event specified:",t),c)}function Ge(e,t,n){Fe[t]?e.removeEventListener(Fe[t],n,!1):console.warn("wrong event specified:",t)}function Ve(e){qe[e.pointerId]=e}function $e(e){qe[e.pointerId]&&(qe[e.pointerId]=e)}function Ke(e){delete qe[e.pointerId]}function Ye(){He||(document.addEventListener(Me,Ve,!0),document.addEventListener(Be,$e,!0),document.addEventListener(Qe,Ke,!0),document.addEventListener(Ue,Ke,!0),He=!0)}function Ze(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],qe)t.touches.push(qe[n]);t.changedTouches=[t],e(t)}}function Je(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Vt(t),Ze(e,t)}function Xe(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,r=0;function i(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var i=Kt(e);if(!i.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||i.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var o=Date.now();o-r<=et?2===++n&&t(Xe(e)):n=1,r=o}}}else n=e.detail}return e.addEventListener("click",i),{dblclick:t,simDblclick:i}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var rt,it,ot,at,st,lt=Ct(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ct=Ct(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ut="webkitTransition"===ct||"OTransition"===ct?ct+"End":"transitionend";function dt(e){return"string"===typeof e?document.getElementById(e):e}function pt(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function ht(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function ft(e){var t=e.parentNode;t&&t.removeChild(e)}function mt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function gt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function vt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function bt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=wt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function yt(e,t){if(void 0!==e.classList)for(var n=p(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!bt(e,t)){var o=wt(e);xt(e,(o?o+" ":"")+t)}}function _t(e,t){void 0!==e.classList?e.classList.remove(t):xt(e,d((" "+wt(e)+" ").replace(" "+t+" "," ")))}function xt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function wt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function Et(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Tt(e,t)}function Tt(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function Ct(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function kt(e,t,n){var r=t||new I(0,0);e.style[lt]=(De.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function St(e,t){e._leaflet_pos=t,De.any3d?kt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Ot(e){return e._leaflet_pos||new I(0,0)}if("onselectstart"in document)rt=function(){Mt(window,"selectstart",Vt)},it=function(){Qt(window,"selectstart",Vt)};else{var At=Ct(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rt=function(){if(At){var e=document.documentElement.style;ot=e[At],e[At]="none"}},it=function(){At&&(document.documentElement.style[At]=ot,ot=void 0)}}function jt(){Mt(window,"dragstart",Vt)}function Pt(){Qt(window,"dragstart",Vt)}function It(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Lt(),at=e,st=e.style.outlineStyle,e.style.outlineStyle="none",Mt(window,"keydown",Lt))}function Lt(){at&&(at.style.outlineStyle=st,at=void 0,st=void 0,Qt(window,"keydown",Lt))}function Rt(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Nt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Dt={__proto__:null,TRANSFORM:lt,TRANSITION:ct,TRANSITION_END:ut,get:dt,getStyle:pt,create:ht,remove:ft,empty:mt,toFront:gt,toBack:vt,hasClass:bt,addClass:yt,removeClass:_t,setClass:xt,getClass:wt,setOpacity:Et,testProp:Ct,setTransform:kt,setPosition:St,getPosition:Ot,get disableTextSelection(){return rt},get enableTextSelection(){return it},disableImageDrag:jt,enableImageDrag:Pt,preventOutline:It,restoreOutline:Lt,getSizedParentNode:Rt,getScale:Nt};function Mt(e,t,n,r){if(t&&"object"===typeof t)for(var i in t)zt(e,i,t[i],n);else for(var o=0,a=(t=p(t)).length;o<a;o++)zt(e,t[o],n,r);return this}var Bt="_leaflet_events";function Qt(e,t,n,r){if(1===arguments.length)Ut(e),delete e[Bt];else if(t&&"object"===typeof t)for(var i in t)qt(e,i,t[i],n);else if(t=p(t),2===arguments.length)Ut(e,(function(e){return-1!==b(t,e)}));else for(var o=0,a=t.length;o<a;o++)qt(e,t[o],n,r);return this}function Ut(e,t){for(var n in e[Bt]){var r=n.split(/\d/)[0];t&&!t(r)||qt(e,r,null,null,n)}}var Ft={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function zt(e,t,n,r){var i=t+a(n)+(r?"_"+a(r):"");if(e[Bt]&&e[Bt][i])return this;var o=function(t){return n.call(r||e,t||window.event)},s=o;!De.touchNative&&De.pointer&&0===t.indexOf("touch")?o=We(e,t,o):De.touch&&"dblclick"===t?o=tt(e,o):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Ft[t]||t,o,!!De.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(o=function(t){t=t||window.event,Xt(e,t)&&s(t)},e.addEventListener(Ft[t],o,!1)):e.addEventListener(t,s,!1):e.attachEvent("on"+t,o),e[Bt]=e[Bt]||{},e[Bt][i]=o}function qt(e,t,n,r,i){i=i||t+a(n)+(r?"_"+a(r):"");var o=e[Bt]&&e[Bt][i];if(!o)return this;!De.touchNative&&De.pointer&&0===t.indexOf("touch")?Ge(e,t,o):De.touch&&"dblclick"===t?nt(e,o):"removeEventListener"in e?e.removeEventListener(Ft[t]||t,o,!1):e.detachEvent("on"+t,o),e[Bt][i]=null}function Ht(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Wt(e){return zt(e,"wheel",Ht),this}function Gt(e){return Mt(e,"mousedown touchstart dblclick contextmenu",Ht),e._leaflet_disable_click=!0,this}function Vt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function $t(e){return Vt(e),Ht(e),this}function Kt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Yt(e,t){if(!t)return new I(e.clientX,e.clientY);var n=Nt(t),r=n.boundingClientRect;return new I((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Zt=De.linux&&De.chrome?window.devicePixelRatio:De.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Jt(e){return De.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Zt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Xt(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}var en={__proto__:null,on:Mt,off:Qt,stopPropagation:Ht,disableScrollPropagation:Wt,disableClickPropagation:Gt,preventDefault:Vt,stop:$t,getPropagationPath:Kt,getMousePosition:Yt,getWheelDelta:Jt,isExternalTarget:Xt,addListener:Mt,removeListener:Qt},tn=P.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=Ot(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=C(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),St(this._el,n),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=P.extend({options:{crs:$,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=h(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(F(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ct&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Mt(this._proxy,ut,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(F(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),o=(e instanceof I?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():Q(e);var n=N(t.paddingTopLeft||t.padding||[0,0]),r=N(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(e,t){if(!(e=Q(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=N(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){yt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!De.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),o=this.getSize(),a=this._zoom;e=F(e),t=void 0===t?a:t;var s=Math.max(o.x,o.y),l=s*this.getZoomScale(a,t),c=i.distanceTo(r)||1,u=1.42,d=u*u;function p(e){var t=(l*l-s*s+(e?-1:1)*d*d*c*c)/(2*(e?l:s)*d*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function h(e){return(Math.exp(e)-Math.exp(-e))/2}function f(e){return(Math.exp(e)+Math.exp(-e))/2}function m(e){return h(e)/f(e)}var g=p(0);function v(e){return s*(f(g)/f(g+u*e))}function b(e){return s*(f(g)*m(g+u*e)-h(g))/d}function y(e){return 1-Math.pow(1-e,1.5)}var _=Date.now(),x=(p(1)-g)/u,w=n.duration?1e3*n.duration:1e3*x*.8;function E(){var n=(Date.now()-_)/w,o=y(n)*x;n<=1?(this._flyToFrame=C(E,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(b(o)/c)),a),this.getScaleZoom(s/v(o),a),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),E.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=Q(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,Q(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=N((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=N(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),o=this.project(e),a=this.getPixelBounds(),s=M([a.min.add(n),a.max.subtract(r)]),l=s.getSize();if(!s.contains(o)){this._enforcingBounds=!0;var c=o.subtract(s.getCenter()),u=s.extend(o).getSize().subtract(l);i.x+=c.x<0?-u.x:u.x,i.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=t.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new U(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:t,bounds:n,timestamp:e.timestamp};for(var a in e.coords)"number"===typeof e.coords[a]&&(o[a]=e.coords[a]);this.fire("locationfound",o)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ft(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(k(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)ft(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=ht("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new B(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=Q(e),n=N(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),l=this.getSize().subtract(n),c=M(this.project(s,r),this.project(a,r)).getSize(),u=De.any3d?this.options.zoomSnap:1,d=l.x/c.x,p=l.y/c.y,h=t?Math.max(d,p):Math.min(d,p);return r=this.getScaleZoom(h,r),u&&(r=Math.round(r/(u/100))*(u/100),r=t?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new D(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(F(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(N(e),t)},layerPointToLatLng:function(e){var t=N(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(F(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(F(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(Q(e))},distance:function(e,t){return this.options.crs.distance(F(e),F(t))},containerPointToLayerPoint:function(e){return N(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return N(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(N(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(e)))},mouseEventToContainerPoint:function(e){return Yt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=dt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Mt(t,"scroll",this._onScroll,this),this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,yt(e,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=pt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),St(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(yt(e.markerPane,"leaflet-zoom-hide"),yt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){St(this._mapPane,new I(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){St(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[a(this._container)]=this;var t=e?Qt:Mt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=C((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,o=e.target||e.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(i&&!Xt(o,e))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||s||i||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&It(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if("click"===e.type){var i=n({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var o=this._findEventTargets(e,t);if(r){for(var a=[],s=0;s<r.length;s++)r[s].listens(t,!0)&&a.push(r[s]);o=a.concat(o)}if(o.length){"contextmenu"===t&&Vt(e);var l=o[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(s=0;s<o.length;s++)if(o[s].fire(t,c,!0),c.originalEvent._stopped||!1===o[s].options.bubblingMouseEvents&&-1!==b(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Ot(this._mapPane)||new I(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return M([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),o=new D(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,t);return Math.abs(a.x)<=1&&Math.abs(a.y)<=1?e:this.unproject(r.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new D(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=M(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),o=r.max.subtract(e.max);return new I(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=De.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=ht("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=lt,n=this._proxy.style[t];kt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ft(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();kt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(C((function(){this._moveStart(!0,n.noMoveStart||!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,yt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(e,t){return new nn(e,t)}var on=O.extend({options:{position:"topright"},initialize:function(e){h(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return yt(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ft(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),an=function(e){return new on(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=ht("div",t+"control-container",this._container);function r(r,i){var o=t+r+" "+t+i;e[r+i]=ht("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ft(this._controlCorners[e]);ft(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sn=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in h(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return on.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){yt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(yt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):_t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ht("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Gt(t),Wt(t);var r=this._section=ht("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Mt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=ht("a",e+"-toggle",t);i.href="#",i.title="Layers",i.setAttribute("role","button"),Mt(i,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){Vt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=ht("div",e+"-base",r),this._separator=ht("div",e+"-separator",r),this._overlaysList=ht("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&a(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;mt(this._baseLayersList),mt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(a(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(t),t.layerId=a(e.layer),Mt(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var o=document.createElement("span");return n.appendChild(o),o.appendChild(t),o.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Mt(e,"click",Vt),this.expand();var t=this;setTimeout((function(){Qt(e,"click",Vt),t._preventClick=!1}))}}),ln=function(e,t,n){return new sn(e,t,n)},cn=on.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=ht("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var o=ht("a",n,r);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Gt(o),Mt(o,"click",$t),Mt(o,"click",i,this),Mt(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";_t(this._zoomInButton,t),_t(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(yt(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(yt(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))}));var un=function(e){return new cn(e)},dn=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=ht("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=ht("div",t,n)),e.imperial&&(this._iScale=ht("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),pn=function(e){return new dn(e)},hn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?hn+" ":"")+"Leaflet</a>"},initialize:function(e){h(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=ht("div","leaflet-control-attribution"),Gt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new fn).addTo(this)}));var mn=function(e){return new fn(e)};on.Layers=sn,on.Zoom=cn,on.Scale=dn,on.Attribution=fn,an.layers=ln,an.zoom=un,an.scale=pn,an.attribution=mn;var gn=O.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(e,t){return e.addHandler(t,this),this};var vn={Events:j},bn=De.touch?"touchstart mousedown":"mousedown",yn=P.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){h(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Mt(this._dragStartTarget,bn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(yn._dragging===this&&this.finishDrag(!0),Qt(this._dragStartTarget,bn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!bt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)yn._dragging===this&&this.finishDrag();else if(!(yn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(yn._dragging=this,this._preventOutline&&It(this._element),jt(),rt(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=Rt(this._element);this._startPoint=new I(t.clientX,t.clientY),this._startPos=Ot(this._element),this._parentScale=Nt(n);var r="mousedown"===e.type;Mt(document,r?"mousemove":"touchmove",this._onMove,this),Mt(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new I(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Vt(e),this._moved||(this.fire("dragstart"),this._moved=!0,yt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),yt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),St(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Qt(document,"mousemove touchmove",this._onMove,this),Qt(document,"mouseup touchend touchcancel",this._onUp,this),Pt(),it();var t=this._moved&&this._moving;this._moving=!1,yn._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function _n(e,t,n){var r,i,o,a,s,l,c,u,d,p=[1,4,2,8];for(i=0,c=e.length;i<c;i++)e[i]._code=Ln(e[i],t);for(a=0;a<4;a++){for(u=p[a],r=[],i=0,o=(c=e.length)-1;i<c;o=i++)s=e[i],l=e[o],s._code&u?l._code&u||((d=In(l,s,u,t,n))._code=Ln(d,t),r.push(d)):(l._code&u&&((d=In(l,s,u,t,n))._code=Ln(d,t),r.push(d)),r.push(s));e=r}return e}function xn(e,t){var n,r,i,o,a,s,l,c,u;if(!e||0===e.length)throw new Error("latlngs not passed");Dn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var d=F([0,0]),p=Q(e);p.getNorthWest().distanceTo(p.getSouthWest())*p.getNorthEast().distanceTo(p.getNorthWest())<1700&&(d=wn(e));var h=e.length,f=[];for(n=0;n<h;n++){var m=F(e[n]);f.push(t.project(F([m.lat-d.lat,m.lng-d.lng])))}for(s=l=c=0,n=0,r=h-1;n<h;r=n++)i=f[n],o=f[r],a=i.y*o.x-o.y*i.x,l+=(i.x+o.x)*a,c+=(i.y+o.y)*a,s+=3*a;u=0===s?f[0]:[l/s,c/s];var g=t.unproject(N(u));return F([g.lat+d.lat,g.lng+d.lng])}function wn(e){for(var t=0,n=0,r=0,i=0;i<e.length;i++){var o=F(e[i]);t+=o.lat,n+=o.lng,r++}return F([t/r,n/r])}var En,Tn={__proto__:null,clipPolygon:_n,polygonCenter:xn,centroid:wn};function Cn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=On(e=jn(e,n),n)}function kn(e,t,n){return Math.sqrt(Nn(e,t,n,!0))}function Sn(e,t,n){return Nn(e,t,n)}function On(e,t){var n=e.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,An(e,r,t,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(e[i]);return o}function An(e,t,n,r,i){var o,a,s,l=0;for(a=r+1;a<=i-1;a++)(s=Nn(e[a],e[r],e[i],!0))>l&&(o=a,l=s);l>n&&(t[o]=1,An(e,t,n,r,o),An(e,t,n,o,i))}function jn(e,t){for(var n=[e[0]],r=1,i=0,o=e.length;r<o;r++)Rn(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<o-1&&n.push(e[o-1]),n}function Pn(e,t,n,r,i){var o,a,s,l=r?En:Ln(e,n),c=Ln(t,n);for(En=c;;){if(!(l|c))return[e,t];if(l&c)return!1;s=Ln(a=In(e,t,o=l||c,n,i),n),o===l?(e=a,l=s):(t=a,c=s)}}function In(e,t,n,r,i){var o,a,s=t.x-e.x,l=t.y-e.y,c=r.min,u=r.max;return 8&n?(o=e.x+s*(u.y-e.y)/l,a=u.y):4&n?(o=e.x+s*(c.y-e.y)/l,a=c.y):2&n?(o=u.x,a=e.y+l*(u.x-e.x)/s):1&n&&(o=c.x,a=e.y+l*(c.x-e.x)/s),new I(o,a,i)}function Ln(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function Rn(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function Nn(e,t,n,r){var i,o=t.x,a=t.y,s=n.x-o,l=n.y-a,c=s*s+l*l;return c>0&&((i=((e.x-o)*s+(e.y-a)*l)/c)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=l*i)),s=e.x-o,l=e.y-a,r?s*s+l*l:new I(o,a)}function Dn(e){return!v(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function Mn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Dn(e)}function Bn(e,t){var n,r,i,o,a,s,l,c;if(!e||0===e.length)throw new Error("latlngs not passed");Dn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=F([0,0]),d=Q(e);d.getNorthWest().distanceTo(d.getSouthWest())*d.getNorthEast().distanceTo(d.getNorthWest())<1700&&(u=wn(e));var p=e.length,h=[];for(n=0;n<p;n++){var f=F(e[n]);h.push(t.project(F([f.lat-u.lat,f.lng-u.lng])))}for(n=0,r=0;n<p-1;n++)r+=h[n].distanceTo(h[n+1])/2;if(0===r)c=h[0];else for(n=0,o=0;n<p-1;n++)if(a=h[n],s=h[n+1],(o+=i=a.distanceTo(s))>r){l=(o-r)/i,c=[s.x-l*(s.x-a.x),s.y-l*(s.y-a.y)];break}var m=t.unproject(N(c));return F([m.lat+u.lat,m.lng+u.lng])}var Qn={__proto__:null,simplify:Cn,pointToSegmentDistance:kn,closestPointOnSegment:Sn,clipSegment:Pn,_getEdgeIntersection:In,_getBitCode:Ln,_sqClosestPointOnSegment:Nn,isFlat:Dn,_flat:Mn,polylineCenter:Bn},Un={project:function(e){return new I(e.lng,e.lat)},unproject:function(e){return new U(e.y,e.x)},bounds:new D([-180,-90],[180,90])},Fn={R:6378137,R_MINOR:6356752.314245179,bounds:new D([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new I(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(a),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=o*Math.sin(s),t=Math.pow((1-t)/(1+t),o/2),s+=c=Math.PI/2-2*Math.atan(a*t)-s;return new U(s*n,e.x*n/r)}},zn={__proto__:null,LonLat:Un,Mercator:Fn,SphericalMercator:W},qn=n({},q,{code:"EPSG:3395",projection:Fn,transformation:function(){var e=.5/(Math.PI*Fn.R);return V(e,.5,-e,.5)}()}),Hn=n({},q,{code:"EPSG:4326",projection:Un,transformation:V(1/180,1,-1/180,.5)}),Wn=n({},z,{projection:Un,transformation:V(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});z.Earth=q,z.EPSG3395=qn,z.EPSG3857=$,z.EPSG900913=K,z.EPSG4326=Hn,z.Simple=Wn;var Gn=P.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=a(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=a(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return a(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?v(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=a(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Vn=Gn.extend({initialize:function(e,t){var n,r;if(h(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}}),$n=function(e,t){return new Vn(e,t)},Kn=Vn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Vn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Vn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new B;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Yn=function(e,t){return new Kn(e,t)},Zn=O.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){h(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var i=N(r),o=N("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return De.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Jn(e){return new Zn(e)}var Xn=Zn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof Xn.imagePath&&(Xn.imagePath=this._detectIconPath()),(this.options.imagePath||Xn.imagePath)+Zn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ht("div","leaflet-default-icon-path",document.body),t=pt(e,"background-image")||pt(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-11-1):""}}),er=gn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new yn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),yt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=Ot(t._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),l=M(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!l.contains(o)){var c=N((Math.max(l.max.x,o.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),St(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=C(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(k(this._panRequest),this._panRequest=C(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=Ot(t._icon),i=t._map.layerPointToLatLng(r);n&&St(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){k(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),tr=Gn.extend({options:{icon:new Xn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){h(this,t),this._latlng=F(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=F(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),yt(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mt(n,"focus",this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(yt(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qt(this._icon,"focus",this._panOnFocus,this),ft(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ft(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&St(this._icon,e),this._shadow&&St(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(yt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),er)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new er(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&Et(this._icon,e),this._shadow&&Et(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?N(t.iconSize):N(0,0),r=t.iconAnchor?N(t.iconAnchor):N(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nr(e,t){return new tr(e,t)}var rr=Gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return h(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ir=rr.extend({options:{fill:!0,radius:10},initialize:function(e,t){h(this,t),this._latlng=F(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=F(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return rr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new D(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function or(e,t){return new ir(e,t)}var ar=ir.extend({initialize:function(e,t,r){if("number"===typeof t&&(t=n({},r,{radius:t})),h(this,t),this._latlng=F(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new B(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:rr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===q.distance){var i=Math.PI/180,o=this._mRadius/q.R/i,a=n.project([t+o,e]),s=n.project([t-o,e]),l=a.add(s).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(o*i)-Math.sin(t*i)*Math.sin(c*i))/(Math.cos(t*i)*Math.cos(c*i)))/i;(isNaN(u)||0===u)&&(u=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,e-u]).x,this._radiusY=l.y-a.y}else{var d=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}});function sr(e,t,n){return new ar(e,t,n)}var lr=rr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){h(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,o=Nn,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],c=1,u=l.length;c<u;c++){var d=o(e,t=l[c-1],n=l[c],!0);d<r&&(r=d,i=o(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=F(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new B,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Dn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Dn(e),r=0,i=e.length;r<i;r++)n?(t[r]=F(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new D;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new I(e,e);this._rawPxBounds&&(this._pxBounds=new D([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,i,o=e[0]instanceof U,a=e.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,o,a,s,l=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,o=(s=this._rings[t]).length;n<o-1;n++)(a=Pn(s[n],s[n+1],e,n,!0))&&(l[r]=l[r]||[],l[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(l[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=Cn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,o,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((t||0!==r)&&kn(e,s[i],s[r])<=l)return!0;return!1}});function cr(e,t){return new lr(e,t)}lr._flat=Mn;var ur=lr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=lr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof U&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){lr.prototype._setLatLngs.call(this,e),Dn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Dn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new I(t,t);if(e=new D(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=_n(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,o,a,s,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(l=(t=this._parts[i]).length)-1;o<l;a=o++)n=t[o],r=t[a],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||lr.prototype._containsPoint.call(this,e,!0)}});function dr(e,t){return new ur(e,t)}var pr=Kn.extend({initialize:function(e,t){h(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=v(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var a=hr(e,o);return a?(a.feature=_r(e),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function hr(e,t){var n,r,i,o,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,l=[],c=t&&t.pointToLayer,u=t&&t.coordsToLatLng||mr;if(!s&&!a)return null;switch(a.type){case"Point":return fr(c,e,n=u(s),t);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=u(s[i]),l.push(fr(c,e,n,t));return new Kn(l);case"LineString":case"MultiLineString":return r=gr(s,"LineString"===a.type?0:1,u),new lr(r,t);case"Polygon":case"MultiPolygon":return r=gr(s,"Polygon"===a.type?1:2,u),new ur(r,t);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var d=hr({geometry:a.geometries[i],type:"Feature",properties:e.properties},t);d&&l.push(d)}return new Kn(l);case"FeatureCollection":for(i=0,o=a.features.length;i<o;i++){var p=hr(a.features[i],t);p&&l.push(p)}return new Kn(l);default:throw new Error("Invalid GeoJSON object.")}}function fr(e,t,n,r){return e?e(t,n):new tr(n,r&&r.markersInheritOptions&&r)}function mr(e){return new U(e[1],e[0],e[2])}function gr(e,t,n){for(var r,i=[],o=0,a=e.length;o<a;o++)r=t?gr(e[o],t-1,n):(n||mr)(e[o]),i.push(r);return i}function vr(e,t){return void 0!==(e=F(e)).alt?[u(e.lng,t),u(e.lat,t),u(e.alt,t)]:[u(e.lng,t),u(e.lat,t)]}function br(e,t,n,r){for(var i=[],o=0,a=e.length;o<a;o++)i.push(t?br(e[o],Dn(e[o])?0:t-1,n,r):vr(e[o],r));return!t&&n&&i.length>0&&i.push(i[0].slice()),i}function yr(e,t){return e.feature?n({},e.feature,{geometry:t}):_r(t)}function _r(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var xr={toGeoJSON:function(e){return yr(this,{type:"Point",coordinates:vr(this.getLatLng(),e)})}};function wr(e,t){return new pr(e,t)}tr.include(xr),ar.include(xr),ir.include(xr),lr.include({toGeoJSON:function(e){var t=!Dn(this._latlngs);return yr(this,{type:(t?"Multi":"")+"LineString",coordinates:br(this._latlngs,t?1:0,!1,e)})}}),ur.include({toGeoJSON:function(e){var t=!Dn(this._latlngs),n=t&&!Dn(this._latlngs[0]),r=br(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),yr(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Vn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),yr(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var o=_r(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?yr(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Er=wr,Tr=Gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=Q(t),h(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(yt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ft(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&gt(this._image),this},bringToBack:function(){return this._map&&vt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=Q(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ht("img");yt(t,"leaflet-image-layer"),this._zoomAnimated&&yt(t,"leaflet-zoom-animated"),this.options.className&&yt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;kt(this._image,n,t)},_reset:function(){var e=this._image,t=new D(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();St(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){Et(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Cr=function(e,t,n){return new Tr(e,t,n)},kr=Tr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ht("video");if(yt(t,"leaflet-image-layer"),this._zoomAnimated&&yt(t,"leaflet-zoom-animated"),this.options.className&&yt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[t.src]}else{v(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var s=ht("source");s.src=this._url[a],t.appendChild(s)}}}});function Sr(e,t,n){return new kr(e,t,n)}var Or=Tr.extend({_initImage:function(){var e=this._image=this._url;yt(e,"leaflet-image-layer"),this._zoomAnimated&&yt(e,"leaflet-zoom-animated"),this.options.className&&yt(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Ar(e,t,n){return new Or(e,t,n)}var jr=Gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof U||v(e))?(this._latlng=F(e),h(this,t)):(h(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&Et(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&Et(this._container,1),this.bringToFront(),this.options.interactive&&(yt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(Et(this._container,0),this._removeTimeout=setTimeout(i(ft,void 0,this._container),200)):ft(this._container),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=F(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gt(this._container),this},bringToBack:function(){return this._map&&vt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Kn){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=N(this.options.offset),n=this._getAnchor();this._zoomAnimated?St(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),Gn.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(h(i,r),i._source=this):(i=t&&!r?t:new e(r,this)).setContent(n),i}});var Pr=jr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,jr.prototype.openOn.call(this,e)},onAdd:function(e){jr.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof rr||this._source.on("preclick",Ht))},onRemove:function(e){jr.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof rr||this._source.off("preclick",Ht))},getEvents:function(){var e=jr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=ht("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ht("div",e+"-content-wrapper",t);if(this._contentNode=ht("div",e+"-content",n),Gt(t),Wt(this._contentNode),Mt(t,"contextmenu",Ht),this._tipContainer=ht("div",e+"-tip-container",t),this._tip=ht("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ht("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Mt(r,"click",(function(e){Vt(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",yt(e,o)):_t(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();St(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(pt(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new I(this._containerLeft,-n-this._containerBottom);i._add(Ot(this._container));var o=e.layerPointToContainerPoint(i),a=N(this.options.autoPanPadding),s=N(this.options.autoPanPaddingTopLeft||a),l=N(this.options.autoPanPaddingBottomRight||a),c=e.getSize(),u=0,d=0;o.x+r+l.x>c.x&&(u=o.x+r-c.x+l.x),o.x-u-s.x<0&&(u=o.x-s.x),o.y+n+l.y>c.y&&(d=o.y+n-c.y+l.y),o.y-d-s.y<0&&(d=o.y-s.y),(u||d)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([u,d]))}},_getAnchor:function(){return N(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ir=function(e,t){return new Pr(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(Pr,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Gn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Pr,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Kn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){$t(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof rr?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Lr=jr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){jr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){jr.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=jr.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ht("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),a=r.layerPointToContainerPoint(e),s=this.options.direction,l=i.offsetWidth,c=i.offsetHeight,u=N(this.options.offset),d=this._getAnchor();"top"===s?(t=l/2,n=c):"bottom"===s?(t=l/2,n=0):"center"===s?(t=l/2,n=c/2):"right"===s?(t=0,n=c/2):"left"===s?(t=l,n=c/2):a.x<o.x?(s="right",t=0,n=c/2):(s="left",t=l+2*(u.x+d.x),n=c/2),e=e.subtract(N(t,n,!0)).add(u).add(d),_t(i,"leaflet-tooltip-right"),_t(i,"leaflet-tooltip-left"),_t(i,"leaflet-tooltip-top"),_t(i,"leaflet-tooltip-bottom"),yt(i,"leaflet-tooltip-"+s),St(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&Et(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return N(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Rr=function(e,t){return new Lr(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(Lr,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Gn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Lr,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Kn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&(Mt(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),Mt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t="function"===typeof e.getElement&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(this._tooltip&&this._map)if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",(function(){t._openOnceFlag=!1,t._openTooltip(e)}))}else this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Nr=Zn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(mt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=N(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Dr(e){return new Nr(e)}Zn.Default=Xn;var Mr=Gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){h(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ft(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(vt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof I?e:new I(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){Et(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(e-i.loaded)/200);Et(i.el,o),o<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(k(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=ht("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(ft(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=ht("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ft(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),a=n-1,s=new I(+i,+o);s.z=+a;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var a=new I(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();De.any3d?kt(e.el,i,r):St(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*r);return new D(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,l=new D(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new I(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var d=i.min.y;d<=i.max.y;d++)for(var p=i.min.x;p<=i.max.x;p++){var h=new I(p,d);if(h.z=this._tileZoom,this._isValidTile(h)){var f=this._tiles[this._tileCoordsToKey(h)];f?f.current=!0:a.push(h)}}if(a.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(p=0;p<a.length;p++)this._addTile(a[p],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return Q(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new B(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new I(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(ft(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){yt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,De.ielt9&&this.options.opacity<1&&Et(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&C(i(this._tileReady,this,e,null,o)),St(o,n),this._tiles[r]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(Et(n.el,0),k(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(yt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?C(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new I(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new D(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Br(e){return new Mr(e)}var Qr=Mr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=h(this,t)).detectRetina&&De.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Mt(n,"load",i(this._tileOnLoad,this,t,n)),Mt(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:De.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){De.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=y;var n=this._tiles[e].coords;ft(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",y),Mr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==y))return Mr.prototype._tileReady.call(this,e,t,n)}});function Ur(e,t){return new Qr(e,t)}var Fr=Qr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var i in t)i in this.options||(r[i]=t[i]);var o=(t=h(this,t)).detectRetina&&De.retina?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Qr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=M(n.project(t[0]),n.project(t[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===Hn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=Qr.prototype.getTileUrl.call(this,e);return s+f(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function zr(e,t){return new Fr(e,t)}Qr.WMS=Fr,Ur.wms=zr;var qr=Gn.extend({options:{padding:.1},initialize:function(e){h(this,e),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),yt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),o=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));De.any3d?kt(this._container,o,n):St(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new D(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Hr=qr.extend({options:{tolerance:0},getEvents:function(){var e=qr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Mt(e,"mousemove",this._onMouseMove,this),Mt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Mt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){k(this._redrawRequest),delete this._ctx,ft(this._container),Qt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){qr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=De.retina?2:1;St(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){qr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[a(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||C(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new D,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,o,a=e._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],l[r?"lineTo":"moveTo"](o.x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(_t(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(yt(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function Wr(e){return De.canvas?new Hr(e):null}var Gr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Vr={_initContainer:function(){this._container=ht("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Gr("shape");yt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Gr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;ft(t),e.removeInteractiveTarget(t),delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Gr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=v(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Gr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){gt(e._container)},_bringToBack:function(e){vt(e._container)}},$r=De.vml?Gr:Y,Kr=qr.extend({_initContainer:function(){this._container=$r("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=$r("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ft(this._container),Qt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){qr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),St(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=$r("path");e.options.className&&yt(t,e.options.className),e.options.interactive&&yt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ft(e._path),e.removeInteractiveTarget(e._path),delete this._layers[a(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Z(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){gt(e._path)},_bringToBack:function(e){vt(e._path)}});function Yr(e){return De.svg||De.vml?new Kr(e):null}De.vml&&Kr.include(Vr),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Wr(e)||Yr(e)}});var Zr=ur.extend({initialize:function(e,t){ur.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=Q(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Jr(e,t){return new Zr(e,t)}Kr.create=$r,Kr.pointsToPath=Z,pr.geometryToLayer=hr,pr.coordsToLatLng=mr,pr.coordsToLatLngs=gr,pr.latLngToCoords=vr,pr.latLngsToCoords=br,pr.getFeature=yr,pr.asFeature=_r,nn.mergeOptions({boxZoom:!0});var Xr=gn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Qt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ft(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),rt(),jt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Mt(document,{contextmenu:$t,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ht("div","leaflet-zoom-box",this._container),yt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new D(this._point,this._startPoint),n=t.getSize();St(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ft(this._box),_t(this._container,"leaflet-crosshair")),it(),Pt(),Qt(document,{contextmenu:$t,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new B(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",Xr),nn.mergeOptions({doubleClickZoom:!0});var ei=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});nn.addInitHook("addHandler","doubleClickZoom",ei),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ti=gn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new yn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}yt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=Q(this._map.options.maxBounds);this._offsetLimit=M(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,o=(r+t+n)%e-t-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=s.multiplyBy(c/l),d=c/(n.inertiaDeceleration*a),p=u.multiplyBy(-d/2).round();p.x||p.y?(p=t._limitOffset(p,t.options.maxBounds),C((function(){t.panBy(p,{duration:d,easeLinearity:a,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ti),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ni=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Mt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Qt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Qt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=N(t).multiplyBy(3)),r.options.maxBounds&&(t=r._limitOffset(N(t),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(t)));r.panTo(i)}else r.panBy(t)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}$t(e)}}});nn.addInitHook("addHandler","keyboard",ni),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ri=gn.extend({addHooks:function(){Mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Qt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Jt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),$t(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});nn.addInitHook("addHandler","scrollWheelZoom",ri);var ii=600;nn.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var oi=gn.extend({addHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Qt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new I(t.clientX,t.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(Mt(document,"touchend",Vt),Mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),ii),Mt(document,"touchend touchcancel contextmenu",this._cancel,this),Mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Qt(document,"touchend",Vt),Qt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Qt(document,"touchend touchcancel contextmenu",this._cancel,this),Qt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new I(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",oi),nn.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var ai=gn.extend({addHooks:function(){yt(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),Qt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Mt(document,"touchmove",this._onTouchMove,this),Mt(document,"touchend touchcancel",this._onTouchEnd,this),Vt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),k(this._animRequest);var s=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=C(s,this,!0),Vt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,k(this._animRequest),Qt(document,"touchmove",this._onTouchMove,this),Qt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",ai),nn.BoxZoom=Xr,nn.DoubleClickZoom=ei,nn.Drag=ti,nn.Keyboard=ni,nn.ScrollWheelZoom=ri,nn.TapHold=oi,nn.TouchZoom=ai,e.Bounds=D,e.Browser=De,e.CRS=z,e.Canvas=Hr,e.Circle=ar,e.CircleMarker=ir,e.Class=O,e.Control=on,e.DivIcon=Nr,e.DivOverlay=jr,e.DomEvent=en,e.DomUtil=Dt,e.Draggable=yn,e.Evented=P,e.FeatureGroup=Kn,e.GeoJSON=pr,e.GridLayer=Mr,e.Handler=gn,e.Icon=Zn,e.ImageOverlay=Tr,e.LatLng=U,e.LatLngBounds=B,e.Layer=Gn,e.LayerGroup=Vn,e.LineUtil=Qn,e.Map=nn,e.Marker=tr,e.Mixin=vn,e.Path=rr,e.Point=I,e.PolyUtil=Tn,e.Polygon=ur,e.Polyline=lr,e.Popup=Pr,e.PosAnimation=tn,e.Projection=zn,e.Rectangle=Zr,e.Renderer=qr,e.SVG=Kr,e.SVGOverlay=Or,e.TileLayer=Qr,e.Tooltip=Lr,e.Transformation=G,e.Util=S,e.VideoOverlay=kr,e.bind=i,e.bounds=M,e.canvas=Wr,e.circle=sr,e.circleMarker=or,e.control=an,e.divIcon=Dr,e.extend=n,e.featureGroup=Yn,e.geoJSON=wr,e.geoJson=Er,e.gridLayer=Br,e.icon=Jn,e.imageOverlay=Cr,e.latLng=F,e.latLngBounds=Q,e.layerGroup=$n,e.map=rn,e.marker=nr,e.point=N,e.polygon=dr,e.polyline=cr,e.popup=Ir,e.rectangle=Jr,e.setOptions=h,e.stamp=a,e.svg=Yr,e.svgOverlay=Ar,e.tileLayer=Ur,e.tooltip=Rr,e.transformation=V,e.version=t,e.videoOverlay=Sr;var si=window.L;e.noConflict=function(){return window.L=si,this},window.L=e}(t)},3240:function(e,t){var n,r,i;r=[],void 0===(i="function"===typeof(n=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n="boolean"===typeof(new RegExp).sticky;function r(e){return e&&"[object RegExp]"===t.call(e)}function i(e){return e&&"object"===typeof e&&!r(e)&&!Array.isArray(e)}function o(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function a(e){return new RegExp("|"+e).exec("").length-1}function s(e){return"("+e+")"}function l(e){return e.length?"(?:"+e.map((function(e){return"(?:"+e+")"})).join("|")+")":"(?!)"}function c(e){if("string"===typeof e)return"(?:"+o(e)+")";if(r(e)){if(e.ignoreCase)throw new Error("RegExp /i flag not allowed");if(e.global)throw new Error("RegExp /g flag is implied");if(e.sticky)throw new Error("RegExp /y flag is implied");if(e.multiline)throw new Error("RegExp /m flag is implied");return e.source}throw new Error("Not a pattern: "+e)}function u(e,t){return e.length>t?e:Array(t-e.length+1).join(" ")+e}function d(e,t){for(var n=e.length,r=0;;){var i=e.lastIndexOf("\n",n-1);if(-1===i)break;if(n=i,++r===t)break;if(0===n)break}var o=r<t?0:n+1;return e.substring(o).split("\n")}function p(e){for(var t=Object.getOwnPropertyNames(e),n=[],r=0;r<t.length;r++){var o=t[r],a=e[o],s=[].concat(a);if("include"!==o){var l=[];s.forEach((function(e){i(e)?(l.length&&n.push(f(o,l)),n.push(f(o,e)),l=[]):l.push(e)})),l.length&&n.push(f(o,l))}else for(var c=0;c<s.length;c++)n.push({include:s[c]})}return n}function h(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];if(r.include)for(var i=[].concat(r.include),o=0;o<i.length;o++)t.push({include:i[o]});else{if(!r.type)throw new Error("Rule has no type: "+JSON.stringify(r));t.push(f(r.type,r))}}return t}function f(t,n){if(i(n)||(n={match:n}),n.include)throw new Error("Matching rules cannot also include states");var o={defaultType:t,lineBreaks:!!n.error||!!n.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var a in n)e.call(n,a)&&(o[a]=n[a]);if("string"===typeof o.type&&t!==o.type)throw new Error("Type transform cannot be a string (type '"+o.type+"' for token '"+t+"')");var s=o.match;return o.match=Array.isArray(s)?s:s?[s]:[],o.match.sort((function(e,t){return r(e)&&r(t)?0:r(t)?-1:r(e)?1:t.length-e.length})),o}function m(e){return Array.isArray(e)?h(e):p(e)}var g=f("error",{lineBreaks:!0,shouldThrow:!0});function v(e,t){for(var i=null,o=Object.create(null),u=!0,d=null,p=[],h=[],f=0;f<e.length;f++)e[f].fallback&&(u=!1);for(f=0;f<e.length;f++){var m=e[f];if(m.include)throw new Error("Inheritance is not allowed in stateless lexers");if(m.error||m.fallback){if(i)throw!m.fallback===!i.fallback?new Error("Multiple "+(m.fallback?"fallback":"error")+" rules not allowed (for token '"+m.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+m.defaultType+"')");i=m}var v=m.match.slice();if(u)for(;v.length&&"string"===typeof v[0]&&1===v[0].length;)o[v.shift().charCodeAt(0)]=m;if(m.pop||m.push||m.next){if(!t)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+m.defaultType+"')");if(m.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+m.defaultType+"')")}if(0!==v.length){u=!1,p.push(m);for(var b=0;b<v.length;b++){var y=v[b];if(r(y))if(null===d)d=y.unicode;else if(d!==y.unicode&&!1===m.fallback)throw new Error("If one rule is /u then all must be")}var _=l(v.map(c)),x=new RegExp(_);if(x.test(""))throw new Error("RegExp matches empty string: "+x);if(a(_)>0)throw new Error("RegExp has capture groups: "+x+"\nUse (?: \u2026 ) instead");if(!m.lineBreaks&&x.test("\n"))throw new Error("Rule should declare lineBreaks: "+x);h.push(s(_))}}var w=i&&i.fallback,E=n&&!w?"ym":"gm",T=n||w?"":"|";return!0===d&&(E+="u"),{regexp:new RegExp(l(h)+T,E),groups:p,fast:o,error:i||g}}function b(e){var t=v(m(e));return new w({start:t},"start")}function y(e,t,n){var r=e&&(e.push||e.next);if(r&&!n[r])throw new Error("Missing state '"+r+"' (in token '"+e.defaultType+"' of state '"+t+"')");if(e&&e.pop&&1!==+e.pop)throw new Error("pop must be 1 (in token '"+e.defaultType+"' of state '"+t+"')")}function _(e,t){var n=e.$all?m(e.$all):[];delete e.$all;var r=Object.getOwnPropertyNames(e);t||(t=r[0]);for(var i=Object.create(null),o=0;o<r.length;o++)i[g=r[o]]=m(e[g]).concat(n);for(o=0;o<r.length;o++)for(var a=i[g=r[o]],s=Object.create(null),l=0;l<a.length;l++){var c=a[l];if(c.include){var u=[l,1];if(c.include!==g&&!s[c.include]){s[c.include]=!0;var d=i[c.include];if(!d)throw new Error("Cannot include nonexistent state '"+c.include+"' (in state '"+g+"')");for(var p=0;p<d.length;p++){var h=d[p];-1===a.indexOf(h)&&u.push(h)}}a.splice.apply(a,u),l--}}var f=Object.create(null);for(o=0;o<r.length;o++){var g;f[g=r[o]]=v(i[g],!0)}for(o=0;o<r.length;o++){var b=r[o],_=f[b],x=_.groups;for(l=0;l<x.length;l++)y(x[l],b,f);var E=Object.getOwnPropertyNames(_.fast);for(l=0;l<E.length;l++)y(_.fast[E[l]],b,f)}return new w(f,t)}function x(e){for(var t="undefined"!==typeof Map,n=t?new Map:Object.create(null),r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var o=r[i],a=e[o];(Array.isArray(a)?a:[a]).forEach((function(e){if("string"!==typeof e)throw new Error("keyword must be string (in keyword '"+o+"')");t?n.set(e,o):n[e]=o}))}return function(e){return t?n.get(e):n[e]}}var w=function(e,t){this.startState=t,this.states=e,this.buffer="",this.stack=[],this.reset()};w.prototype.reset=function(e,t){return this.buffer=e||"",this.index=0,this.line=t?t.line:1,this.col=t?t.col:1,this.queuedToken=t?t.queuedToken:null,this.queuedText=t?t.queuedText:"",this.queuedThrow=t?t.queuedThrow:null,this.setState(t?t.state:this.startState),this.stack=t&&t.stack?t.stack.slice():[],this},w.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},w.prototype.setState=function(e){if(e&&this.state!==e){this.state=e;var t=this.states[e];this.groups=t.groups,this.error=t.error,this.re=t.regexp,this.fast=t.fast}},w.prototype.popState=function(){this.setState(this.stack.pop())},w.prototype.pushState=function(e){this.stack.push(this.state),this.setState(e)};var E=n?function(e,t){return e.exec(t)}:function(e,t){var n=e.exec(t);return 0===n[0].length?null:n};function T(){return this.value}if(w.prototype._getGroup=function(e){for(var t=this.groups.length,n=0;n<t;n++)if(void 0!==e[n+1])return this.groups[n];throw new Error("Cannot find token type for matched text")},w.prototype.next=function(){var e=this.index;if(this.queuedGroup){var t=this._token(this.queuedGroup,this.queuedText,e);return this.queuedGroup=null,this.queuedText="",t}var n=this.buffer;if(e!==n.length){if(a=this.fast[n.charCodeAt(e)])return this._token(a,n.charAt(e),e);var r=this.re;r.lastIndex=e;var i=E(r,n),o=this.error;if(null==i)return this._token(o,n.slice(e,n.length),e);var a=this._getGroup(i),s=i[0];return o.fallback&&i.index!==e?(this.queuedGroup=a,this.queuedText=s,this._token(o,n.slice(e,i.index),e)):this._token(a,s,e)}},w.prototype._token=function(e,t,n){var r=0;if(e.lineBreaks){var i=/\n/g,o=1;if("\n"===t)r=1;else for(;i.exec(t);)r++,o=i.lastIndex}var a={type:"function"===typeof e.type&&e.type(t)||e.defaultType,value:"function"===typeof e.value?e.value(t):t,text:t,toString:T,offset:n,lineBreaks:r,line:this.line,col:this.col},s=t.length;if(this.index+=s,this.line+=r,0!==r?this.col=s-o+1:this.col+=s,e.shouldThrow)throw new Error(this.formatError(a,"invalid syntax"));return e.pop?this.popState():e.push?this.pushState(e.push):e.next&&this.setState(e.next),a},"undefined"!==typeof Symbol&&Symbol.iterator){var C=function(e){this.lexer=e};C.prototype.next=function(){var e=this.lexer.next();return{value:e,done:!e}},C.prototype[Symbol.iterator]=function(){return this},w.prototype[Symbol.iterator]=function(){return new C(this)}}return w.prototype.formatError=function(e,t){if(null==e){var n=this.buffer.slice(this.index);e={text:n,offset:this.index,lineBreaks:-1===n.indexOf("\n")?0:1,line:this.line,col:this.col}}var r=2,i=Math.max(e.line-r,1),o=e.line+r,a=String(o).length,s=d(this.buffer,this.line-e.line+r+1).slice(0,5),l=[];l.push(t+" at line "+e.line+" col "+e.col+":"),l.push("");for(var c=0;c<s.length;c++){var p=s[c],h=i+c;l.push(u(String(h),a)+"  "+p),h===e.line&&l.push(u("",a+e.col+1)+"^")}return l.join("\n")},w.prototype.clone=function(){return new w(this.states,this.state)},w.prototype.has=function(e){return!0},{compile:b,states:_,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:x}})?n.apply(t,r):n)||(e.exports=i)},6411:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"use strict";var r=Array.prototype,i=Object.prototype,o={"&":"&amp;",'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","\\":"&#92;"},a=/[&"'<>\\]/g;function s(e,t){return i.hasOwnProperty.call(e,t)}function l(e){return o[e]}function c(e,t,n){var r,i,o;if(e instanceof Error&&(e=(i=e).name+": "+i.message),Object.setPrototypeOf?(r=new Error(e),Object.setPrototypeOf(r,c.prototype)):(r=this,Object.defineProperty(r,"message",{enumerable:!1,writable:!0,value:e})),Object.defineProperty(r,"name",{value:"Template render error"}),Error.captureStackTrace&&Error.captureStackTrace(r,this.constructor),i){var a=Object.getOwnPropertyDescriptor(i,"stack");(o=a&&(a.get||function(){return a.value}))||(o=function(){return i.stack})}else{var s=new Error(e).stack;o=function(){return s}}return Object.defineProperty(r,"stack",{get:function(){return o.call(r)}}),Object.defineProperty(r,"cause",{value:i}),r.lineno=t,r.colno=n,r.firstUpdate=!0,r.Update=function(e){var t="("+(e||"unknown path")+")";return this.firstUpdate&&(this.lineno&&this.colno?t+=" [Line "+this.lineno+", Column "+this.colno+"]":this.lineno&&(t+=" [Line "+this.lineno+"]")),t+="\n ",this.firstUpdate&&(t+=" "),this.message=t+(this.message||""),this.firstUpdate=!1,this},r}function u(e){return"[object Function]"===i.toString.call(e)}function d(e){return"[object Array]"===i.toString.call(e)}function p(e){return"[object String]"===i.toString.call(e)}function h(e){return"[object Object]"===i.toString.call(e)}function f(e){var t,n=(t=e)?"string"===typeof t?t.split("."):[t]:[];return function(e){for(var t=e,r=0;r<n.length;r++){var i=n[r];if(!s(t,i))return;t=t[i]}return t}}function m(e){return Array.prototype.slice.call(e)}function g(e,t,n){return Array.prototype.indexOf.call(e||[],t,n)}function v(e){var t=[];for(var n in e)s(e,n)&&t.push(n);return t}(t=e.exports={}).hasOwnProp=s,t._prettifyError=function(e,n,r){if(r.Update||(r=new t.TemplateError(r)),r.Update(e),!n){var i=r;(r=new Error(i.message)).name=i.name}return r},Object.setPrototypeOf?Object.setPrototypeOf(c.prototype,Error.prototype):c.prototype=Object.create(Error.prototype,{constructor:{value:c}}),t.TemplateError=c,t.escape=function(e){return e.replace(a,l)},t.isFunction=u,t.isArray=d,t.isString=p,t.isObject=h,t.getAttrGetter=f,t.groupBy=function(e,t,n){for(var r={},i=u(t)?t:f(t),o=0;o<e.length;o++){var a=e[o],s=i(a,o);if(void 0===s&&!0===n)throw new TypeError('groupby: attribute "'+t+'" resolved to undefined');(r[s]||(r[s]=[])).push(a)}return r},t.toArray=m,t.without=function(e){var t=[];if(!e)return t;for(var n=e.length,r=m(arguments).slice(1),i=-1;++i<n;)-1===g(r,e[i])&&t.push(e[i]);return t},t.repeat=function(e,t){for(var n="",r=0;r<t;r++)n+=e;return n},t.each=function(e,t,n){if(null!=e)if(r.forEach&&e.forEach===r.forEach)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)},t.map=function(e,t){var n=[];if(null==e)return n;if(r.map&&e.map===r.map)return e.map(t);for(var i=0;i<e.length;i++)n[n.length]=t(e[i],i);return e.length===+e.length&&(n.length=e.length),n},t.asyncIter=function(e,t,n){var r=-1;!function i(){++r<e.length?t(e[r],r,i,n):n()}()},t.asyncFor=function(e,t,n){var r=v(e||{}),i=r.length,o=-1;!function a(){o++;var s=r[o];o<i?t(s,e[s],o,i,a):n()}()},t.indexOf=g,t.keys=v,t._entries=function(e){return v(e).map((function(t){return[t,e[t]]}))},t._values=function(e){return v(e).map((function(t){return e[t]}))},t._assign=t.extend=function(e,t){return e=e||{},v(t).forEach((function(n){e[n]=t[n]})),e},t.inOperator=function(e,t){if(d(t)||p(t))return-1!==t.indexOf(e);if(h(t))return e in t;throw new Error('Cannot use "in" operator to search for "'+e+'" in unexpected types.')}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var l=n(16),c=n(0);function u(e,t,n){n=n||{},c.keys(n).forEach((function(t){var r,i;n[t]=(r=e.prototype[t],i=n[t],"function"!==typeof r||"function"!==typeof i?i:function(){var e=this.parent;this.parent=r;var t=i.apply(this,arguments);return this.parent=e,t})}));var r=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),i(n,[{key:"typename",get:function(){return t}}]),n}(e);return c._assign(r.prototype,n),r}var d=function(){function e(){this.init.apply(this,arguments)}return e.prototype.init=function(){},e.extend=function(e,t){return"object"===typeof e&&(t=e,e="anonymous"),u(this,e,t)},i(e,[{key:"typename",get:function(){return this.constructor.name}}]),e}(),p=function(e){function t(){var t,n;return(t=n=e.call(this)||this).init.apply(t,arguments),n}return a(t,e),t.prototype.init=function(){},t.extend=function(e,t){return"object"===typeof e&&(t=e,e="anonymous"),u(this,e,t)},i(t,[{key:"typename",get:function(){return this.constructor.name}}]),t}(l);e.exports={Obj:d,EmitterObj:p}},function(e,t,n){"use strict";var r=n(0),i=Array.from,o="function"===typeof Symbol&&Symbol.iterator&&"function"===typeof i,a=function(){function e(e,t){this.variables=Object.create(null),this.parent=e,this.topLevel=!1,this.isolateWrites=t}var t=e.prototype;return t.set=function(e,t,n){var r=e.split("."),i=this.variables,o=this;if(n&&(o=this.resolve(r[0],!0)))o.set(e,t);else{for(var a=0;a<r.length-1;a++){var s=r[a];i[s]||(i[s]={}),i=i[s]}i[r[r.length-1]]=t}},t.get=function(e){var t=this.variables[e];return void 0!==t?t:null},t.lookup=function(e){var t=this.parent,n=this.variables[e];return void 0!==n?n:t&&t.lookup(e)},t.resolve=function(e,t){var n=t&&this.isolateWrites?void 0:this.parent;return void 0!==this.variables[e]?this:n&&n.resolve(e)},t.push=function(t){return new e(this,t)},t.pop=function(){return this.parent},e}();function s(e){return e&&Object.prototype.hasOwnProperty.call(e,"__keywords")}function l(e){var t=e.length;return 0===t?0:s(e[t-1])?t-1:t}function c(e){if("string"!==typeof e)return e;this.val=e,this.length=e.length}c.prototype=Object.create(String.prototype,{length:{writable:!0,configurable:!0,value:0}}),c.prototype.valueOf=function(){return this.val},c.prototype.toString=function(){return this.val},e.exports={Frame:a,makeMacro:function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a,c=l(i),u=function(e){var t=e.length;if(t){var n=e[t-1];if(s(n))return n}return{}}(i);if(c>e.length)a=i.slice(0,e.length),i.slice(a.length,c).forEach((function(e,n){n<t.length&&(u[t[n]]=e)})),a.push(u);else if(c<e.length){a=i.slice(0,c);for(var d=c;d<e.length;d++){var p=e[d];a.push(u[p]),delete u[p]}a.push(u)}else a=i;return n.apply(this,a)}},makeKeywordArgs:function(e){return e.__keywords=!0,e},numArgs:l,suppressValue:function(e,t){return e=void 0!==e&&null!==e?e:"",!t||e instanceof c||(e=r.escape(e.toString())),e},ensureDefined:function(e,t,n){if(null===e||void 0===e)throw new r.TemplateError("attempted to output null or undefined value",t+1,n+1);return e},memberLookup:function(e,t){if(void 0!==e&&null!==e)return"function"===typeof e[t]?function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e[t].apply(e,r)}:e[t]},contextOrFrameLookup:function(e,t,n){var r=t.lookup(n);return void 0!==r?r:e.lookup(n)},callWrap:function(e,t,n,r){if(!e)throw new Error("Unable to call `"+t+"`, which is undefined or falsey");if("function"!==typeof e)throw new Error("Unable to call `"+t+"`, which is not a function");return e.apply(n,r)},handleError:function(e,t,n){return e.lineno?e:new r.TemplateError(e,t,n)},isArray:r.isArray,keys:r.keys,SafeString:c,copySafeness:function(e,t){return e instanceof c?new c(t):t.toString()},markSafe:function(e){var t=typeof e;return"string"===t?new c(e):"function"!==t?e:function(t){var n=e.apply(this,arguments);return"string"===typeof n?new c(n):n}},asyncEach:function(e,t,n,i){if(r.isArray(e)){var o=e.length;r.asyncIter(e,(function(e,r,i){switch(t){case 1:n(e,r,o,i);break;case 2:n(e[0],e[1],r,o,i);break;case 3:n(e[0],e[1],e[2],r,o,i);break;default:e.push(r,o,i),n.apply(this,e)}}),i)}else r.asyncFor(e,(function(e,t,r,i,o){n(e,t,r,i,o)}),i)},asyncAll:function(e,t,n,i){var o,a,s=0;function l(e,t){s++,a[e]=t,s===o&&i(null,a.join(""))}if(r.isArray(e))if(o=e.length,a=new Array(o),0===o)i(null,"");else for(var c=0;c<e.length;c++){var u=e[c];switch(t){case 1:n(u,c,o,l);break;case 2:n(u[0],u[1],c,o,l);break;case 3:n(u[0],u[1],u[2],c,o,l);break;default:u.push(c,o,l),n.apply(this,u)}}else{var d=r.keys(e||{});if(o=d.length,a=new Array(o),0===o)i(null,"");else for(var p=0;p<d.length;p++){var h=d[p];n(h,e[h],p,o,l)}}},inOperator:r.inOperator,fromIterator:function(e){return"object"!==typeof e||null===e||r.isArray(e)?e:o&&Symbol.iterator in e?i(e):e}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e,t,n){e instanceof t&&n.push(e),e instanceof c&&e.findAll(t,n)}var c=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.init=function(e,t){for(var n=arguments,r=this,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];this.lineno=e,this.colno=t,this.fields.forEach((function(e,t){var i=n[t+2];void 0===i&&(i=null),r[e]=i}))},n.findAll=function(e,t){var n=this;return t=t||[],this instanceof d?this.children.forEach((function(n){return l(n,e,t)})):this.fields.forEach((function(r){return l(n[r],e,t)})),t},n.iterFields=function(e){var t=this;this.fields.forEach((function(n){e(t[n],n)}))},t}(n(1).Obj),u=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),i(t,[{key:"typename",get:function(){return"Value"}},{key:"fields",get:function(){return["value"]}}]),t}(c),d=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.init=function(t,n,r){e.prototype.init.call(this,t,n,r||[])},n.addChild=function(e){this.children.push(e)},i(t,[{key:"typename",get:function(){return"NodeList"}},{key:"fields",get:function(){return["children"]}}]),t}(c),p=d.extend("Root"),h=u.extend("Literal"),f=u.extend("Symbol"),m=d.extend("Group"),g=d.extend("Array"),v=c.extend("Pair",{fields:["key","value"]}),b=d.extend("Dict"),y=c.extend("LookupVal",{fields:["target","val"]}),_=c.extend("If",{fields:["cond","body","else_"]}),x=_.extend("IfAsync"),w=c.extend("InlineIf",{fields:["cond","body","else_"]}),E=c.extend("For",{fields:["arr","name","body","else_"]}),T=E.extend("AsyncEach"),C=E.extend("AsyncAll"),k=c.extend("Macro",{fields:["name","args","body"]}),S=k.extend("Caller"),O=c.extend("Import",{fields:["template","target","withContext"]}),A=function(e){function t(){return e.apply(this,arguments)||this}return a(t,e),t.prototype.init=function(t,n,r,i,o){e.prototype.init.call(this,t,n,r,i||new d,o)},i(t,[{key:"typename",get:function(){return"FromImport"}},{key:"fields",get:function(){return["template","names","withContext"]}}]),t}(c),j=c.extend("FunCall",{fields:["name","args"]}),P=j.extend("Filter"),I=P.extend("FilterAsync",{fields:["name","args","symbol"]}),L=b.extend("KeywordArgs"),R=c.extend("Block",{fields:["name","body"]}),N=c.extend("Super",{fields:["blockName","symbol"]}),D=c.extend("TemplateRef",{fields:["template"]}).extend("Extends"),M=c.extend("Include",{fields:["template","ignoreMissing"]}),B=c.extend("Set",{fields:["targets","value"]}),Q=c.extend("Switch",{fields:["expr","cases","default"]}),U=c.extend("Case",{fields:["cond","body"]}),F=d.extend("Output"),z=c.extend("Capture",{fields:["body"]}),q=h.extend("TemplateData"),H=c.extend("UnaryOp",{fields:["target"]}),W=c.extend("BinOp",{fields:["left","right"]}),G=W.extend("In"),V=W.extend("Is"),$=W.extend("Or"),K=W.extend("And"),Y=H.extend("Not"),Z=W.extend("Add"),J=W.extend("Concat"),X=W.extend("Sub"),ee=W.extend("Mul"),te=W.extend("Div"),ne=W.extend("FloorDiv"),re=W.extend("Mod"),ie=W.extend("Pow"),oe=H.extend("Neg"),ae=H.extend("Pos"),se=c.extend("Compare",{fields:["expr","ops"]}),le=c.extend("CompareOperand",{fields:["expr","type"]}),ce=c.extend("CallExtension",{init:function(e,t,n,r){this.parent(),this.extName=e.__name||e,this.prop=t,this.args=n||new d,this.contentArgs=r||[],this.autoescape=e.autoescape},fields:["extName","prop","args","contentArgs"]}),ue=ce.extend("CallExtensionAsync");function de(e,t,n){var r=e.split("\n");r.forEach((function(e,i){e&&(n&&i>0||!n)&&process.stdout.write(" ".repeat(t));var o=i===r.length-1?"":"\n";process.stdout.write(""+e+o)}))}e.exports={Node:c,Root:p,NodeList:d,Value:u,Literal:h,Symbol:f,Group:m,Array:g,Pair:v,Dict:b,Output:F,Capture:z,TemplateData:q,If:_,IfAsync:x,InlineIf:w,For:E,AsyncEach:T,AsyncAll:C,Macro:k,Caller:S,Import:O,FromImport:A,FunCall:j,Filter:P,FilterAsync:I,KeywordArgs:L,Block:R,Super:N,Extends:D,Include:M,Set:B,Switch:Q,Case:U,LookupVal:y,BinOp:W,In:G,Is:V,Or:$,And:K,Not:Y,Add:Z,Concat:J,Sub:X,Mul:ee,Div:te,FloorDiv:ne,Mod:re,Pow:ie,Neg:oe,Pos:ae,Compare:se,CompareOperand:le,CallExtension:ce,CallExtensionAsync:ue,printNodes:function e(t,n){if(n=n||0,de(t.typename+": ",n),t instanceof d)de("\n"),t.children.forEach((function(t){e(t,n+2)}));else if(t instanceof ce)de(t.extName+"."+t.prop+"\n"),t.args&&e(t.args,n+2),t.contentArgs&&t.contentArgs.forEach((function(t){e(t,n+2)}));else{var r=[],i=null;t.iterFields((function(e,t){e instanceof c?r.push([t,e]):(i=i||{})[t]=e})),i?de(JSON.stringify(i,null,2)+"\n",null,!0):de("\n"),r.forEach((function(t){var r=t[0],i=t[1];de("["+r+"] =>",n+2),e(i,n+4)}))}}}},function(e,t){},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var i=n(8),o=n(17),a=n(3),s=n(0).TemplateError,l=n(2).Frame,c=n(1).Obj,u={"==":"==","===":"===","!=":"!=","!==":"!==","<":"<",">":">","<=":"<=",">=":">="},d=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var o=i.prototype;return o.init=function(e,t){this.templateName=e,this.codebuf=[],this.lastId=0,this.buffer=null,this.bufferStack=[],this._scopeClosers="",this.inBlock=!1,this.throwOnUndefined=t},o.fail=function(e,t,n){throw void 0!==t&&(t+=1),void 0!==n&&(n+=1),new s(e,t,n)},o._pushBuffer=function(){var e=this._tmpid();return this.bufferStack.push(this.buffer),this.buffer=e,this._emit("var "+this.buffer+' = "";'),e},o._popBuffer=function(){this.buffer=this.bufferStack.pop()},o._emit=function(e){this.codebuf.push(e)},o._emitLine=function(e){this._emit(e+"\n")},o._emitLines=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){return e._emitLine(t)}))},o._emitFuncBegin=function(e,t){this.buffer="output",this._scopeClosers="",this._emitLine("function "+t+"(env, context, frame, runtime, cb) {"),this._emitLine("var lineno = "+e.lineno+";"),this._emitLine("var colno = "+e.colno+";"),this._emitLine("var "+this.buffer+' = "";'),this._emitLine("try {")},o._emitFuncEnd=function(e){e||this._emitLine("cb(null, "+this.buffer+");"),this._closeScopeLevels(),this._emitLine("} catch (e) {"),this._emitLine("  cb(runtime.handleError(e, lineno, colno));"),this._emitLine("}"),this._emitLine("}"),this.buffer=null},o._addScopeLevel=function(){this._scopeClosers+="})"},o._closeScopeLevels=function(){this._emitLine(this._scopeClosers+";"),this._scopeClosers=""},o._withScopedSyntax=function(e){var t=this._scopeClosers;this._scopeClosers="",e.call(this),this._closeScopeLevels(),this._scopeClosers=t},o._makeCallback=function(e){var t=this._tmpid();return"function("+t+(e?","+e:"")+") {\nif("+t+") { cb("+t+"); return; }"},o._tmpid=function(){return this.lastId++,"t_"+this.lastId},o._templateName=function(){return null==this.templateName?"undefined":JSON.stringify(this.templateName)},o._compileChildren=function(e,t){var n=this;e.children.forEach((function(e){n.compile(e,t)}))},o._compileAggregate=function(e,t,n,r){var i=this;n&&this._emit(n),e.children.forEach((function(e,n){n>0&&i._emit(","),i.compile(e,t)})),r&&this._emit(r)},o._compileExpression=function(e,t){this.assertType(e,a.Literal,a.Symbol,a.Group,a.Array,a.Dict,a.FunCall,a.Caller,a.Filter,a.LookupVal,a.Compare,a.InlineIf,a.In,a.Is,a.And,a.Or,a.Not,a.Add,a.Concat,a.Sub,a.Mul,a.Div,a.FloorDiv,a.Mod,a.Pow,a.Neg,a.Pos,a.Compare,a.NodeList),this.compile(e,t)},o.assertType=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.some((function(t){return e instanceof t}))||this.fail("assertType: invalid type: "+e.typename,e.lineno,e.colno)},o.compileCallExtension=function(e,t,n){var r=this,i=e.args,o=e.contentArgs,s="boolean"!==typeof e.autoescape||e.autoescape;if(n||this._emit(this.buffer+" += runtime.suppressValue("),this._emit('env.getExtension("'+e.extName+'")["'+e.prop+'"]('),this._emit("context"),(i||o)&&this._emit(","),i&&(i instanceof a.NodeList||this.fail("compileCallExtension: arguments must be a NodeList, use `parser.parseSignature`"),i.children.forEach((function(e,n){r._compileExpression(e,t),(n!==i.children.length-1||o.length)&&r._emit(",")}))),o.length&&o.forEach((function(e,n){if(n>0&&r._emit(","),e){r._emitLine("function(cb) {"),r._emitLine("if(!cb) { cb = function(err) { if(err) { throw err; }}}");var i=r._pushBuffer();r._withScopedSyntax((function(){r.compile(e,t),r._emitLine("cb(null, "+i+");")})),r._popBuffer(),r._emitLine("return "+i+";"),r._emitLine("}")}else r._emit("null")})),n){var l=this._tmpid();this._emitLine(", "+this._makeCallback(l)),this._emitLine(this.buffer+" += runtime.suppressValue("+l+", "+s+" && env.opts.autoescape);"),this._addScopeLevel()}else this._emit(")"),this._emit(", "+s+" && env.opts.autoescape);\n")},o.compileCallExtensionAsync=function(e,t){this.compileCallExtension(e,t,!0)},o.compileNodeList=function(e,t){this._compileChildren(e,t)},o.compileLiteral=function(e){if("string"===typeof e.value){var t=e.value.replace(/\\/g,"\\\\");t=(t=(t=(t=(t=t.replace(/"/g,'\\"')).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/\t/g,"\\t")).replace(/\u2028/g,"\\u2028"),this._emit('"'+t+'"')}else null===e.value?this._emit("null"):this._emit(e.value.toString())},o.compileSymbol=function(e,t){var n=e.value,r=t.lookup(n);r?this._emit(r):this._emit('runtime.contextOrFrameLookup(context, frame, "'+n+'")')},o.compileGroup=function(e,t){this._compileAggregate(e,t,"(",")")},o.compileArray=function(e,t){this._compileAggregate(e,t,"[","]")},o.compileDict=function(e,t){this._compileAggregate(e,t,"{","}")},o.compilePair=function(e,t){var n=e.key,r=e.value;n instanceof a.Symbol?n=new a.Literal(n.lineno,n.colno,n.value):n instanceof a.Literal&&"string"===typeof n.value||this.fail("compilePair: Dict keys must be strings or names",n.lineno,n.colno),this.compile(n,t),this._emit(": "),this._compileExpression(r,t)},o.compileInlineIf=function(e,t){this._emit("("),this.compile(e.cond,t),this._emit("?"),this.compile(e.body,t),this._emit(":"),null!==e.else_?this.compile(e.else_,t):this._emit('""'),this._emit(")")},o.compileIn=function(e,t){this._emit("runtime.inOperator("),this.compile(e.left,t),this._emit(","),this.compile(e.right,t),this._emit(")")},o.compileIs=function(e,t){var n=e.right.name?e.right.name.value:e.right.value;this._emit('env.getTest("'+n+'").call(context, '),this.compile(e.left,t),e.right.args&&(this._emit(","),this.compile(e.right.args,t)),this._emit(") === true")},o._binOpEmitter=function(e,t,n){this.compile(e.left,t),this._emit(n),this.compile(e.right,t)},o.compileOr=function(e,t){return this._binOpEmitter(e,t," || ")},o.compileAnd=function(e,t){return this._binOpEmitter(e,t," && ")},o.compileAdd=function(e,t){return this._binOpEmitter(e,t," + ")},o.compileConcat=function(e,t){return this._binOpEmitter(e,t,' + "" + ')},o.compileSub=function(e,t){return this._binOpEmitter(e,t," - ")},o.compileMul=function(e,t){return this._binOpEmitter(e,t," * ")},o.compileDiv=function(e,t){return this._binOpEmitter(e,t," / ")},o.compileMod=function(e,t){return this._binOpEmitter(e,t," % ")},o.compileNot=function(e,t){this._emit("!"),this.compile(e.target,t)},o.compileFloorDiv=function(e,t){this._emit("Math.floor("),this.compile(e.left,t),this._emit(" / "),this.compile(e.right,t),this._emit(")")},o.compilePow=function(e,t){this._emit("Math.pow("),this.compile(e.left,t),this._emit(", "),this.compile(e.right,t),this._emit(")")},o.compileNeg=function(e,t){this._emit("-"),this.compile(e.target,t)},o.compilePos=function(e,t){this._emit("+"),this.compile(e.target,t)},o.compileCompare=function(e,t){var n=this;this.compile(e.expr,t),e.ops.forEach((function(e){n._emit(" "+u[e.type]+" "),n.compile(e.expr,t)}))},o.compileLookupVal=function(e,t){this._emit("runtime.memberLookup(("),this._compileExpression(e.target,t),this._emit("),"),this._compileExpression(e.val,t),this._emit(")")},o._getNodeName=function(e){switch(e.typename){case"Symbol":return e.value;case"FunCall":return"the return value of ("+this._getNodeName(e.name)+")";case"LookupVal":return this._getNodeName(e.target)+'["'+this._getNodeName(e.val)+'"]';case"Literal":return e.value.toString();default:return"--expression--"}},o.compileFunCall=function(e,t){this._emit("(lineno = "+e.lineno+", colno = "+e.colno+", "),this._emit("runtime.callWrap("),this._compileExpression(e.name,t),this._emit(', "'+this._getNodeName(e.name).replace(/"/g,'\\"')+'", context, '),this._compileAggregate(e.args,t,"[","])"),this._emit(")")},o.compileFilter=function(e,t){var n=e.name;this.assertType(n,a.Symbol),this._emit('env.getFilter("'+n.value+'").call(context, '),this._compileAggregate(e.args,t),this._emit(")")},o.compileFilterAsync=function(e,t){var n=e.name,r=e.symbol.value;this.assertType(n,a.Symbol),t.set(r,r),this._emit('env.getFilter("'+n.value+'").call(context, '),this._compileAggregate(e.args,t),this._emitLine(", "+this._makeCallback(r)),this._addScopeLevel()},o.compileKeywordArgs=function(e,t){this._emit("runtime.makeKeywordArgs("),this.compileDict(e,t),this._emit(")")},o.compileSet=function(e,t){var n=this,r=[];e.targets.forEach((function(e){var i=e.value,o=t.lookup(i);null!==o&&void 0!==o||(o=n._tmpid(),n._emitLine("var "+o+";")),r.push(o)})),e.value?(this._emit(r.join(" = ")+" = "),this._compileExpression(e.value,t),this._emitLine(";")):(this._emit(r.join(" = ")+" = "),this.compile(e.body,t),this._emitLine(";")),e.targets.forEach((function(e,t){var i=r[t],o=e.value;n._emitLine('frame.set("'+o+'", '+i+", true);"),n._emitLine("if(frame.topLevel) {"),n._emitLine('context.setVariable("'+o+'", '+i+");"),n._emitLine("}"),"_"!==o.charAt(0)&&(n._emitLine("if(frame.topLevel) {"),n._emitLine('context.addExport("'+o+'", '+i+");"),n._emitLine("}"))}))},o.compileSwitch=function(e,t){var n=this;this._emit("switch ("),this.compile(e.expr,t),this._emit(") {"),e.cases.forEach((function(e,r){n._emit("case "),n.compile(e.cond,t),n._emit(": "),n.compile(e.body,t),e.body.children.length&&n._emitLine("break;")})),e.default&&(this._emit("default:"),this.compile(e.default,t)),this._emit("}")},o.compileIf=function(e,t,n){var r=this;this._emit("if("),this._compileExpression(e.cond,t),this._emitLine(") {"),this._withScopedSyntax((function(){r.compile(e.body,t),n&&r._emit("cb()")})),e.else_?(this._emitLine("}\nelse {"),this._withScopedSyntax((function(){r.compile(e.else_,t),n&&r._emit("cb()")}))):n&&(this._emitLine("}\nelse {"),this._emit("cb()")),this._emitLine("}")},o.compileIfAsync=function(e,t){this._emit("(function(cb) {"),this.compileIf(e,t,!0),this._emit("})("+this._makeCallback()),this._addScopeLevel()},o._emitLoopBindings=function(e,t,n,r){var i=this;[{name:"index",val:n+" + 1"},{name:"index0",val:n},{name:"revindex",val:r+" - "+n},{name:"revindex0",val:r+" - "+n+" - 1"},{name:"first",val:n+" === 0"},{name:"last",val:n+" === "+r+" - 1"},{name:"length",val:r}].forEach((function(e){i._emitLine('frame.set("loop.'+e.name+'", '+e.val+");")}))},o.compileFor=function(e,t){var n=this,r=this._tmpid(),i=this._tmpid(),o=this._tmpid();if(t=t.push(),this._emitLine("frame = frame.push();"),this._emit("var "+o+" = "),this._compileExpression(e.arr,t),this._emitLine(";"),this._emit("if("+o+") {"),this._emitLine(o+" = runtime.fromIterator("+o+");"),e.name instanceof a.Array){this._emitLine("var "+r+";"),this._emitLine("if(runtime.isArray("+o+")) {"),this._emitLine("var "+i+" = "+o+".length;"),this._emitLine("for("+r+"=0; "+r+" < "+o+".length; "+r+"++) {"),e.name.children.forEach((function(i,a){var s=n._tmpid();n._emitLine("var "+s+" = "+o+"["+r+"]["+a+"];"),n._emitLine('frame.set("'+i+'", '+o+"["+r+"]["+a+"]);"),t.set(e.name.children[a].value,s)})),this._emitLoopBindings(e,o,r,i),this._withScopedSyntax((function(){n.compile(e.body,t)})),this._emitLine("}"),this._emitLine("} else {");var s=e.name.children,l=s[0],c=s[1],u=this._tmpid(),d=this._tmpid();t.set(l.value,u),t.set(c.value,d),this._emitLine(r+" = -1;"),this._emitLine("var "+i+" = runtime.keys("+o+").length;"),this._emitLine("for(var "+u+" in "+o+") {"),this._emitLine(r+"++;"),this._emitLine("var "+d+" = "+o+"["+u+"];"),this._emitLine('frame.set("'+l.value+'", '+u+");"),this._emitLine('frame.set("'+c.value+'", '+d+");"),this._emitLoopBindings(e,o,r,i),this._withScopedSyntax((function(){n.compile(e.body,t)})),this._emitLine("}"),this._emitLine("}")}else{var p=this._tmpid();t.set(e.name.value,p),this._emitLine("var "+i+" = "+o+".length;"),this._emitLine("for(var "+r+"=0; "+r+" < "+o+".length; "+r+"++) {"),this._emitLine("var "+p+" = "+o+"["+r+"];"),this._emitLine('frame.set("'+e.name.value+'", '+p+");"),this._emitLoopBindings(e,o,r,i),this._withScopedSyntax((function(){n.compile(e.body,t)})),this._emitLine("}")}this._emitLine("}"),e.else_&&(this._emitLine("if (!"+i+") {"),this.compile(e.else_,t),this._emitLine("}")),this._emitLine("frame = frame.pop();")},o._compileAsyncLoop=function(e,t,n){var r=this,i=this._tmpid(),o=this._tmpid(),s=this._tmpid(),l=n?"asyncAll":"asyncEach";if(t=t.push(),this._emitLine("frame = frame.push();"),this._emit("var "+s+" = runtime.fromIterator("),this._compileExpression(e.arr,t),this._emitLine(");"),e.name instanceof a.Array){var c=e.name.children.length;this._emit("runtime."+l+"("+s+", "+c+", function("),e.name.children.forEach((function(e){r._emit(e.value+",")})),this._emit(i+","+o+",next) {"),e.name.children.forEach((function(e){var n=e.value;t.set(n,n),r._emitLine('frame.set("'+n+'", '+n+");")}))}else{var u=e.name.value;this._emitLine("runtime."+l+"("+s+", 1, function("+u+", "+i+", "+o+",next) {"),this._emitLine('frame.set("'+u+'", '+u+");"),t.set(u,u)}this._emitLoopBindings(e,s,i,o),this._withScopedSyntax((function(){var o;n&&(o=r._pushBuffer()),r.compile(e.body,t),r._emitLine("next("+i+(o?","+o:"")+");"),n&&r._popBuffer()}));var d=this._tmpid();this._emitLine("}, "+this._makeCallback(d)),this._addScopeLevel(),n&&this._emitLine(this.buffer+" += "+d+";"),e.else_&&(this._emitLine("if (!"+s+".length) {"),this.compile(e.else_,t),this._emitLine("}")),this._emitLine("frame = frame.pop();")},o.compileAsyncEach=function(e,t){this._compileAsyncLoop(e,t)},o.compileAsyncAll=function(e,t){this._compileAsyncLoop(e,t,!0)},o._compileMacro=function(e,t){var n=this,r=[],i=null,o="macro_"+this._tmpid(),s=void 0!==t;e.args.children.forEach((function(t,o){o===e.args.children.length-1&&t instanceof a.Dict?i=t:(n.assertType(t,a.Symbol),r.push(t))}));var c,u=[].concat(r.map((function(e){return"l_"+e.value})),["kwargs"]),d=r.map((function(e){return'"'+e.value+'"'})),p=(i&&i.children||[]).map((function(e){return'"'+e.key.value+'"'}));c=s?t.push(!0):new l,this._emitLines("var "+o+" = runtime.makeMacro(","["+d.join(", ")+"], ","["+p.join(", ")+"], ","function ("+u.join(", ")+") {","var callerFrame = frame;","frame = "+(s?"frame.push(true);":"new runtime.Frame();"),"kwargs = kwargs || {};",'if (Object.prototype.hasOwnProperty.call(kwargs, "caller")) {','frame.set("caller", kwargs.caller); }'),r.forEach((function(e){n._emitLine('frame.set("'+e.value+'", l_'+e.value+");"),c.set(e.value,"l_"+e.value)})),i&&i.children.forEach((function(e){var t=e.key.value;n._emit('frame.set("'+t+'", '),n._emit('Object.prototype.hasOwnProperty.call(kwargs, "'+t+'")'),n._emit(' ? kwargs["'+t+'"] : '),n._compileExpression(e.value,c),n._emit(");")}));var h=this._pushBuffer();return this._withScopedSyntax((function(){n.compile(e.body,c)})),this._emitLine("frame = "+(s?"frame.pop();":"callerFrame;")),this._emitLine("return new runtime.SafeString("+h+");"),this._emitLine("});"),this._popBuffer(),o},o.compileMacro=function(e,t){var n=this._compileMacro(e),r=e.name.value;t.set(r,n),t.parent?this._emitLine('frame.set("'+r+'", '+n+");"):("_"!==e.name.value.charAt(0)&&this._emitLine('context.addExport("'+r+'");'),this._emitLine('context.setVariable("'+r+'", '+n+");"))},o.compileCaller=function(e,t){this._emit("(function (){");var n=this._compileMacro(e,t);this._emit("return "+n+";})()")},o._compileGetTemplate=function(e,t,n,r){var i=this._tmpid(),o=this._templateName(),a=this._makeCallback(i),s=n?"true":"false",l=r?"true":"false";return this._emit("env.getTemplate("),this._compileExpression(e.template,t),this._emitLine(", "+s+", "+o+", "+l+", "+a),i},o.compileImport=function(e,t){var n=e.target.value,r=this._compileGetTemplate(e,t,!1,!1);this._addScopeLevel(),this._emitLine(r+".getExported("+(e.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(r)),this._addScopeLevel(),t.set(n,r),t.parent?this._emitLine('frame.set("'+n+'", '+r+");"):this._emitLine('context.setVariable("'+n+'", '+r+");")},o.compileFromImport=function(e,t){var n=this,r=this._compileGetTemplate(e,t,!1,!1);this._addScopeLevel(),this._emitLine(r+".getExported("+(e.withContext?"context.getVariables(), frame, ":"")+this._makeCallback(r)),this._addScopeLevel(),e.names.children.forEach((function(e){var i,o,s=n._tmpid();e instanceof a.Pair?(i=e.key.value,o=e.value.value):o=i=e.value,n._emitLine("if(Object.prototype.hasOwnProperty.call("+r+', "'+i+'")) {'),n._emitLine("var "+s+" = "+r+"."+i+";"),n._emitLine("} else {"),n._emitLine("cb(new Error(\"cannot import '"+i+"'\")); return;"),n._emitLine("}"),t.set(o,s),t.parent?n._emitLine('frame.set("'+o+'", '+s+");"):n._emitLine('context.setVariable("'+o+'", '+s+");")}))},o.compileBlock=function(e){var t=this._tmpid();this.inBlock||this._emit('(parentTemplate ? function(e, c, f, r, cb) { cb(""); } : '),this._emit('context.getBlock("'+e.name.value+'")'),this.inBlock||this._emit(")"),this._emitLine("(env, context, frame, runtime, "+this._makeCallback(t)),this._emitLine(this.buffer+" += "+t+";"),this._addScopeLevel()},o.compileSuper=function(e,t){var n=e.blockName.value,r=e.symbol.value,i=this._makeCallback(r);this._emitLine('context.getSuper(env, "'+n+'", b_'+n+", frame, runtime, "+i),this._emitLine(r+" = runtime.markSafe("+r+");"),this._addScopeLevel(),t.set(r,r)},o.compileExtends=function(e,t){var n=this._tmpid(),r=this._compileGetTemplate(e,t,!0,!1);this._emitLine("parentTemplate = "+r),this._emitLine("for(var "+n+" in parentTemplate.blocks) {"),this._emitLine("context.addBlock("+n+", parentTemplate.blocks["+n+"]);"),this._emitLine("}"),this._addScopeLevel()},o.compileInclude=function(e,t){this._emitLine("var tasks = [];"),this._emitLine("tasks.push("),this._emitLine("function(callback) {");var n=this._compileGetTemplate(e,t,!1,e.ignoreMissing);this._emitLine("callback(null,"+n+");});"),this._emitLine("});");var r=this._tmpid();this._emitLine("tasks.push("),this._emitLine("function(template, callback){"),this._emitLine("template.render(context.getVariables(), frame, "+this._makeCallback(r)),this._emitLine("callback(null,"+r+");});"),this._emitLine("});"),this._emitLine("tasks.push("),this._emitLine("function(result, callback){"),this._emitLine(this.buffer+" += result;"),this._emitLine("callback(null);"),this._emitLine("});"),this._emitLine("env.waterfall(tasks, function(){"),this._addScopeLevel()},o.compileTemplateData=function(e,t){this.compileLiteral(e,t)},o.compileCapture=function(e,t){var n=this,r=this.buffer;this.buffer="output",this._emitLine("(function() {"),this._emitLine('var output = "";'),this._withScopedSyntax((function(){n.compile(e.body,t)})),this._emitLine("return output;"),this._emitLine("})()"),this.buffer=r},o.compileOutput=function(e,t){var n=this;e.children.forEach((function(r){r instanceof a.TemplateData?r.value&&(n._emit(n.buffer+" += "),n.compileLiteral(r,t),n._emitLine(";")):(n._emit(n.buffer+" += runtime.suppressValue("),n.throwOnUndefined&&n._emit("runtime.ensureDefined("),n.compile(r,t),n.throwOnUndefined&&n._emit(","+e.lineno+","+e.colno+")"),n._emit(", env.opts.autoescape);\n"))}))},o.compileRoot=function(e,t){var n=this;t&&this.fail("compileRoot: root node can't have frame"),t=new l,this._emitFuncBegin(e,"root"),this._emitLine("var parentTemplate = null;"),this._compileChildren(e,t),this._emitLine("if(parentTemplate) {"),this._emitLine("parentTemplate.rootRenderFunc(env, context, frame, runtime, cb);"),this._emitLine("} else {"),this._emitLine("cb(null, "+this.buffer+");"),this._emitLine("}"),this._emitFuncEnd(!0),this.inBlock=!0;var r=[],i=e.findAll(a.Block);i.forEach((function(e,t){var i=e.name.value;if(-1!==r.indexOf(i))throw new Error('Block "'+i+'" defined more than once.');r.push(i),n._emitFuncBegin(e,"b_"+i);var o=new l;n._emitLine("var frame = frame.push(true);"),n.compile(e.body,o),n._emitFuncEnd()})),this._emitLine("return {"),i.forEach((function(e,t){var r="b_"+e.name.value;n._emitLine(r+": "+r+",")})),this._emitLine("root: root\n};")},o.compile=function(e,t){var n=this["compile"+e.typename];n?n.call(this,e,t):this.fail("compile: Cannot compile node: "+e.typename,e.lineno,e.colno)},o.getCode=function(){return this.codebuf.join("")},i}(c);e.exports={compile:function(e,t,n,r,a){void 0===a&&(a={});var s=new d(r,a.throwOnUndefined),l=(n||[]).map((function(e){return e.preprocess})).filter((function(e){return!!e})).reduce((function(e,t){return t(e)}),e);return s.compile(o.transform(i.parse(l,n,a),t,r)),s.getCode()},Compiler:d}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var i=n(4),o=n(1).EmitterObj;e.exports=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var a=o.prototype;return a.resolve=function(e,t){return i.resolve(i.dirname(e),t)},a.isRelative=function(e){return 0===e.indexOf("./")||0===e.indexOf("../")},o}(o)},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}var o=n(12),a=n(15),s=n(0),l=n(5),c=n(18),u=n(10),d=u.FileSystemLoader,p=u.WebLoader,h=u.PrecompiledLoader,f=n(20),m=n(21),g=n(1),v=g.Obj,b=g.EmitterObj,y=n(2),_=y.handleError,x=y.Frame,w=n(22);function E(e,t,n){o((function(){e(t,n)}))}var T={type:"code",obj:{root:function(e,t,n,r,i){try{i(null,"")}catch(o){i(_(o,null,null))}}}},C=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.init=function(e,t){var n=this;t=this.opts=t||{},this.opts.dev=!!t.dev,this.opts.autoescape=null==t.autoescape||t.autoescape,this.opts.throwOnUndefined=!!t.throwOnUndefined,this.opts.trimBlocks=!!t.trimBlocks,this.opts.lstripBlocks=!!t.lstripBlocks,this.loaders=[],e?this.loaders=s.isArray(e)?e:[e]:d?this.loaders=[new d("views")]:p&&(this.loaders=[new p("/views")]),"undefined"!==typeof window&&window.nunjucksPrecompiled&&this.loaders.unshift(new h(window.nunjucksPrecompiled)),this._initLoaders(),this.globals=m(),this.filters={},this.tests={},this.asyncFilters=[],this.extensions={},this.extensionsList=[],s._entries(c).forEach((function(e){var t=e[0],r=e[1];return n.addFilter(t,r)})),s._entries(f).forEach((function(e){var t=e[0],r=e[1];return n.addTest(t,r)}))},n._initLoaders=function(){var e=this;this.loaders.forEach((function(t){t.cache={},"function"===typeof t.on&&(t.on("update",(function(n,r){t.cache[n]=null,e.emit("update",n,r,t)})),t.on("load",(function(n,r){e.emit("load",n,r,t)})))}))},n.invalidateCache=function(){this.loaders.forEach((function(e){e.cache={}}))},n.addExtension=function(e,t){return t.__name=e,this.extensions[e]=t,this.extensionsList.push(t),this},n.removeExtension=function(e){var t=this.getExtension(e);t&&(this.extensionsList=s.without(this.extensionsList,t),delete this.extensions[e])},n.getExtension=function(e){return this.extensions[e]},n.hasExtension=function(e){return!!this.extensions[e]},n.addGlobal=function(e,t){return this.globals[e]=t,this},n.getGlobal=function(e){if("undefined"===typeof this.globals[e])throw new Error("global not found: "+e);return this.globals[e]},n.addFilter=function(e,t,n){var r=t;return n&&this.asyncFilters.push(e),this.filters[e]=r,this},n.getFilter=function(e){if(!this.filters[e])throw new Error("filter not found: "+e);return this.filters[e]},n.addTest=function(e,t){return this.tests[e]=t,this},n.getTest=function(e){if(!this.tests[e])throw new Error("test not found: "+e);return this.tests[e]},n.resolveTemplate=function(e,t,n){return e.isRelative&&t&&e.isRelative(n)&&e.resolve?e.resolve(t,n):n},n.getTemplate=function(e,t,n,r,i){var o,a=this,l=this,c=null;if(e&&e.raw&&(e=e.raw),s.isFunction(n)&&(i=n,n=null,t=t||!1),s.isFunction(t)&&(i=t,t=!1),e instanceof S)c=e;else{if("string"!==typeof e)throw new Error("template names must be a string: "+e);for(var u=0;u<this.loaders.length;u++){var d=this.loaders[u];if(c=d.cache[this.resolveTemplate(d,n,e)])break}}return c?(t&&c.compile(),i?void i(null,c):c):(s.asyncIter(this.loaders,(function(t,r,i,o){function a(e,n){e?o(e):n?(n.loader=t,o(null,n)):i()}e=l.resolveTemplate(t,n,e),t.async?t.getSource(e,a):a(null,t.getSource(e))}),(function(n,s){if(s||n||r||(n=new Error("template not found: "+e)),n){if(i)return void i(n);throw n}var l;s?(l=new S(s.src,a,s.path,t),s.noCache||(s.loader.cache[e]=l)):l=new S(T,a,"",t),i?i(null,l):o=l})),o)},n.express=function(e){return w(this,e)},n.render=function(e,t,n){s.isFunction(t)&&(n=t,t=null);var r=null;return this.getTemplate(e,(function(e,i){if(e&&n)E(n,e);else{if(e)throw e;r=i.render(t,n)}})),r},n.renderString=function(e,t,n,r){return s.isFunction(n)&&(r=n,n={}),new S(e,this,(n=n||{}).path).render(t,r)},n.waterfall=function(e,t,n){return a(e,t,n)},t}(b),k=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.init=function(e,t,n){var r=this;this.env=n||new C,this.ctx=s.extend({},e),this.blocks={},this.exported=[],s.keys(t).forEach((function(e){r.addBlock(e,t[e])}))},n.lookup=function(e){return e in this.env.globals&&!(e in this.ctx)?this.env.globals[e]:this.ctx[e]},n.setVariable=function(e,t){this.ctx[e]=t},n.getVariables=function(){return this.ctx},n.addBlock=function(e,t){return this.blocks[e]=this.blocks[e]||[],this.blocks[e].push(t),this},n.getBlock=function(e){if(!this.blocks[e])throw new Error('unknown block "'+e+'"');return this.blocks[e][0]},n.getSuper=function(e,t,n,r,i,o){var a=s.indexOf(this.blocks[t]||[],n),l=this.blocks[t][a+1];if(-1===a||!l)throw new Error('no super block available for "'+t+'"');l(e,this,r,i,o)},n.addExport=function(e){this.exported.push(e)},n.getExported=function(){var e=this,t={};return this.exported.forEach((function(n){t[n]=e.ctx[n]})),t},t}(v),S=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.init=function(e,t,n,r){if(this.env=t||new C,s.isObject(e))switch(e.type){case"code":this.tmplProps=e.obj;break;case"string":this.tmplStr=e.obj;break;default:throw new Error("Unexpected template object type "+e.type+"; expected 'code', or 'string'")}else{if(!s.isString(e))throw new Error("src must be a string or an object describing the source");this.tmplStr=e}if(this.path=n,r)try{this._compile()}catch(i){throw s._prettifyError(this.path,this.env.opts.dev,i)}else this.compiled=!1},n.render=function(e,t,n){var r=this;"function"===typeof e?(n=e,e={}):"function"===typeof t&&(n=t,t=null);var i=!t;try{this.compile()}catch(d){var o=s._prettifyError(this.path,this.env.opts.dev,d);if(n)return E(n,o);throw o}var a=new k(e||{},this.blocks,this.env),l=t?t.push(!0):new x;l.topLevel=!0;var c=null,u=!1;return this.rootRenderFunc(this.env,a,l,y,(function(e,t){if(!u||!n||"undefined"===typeof t)if(e&&(e=s._prettifyError(r.path,r.env.opts.dev,e),u=!0),n)i?E(n,e,t):n(e,t);else{if(e)throw e;c=t}})),c},n.getExported=function(e,t,n){"function"===typeof e&&(n=e,e={}),"function"===typeof t&&(n=t,t=null);try{this.compile()}catch(o){if(n)return n(o);throw o}var r=t?t.push():new x;r.topLevel=!0;var i=new k(e||{},this.blocks,this.env);this.rootRenderFunc(this.env,i,r,y,(function(e){e?n(e,null):n(null,i.getExported())}))},n.compile=function(){this.compiled||this._compile()},n._compile=function(){var e;if(this.tmplProps)e=this.tmplProps;else{var t=l.compile(this.tmplStr,this.env.asyncFilters,this.env.extensionsList,this.path,this.env.opts);e=new Function(t)()}this.blocks=this._getBlocks(e),this.rootRenderFunc=e.root,this.compiled=!0},n._getBlocks=function(e){var t={};return s.keys(e).forEach((function(n){"b_"===n.slice(0,2)&&(t[n.slice(2)]=e[n])})),t},t}(v);e.exports={Environment:C,Template:S}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var i=n(9),o=n(3),a=n(1).Obj,s=n(0),l=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var l=a.prototype;return l.init=function(e){this.tokens=e,this.peeked=null,this.breakOnBlocks=null,this.dropLeadingWhitespace=!1,this.extensions=[]},l.nextToken=function(e){var t;if(this.peeked){if(e||this.peeked.type!==i.TOKEN_WHITESPACE)return t=this.peeked,this.peeked=null,t;this.peeked=null}if(t=this.tokens.nextToken(),!e)for(;t&&t.type===i.TOKEN_WHITESPACE;)t=this.tokens.nextToken();return t},l.peekToken=function(){return this.peeked=this.peeked||this.nextToken(),this.peeked},l.pushToken=function(e){if(this.peeked)throw new Error("pushToken: can only push one token on between reads");this.peeked=e},l.error=function(e,t,n){if(void 0===t||void 0===n){var r=this.peekToken()||{};t=r.lineno,n=r.colno}return void 0!==t&&(t+=1),void 0!==n&&(n+=1),new s.TemplateError(e,t,n)},l.fail=function(e,t,n){throw this.error(e,t,n)},l.skip=function(e){var t=this.nextToken();return!(!t||t.type!==e)||(this.pushToken(t),!1)},l.expect=function(e){var t=this.nextToken();return t.type!==e&&this.fail("expected "+e+", got "+t.type,t.lineno,t.colno),t},l.skipValue=function(e,t){var n=this.nextToken();return!(!n||n.type!==e||n.value!==t)||(this.pushToken(n),!1)},l.skipSymbol=function(e){return this.skipValue(i.TOKEN_SYMBOL,e)},l.advanceAfterBlockEnd=function(e){var t;return e||((t=this.peekToken())||this.fail("unexpected end of file"),t.type!==i.TOKEN_SYMBOL&&this.fail("advanceAfterBlockEnd: expected symbol token or explicit name to be passed"),e=this.nextToken().value),(t=this.nextToken())&&t.type===i.TOKEN_BLOCK_END?"-"===t.value.charAt(0)&&(this.dropLeadingWhitespace=!0):this.fail("expected block end in "+e+" statement"),t},l.advanceAfterVariableEnd=function(){var e=this.nextToken();e&&e.type===i.TOKEN_VARIABLE_END?this.dropLeadingWhitespace="-"===e.value.charAt(e.value.length-this.tokens.tags.VARIABLE_END.length-1):(this.pushToken(e),this.fail("expected variable end"))},l.parseFor=function(){var e,t,n=this.peekToken();if(this.skipSymbol("for")?(e=new o.For(n.lineno,n.colno),t="endfor"):this.skipSymbol("asyncEach")?(e=new o.AsyncEach(n.lineno,n.colno),t="endeach"):this.skipSymbol("asyncAll")?(e=new o.AsyncAll(n.lineno,n.colno),t="endall"):this.fail("parseFor: expected for{Async}",n.lineno,n.colno),e.name=this.parsePrimary(),e.name instanceof o.Symbol||this.fail("parseFor: variable name expected for loop"),this.peekToken().type===i.TOKEN_COMMA){var r=e.name;for(e.name=new o.Array(r.lineno,r.colno),e.name.addChild(r);this.skip(i.TOKEN_COMMA);){var a=this.parsePrimary();e.name.addChild(a)}}return this.skipSymbol("in")||this.fail('parseFor: expected "in" keyword for loop',n.lineno,n.colno),e.arr=this.parseExpression(),this.advanceAfterBlockEnd(n.value),e.body=this.parseUntilBlocks(t,"else"),this.skipSymbol("else")&&(this.advanceAfterBlockEnd("else"),e.else_=this.parseUntilBlocks(t)),this.advanceAfterBlockEnd(),e},l.parseMacro=function(){var e=this.peekToken();this.skipSymbol("macro")||this.fail("expected macro");var t=this.parsePrimary(!0),n=this.parseSignature(),r=new o.Macro(e.lineno,e.colno,t,n);return this.advanceAfterBlockEnd(e.value),r.body=this.parseUntilBlocks("endmacro"),this.advanceAfterBlockEnd(),r},l.parseCall=function(){var e=this.peekToken();this.skipSymbol("call")||this.fail("expected call");var t=this.parseSignature(!0)||new o.NodeList,n=this.parsePrimary();this.advanceAfterBlockEnd(e.value);var r=this.parseUntilBlocks("endcall");this.advanceAfterBlockEnd();var i=new o.Symbol(e.lineno,e.colno,"caller"),a=new o.Caller(e.lineno,e.colno,i,t,r),s=n.args.children;return s[s.length-1]instanceof o.KeywordArgs||s.push(new o.KeywordArgs),s[s.length-1].addChild(new o.Pair(e.lineno,e.colno,i,a)),new o.Output(e.lineno,e.colno,[n])},l.parseWithContext=function(){var e=this.peekToken(),t=null;return this.skipSymbol("with")?t=!0:this.skipSymbol("without")&&(t=!1),null!==t&&(this.skipSymbol("context")||this.fail("parseFrom: expected context after with/without",e.lineno,e.colno)),t},l.parseImport=function(){var e=this.peekToken();this.skipSymbol("import")||this.fail("parseImport: expected import",e.lineno,e.colno);var t=this.parseExpression();this.skipSymbol("as")||this.fail('parseImport: expected "as" keyword',e.lineno,e.colno);var n=this.parseExpression(),r=this.parseWithContext(),i=new o.Import(e.lineno,e.colno,t,n,r);return this.advanceAfterBlockEnd(e.value),i},l.parseFrom=function(){var e=this.peekToken();this.skipSymbol("from")||this.fail("parseFrom: expected from");var t=this.parseExpression();this.skipSymbol("import")||this.fail("parseFrom: expected import",e.lineno,e.colno);for(var n,r=new o.NodeList;;){var a=this.peekToken();if(a.type===i.TOKEN_BLOCK_END){r.children.length||this.fail("parseFrom: Expected at least one import name",e.lineno,e.colno),"-"===a.value.charAt(0)&&(this.dropLeadingWhitespace=!0),this.nextToken();break}r.children.length>0&&!this.skip(i.TOKEN_COMMA)&&this.fail("parseFrom: expected comma",e.lineno,e.colno);var s=this.parsePrimary();if("_"===s.value.charAt(0)&&this.fail("parseFrom: names starting with an underscore cannot be imported",s.lineno,s.colno),this.skipSymbol("as")){var l=this.parsePrimary();r.addChild(new o.Pair(s.lineno,s.colno,s,l))}else r.addChild(s);n=this.parseWithContext()}return new o.FromImport(e.lineno,e.colno,t,r,n)},l.parseBlock=function(){var e=this.peekToken();this.skipSymbol("block")||this.fail("parseBlock: expected block",e.lineno,e.colno);var t=new o.Block(e.lineno,e.colno);t.name=this.parsePrimary(),t.name instanceof o.Symbol||this.fail("parseBlock: variable name expected",e.lineno,e.colno),this.advanceAfterBlockEnd(e.value),t.body=this.parseUntilBlocks("endblock"),this.skipSymbol("endblock"),this.skipSymbol(t.name.value);var n=this.peekToken();return n||this.fail("parseBlock: expected endblock, got end of file"),this.advanceAfterBlockEnd(n.value),t},l.parseExtends=function(){var e="extends",t=this.peekToken();this.skipSymbol(e)||this.fail("parseTemplateRef: expected "+e);var n=new o.Extends(t.lineno,t.colno);return n.template=this.parseExpression(),this.advanceAfterBlockEnd(t.value),n},l.parseInclude=function(){var e="include",t=this.peekToken();this.skipSymbol(e)||this.fail("parseInclude: expected "+e);var n=new o.Include(t.lineno,t.colno);return n.template=this.parseExpression(),this.skipSymbol("ignore")&&this.skipSymbol("missing")&&(n.ignoreMissing=!0),this.advanceAfterBlockEnd(t.value),n},l.parseIf=function(){var e,t=this.peekToken();this.skipSymbol("if")||this.skipSymbol("elif")||this.skipSymbol("elseif")?e=new o.If(t.lineno,t.colno):this.skipSymbol("ifAsync")?e=new o.IfAsync(t.lineno,t.colno):this.fail("parseIf: expected if, elif, or elseif",t.lineno,t.colno),e.cond=this.parseExpression(),this.advanceAfterBlockEnd(t.value),e.body=this.parseUntilBlocks("elif","elseif","else","endif");var n=this.peekToken();switch(n&&n.value){case"elseif":case"elif":e.else_=this.parseIf();break;case"else":this.advanceAfterBlockEnd(),e.else_=this.parseUntilBlocks("endif"),this.advanceAfterBlockEnd();break;case"endif":e.else_=null,this.advanceAfterBlockEnd();break;default:this.fail("parseIf: expected elif, else, or endif, got end of file")}return e},l.parseSet=function(){var e=this.peekToken();this.skipSymbol("set")||this.fail("parseSet: expected set",e.lineno,e.colno);for(var t,n=new o.Set(e.lineno,e.colno,[]);(t=this.parsePrimary())&&(n.targets.push(t),this.skip(i.TOKEN_COMMA)););return this.skipValue(i.TOKEN_OPERATOR,"=")?(n.value=this.parseExpression(),this.advanceAfterBlockEnd(e.value)):this.skip(i.TOKEN_BLOCK_END)?(n.body=new o.Capture(e.lineno,e.colno,this.parseUntilBlocks("endset")),n.value=null,this.advanceAfterBlockEnd()):this.fail("parseSet: expected = or block end in set tag",e.lineno,e.colno),n},l.parseSwitch=function(){var e="switch",t="endswitch",n="case",r="default",i=this.peekToken();this.skipSymbol(e)||this.skipSymbol(n)||this.skipSymbol(r)||this.fail('parseSwitch: expected "switch," "case" or "default"',i.lineno,i.colno);var a=this.parseExpression();this.advanceAfterBlockEnd(e),this.parseUntilBlocks(n,r,t);var s,l=this.peekToken(),c=[];do{this.skipSymbol(n);var u=this.parseExpression();this.advanceAfterBlockEnd(e);var d=this.parseUntilBlocks(n,r,t);c.push(new o.Case(l.line,l.col,u,d)),l=this.peekToken()}while(l&&l.value===n);switch(l.value){case r:this.advanceAfterBlockEnd(),s=this.parseUntilBlocks(t),this.advanceAfterBlockEnd();break;case t:this.advanceAfterBlockEnd();break;default:this.fail('parseSwitch: expected "case," "default" or "endswitch," got EOF.')}return new o.Switch(i.lineno,i.colno,a,c,s)},l.parseStatement=function(){var e=this.peekToken();if(e.type!==i.TOKEN_SYMBOL&&this.fail("tag name expected",e.lineno,e.colno),this.breakOnBlocks&&-1!==s.indexOf(this.breakOnBlocks,e.value))return null;switch(e.value){case"raw":return this.parseRaw();case"verbatim":return this.parseRaw("verbatim");case"if":case"ifAsync":return this.parseIf();case"for":case"asyncEach":case"asyncAll":return this.parseFor();case"block":return this.parseBlock();case"extends":return this.parseExtends();case"include":return this.parseInclude();case"set":return this.parseSet();case"macro":return this.parseMacro();case"call":return this.parseCall();case"import":return this.parseImport();case"from":return this.parseFrom();case"filter":return this.parseFilterStatement();case"switch":return this.parseSwitch();default:if(this.extensions.length)for(var t=0;t<this.extensions.length;t++){var n=this.extensions[t];if(-1!==s.indexOf(n.tags||[],e.value))return n.parse(this,o,i)}this.fail("unknown block tag: "+e.value,e.lineno,e.colno)}},l.parseRaw=function(e){for(var t="end"+(e=e||"raw"),n=new RegExp("([\\s\\S]*?){%\\s*("+e+"|"+t+")\\s*(?=%})%}"),r=1,i="",a=null,s=this.advanceAfterBlockEnd();(a=this.tokens._extractRegex(n))&&r>0;){var l=a[0],c=a[1],u=a[2];u===e?r+=1:u===t&&(r-=1),0===r?(i+=c,this.tokens.backN(l.length-c.length)):i+=l}return new o.Output(s.lineno,s.colno,[new o.TemplateData(s.lineno,s.colno,i)])},l.parsePostfix=function(e){for(var t,n=this.peekToken();n;){if(n.type===i.TOKEN_LEFT_PAREN)e=new o.FunCall(n.lineno,n.colno,e,this.parseSignature());else if(n.type===i.TOKEN_LEFT_BRACKET)(t=this.parseAggregate()).children.length>1&&this.fail("invalid index"),e=new o.LookupVal(n.lineno,n.colno,e,t.children[0]);else{if(n.type!==i.TOKEN_OPERATOR||"."!==n.value)break;this.nextToken();var r=this.nextToken();r.type!==i.TOKEN_SYMBOL&&this.fail("expected name as lookup value, got "+r.value,r.lineno,r.colno),t=new o.Literal(r.lineno,r.colno,r.value),e=new o.LookupVal(n.lineno,n.colno,e,t)}n=this.peekToken()}return e},l.parseExpression=function(){return this.parseInlineIf()},l.parseInlineIf=function(){var e=this.parseOr();if(this.skipSymbol("if")){var t=this.parseOr(),n=e;(e=new o.InlineIf(e.lineno,e.colno)).body=n,e.cond=t,this.skipSymbol("else")?e.else_=this.parseOr():e.else_=null}return e},l.parseOr=function(){for(var e=this.parseAnd();this.skipSymbol("or");){var t=this.parseAnd();e=new o.Or(e.lineno,e.colno,e,t)}return e},l.parseAnd=function(){for(var e=this.parseNot();this.skipSymbol("and");){var t=this.parseNot();e=new o.And(e.lineno,e.colno,e,t)}return e},l.parseNot=function(){var e=this.peekToken();return this.skipSymbol("not")?new o.Not(e.lineno,e.colno,this.parseNot()):this.parseIn()},l.parseIn=function(){for(var e=this.parseIs();;){var t=this.nextToken();if(!t)break;var n=t.type===i.TOKEN_SYMBOL&&"not"===t.value;if(n||this.pushToken(t),!this.skipSymbol("in")){n&&this.pushToken(t);break}var r=this.parseIs();e=new o.In(e.lineno,e.colno,e,r),n&&(e=new o.Not(e.lineno,e.colno,e))}return e},l.parseIs=function(){var e=this.parseCompare();if(this.skipSymbol("is")){var t=this.skipSymbol("not"),n=this.parseCompare();e=new o.Is(e.lineno,e.colno,e,n),t&&(e=new o.Not(e.lineno,e.colno,e))}return e},l.parseCompare=function(){for(var e=["==","===","!=","!==","<",">","<=",">="],t=this.parseConcat(),n=[];;){var r=this.nextToken();if(!r)break;if(-1===e.indexOf(r.value)){this.pushToken(r);break}n.push(new o.CompareOperand(r.lineno,r.colno,this.parseConcat(),r.value))}return n.length?new o.Compare(n[0].lineno,n[0].colno,t,n):t},l.parseConcat=function(){for(var e=this.parseAdd();this.skipValue(i.TOKEN_TILDE,"~");){var t=this.parseAdd();e=new o.Concat(e.lineno,e.colno,e,t)}return e},l.parseAdd=function(){for(var e=this.parseSub();this.skipValue(i.TOKEN_OPERATOR,"+");){var t=this.parseSub();e=new o.Add(e.lineno,e.colno,e,t)}return e},l.parseSub=function(){for(var e=this.parseMul();this.skipValue(i.TOKEN_OPERATOR,"-");){var t=this.parseMul();e=new o.Sub(e.lineno,e.colno,e,t)}return e},l.parseMul=function(){for(var e=this.parseDiv();this.skipValue(i.TOKEN_OPERATOR,"*");){var t=this.parseDiv();e=new o.Mul(e.lineno,e.colno,e,t)}return e},l.parseDiv=function(){for(var e=this.parseFloorDiv();this.skipValue(i.TOKEN_OPERATOR,"/");){var t=this.parseFloorDiv();e=new o.Div(e.lineno,e.colno,e,t)}return e},l.parseFloorDiv=function(){for(var e=this.parseMod();this.skipValue(i.TOKEN_OPERATOR,"//");){var t=this.parseMod();e=new o.FloorDiv(e.lineno,e.colno,e,t)}return e},l.parseMod=function(){for(var e=this.parsePow();this.skipValue(i.TOKEN_OPERATOR,"%");){var t=this.parsePow();e=new o.Mod(e.lineno,e.colno,e,t)}return e},l.parsePow=function(){for(var e=this.parseUnary();this.skipValue(i.TOKEN_OPERATOR,"**");){var t=this.parseUnary();e=new o.Pow(e.lineno,e.colno,e,t)}return e},l.parseUnary=function(e){var t,n=this.peekToken();return t=this.skipValue(i.TOKEN_OPERATOR,"-")?new o.Neg(n.lineno,n.colno,this.parseUnary(!0)):this.skipValue(i.TOKEN_OPERATOR,"+")?new o.Pos(n.lineno,n.colno,this.parseUnary(!0)):this.parsePrimary(),e||(t=this.parseFilter(t)),t},l.parsePrimary=function(e){var t,n=this.nextToken(),r=null;if(n?n.type===i.TOKEN_STRING?t=n.value:n.type===i.TOKEN_INT?t=parseInt(n.value,10):n.type===i.TOKEN_FLOAT?t=parseFloat(n.value):n.type===i.TOKEN_BOOLEAN?"true"===n.value?t=!0:"false"===n.value?t=!1:this.fail("invalid boolean: "+n.value,n.lineno,n.colno):n.type===i.TOKEN_NONE?t=null:n.type===i.TOKEN_REGEX&&(t=new RegExp(n.value.body,n.value.flags)):this.fail("expected expression, got end of file"),void 0!==t?r=new o.Literal(n.lineno,n.colno,t):n.type===i.TOKEN_SYMBOL?r=new o.Symbol(n.lineno,n.colno,n.value):(this.pushToken(n),r=this.parseAggregate()),e||(r=this.parsePostfix(r)),r)return r;throw this.error("unexpected token: "+n.value,n.lineno,n.colno)},l.parseFilterName=function(){for(var e=this.expect(i.TOKEN_SYMBOL),t=e.value;this.skipValue(i.TOKEN_OPERATOR,".");)t+="."+this.expect(i.TOKEN_SYMBOL).value;return new o.Symbol(e.lineno,e.colno,t)},l.parseFilterArgs=function(e){return this.peekToken().type===i.TOKEN_LEFT_PAREN?this.parsePostfix(e).args.children:[]},l.parseFilter=function(e){for(;this.skip(i.TOKEN_PIPE);){var t=this.parseFilterName();e=new o.Filter(t.lineno,t.colno,t,new o.NodeList(t.lineno,t.colno,[e].concat(this.parseFilterArgs(e))))}return e},l.parseFilterStatement=function(){var e=this.peekToken();this.skipSymbol("filter")||this.fail("parseFilterStatement: expected filter");var t=this.parseFilterName(),n=this.parseFilterArgs(t);this.advanceAfterBlockEnd(e.value);var r=new o.Capture(t.lineno,t.colno,this.parseUntilBlocks("endfilter"));this.advanceAfterBlockEnd();var i=new o.Filter(t.lineno,t.colno,t,new o.NodeList(t.lineno,t.colno,[r].concat(n)));return new o.Output(t.lineno,t.colno,[i])},l.parseAggregate=function(){var e,t=this.nextToken();switch(t.type){case i.TOKEN_LEFT_PAREN:e=new o.Group(t.lineno,t.colno);break;case i.TOKEN_LEFT_BRACKET:e=new o.Array(t.lineno,t.colno);break;case i.TOKEN_LEFT_CURLY:e=new o.Dict(t.lineno,t.colno);break;default:return null}for(;;){var n=this.peekToken().type;if(n===i.TOKEN_RIGHT_PAREN||n===i.TOKEN_RIGHT_BRACKET||n===i.TOKEN_RIGHT_CURLY){this.nextToken();break}if(e.children.length>0&&(this.skip(i.TOKEN_COMMA)||this.fail("parseAggregate: expected comma after expression",t.lineno,t.colno)),e instanceof o.Dict){var r=this.parsePrimary();this.skip(i.TOKEN_COLON)||this.fail("parseAggregate: expected colon after dict key",t.lineno,t.colno);var a=this.parseExpression();e.addChild(new o.Pair(r.lineno,r.colno,r,a))}else{var s=this.parseExpression();e.addChild(s)}}return e},l.parseSignature=function(e,t){var n=this.peekToken();if(!t&&n.type!==i.TOKEN_LEFT_PAREN){if(e)return null;this.fail("expected arguments",n.lineno,n.colno)}n.type===i.TOKEN_LEFT_PAREN&&(n=this.nextToken());for(var r=new o.NodeList(n.lineno,n.colno),a=new o.KeywordArgs(n.lineno,n.colno),s=!1;;){if(n=this.peekToken(),!t&&n.type===i.TOKEN_RIGHT_PAREN){this.nextToken();break}if(t&&n.type===i.TOKEN_BLOCK_END)break;if(s&&!this.skip(i.TOKEN_COMMA))this.fail("parseSignature: expected comma after expression",n.lineno,n.colno);else{var l=this.parseExpression();this.skipValue(i.TOKEN_OPERATOR,"=")?a.addChild(new o.Pair(l.lineno,l.colno,l,this.parseExpression())):r.addChild(l)}s=!0}return a.children.length&&r.addChild(a),r},l.parseUntilBlocks=function(){for(var e=this.breakOnBlocks,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.breakOnBlocks=n;var i=this.parse();return this.breakOnBlocks=e,i},l.parseNodes=function(){for(var e,t=[];e=this.nextToken();)if(e.type===i.TOKEN_DATA){var n=e.value,r=this.peekToken(),a=r&&r.value;this.dropLeadingWhitespace&&(n=n.replace(/^\s*/,""),this.dropLeadingWhitespace=!1),r&&(r.type===i.TOKEN_BLOCK_START&&"-"===a.charAt(a.length-1)||r.type===i.TOKEN_VARIABLE_START&&"-"===a.charAt(this.tokens.tags.VARIABLE_START.length)||r.type===i.TOKEN_COMMENT&&"-"===a.charAt(this.tokens.tags.COMMENT_START.length))&&(n=n.replace(/\s*$/,"")),t.push(new o.Output(e.lineno,e.colno,[new o.TemplateData(e.lineno,e.colno,n)]))}else if(e.type===i.TOKEN_BLOCK_START){this.dropLeadingWhitespace=!1;var s=this.parseStatement();if(!s)break;t.push(s)}else if(e.type===i.TOKEN_VARIABLE_START){var l=this.parseExpression();this.dropLeadingWhitespace=!1,this.advanceAfterVariableEnd(),t.push(new o.Output(e.lineno,e.colno,[l]))}else e.type===i.TOKEN_COMMENT?this.dropLeadingWhitespace="-"===e.value.charAt(e.value.length-this.tokens.tags.COMMENT_END.length-1):this.fail("Unexpected token at top-level: "+e.type,e.lineno,e.colno);return t},l.parse=function(){return new o.NodeList(0,0,this.parseNodes())},l.parseAsRoot=function(){return new o.Root(0,0,this.parseNodes())},a}(a);e.exports={parse:function(e,t,n){var r=new l(i.lex(e,n));return void 0!==t&&(r.extensions=t),r.parseAsRoot()},Parser:l}},function(e,t,n){"use strict";var r=n(0),i=" \n\t\r\xa0",o="()[]{}%*-+~/#,:|.<>=!",a="string",s="whitespace",l="data",c="block-start",u="block-end",d="variable-start",p="variable-end",h="comment",f="left-paren",m="right-paren",g="left-bracket",v="right-bracket",b="left-curly",y="right-curly",_="operator",x="comma",w="colon",E="tilde",T="pipe",C="float",k="boolean",S="none",O="symbol",A="regex";function j(e,t,n,r){return{type:e,value:t,lineno:n,colno:r}}var P=function(){function e(e,t){this.str=e,this.index=0,this.len=e.length,this.lineno=0,this.colno=0,this.in_code=!1;var n=(t=t||{}).tags||{};this.tags={BLOCK_START:n.blockStart||"{%",BLOCK_END:n.blockEnd||"%}",VARIABLE_START:n.variableStart||"{{",VARIABLE_END:n.variableEnd||"}}",COMMENT_START:n.commentStart||"{#",COMMENT_END:n.commentEnd||"#}"},this.trimBlocks=!!t.trimBlocks,this.lstripBlocks=!!t.lstripBlocks}var t=e.prototype;return t.nextToken=function(){var e,t=this.lineno,n=this.colno;if(this.in_code){var P=this.current();if(this.isFinished())return null;if('"'===P||"'"===P)return j(a,this._parseString(P),t,n);if(e=this._extract(i))return j(s,e,t,n);if((e=this._extractString(this.tags.BLOCK_END))||(e=this._extractString("-"+this.tags.BLOCK_END)))return this.in_code=!1,this.trimBlocks&&("\n"===(P=this.current())?this.forward():"\r"===P&&(this.forward(),"\n"===(P=this.current())?this.forward():this.back())),j(u,e,t,n);if((e=this._extractString(this.tags.VARIABLE_END))||(e=this._extractString("-"+this.tags.VARIABLE_END)))return this.in_code=!1,j(p,e,t,n);if("r"===P&&"/"===this.str.charAt(this.index+1)){this.forwardN(2);for(var I="";!this.isFinished();){if("/"===this.current()&&"\\"!==this.previous()){this.forward();break}I+=this.current(),this.forward()}for(var L=["g","i","m","y"],R="";!this.isFinished()&&-1!==L.indexOf(this.current());)R+=this.current(),this.forward();return j(A,{body:I,flags:R},t,n)}if(-1!==o.indexOf(P)){this.forward();var N,D=["==","===","!=","!==","<=",">=","//","**"],M=P+this.current();switch(-1!==r.indexOf(D,M)&&(this.forward(),P=M,-1!==r.indexOf(D,M+this.current())&&(P=M+this.current(),this.forward())),P){case"(":N=f;break;case")":N=m;break;case"[":N=g;break;case"]":N=v;break;case"{":N=b;break;case"}":N=y;break;case",":N=x;break;case":":N=w;break;case"~":N=E;break;case"|":N=T;break;default:N=_}return j(N,P,t,n)}if((e=this._extractUntil(i+o)).match(/^[-+]?[0-9]+$/)){if("."===this.current()){this.forward();var B=this._extract("0123456789");return j(C,e+"."+B,t,n)}return j("int",e,t,n)}if(e.match(/^(true|false)$/))return j(k,e,t,n);if("none"===e)return j(S,e,t,n);if("null"===e)return j(S,e,t,n);if(e)return j(O,e,t,n);throw new Error("Unexpected value while parsing: "+e)}var Q,U=this.tags.BLOCK_START.charAt(0)+this.tags.VARIABLE_START.charAt(0)+this.tags.COMMENT_START.charAt(0)+this.tags.COMMENT_END.charAt(0);if(this.isFinished())return null;if((e=this._extractString(this.tags.BLOCK_START+"-"))||(e=this._extractString(this.tags.BLOCK_START)))return this.in_code=!0,j(c,e,t,n);if((e=this._extractString(this.tags.VARIABLE_START+"-"))||(e=this._extractString(this.tags.VARIABLE_START)))return this.in_code=!0,j(d,e,t,n);e="";var F=!1;for(this._matches(this.tags.COMMENT_START)&&(F=!0,e=this._extractString(this.tags.COMMENT_START));null!==(Q=this._extractUntil(U));){if(e+=Q,(this._matches(this.tags.BLOCK_START)||this._matches(this.tags.VARIABLE_START)||this._matches(this.tags.COMMENT_START))&&!F){if(this.lstripBlocks&&this._matches(this.tags.BLOCK_START)&&this.colno>0&&this.colno<=e.length){var z=e.slice(-this.colno);if(/^\s+$/.test(z)&&!(e=e.slice(0,-this.colno)).length)return this.nextToken()}break}if(this._matches(this.tags.COMMENT_END)){if(!F)throw new Error("unexpected end of comment");e+=this._extractString(this.tags.COMMENT_END);break}e+=this.current(),this.forward()}if(null===Q&&F)throw new Error("expected end of comment, got end of file");return j(F?h:l,e,t,n)},t._parseString=function(e){this.forward();for(var t="";!this.isFinished()&&this.current()!==e;){var n=this.current();if("\\"===n){switch(this.forward(),this.current()){case"n":t+="\n";break;case"t":t+="\t";break;case"r":t+="\r";break;default:t+=this.current()}this.forward()}else t+=n,this.forward()}return this.forward(),t},t._matches=function(e){return this.index+e.length>this.len?null:this.str.slice(this.index,this.index+e.length)===e},t._extractString=function(e){return this._matches(e)?(this.forwardN(e.length),e):null},t._extractUntil=function(e){return this._extractMatching(!0,e||"")},t._extract=function(e){return this._extractMatching(!1,e)},t._extractMatching=function(e,t){if(this.isFinished())return null;var n=t.indexOf(this.current());if(e&&-1===n||!e&&-1!==n){var r=this.current();this.forward();for(var i=t.indexOf(this.current());(e&&-1===i||!e&&-1!==i)&&!this.isFinished();)r+=this.current(),this.forward(),i=t.indexOf(this.current());return r}return""},t._extractRegex=function(e){var t=this.currentStr().match(e);return t?(this.forwardN(t[0].length),t):null},t.isFinished=function(){return this.index>=this.len},t.forwardN=function(e){for(var t=0;t<e;t++)this.forward()},t.forward=function(){this.index++,"\n"===this.previous()?(this.lineno++,this.colno=0):this.colno++},t.backN=function(e){for(var t=0;t<e;t++)this.back()},t.back=function(){if(this.index--,"\n"===this.current()){this.lineno--;var e=this.src.lastIndexOf("\n",this.index-1);this.colno=-1===e?this.index:this.index-e}else this.colno--},t.current=function(){return this.isFinished()?"":this.str.charAt(this.index)},t.currentStr=function(){return this.isFinished()?"":this.str.substr(this.index)},t.previous=function(){return this.str.charAt(this.index-1)},e}();e.exports={lex:function(e,t){return new P(e,t)},TOKEN_STRING:a,TOKEN_WHITESPACE:s,TOKEN_DATA:l,TOKEN_BLOCK_START:c,TOKEN_BLOCK_END:u,TOKEN_VARIABLE_START:d,TOKEN_VARIABLE_END:p,TOKEN_COMMENT:h,TOKEN_LEFT_PAREN:f,TOKEN_RIGHT_PAREN:m,TOKEN_LEFT_BRACKET:g,TOKEN_RIGHT_BRACKET:v,TOKEN_LEFT_CURLY:b,TOKEN_RIGHT_CURLY:y,TOKEN_OPERATOR:_,TOKEN_COMMA:x,TOKEN_COLON:w,TOKEN_TILDE:E,TOKEN_PIPE:T,TOKEN_INT:"int",TOKEN_FLOAT:C,TOKEN_BOOLEAN:k,TOKEN_NONE:S,TOKEN_SYMBOL:O,TOKEN_SPECIAL:"special",TOKEN_REGEX:A}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var i=n(6),o=n(19).PrecompiledLoader,a=function(e){var t,n;function i(t,n){var r;return(r=e.call(this)||this).baseURL=t||".",n=n||{},r.useCache=!!n.useCache,r.async=!!n.async,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var o=i.prototype;return o.resolve=function(e,t){throw new Error("relative templates not support in the browser yet")},o.getSource=function(e,t){var n,r=this,i=this.useCache;return this.fetch(this.baseURL+"/"+e,(function(o,a){if(o)if(t)t(o.content);else{if(404!==o.status)throw o.content;n=null}else n={src:a,path:e,noCache:!i},r.emit("load",e,n),t&&t(null,n)})),n},o.fetch=function(e,t){if("undefined"===typeof window)throw new Error("WebLoader can only by used in a browser");var n=new XMLHttpRequest,r=!0;n.onreadystatechange=function(){4===n.readyState&&r&&(r=!1,0===n.status||200===n.status?t(null,n.responseText):t({status:n.status,content:n.responseText}))},e+=(-1===e.indexOf("?")?"?":"&")+"s="+(new Date).getTime(),n.open("GET",e,this.async),n.send()},i}(i);e.exports={WebLoader:a,PrecompiledLoader:o}},function(e,t,n){"use strict";var r,i=n(0),o=n(7),a=o.Environment,s=o.Template,l=n(6),c=n(10),u=n(23),d=n(5),p=n(8),h=n(9),f=n(2),m=n(3),g=n(25);function v(e,t){var n;return t=t||{},i.isObject(e)&&(t=e,e=null),c.FileSystemLoader?n=new c.FileSystemLoader(e,{watch:t.watch,noCache:t.noCache}):c.WebLoader&&(n=new c.WebLoader(e,{useCache:t.web&&t.web.useCache,async:t.web&&t.web.async})),r=new a(n,t),t&&t.express&&r.express(t.express),r}e.exports={Environment:a,Template:s,Loader:l,FileSystemLoader:c.FileSystemLoader,NodeResolveLoader:c.NodeResolveLoader,PrecompiledLoader:c.PrecompiledLoader,WebLoader:c.WebLoader,compiler:d,parser:p,lexer:h,runtime:f,lib:i,nodes:m,installJinjaCompat:g,configure:v,reset:function(){r=void 0},compile:function(e,t,n,i){return r||v(),new s(e,t,n,i)},render:function(e,t,n){return r||v(),r.render(e,t,n)},renderString:function(e,t,n){return r||v(),r.renderString(e,t,n)},precompile:u?u.precompile:void 0,precompileString:u?u.precompileString:void 0}},function(e,t,n){"use strict";var r=n(13),i=[],o=[],a=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function s(e){var t;(t=i.length?i.pop():new l).task=e,r(t)}function l(){this.task=null}e.exports=s,l.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(o.push(e),a())}finally{this.task=null,i[i.length]=this}}},function(e,t,n){"use strict";(function(t){function n(e){i.length||r(),i[i.length]=e}e.exports=n;var r,i=[],o=0;function a(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>1024){for(var t=0,n=i.length-o;t<n;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0}var s="undefined"!==typeof t?t:self,l=s.MutationObserver||s.WebKitMutationObserver;function c(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}r="function"===typeof l?function(e){var t=1,n=new l(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(a):c(a),n.requestFlush=r,n.makeRequestCallFromTimer=c}).call(t,n(14))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){var r;!function(n){"use strict";var i=function(){var e=Array.prototype.slice.call(arguments);"function"===typeof e[0]&&e[0].apply(null,e.splice(1))},o=function(e){"function"===typeof setImmediate?setImmediate(e):"undefined"!==typeof process&&process.nextTick?process.nextTick(e):setTimeout(e,0)},a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=function(e,t,n){var r=n?o:i;if(t=t||function(){},!a(e)){var s=new Error("First argument to waterfall must be an array of functions");return t(s)}if(!e.length)return t();var l=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=e.next();o?i.push(l(o)):i.push(t),r((function(){e.apply(null,i)}))}}};l(function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)}(e))()};void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,o,a;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,function(e){console&&console.warn&&console.warn(e)}(s)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=p.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=i[e];if(void 0===l)return!1;if("function"===typeof l)o(l,this,t);else{var c=l.length,u=g(l,c);for(n=0;n<c;++n)o(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";var r=n(3),i=n(0),o=0;function a(){return"hole_"+o++}function s(e,t){for(var n=null,r=0;r<e.length;r++){var i=t(e[r]);i!==e[r]&&(n||(n=e.slice()),n[r]=i)}return n||e}function l(e,t,n){if(!(e instanceof r.Node))return e;if(!n){var i=t(e);if(i&&i!==e)return i}if(e instanceof r.NodeList){var o=s(e.children,(function(e){return l(e,t,n)}));o!==e.children&&(e=new r[e.typename](e.lineno,e.colno,o))}else if(e instanceof r.CallExtension){var a=l(e.args,t,n),c=s(e.contentArgs,(function(e){return l(e,t,n)}));a===e.args&&c===e.contentArgs||(e=new r[e.typename](e.extName,e.prop,a,c))}else{var u=e.fields.map((function(t){return e[t]})),d=s(u,(function(e){return l(e,t,n)}));d!==u&&(e=new r[e.typename](e.lineno,e.colno),d.forEach((function(t,n){e[e.fields[n]]=t})))}return n&&t(e)||e}function c(e,t){return l(e,t,!0)}function u(e,t,n){var o=[],s=c(n?e[n]:e,(function(e){var n;return e instanceof r.Block?e:((e instanceof r.Filter&&-1!==i.indexOf(t,e.name.value)||e instanceof r.CallExtensionAsync)&&(n=new r.Symbol(e.lineno,e.colno,a()),o.push(new r.FilterAsync(e.lineno,e.colno,e.name,e.args,n))),n)}));return n?e[n]=s:e=s,o.length?(o.push(e),new r.NodeList(e.lineno,e.colno,o)):e}function d(e,t){return function(e){return c(e,(function(e){if(e instanceof r.If||e instanceof r.For){var t=!1;if(l(e,(function(e){if(e instanceof r.FilterAsync||e instanceof r.IfAsync||e instanceof r.AsyncEach||e instanceof r.AsyncAll||e instanceof r.CallExtensionAsync)return t=!0,e})),t){if(e instanceof r.If)return new r.IfAsync(e.lineno,e.colno,e.cond,e.body,e.else_);if(e instanceof r.For&&!(e instanceof r.AsyncAll))return new r.AsyncEach(e.lineno,e.colno,e.arr,e.name,e.body,e.else_)}}}))}(function(e){return l(e,(function(e){if(e instanceof r.Block){var t=!1,n=a();e.body=l(e.body,(function(e){if(e instanceof r.FunCall&&"super"===e.name.value)return t=!0,new r.Symbol(e.lineno,e.colno,n)})),t&&e.body.children.unshift(new r.Super(0,0,e.name,new r.Symbol(0,0,n)))}}))}(function(e,t){return c(e,(function(e){return e instanceof r.Output?u(e,t):e instanceof r.Set?u(e,t,"value"):e instanceof r.For?u(e,t,"arr"):e instanceof r.If?u(e,t,"cond"):e instanceof r.CallExtension?u(e,t,"args"):void 0}))}(e,t)))}e.exports={transform:function(e,t){return d(e,t||[])}}},function(e,t,n){"use strict";var r=n(0),i=n(2);function o(e,t){return null===e||void 0===e||!1===e?t:e}function a(e){return e!==e}function s(e){var t=(e=o(e,"")).toLowerCase();return i.copySafeness(e,t.charAt(0).toUpperCase()+t.slice(1))}function l(e){if(r.isString(e))return e.split("");if(r.isObject(e))return r._entries(e||{}).map((function(e){return{key:e[0],value:e[1]}}));if(r.isArray(e))return e;throw new r.TemplateError("list filter: type not iterable")}function c(e){return function(t,n,i){void 0===n&&(n="truthy");var o=this,a=o.env.getTest(n);return r.toArray(t).filter((function(t){return a.call(o,t,i)===e}))}}function u(e){return i.copySafeness(e,e.replace(/^\s*|\s*$/g,""))}(t=e.exports={}).abs=Math.abs,t.batch=function(e,t,n){var r,i=[],o=[];for(r=0;r<e.length;r++)r%t===0&&o.length&&(i.push(o),o=[]),o.push(e[r]);if(o.length){if(n)for(r=o.length;r<t;r++)o.push(n);i.push(o)}return i},t.capitalize=s,t.center=function(e,t){if(t=t||80,(e=o(e,"")).length>=t)return e;var n=t-e.length,a=r.repeat(" ",n/2-n%2),s=r.repeat(" ",n/2);return i.copySafeness(e,a+e+s)},t.default=function(e,t,n){return n?e||t:void 0!==e?e:t},t.dictsort=function(e,t,n){if(!r.isObject(e))throw new r.TemplateError("dictsort filter: val must be an object");var i,o=[];for(var a in e)o.push([a,e[a]]);if(void 0===n||"key"===n)i=0;else{if("value"!==n)throw new r.TemplateError("dictsort filter: You can only sort by either key or value");i=1}return o.sort((function(e,n){var o=e[i],a=n[i];return t||(r.isString(o)&&(o=o.toUpperCase()),r.isString(a)&&(a=a.toUpperCase())),o>a?1:o===a?0:-1})),o},t.dump=function(e,t){return JSON.stringify(e,null,t)},t.escape=function(e){return e instanceof i.SafeString?e:(e=null===e||void 0===e?"":e,i.markSafe(r.escape(e.toString())))},t.safe=function(e){return e instanceof i.SafeString?e:(e=null===e||void 0===e?"":e,i.markSafe(e.toString()))},t.first=function(e){return e[0]},t.forceescape=function(e){return e=null===e||void 0===e?"":e,i.markSafe(r.escape(e.toString()))},t.groupby=function(e,t){return r.groupBy(e,t,this.env.opts.throwOnUndefined)},t.indent=function(e,t,n){if(""===(e=o(e,"")))return"";t=t||4;var a=e.split("\n"),s=r.repeat(" ",t),l=a.map((function(e,t){return 0!==t||n?""+s+e:e})).join("\n");return i.copySafeness(e,l)},t.join=function(e,t,n){return t=t||"",n&&(e=r.map(e,(function(e){return e[n]}))),e.join(t)},t.last=function(e){return e[e.length-1]},t.length=function(e){var t=o(e,"");return void 0!==t?"function"===typeof Map&&t instanceof Map||"function"===typeof Set&&t instanceof Set?t.size:!r.isObject(t)||t instanceof i.SafeString?t.length:r.keys(t).length:0},t.list=l,t.lower=function(e){return(e=o(e,"")).toLowerCase()},t.nl2br=function(e){return null===e||void 0===e?"":i.copySafeness(e,e.replace(/\r\n|\n/g,"<br />\n"))},t.random=function(e){return e[Math.floor(Math.random()*e.length)]},t.reject=c(!1),t.rejectattr=function(e,t){return e.filter((function(e){return!e[t]}))},t.select=c(!0),t.selectattr=function(e,t){return e.filter((function(e){return!!e[t]}))},t.replace=function(e,t,n,r){var o=e;if(t instanceof RegExp)return e.replace(t,n);"undefined"===typeof r&&(r=-1);var a="";if("number"===typeof t)t=""+t;else if("string"!==typeof t)return e;if("number"===typeof e&&(e=""+e),"string"!==typeof e&&!(e instanceof i.SafeString))return e;if(""===t)return a=n+e.split("").join(n)+n,i.copySafeness(e,a);var s=e.indexOf(t);if(0===r||-1===s)return e;for(var l=0,c=0;s>-1&&(-1===r||c<r);)a+=e.substring(l,s)+n,l=s+t.length,c++,s=e.indexOf(t,l);return l<e.length&&(a+=e.substring(l)),i.copySafeness(o,a)},t.reverse=function(e){var t;return(t=r.isString(e)?l(e):r.map(e,(function(e){return e}))).reverse(),r.isString(e)?i.copySafeness(e,t.join("")):t},t.round=function(e,t,n){t=t||0;var r=Math.pow(10,t);return("ceil"===n?Math.ceil:"floor"===n?Math.floor:Math.round)(e*r)/r},t.slice=function(e,t,n){for(var r=Math.floor(e.length/t),i=e.length%t,o=[],a=0,s=0;s<t;s++){var l=a+s*r;s<i&&a++;var c=a+(s+1)*r,u=e.slice(l,c);n&&s>=i&&u.push(n),o.push(u)}return o},t.sum=function(e,t,n){return void 0===n&&(n=0),t&&(e=r.map(e,(function(e){return e[t]}))),n+e.reduce((function(e,t){return e+t}),0)},t.sort=i.makeMacro(["value","reverse","case_sensitive","attribute"],[],(function(e,t,n,i){var o=this,a=r.map(e,(function(e){return e})),s=r.getAttrGetter(i);return a.sort((function(e,a){var l=i?s(e):e,c=i?s(a):a;if(o.env.opts.throwOnUndefined&&i&&(void 0===l||void 0===c))throw new TypeError('sort: attribute "'+i+'" resolved to undefined');return!n&&r.isString(l)&&r.isString(c)&&(l=l.toLowerCase(),c=c.toLowerCase()),l<c?t?1:-1:l>c?t?-1:1:0})),a})),t.string=function(e){return i.copySafeness(e,e)},t.striptags=function(e,t){var n=u((e=o(e,"")).replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>|<!--[\s\S]*?-->/gi,"")),r="";return r=t?n.replace(/^ +| +$/gm,"").replace(/ +/g," ").replace(/(\r\n)/g,"\n").replace(/\n\n\n+/g,"\n\n"):n.replace(/\s+/gi," "),i.copySafeness(e,r)},t.title=function(e){var t=(e=o(e,"")).split(" ").map((function(e){return s(e)}));return i.copySafeness(e,t.join(" "))},t.trim=u,t.truncate=function(e,t,n,r){var a=e;if(t=t||255,(e=o(e,"")).length<=t)return e;if(n)e=e.substring(0,t);else{var s=e.lastIndexOf(" ",t);-1===s&&(s=t),e=e.substring(0,s)}return e+=void 0!==r&&null!==r?r:"...",i.copySafeness(a,e)},t.upper=function(e){return(e=o(e,"")).toUpperCase()},t.urlencode=function(e){var t=encodeURIComponent;return r.isString(e)?t(e):(r.isArray(e)?e:r._entries(e)).map((function(e){var n=e[0],r=e[1];return t(n)+"="+t(r)})).join("&")};var d=/^(?:\(|<|&lt;)?(.*?)(?:\.|,|\)|\n|&gt;)?$/,p=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,h=/^https?:\/\/.*$/,f=/^www\./,m=/\.(?:org|net|com)(?:\:|\/|$)/;t.urlize=function(e,t,n){a(t)&&(t=1/0);var r=!0===n?' rel="nofollow"':"";return e.split(/(\s+)/).filter((function(e){return e&&e.length})).map((function(e){var n=e.match(d),i=n?n[1]:e,o=i.substr(0,t);return h.test(i)?'<a href="'+i+'"'+r+">"+o+"</a>":f.test(i)?'<a href="http://'+i+'"'+r+">"+o+"</a>":p.test(i)?'<a href="mailto:'+i+'">'+i+"</a>":m.test(i)?'<a href="http://'+i+'"'+r+">"+o+"</a>":e})).join("")},t.wordcount=function(e){var t=(e=o(e,""))?e.match(/\w+/g):null;return t?t.length:null},t.float=function(e,t){var n=parseFloat(e);return a(n)?t:n};var g=i.makeMacro(["value","default","base"],[],(function(e,t,n){void 0===n&&(n=10);var r=parseInt(e,n);return a(r)?t:r}));t.int=g,t.d=t.default,t.e=t.escape},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}var i=function(e){var t,n;function i(t){var n;return(n=e.call(this)||this).precompiled=t||{},n}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n),i.prototype.getSource=function(e){return this.precompiled[e]?{src:{type:"code",obj:this.precompiled[e]},path:e}:null},i}(n(6));e.exports={PrecompiledLoader:i}},function(e,t,n){"use strict";var r=n(2).SafeString;t.callable=function(e){return"function"===typeof e},t.defined=function(e){return void 0!==e},t.divisibleby=function(e,t){return e%t===0},t.escaped=function(e){return e instanceof r},t.equalto=function(e,t){return e===t},t.eq=t.equalto,t.sameas=t.equalto,t.even=function(e){return e%2===0},t.falsy=function(e){return!e},t.ge=function(e,t){return e>=t},t.greaterthan=function(e,t){return e>t},t.gt=t.greaterthan,t.le=function(e,t){return e<=t},t.lessthan=function(e,t){return e<t},t.lt=t.lessthan,t.lower=function(e){return e.toLowerCase()===e},t.ne=function(e,t){return e!==t},t.null=function(e){return null===e},t.number=function(e){return"number"===typeof e},t.odd=function(e){return e%2===1},t.string=function(e){return"string"===typeof e},t.truthy=function(e){return!!e},t.undefined=function(e){return void 0===e},t.upper=function(e){return e.toUpperCase()===e},t.iterable=function(e){return"undefined"!==typeof Symbol?!!e[Symbol.iterator]:Array.isArray(e)||"string"===typeof e},t.mapping=function(e){var t=null!==e&&void 0!==e&&"object"===typeof e&&!Array.isArray(e);return Set?t&&!(e instanceof Set):t}},function(e,t,n){"use strict";e.exports=function(){return{range:function(e,t,n){"undefined"===typeof t?(t=e,e=0,n=1):n||(n=1);var r=[];if(n>0)for(var i=e;i<t;i+=n)r.push(i);else for(var o=e;o>t;o+=n)r.push(o);return r},cycler:function(){return function(e){var t=-1;return{current:null,reset:function(){t=-1,this.current=null},next:function(){return++t>=e.length&&(t=0),this.current=e[t],this.current}}}(Array.prototype.slice.call(arguments))},joiner:function(e){return function(e){e=e||",";var t=!0;return function(){var n=t?"":e;return t=!1,n}}(e)}}}},function(e,t,n){var r=n(4);e.exports=function(e,t){function n(e,t){if(this.name=e,this.path=e,this.defaultEngine=t.defaultEngine,this.ext=r.extname(e),!this.ext&&!this.defaultEngine)throw new Error("No default engine was specified and no extension was provided.");this.ext||(this.name+=this.ext=("."!==this.defaultEngine[0]?".":"")+this.defaultEngine)}return n.prototype.render=function(t,n){e.render(this.name,t,n)},t.set("view",n),t.set("nunjucksEnv",e),e}},function(e,t,n){"use strict";var r=n(4),i=n(4),o=n(0)._prettifyError,a=n(5),s=n(7).Environment,l=n(24);function c(e,t){return!!Array.isArray(t)&&t.some((function(t){return e.match(t)}))}function u(e,t){(t=t||{}).isString=!0;var n=t.env||new s([]),r=t.wrapper||l;if(!t.name)throw new Error('the "name" option is required when compiling a string');return r([d(e,t.name,n)],t)}function d(e,t,n){var r,i=(n=n||new s([])).asyncFilters,l=n.extensionsList;t=t.replace(/\\/g,"/");try{r=a.compile(e,i,l,t,n.opts)}catch(c){throw o(t,!1,c)}return{name:t,template:r}}e.exports={precompile:function(e,t){var n=(t=t||{}).env||new s([]),o=t.wrapper||l;if(t.isString)return u(e,t);var a=r.existsSync(e)&&r.statSync(e),p=[],h=[];if(a.isFile())p.push(d(r.readFileSync(e,"utf-8"),t.name||e,n));else if(a.isDirectory()){!function n(o){r.readdirSync(o).forEach((function(a){var s=i.join(o,a),l=s.substr(i.join(e,"/").length),u=r.statSync(s);u&&u.isDirectory()?c(l+="/",t.exclude)||n(s):c(l,t.include)&&h.push(s)}))}(e);for(var f=0;f<h.length;f++){var m=h[f].replace(i.join(e,"/"),"");try{p.push(d(r.readFileSync(h[f],"utf-8"),m,n))}catch(g){if(!t.force)throw g;console.error(g)}}}return o(p,t)},precompileString:u}},function(e,t,n){"use strict";e.exports=function(e,t){var n="";t=t||{};for(var r=0;r<e.length;r++){var i=JSON.stringify(e[r].name);n+="(function() {(window.nunjucksPrecompiled = window.nunjucksPrecompiled || {})["+i+"] = (function() {\n"+e[r].template+"\n})();\n",t.asFunction&&(n+="return function(ctx, cb) { return nunjucks.render("+i+", ctx, cb); }\n"),n+="})();\n"}return n}},function(e,t,n){e.exports=function(){"use strict";var e,t,n=this.runtime,r=this.lib,i=this.compiler.Compiler,o=this.parser.Parser,a=this.nodes,s=this.lexer,l=n.contextOrFrameLookup,c=n.memberLookup;function u(e){return{index:e.index,lineno:e.lineno,colno:e.colno}}if(i&&(e=i.prototype.assertType),o&&(t=o.prototype.parseAggregate),n.contextOrFrameLookup=function(e,t,n){var r=l.apply(this,arguments);if(void 0!==r)return r;switch(n){case"True":return!0;case"False":return!1;case"None":return null;default:return}},a&&i&&o){var d=a.Node.extend("Slice",{fields:["start","stop","step"],init:function(e,t,n,r,i){n=n||new a.Literal(e,t,null),r=r||new a.Literal(e,t,null),i=i||new a.Literal(e,t,1),this.parent(e,t,n,r,i)}});i.prototype.assertType=function(t){t instanceof d||e.apply(this,arguments)},i.prototype.compileSlice=function(e,t){this._emit("("),this._compileExpression(e.start,t),this._emit("),("),this._compileExpression(e.stop,t),this._emit("),("),this._compileExpression(e.step,t),this._emit(")")},o.prototype.parseAggregate=function(){var e=this,n=u(this.tokens);n.colno--,n.index--;try{return t.apply(this)}catch(f){var i=u(this.tokens),o=function(){return r._assign(e.tokens,i),f};r._assign(this.tokens,n),this.peeked=!1;var l=this.peekToken();if(l.type!==s.TOKEN_LEFT_BRACKET)throw o();this.nextToken();for(var c=new d(l.lineno,l.colno),p=!1,h=0;h<=c.fields.length&&!this.skip(s.TOKEN_RIGHT_BRACKET);h++){if(h===c.fields.length){if(!p)break;this.fail("parseSlice: too many slice components",l.lineno,l.colno)}this.skip(s.TOKEN_COLON)?p=!0:(c[c.fields[h]]=this.parseExpression(),p=this.skip(s.TOKEN_COLON)||p)}if(!p)throw o();return new a.Array(l.lineno,l.colno,[c])}}}function p(e,t,r,i){e=e||[],null===t&&(t=i<0?e.length-1:0),null===r?r=i<0?-1:e.length:r<0&&(r+=e.length),t<0&&(t+=e.length);for(var o=[],a=t;!(a<0||a>e.length)&&!(i>0&&a>=r)&&!(i<0&&a<=r);a+=i)o.push(n.memberLookup(e,a));return o}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var f={pop:function(e){if(void 0===e)return this.pop();if(e>=this.length||e<0)throw new Error("KeyError");return this.splice(e,1)},append:function(e){return this.push(e)},remove:function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return this.splice(t,1);throw new Error("ValueError")},count:function(e){for(var t=0,n=0;n<this.length;n++)this[n]===e&&t++;return t},index:function(e){var t;if(-1===(t=this.indexOf(e)))throw new Error("ValueError");return t},find:function(e){return this.indexOf(e)},insert:function(e,t){return this.splice(e,0,t)}},m={items:function(){return r._entries(this)},values:function(){return r._values(this)},keys:function(){return r.keys(this)},get:function(e,t){var n=this[e];return void 0===n&&(n=t),n},has_key:function(e){return h(this,e)},pop:function(e,t){var n=this[e];if(void 0===n&&void 0!==t)n=t;else{if(void 0===n)throw new Error("KeyError");delete this[e]}return n},popitem:function(){var e=r.keys(this);if(!e.length)throw new Error("KeyError");var t=e[0],n=this[t];return delete this[t],[t,n]},setdefault:function(e,t){return void 0===t&&(t=null),e in this||(this[e]=t),this[e]},update:function(e){return r._assign(this,e),null}};return m.iteritems=m.items,m.itervalues=m.values,m.iterkeys=m.keys,n.memberLookup=function(e,t,n){return 4===arguments.length?p.apply(this,arguments):(e=e||{},r.isArray(e)&&h(f,t)?f[t].bind(e):r.isObject(e)&&h(m,t)?m[t].bind(e):c.apply(this,arguments))},function(){n.contextOrFrameLookup=l,n.memberLookup=c,i&&(i.prototype.assertType=e),o&&(o.prototype.parseAggregate=t)}}}])},e.exports=t()},4697:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(s[c]=o[c]);if(t){a=t(o);for(var u=0;u<a.length;u++)r.call(o,a[u])&&(s[a[u]]=o[a[u]])}}return s}},996:(e,t,n)=>{"use strict";var r=n(6696);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2320:(e,t,n)=>{e.exports=n(996)()},6696:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4972:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,i,o){r=r||"&",i=i||"=";var a={};if("string"!==typeof e||0===e.length)return a;var s=/\+/g;e=e.split(r);var l=1e3;o&&"number"===typeof o.maxKeys&&(l=o.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,p,h,f,m=e[u].replace(s,"%20"),g=m.indexOf(i);g>=0?(d=m.substr(0,g),p=m.substr(g+1)):(d=m,p=""),h=decodeURIComponent(d),f=decodeURIComponent(p),t(a,h)?n(a[h])?a[h].push(f):a[h]=[a[h],f]:a[h]=f}return a};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},3912:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,o,a,s){return o=o||"&",a=a||"=",null===e&&(e=void 0),"object"===typeof e?r(i(e),(function(i){var s=encodeURIComponent(t(i))+a;return n(e[i])?r(e[i],(function(e){return s+encodeURIComponent(t(e))})).join(o):s+encodeURIComponent(t(e[i]))})).join(o):s?encodeURIComponent(t(s))+a+encodeURIComponent(t(e)):""};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function r(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},4080:(e,t,n)=>{"use strict";n(4972),t.stringify=n(3912)},404:(e,t,n)=>{"use strict";var r=n(1468),i=n(4697),o=n(3436);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var l=!1,c=null,u=!1,d=null,p={onError:function(e){l=!0,c=e}};function h(e,t,n,r,i,o,a,u,d){l=!1,c=null,s.apply(p,arguments)}var f=null,m=null,g=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,o,s,p,f){if(h.apply(this,arguments),l){if(!l)throw Error(a(198));var m=c;l=!1,c=null,u||(u=!0,d=m)}}(r,t,void 0,e),e.currentTarget=null}var b=null,y={};function _(){if(b)for(var e in y){var t=y[e],n=b.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!w[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in w[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,l=r;if(E.hasOwnProperty(l))throw Error(a(99,l));E[l]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&x(c[i],s,l);i=!0}else o.registrationName?(x(o.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function x(e,t,n){if(T[e])throw Error(a(100,e));T[e]=t,C[e]=t.eventTypes[n].dependencies}var w=[],E={},T={},C={};function k(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!y.hasOwnProperty(t)||y[t]!==r){if(y[t])throw Error(a(102,t));y[t]=r,n=!0}}n&&_()}var S=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),O=null,A=null,j=null;function P(e){if(e=m(e)){if("function"!==typeof O)throw Error(a(280));var t=e.stateNode;t&&(t=f(t),O(e.stateNode,e.type,t))}}function I(e){A?j?j.push(e):j=[e]:A=e}function L(){if(A){var e=A,t=j;if(j=A=null,P(e),t)for(e=0;e<t.length;e++)P(t[e])}}function R(e,t){return e(t)}function N(e,t,n,r,i){return e(t,n,r,i)}function D(){}var M=R,B=!1,Q=!1;function U(){null===A&&null===j||(D(),L())}function F(e,t,n){if(Q)return e(t,n);Q=!0;try{return M(e,t,n)}finally{Q=!1,U()}}var z=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,H={},W={};function G(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){V[e]=new G(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];V[t]=new G(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){V[e]=new G(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){V[e]=new G(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){V[e]=new G(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){V[e]=new G(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){V[e]=new G(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){V[e]=new G(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){V[e]=new G(e,5,!1,e.toLowerCase(),null,!1)}));var $=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace($,K);V[t]=new G(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace($,K);V[t]=new G(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace($,K);V[t]=new G(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){V[e]=new G(e,1,!1,e.toLowerCase(),null,!1)})),V.xlinkHref=new G("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){V[e]=new G(e,1,!1,e.toLowerCase(),null,!0)}));var Y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Z(e,t,n,r){var i=V.hasOwnProperty(t)?V[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!q.call(W,e)||!q.call(H,e)&&(z.test(e)?W[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,X="function"===typeof Symbol&&Symbol.for,ee=X?Symbol.for("react.element"):60103,te=X?Symbol.for("react.portal"):60106,ne=X?Symbol.for("react.fragment"):60107,re=X?Symbol.for("react.strict_mode"):60108,ie=X?Symbol.for("react.profiler"):60114,oe=X?Symbol.for("react.provider"):60109,ae=X?Symbol.for("react.context"):60110,se=X?Symbol.for("react.concurrent_mode"):60111,le=X?Symbol.for("react.forward_ref"):60112,ce=X?Symbol.for("react.suspense"):60113,ue=X?Symbol.for("react.suspense_list"):60120,de=X?Symbol.for("react.memo"):60115,pe=X?Symbol.for("react.lazy"):60116,he=X?Symbol.for("react.block"):60121,fe="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=fe&&e[fe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ge(e.type);case he:return ge(e.render);case pe:if(e=1===e._status?e._result:null)return ge(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ge(e.type);n=null,r&&(n=ge(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function be(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ye(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=ye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ye(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=be(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&Z(e,"checked",t,!1)}function Ce(e,t){Te(e,t);var n=be(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Se(e,t.type,n):t.hasOwnProperty("defaultValue")&&Se(e,t.type,be(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ke(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Se(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+be(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function je(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:be(n)}}function Ie(e,t){var n=be(t.value),r=be(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Re="http://www.w3.org/1999/xhtml",Ne="http://www.w3.org/2000/svg";function De(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?De(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,Qe,Ue=(Qe=function(e,t){if(e.namespaceURI!==Ne||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Qe(e,t)}))}:Qe);function Fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},He={},We={};function Ge(e){if(He[e])return He[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return He[e]=n[t];return e}S&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Ve=Ge("animationend"),$e=Ge("animationiteration"),Ke=Ge("animationstart"),Ye=Ge("transitionend"),Ze="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function Xe(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(a(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nt(i),e;if(o===r)return nt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var at=null;function st(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function lt(e){if(null!==e&&(at=it(at,e)),e=at,at=null,e){if(ot(e,st),at)throw Error(a(95));if(u)throw e=d,u=!1,d=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!S)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var dt=[];function pt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>dt.length&&dt.push(e)}function ht(e,t,n,r){if(dt.length){var i=dt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ft(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Ln(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<w.length;l++){var c=w[l];c&&(c=c.extractEvents(r,t,o,i,a))&&(s=it(s,c))}lt(s)}}function mt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Kt(t,"scroll",!0);break;case"focus":case"blur":Kt(t,"focus",!0),Kt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Kt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ze.indexOf(e)&&$t(e,t)}n.set(e,null)}}var gt,vt,bt,yt=!1,_t=[],xt=null,wt=null,Et=null,Tt=new Map,Ct=new Map,kt=[],St="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Ot="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function At(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function jt(e,t){switch(e){case"focus":case"blur":xt=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function Pt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=At(t,n,r,i,o),null!==t&&(null!==(t=Rn(t))&&vt(t)),e):(e.eventSystemFlags|=r,e)}function It(e){var t=Ln(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){bt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;var t=Xt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Rn(t);return null!==n&&vt(n),e.blockedOn=t,!1}return!0}function Rt(e,t,n){Lt(e)&&n.delete(t)}function Nt(){for(yt=!1;0<_t.length;){var e=_t[0];if(null!==e.blockedOn){null!==(e=Rn(e.blockedOn))&&gt(e);break}var t=Xt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:_t.shift()}null!==xt&&Lt(xt)&&(xt=null),null!==wt&&Lt(wt)&&(wt=null),null!==Et&&Lt(Et)&&(Et=null),Tt.forEach(Rt),Ct.forEach(Rt)}function Dt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Nt)))}function Mt(e){function t(t){return Dt(t,e)}if(0<_t.length){Dt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&Dt(xt,e),null!==wt&&Dt(wt,e),null!==Et&&Dt(Et,e),Tt.forEach(t),Ct.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)It(n),null===n.blockedOn&&kt.shift()}var Bt={},Qt=new Map,Ut=new Map,Ft=["abort","abort",Ve,"animationEnd",$e,"animationIteration",Ke,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function zt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Ut.set(r,t),Qt.set(r,o),Bt[i]=o}}zt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(Ft,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ht=0;Ht<qt.length;Ht++)Ut.set(qt[Ht],0);var Wt=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,Vt=!0;function $t(e,t){Kt(t,e,!1)}function Kt(e,t,n){var r=Ut.get(t);switch(void 0===r?2:r){case 0:r=Yt.bind(null,t,1,e);break;case 1:r=Zt.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Yt(e,t,n,r){B||D();var i=Jt,o=B;B=!0;try{N(i,e,t,n,r)}finally{(B=o)||U()}}function Zt(e,t,n,r){Gt(Wt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Vt)if(0<_t.length&&-1<St.indexOf(e))e=At(null,e,t,n,r),_t.push(e);else{var i=Xt(e,t,n,r);if(null===i)jt(e,r);else if(-1<St.indexOf(e))e=At(i,e,t,n,r),_t.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return xt=Pt(xt,e,t,n,r,i),!0;case"dragenter":return wt=Pt(wt,e,t,n,r,i),!0;case"mouseover":return Et=Pt(Et,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Tt.set(o,Pt(Tt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ct.set(o,Pt(Ct.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){jt(e,r),e=ht(e,r,null,t);try{F(ft,e)}finally{pt(e)}}}}function Xt(e,t,n,r){if(null!==(n=Ln(n=ct(r)))){var i=et(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=tt(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ht(e,r,n,t);try{F(ft,e)}finally{pt(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var on=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function an(e,t){if(t){if(on[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function sn(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=Re;function cn(e,t){var n=Xe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=C[t];for(var r=0;r<t.length;r++)mt(t[r],e,n)}function un(){}function dn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function pn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,r=pn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pn(r)}}function fn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=dn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=dn((e=t.contentWindow).document)}return t}function gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vn="$",bn="/$",yn="$?",_n="$!",xn=null,wn=null;function En(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Tn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Cn="function"===typeof setTimeout?setTimeout:void 0,kn="function"===typeof clearTimeout?clearTimeout:void 0;function Sn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function On(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(n===vn||n===_n||n===yn){if(0===t)return e;t--}else n===bn&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),jn="__reactInternalInstance$"+An,Pn="__reactEventHandlers$"+An,In="__reactContainere$"+An;function Ln(e){var t=e[jn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[In]||n[jn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=On(e);null!==e;){if(n=e[jn])return n;e=On(e)}return t}n=(e=n).parentNode}return null}function Rn(e){return!(e=e[jn]||e[In])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Nn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Dn(e){return e[Pn]||null}function Mn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Bn(e,t){var n=e.stateNode;if(!n)return null;var r=f(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Qn(e,t,n){(t=Bn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Un(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Mn(t);for(t=n.length;0<t--;)Qn(n[t],"captured",e);for(t=0;t<n.length;t++)Qn(n[t],"bubbled",e)}}function Fn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Bn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function zn(e){e&&e.dispatchConfig.registrationName&&Fn(e._targetInst,null,e)}function qn(e){ot(e,Un)}var Hn=null,Wn=null,Gn=null;function Vn(){if(Gn)return Gn;var e,t,n=Wn,r=n.length,i="value"in Hn?Hn.value:Hn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Gn=i.slice(e,1<t?1-t:void 0)}function $n(){return!0}function Kn(){return!1}function Yn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?$n:Kn,this.isPropagationStopped=Kn,this}function Zn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Jn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Xn(e){e.eventPool=[],e.getPooled=Zn,e.release=Jn}i(Yn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){this.isPersistent=$n},isPersistent:Kn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Kn,this._dispatchInstances=this._dispatchListeners=null}}),Yn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Yn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Xn(n),n},Xn(Yn);var er=Yn.extend({data:null}),tr=Yn.extend({data:null}),nr=[9,13,27,32],rr=S&&"CompositionEvent"in window,ir=null;S&&"documentMode"in document&&(ir=document.documentMode);var or=S&&"TextEvent"in window&&!ir,ar=S&&(!rr||ir&&8<ir&&11>=ir),sr=String.fromCharCode(32),lr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},cr=!1;function ur(e,t){switch(e){case"keyup":return-1!==nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function dr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var pr=!1;var hr={eventTypes:lr,extractEvents:function(e,t,n,r){var i;if(rr)e:{switch(e){case"compositionstart":var o=lr.compositionStart;break e;case"compositionend":o=lr.compositionEnd;break e;case"compositionupdate":o=lr.compositionUpdate;break e}o=void 0}else pr?ur(e,n)&&(o=lr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=lr.compositionStart);return o?(ar&&"ko"!==n.locale&&(pr||o!==lr.compositionStart?o===lr.compositionEnd&&pr&&(i=Vn()):(Wn="value"in(Hn=r)?Hn.value:Hn.textContent,pr=!0)),o=er.getPooled(o,t,n,r),i?o.data=i:null!==(i=dr(n))&&(o.data=i),qn(o),i=o):i=null,(e=or?function(e,t){switch(e){case"compositionend":return dr(t);case"keypress":return 32!==t.which?null:(cr=!0,sr);case"textInput":return(e=t.data)===sr&&cr?null:e;default:return null}}(e,n):function(e,t){if(pr)return"compositionend"===e||!rr&&ur(e,t)?(e=Vn(),Gn=Wn=Hn=null,pr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ar&&"ko"!==t.locale?null:t.data}}(e,n))?((t=tr.getPooled(lr.beforeInput,t,n,r)).data=e,qn(t)):t=null,null===i?t:null===t?i:[i,t]}},fr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!fr[e.type]:"textarea"===t}var gr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function vr(e,t,n){return(e=Yn.getPooled(gr.change,e,t,n)).type="change",I(n),qn(e),e}var br=null,yr=null;function _r(e){lt(e)}function xr(e){if(xe(Nn(e)))return e}function wr(e,t){if("change"===e)return t}var Er=!1;function Tr(){br&&(br.detachEvent("onpropertychange",Cr),yr=br=null)}function Cr(e){if("value"===e.propertyName&&xr(yr))if(e=vr(yr,e,ct(e)),B)lt(e);else{B=!0;try{R(_r,e)}finally{B=!1,U()}}}function kr(e,t,n){"focus"===e?(Tr(),yr=n,(br=t).attachEvent("onpropertychange",Cr)):"blur"===e&&Tr()}function Sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return xr(yr)}function Or(e,t){if("click"===e)return xr(t)}function Ar(e,t){if("input"===e||"change"===e)return xr(t)}S&&(Er=ut("input")&&(!document.documentMode||9<document.documentMode));var jr={eventTypes:gr,_isInputEventSupported:Er,extractEvents:function(e,t,n,r){var i=t?Nn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=wr;else if(mr(i))if(Er)a=Ar;else{a=Sr;var s=kr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=Or);if(a&&(a=a(e,t)))return vr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Se(i,"number",i.value)}},Pr=Yn.extend({view:null,detail:null}),Ir={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ir[e])&&!!t[e]}function Rr(){return Lr}var Nr=0,Dr=0,Mr=!1,Br=!1,Qr=Pr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Rr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Nr;return Nr=e.screenX,Mr?"mousemove"===e.type?e.screenX-t:0:(Mr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Dr;return Dr=e.screenY,Br?"mousemove"===e.type?e.screenY-t:0:(Br=!0,0)}}),Ur=Qr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Fr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},zr={eventTypes:Fr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Ln(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Qr,l=Fr.mouseLeave,c=Fr.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Ur,l=Fr.pointerLeave,c=Fr.pointerEnter,u="pointer");if(e=null==a?o:Nn(a),o=null==t?o:Nn(t),(l=s.getPooled(l,a,n,r)).type=u+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(c,t,n,r)).type=u+"enter",n.target=o,n.relatedTarget=e,u=t,(r=a)&&u)e:{for(c=u,a=0,e=s=r;e;e=Mn(e))a++;for(e=0,t=c;t;t=Mn(t))e++;for(;0<a-e;)s=Mn(s),a--;for(;0<e-a;)c=Mn(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Mn(s),c=Mn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=Mn(r);for(r=[];u&&u!==c&&(null===(a=u.alternate)||a!==c);)r.push(u),u=Mn(u);for(u=0;u<s.length;u++)Fn(s[u],"bubbled",l);for(u=r.length;0<u--;)Fn(r[u],"captured",n);return 0===(64&i)?[l]:[l,n]}};var qr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Hr=Object.prototype.hasOwnProperty;function Wr(e,t){if(qr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Hr.call(t,n[r])||!qr(e[n[r]],t[n[r]]))return!1;return!0}var Gr=S&&"documentMode"in document&&11>=document.documentMode,Vr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},$r=null,Kr=null,Yr=null,Zr=!1;function Jr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Zr||null==$r||$r!==dn(n)?null:("selectionStart"in(n=$r)&&gn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Yr&&Wr(Yr,n)?null:(Yr=n,(e=Yn.getPooled(Vr.select,Kr,e,t)).type="select",e.target=$r,qn(e),e))}var Xr={eventTypes:Vr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Xe(i),o=C.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Nn(t):window,e){case"focus":(mr(i)||"true"===i.contentEditable)&&($r=i,Kr=t,Yr=null);break;case"blur":Yr=Kr=$r=null;break;case"mousedown":Zr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Zr=!1,Jr(n,r);case"selectionchange":if(Gr)break;case"keydown":case"keyup":return Jr(n,r)}return null}},ei=Yn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),ti=Yn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ni=Pr.extend({relatedTarget:null});function ri(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ii={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ai=Pr.extend({key:function(e){if(e.key){var t=ii[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ri(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?oi[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Rr,charCode:function(e){return"keypress"===e.type?ri(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ri(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),si=Qr.extend({dataTransfer:null}),li=Pr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Rr}),ci=Yn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ui=Qr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),di={eventTypes:Bt,extractEvents:function(e,t,n,r){var i=Qt.get(e);if(!i)return null;switch(e){case"keypress":if(0===ri(n))return null;case"keydown":case"keyup":e=ai;break;case"blur":case"focus":e=ni;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Qr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=si;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=li;break;case Ve:case $e:case Ke:e=ei;break;case Ye:e=ci;break;case"scroll":e=Pr;break;case"wheel":e=ui;break;case"copy":case"cut":case"paste":e=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ur;break;default:e=Yn}return qn(t=e.getPooled(i,t,n,r)),t}};if(b)throw Error(a(101));b=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_(),f=Dn,m=Rn,g=Nn,k({SimpleEventPlugin:di,EnterLeaveEventPlugin:zr,ChangeEventPlugin:jr,SelectEventPlugin:Xr,BeforeInputEventPlugin:hr});var pi=[],hi=-1;function fi(e){0>hi||(e.current=pi[hi],pi[hi]=null,hi--)}function mi(e,t){hi++,pi[hi]=e.current,e.current=t}var gi={},vi={current:gi},bi={current:!1},yi=gi;function _i(e,t){var n=e.type.contextTypes;if(!n)return gi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function xi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function wi(){fi(bi),fi(vi)}function Ei(e,t,n){if(vi.current!==gi)throw Error(a(168));mi(vi,t),mi(bi,n)}function Ti(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ge(t)||"Unknown",o));return i({},n,{},r)}function Ci(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gi,yi=vi.current,mi(vi,e),mi(bi,bi.current),!0}function ki(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ti(e,t,yi),r.__reactInternalMemoizedMergedChildContext=e,fi(bi),fi(vi),mi(vi,e)):fi(bi),mi(bi,n)}var Si=o.unstable_runWithPriority,Oi=o.unstable_scheduleCallback,Ai=o.unstable_cancelCallback,ji=o.unstable_requestPaint,Pi=o.unstable_now,Ii=o.unstable_getCurrentPriorityLevel,Li=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Ni=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Mi=o.unstable_IdlePriority,Bi={},Qi=o.unstable_shouldYield,Ui=void 0!==ji?ji:function(){},Fi=null,zi=null,qi=!1,Hi=Pi(),Wi=1e4>Hi?Pi:function(){return Pi()-Hi};function Gi(){switch(Ii()){case Li:return 99;case Ri:return 98;case Ni:return 97;case Di:return 96;case Mi:return 95;default:throw Error(a(332))}}function Vi(e){switch(e){case 99:return Li;case 98:return Ri;case 97:return Ni;case 96:return Di;case 95:return Mi;default:throw Error(a(332))}}function $i(e,t){return e=Vi(e),Si(e,t)}function Ki(e,t,n){return e=Vi(e),Oi(e,t,n)}function Yi(e){return null===Fi?(Fi=[e],zi=Oi(Li,Ji)):Fi.push(e),Bi}function Zi(){if(null!==zi){var e=zi;zi=null,Ai(e)}Ji()}function Ji(){if(!qi&&null!==Fi){qi=!0;var e=0;try{var t=Fi;$i(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Oi(Li,Zi),n}finally{qi=!1}}}function Xi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function eo(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var to={current:null},no=null,ro=null,io=null;function oo(){io=ro=no=null}function ao(e){var t=to.current;fi(to),e.type._context._currentValue=t}function so(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function lo(e,t){no=e,io=ro=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Da=!0),e.firstContext=null)}function co(e,t){if(io!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(io=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ro){if(null===no)throw Error(a(308));ro=t,no.dependencies={expirationTime:0,firstContext:t,responders:null}}else ro=ro.next=t;return e._currentValue}var uo=!1;function po(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ho(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function fo(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function mo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function go(e,t){var n=e.alternate;null!==n&&ho(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function vo(e,t,n,r){var o=e.updateQueue;uo=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var c=o.baseState,u=0,d=null,p=null,h=null;if(null!==l)for(var f=l;;){if((s=f.expirationTime)<r){var m={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===h?(p=h=m,d=c):h=h.next=m,s>u&&(u=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),wl(s,f.suspenseConfig);e:{var g=e,v=f;switch(s=t,m=n,v.tag){case 1:if("function"===typeof(g=v.payload)){c=g.call(m,c,s);break e}c=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(s="function"===typeof(g=v.payload)?g.call(m,c,s):g)||void 0===s)break e;c=i({},c,s);break e;case 2:uo=!0}}null!==f.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[f]:s.push(f))}if(null===(f=f.next)||f===l){if(null===(s=o.shared.pending))break;f=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===h?d=c:h.next=p,o.baseState=d,o.baseQueue=h,El(u),e.expirationTime=u,e.memoizedState=c}}function bo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var yo=Y.ReactCurrentBatchConfig,_o=(new r.Component).refs;function xo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var wo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=cl(),i=yo.suspense;(i=fo(r=ul(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),mo(e,i),dl(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=cl(),i=yo.suspense;(i=fo(r=ul(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),mo(e,i),dl(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=cl(),r=yo.suspense;(r=fo(n=ul(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),mo(e,r),dl(e,n)}};function Eo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Wr(n,r)||!Wr(i,o))}function To(e,t,n){var r=!1,i=gi,o=t.contextType;return"object"===typeof o&&null!==o?o=co(o):(i=xi(t)?yi:vi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?_i(e,i):gi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=wo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Co(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&wo.enqueueReplaceState(t,t.state,null)}function ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=_o,po(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=co(o):(o=xi(t)?yi:vi.current,i.context=_i(e,o)),vo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(xo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&wo.enqueueReplaceState(i,i.state,null),vo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var So=Array.isArray;function Oo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===_o&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ao(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function jo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ql(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Oo(e,t,n),r.return=e,r):((r=Hl(n.type,n.key,n.props,null,e.mode,r)).ref=Oo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Wl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Gl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Hl(t.type,t.key,t.props,null,e.mode,n)).ref=Oo(e,null,t),n.return=e,n;case te:return(t=Vl(t,e.mode,n)).return=e,t}if(So(t)||me(t))return(t=Wl(t,e.mode,n,null)).return=e,t;Ao(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?u(e,t,n,r):null}if(So(n)||me(n))return null!==i?null:d(e,t,n,r,null);Ao(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||me(r))return d(t,e=e.get(n)||null,r,i,null);Ao(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=h(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),c;if(null===d){for(;m<s.length;m++)null!==(d=p(i,s[m],l))&&(a=o(d,a,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);m<s.length;m++)null!==(g=f(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),c}function g(i,s,l,c){var u=me(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,v=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=h(i,m,b.value,c);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(i,m),s=o(y,s,g),null===d?u=y:d.sibling=y,d=y,m=v}if(b.done)return n(i,m),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=p(i,b.value,c))&&(s=o(b,s,g),null===d?u=b:d.sibling=b,d=b);return u}for(m=r(i,m);!b.done;g++,b=l.next())null!==(b=f(m,i,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var c="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;c&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case ee:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===ne){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=Oo(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===ne?((r=Wl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Hl(o.type,o.key,o.props,null,e.mode,l)).ref=Oo(e,r,o),l.return=e,e=l)}return s(e);case te:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Vl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Gl(o,e.mode,l)).return=e,e=r),s(e);if(So(o))return m(e,r,o,l);if(me(o))return g(e,r,o,l);if(u&&Ao(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Po=jo(!0),Io=jo(!1),Lo={},Ro={current:Lo},No={current:Lo},Do={current:Lo};function Mo(e){if(e===Lo)throw Error(a(174));return e}function Bo(e,t){switch(mi(Do,t),mi(No,e),mi(Ro,Lo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Me(null,"");break;default:t=Me(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}fi(Ro),mi(Ro,t)}function Qo(){fi(Ro),fi(No),fi(Do)}function Uo(e){Mo(Do.current);var t=Mo(Ro.current),n=Me(t,e.type);t!==n&&(mi(No,e),mi(Ro,n))}function Fo(e){No.current===e&&(fi(Ro),fi(No))}var zo={current:0};function qo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===yn||n.data===_n))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ho(e,t){return{responder:e,props:t}}var Wo=Y.ReactCurrentDispatcher,Go=Y.ReactCurrentBatchConfig,Vo=0,$o=null,Ko=null,Yo=null,Zo=!1;function Jo(){throw Error(a(321))}function Xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!qr(e[n],t[n]))return!1;return!0}function ea(e,t,n,r,i,o){if(Vo=o,$o=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Wo.current=null===e||null===e.memoizedState?Ea:Ta,e=n(r,i),t.expirationTime===Vo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Yo=Ko=null,t.updateQueue=null,Wo.current=Ca,e=n(r,i)}while(t.expirationTime===Vo)}if(Wo.current=wa,t=null!==Ko&&null!==Ko.next,Vo=0,Yo=Ko=$o=null,Zo=!1,t)throw Error(a(300));return e}function ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Yo?$o.memoizedState=Yo=e:Yo=Yo.next=e,Yo}function na(){if(null===Ko){var e=$o.alternate;e=null!==e?e.memoizedState:null}else e=Ko.next;var t=null===Yo?$o.memoizedState:Yo.next;if(null!==t)Yo=t,Ko=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Ko=e).memoizedState,baseState:Ko.baseState,baseQueue:Ko.baseQueue,queue:Ko.queue,next:null},null===Yo?$o.memoizedState=Yo=e:Yo=Yo.next=e}return Yo}function ra(e,t){return"function"===typeof t?t(e):t}function ia(e){var t=na(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Ko,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,c=i;do{var u=c.expirationTime;if(u<Vo){var d={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,u>$o.expirationTime&&($o.expirationTime=u,El(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),wl(u,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=s,qr(r,t.memoizedState)||(Da=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function oa(e){var t=na(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);qr(o,t.memoizedState)||(Da=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function aa(e){var t=ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ra,lastRenderedState:e}).dispatch=xa.bind(null,$o,e),[t.memoizedState,e]}function sa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$o.updateQueue)?(t={lastEffect:null},$o.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function la(){return na().memoizedState}function ca(e,t,n,r){var i=ta();$o.effectTag|=e,i.memoizedState=sa(1|t,n,void 0,void 0===r?null:r)}function ua(e,t,n,r){var i=na();r=void 0===r?null:r;var o=void 0;if(null!==Ko){var a=Ko.memoizedState;if(o=a.destroy,null!==r&&Xo(r,a.deps))return void sa(t,n,o,r)}$o.effectTag|=e,i.memoizedState=sa(1|t,n,o,r)}function da(e,t){return ca(516,4,e,t)}function pa(e,t){return ua(516,4,e,t)}function ha(e,t){return ua(4,2,e,t)}function fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ma(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ua(4,2,fa.bind(null,t,e),n)}function ga(){}function va(e,t){return ta().memoizedState=[e,void 0===t?null:t],e}function ba(e,t){var n=na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ya(e,t){var n=na();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _a(e,t,n){var r=Gi();$i(98>r?98:r,(function(){e(!0)})),$i(97<r?97:r,(function(){var r=Go.suspense;Go.suspense=void 0===t?null:t;try{e(!1),n()}finally{Go.suspense=r}}))}function xa(e,t,n){var r=cl(),i=yo.suspense;i={expirationTime:r=ul(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===$o||null!==o&&o===$o)Zo=!0,i.expirationTime=Vo,$o.expirationTime=Vo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,qr(s,a))return}catch(l){}dl(e,r)}}var wa={readContext:co,useCallback:Jo,useContext:Jo,useEffect:Jo,useImperativeHandle:Jo,useLayoutEffect:Jo,useMemo:Jo,useReducer:Jo,useRef:Jo,useState:Jo,useDebugValue:Jo,useResponder:Jo,useDeferredValue:Jo,useTransition:Jo},Ea={readContext:co,useCallback:va,useContext:co,useEffect:da,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ca(4,2,fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ca(4,2,e,t)},useMemo:function(e,t){var n=ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xa.bind(null,$o,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ta().memoizedState=e},useState:aa,useDebugValue:ga,useResponder:Ho,useDeferredValue:function(e,t){var n=aa(e),r=n[0],i=n[1];return da((function(){var n=Go.suspense;Go.suspense=void 0===t?null:t;try{i(e)}finally{Go.suspense=n}}),[e,t]),r},useTransition:function(e){var t=aa(!1),n=t[0];return t=t[1],[va(_a.bind(null,t,e),[t,e]),n]}},Ta={readContext:co,useCallback:ba,useContext:co,useEffect:pa,useImperativeHandle:ma,useLayoutEffect:ha,useMemo:ya,useReducer:ia,useRef:la,useState:function(){return ia(ra)},useDebugValue:ga,useResponder:Ho,useDeferredValue:function(e,t){var n=ia(ra),r=n[0],i=n[1];return pa((function(){var n=Go.suspense;Go.suspense=void 0===t?null:t;try{i(e)}finally{Go.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ia(ra),n=t[0];return t=t[1],[ba(_a.bind(null,t,e),[t,e]),n]}},Ca={readContext:co,useCallback:ba,useContext:co,useEffect:pa,useImperativeHandle:ma,useLayoutEffect:ha,useMemo:ya,useReducer:oa,useRef:la,useState:function(){return oa(ra)},useDebugValue:ga,useResponder:Ho,useDeferredValue:function(e,t){var n=oa(ra),r=n[0],i=n[1];return pa((function(){var n=Go.suspense;Go.suspense=void 0===t?null:t;try{i(e)}finally{Go.suspense=n}}),[e,t]),r},useTransition:function(e){var t=oa(ra),n=t[0];return t=t[1],[ba(_a.bind(null,t,e),[t,e]),n]}},ka=null,Sa=null,Oa=!1;function Aa(e,t){var n=Fl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ja(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Pa(e){if(Oa){var t=Sa;if(t){var n=t;if(!ja(e,t)){if(!(t=Sn(n.nextSibling))||!ja(e,t))return e.effectTag=-1025&e.effectTag|2,Oa=!1,void(ka=e);Aa(ka,n)}ka=e,Sa=Sn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Oa=!1,ka=e}}function Ia(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ka=e}function La(e){if(e!==ka)return!1;if(!Oa)return Ia(e),Oa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Tn(t,e.memoizedProps))for(t=Sa;t;)Aa(e,t),t=Sn(t.nextSibling);if(Ia(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(n===bn){if(0===t){Sa=Sn(e.nextSibling);break e}t--}else n!==vn&&n!==_n&&n!==yn||t++}e=e.nextSibling}Sa=null}}else Sa=ka?Sn(e.stateNode.nextSibling):null;return!0}function Ra(){Sa=ka=null,Oa=!1}var Na=Y.ReactCurrentOwner,Da=!1;function Ma(e,t,n,r){t.child=null===e?Io(t,null,n,r):Po(t,e.child,n,r)}function Ba(e,t,n,r,i){n=n.render;var o=t.ref;return lo(t,i),r=ea(e,t,n,r,o,i),null===e||Da?(t.effectTag|=1,Ma(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ts(e,t,i))}function Qa(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||zl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hl(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ua(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Wr)(i,r)&&e.ref===t.ref)?ts(e,t,o):(t.effectTag|=1,(e=ql(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ua(e,t,n,r,i,o){return null!==e&&Wr(e.memoizedProps,r)&&e.ref===t.ref&&(Da=!1,i<o)?(t.expirationTime=e.expirationTime,ts(e,t,o)):za(e,t,n,r,o)}function Fa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function za(e,t,n,r,i){var o=xi(n)?yi:vi.current;return o=_i(t,o),lo(t,i),n=ea(e,t,n,r,o,i),null===e||Da?(t.effectTag|=1,Ma(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),ts(e,t,i))}function qa(e,t,n,r,i){if(xi(n)){var o=!0;Ci(t)}else o=!1;if(lo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),To(t,n,r),ko(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=co(c):c=_i(t,c=xi(n)?yi:vi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Co(t,a,r,c),uo=!1;var p=t.memoizedState;a.state=p,vo(t,r,a,i),l=t.memoizedState,s!==r||p!==l||bi.current||uo?("function"===typeof u&&(xo(t,n,u,r),l=t.memoizedState),(s=uo||Eo(t,n,s,r,p,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ho(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:eo(t.type,s),l=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=co(c):c=_i(t,c=xi(n)?yi:vi.current),(d="function"===typeof(u=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Co(t,a,r,c),uo=!1,l=t.memoizedState,a.state=l,vo(t,r,a,i),p=t.memoizedState,s!==r||l!==p||bi.current||uo?("function"===typeof u&&(xo(t,n,u,r),p=t.memoizedState),(u=uo||Eo(t,n,s,r,l,p,c))?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Ha(e,t,n,r,o,i)}function Ha(e,t,n,r,i,o){Fa(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&ki(t,n,!1),ts(e,t,o);r=t.stateNode,Na.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Po(t,e.child,null,o),t.child=Po(t,null,s,o)):Ma(e,t,s,o),t.memoizedState=r.state,i&&ki(t,n,!0),t.child}function Wa(e){var t=e.stateNode;t.pendingContext?Ei(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ei(0,t.context,!1),Bo(e,t.containerInfo)}var Ga,Va,$a,Ka,Ya={dehydrated:null,retryTime:0};function Za(e,t,n){var r,i=t.mode,o=t.pendingProps,a=zo.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),mi(zo,1&a),null===e){if(void 0!==o.fallback&&Pa(t),s){if(s=o.fallback,(o=Wl(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Wl(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Ya,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Io(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=ql(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=ql(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Ya,t.child=n,i}return n=Po(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Wl(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Wl(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ya,t.child=o,n}return t.memoizedState=null,t.child=Po(t,e,o.children,n)}function Ja(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),so(e.return,t)}function Xa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function es(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ma(e,t,r.children,n),0!==(2&(r=zo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ja(e,n);else if(19===e.tag)Ja(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(mi(zo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===qo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===qo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xa(t,!0,n,null,o,t.lastEffect);break;case"together":Xa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ts(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&El(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=ql(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ql(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ns(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rs(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return xi(t.type)&&wi(),null;case 3:return Qo(),fi(bi),fi(vi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!La(t)||(t.effectTag|=4),Va(t),null;case 5:Fo(t),n=Mo(Do.current);var o=t.type;if(null!==e&&null!=t.stateNode)$a(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Mo(Ro.current),La(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[jn]=t,r[Pn]=s,o){case"iframe":case"object":case"embed":$t("load",r);break;case"video":case"audio":for(e=0;e<Ze.length;e++)$t(Ze[e],r);break;case"source":$t("error",r);break;case"img":case"image":case"link":$t("error",r),$t("load",r);break;case"form":$t("reset",r),$t("submit",r);break;case"details":$t("toggle",r);break;case"input":Ee(r,s),$t("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$t("invalid",r),cn(n,"onChange");break;case"textarea":Pe(r,s),$t("invalid",r),cn(n,"onChange")}for(var l in an(o,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):T.hasOwnProperty(l)&&null!=c&&cn(n,l)}switch(o){case"input":_e(r),ke(r,s,!0);break;case"textarea":_e(r),Le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===ln&&(e=De(o)),e===ln?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(o,{is:r.is}):(e=l.createElement(o),"select"===o&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,o),e[jn]=t,e[Pn]=r,Ga(e,t,!1,!1),t.stateNode=e,l=sn(o,r),o){case"iframe":case"object":case"embed":$t("load",e),c=r;break;case"video":case"audio":for(c=0;c<Ze.length;c++)$t(Ze[c],e);c=r;break;case"source":$t("error",e),c=r;break;case"img":case"image":case"link":$t("error",e),$t("load",e),c=r;break;case"form":$t("reset",e),$t("submit",e),c=r;break;case"details":$t("toggle",e),c=r;break;case"input":Ee(e,r),c=we(e,r),$t("invalid",e),cn(n,"onChange");break;case"option":c=Oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),$t("invalid",e),cn(n,"onChange");break;case"textarea":Pe(e,r),c=je(e,r),$t("invalid",e),cn(n,"onChange");break;default:c=r}an(o,c);var u=c;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?rn(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&Ue(e,d):"children"===s?"string"===typeof d?("textarea"!==o||""!==d)&&Fe(e,d):"number"===typeof d&&Fe(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?null!=d&&cn(n,s):null!=d&&Z(e,s,d,l))}switch(o){case"input":_e(e),ke(e,r,!1);break;case"textarea":_e(e),Le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+be(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=un)}En(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ka(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Mo(Do.current),Mo(Ro.current),La(t)?(n=t.stateNode,r=t.memoizedProps,n[jn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[jn]=t,t.stateNode=n)}return null;case 13:return fi(zo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&La(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&zo.current)?qs===Ls&&(qs=Ds):(qs!==Ls&&qs!==Ds||(qs=Ms),0!==$s&&null!==Us&&(Yl(Us,zs),Zl(Us,$s)))),(n||r)&&(t.effectTag|=4),null);case 4:return Qo(),Va(t),null;case 10:return ao(t),null;case 19:if(fi(zo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=r.rendering)){if(o)ns(r,!1);else if(qs!==Ls||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=qo(s))){for(t.effectTag|=64,ns(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return mi(zo,1&zo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=qo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),ns(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Wi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,ns(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Wi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Wi(),n.sibling=null,t=zo.current,mi(zo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function is(e){switch(e.tag){case 1:xi(e.type)&&wi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Qo(),fi(bi),fi(vi),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Fo(e),null;case 13:return fi(zo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return fi(zo),null;case 4:return Qo(),null;case 10:return ao(e),null;default:return null}}function os(e,t){return{value:e,source:t,stack:ve(t)}}Ga=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Va=function(){},$a=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,l,c=t.stateNode;switch(Mo(Ro.current),e=null,n){case"input":a=we(c,a),r=we(c,r),e=[];break;case"option":a=Oe(c,a),r=Oe(c,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=je(c,a),r=je(c,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(c.onclick=un)}for(s in an(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in c=a[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(T.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var u=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,u)):"children"===s?c===u||"string"!==typeof u&&"number"!==typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(T.hasOwnProperty(s)?(null!=u&&cn(o,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ka=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var as="function"===typeof WeakSet?WeakSet:Set;function ss(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ls(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Nl(e,n)}else t.current=null}function cs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:eo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(a(163))}function us(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ds(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ps(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ds(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:eo(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&bo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}bo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&En(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Mt(n)))))}throw Error(a(163))}function hs(e,t,n){switch("function"===typeof Ql&&Ql(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;$i(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){Nl(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ls(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Nl(e,n)}}(t,n);break;case 5:ls(t);break;case 4:ys(e,t,n)}}function fs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&fs(t)}function ms(e){return 5===e.tag||3===e.tag||4===e.tag}function gs(e){e:{for(var t=e.return;null!==t;){if(ms(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Fe(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ms(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?vs(e,n,t):bs(e,n,t)}function vs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=un));else if(4!==r&&null!==(e=e.child))for(vs(e,t,n),e=e.sibling;null!==e;)vs(e,t,n),e=e.sibling}function bs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function ys(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,c=o,u=n,d=c;;)if(hs(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(l=r,c=o.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(hs(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function _s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void us(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Pn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Te(n,r),sn(e,i),t=sn(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?rn(n,l):"dangerouslySetInnerHTML"===s?Ue(n,l):"children"===s?Fe(n,l):Z(n,s,l,t)}switch(e){case"input":Ce(n,r);break;case"textarea":Ie(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Mt(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ys=Wi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void xs(t);case 19:return void xs(t)}throw Error(a(163))}function xs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new as),t.forEach((function(t){var r=Ml.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ws="function"===typeof WeakMap?WeakMap:Map;function Es(e,t,n){(n=fo(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xs||(Xs=!0,el=r),ss(e,t)},n}function Ts(e,t,n){(n=fo(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ss(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===tl?tl=new Set([this]):tl.add(this),ss(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Cs,ks=Math.ceil,Ss=Y.ReactCurrentDispatcher,Os=Y.ReactCurrentOwner,As=0,js=8,Ps=16,Is=32,Ls=0,Rs=1,Ns=2,Ds=3,Ms=4,Bs=5,Qs=As,Us=null,Fs=null,zs=0,qs=Ls,Hs=null,Ws=1073741823,Gs=1073741823,Vs=null,$s=0,Ks=!1,Ys=0,Zs=500,Js=null,Xs=!1,el=null,tl=null,nl=!1,rl=null,il=90,ol=null,al=0,sl=null,ll=0;function cl(){return(Qs&(Ps|Is))!==As?1073741821-(Wi()/10|0):0!==ll?ll:ll=1073741821-(Wi()/10|0)}function ul(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Gi();if(0===(4&t))return 99===r?1073741823:1073741822;if((Qs&Ps)!==As)return zs;if(null!==n)e=Xi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Xi(e,150,100);break;case 97:case 96:e=Xi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Us&&e===zs&&--e,e}function dl(e,t){if(50<al)throw al=0,sl=null,Error(a(185));if(null!==(e=pl(e,t))){var n=Gi();1073741823===t?(Qs&js)!==As&&(Qs&(Ps|Is))===As?gl(e):(fl(e),Qs===As&&Zi()):fl(e),(4&Qs)===As||98!==n&&99!==n||(null===ol?ol=new Map([[e,t]]):(void 0===(n=ol.get(e))||n>t)&&ol.set(e,t))}}function pl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Us===i&&(El(t),qs===Ms&&Yl(i,zs)),Zl(i,t)),i}function hl(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Kl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function fl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Yi(gl.bind(null,e));else{var t=hl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=cl();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Bi&&Ai(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Yi(gl.bind(null,e)):Ki(r,ml.bind(null,e),{timeout:10*(1073741821-t)-Wi()}),e.callbackNode=t}}}function ml(e,t){if(ll=0,t)return Jl(e,t=cl()),fl(e),null;var n=hl(e);if(0!==n){if(t=e.callbackNode,(Qs&(Ps|Is))!==As)throw Error(a(327));if(Il(),e===Us&&n===zs||yl(e,n),null!==Fs){var r=Qs;Qs|=Ps;for(var i=xl();;)try{Cl();break}catch(l){_l(e,l)}if(oo(),Qs=r,Ss.current=i,qs===Rs)throw t=Hs,yl(e,n),Yl(e,n),fl(e),t;if(null===Fs)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=qs,Us=null,r){case Ls:case Rs:throw Error(a(345));case Ns:Jl(e,2<n?2:n);break;case Ds:if(Yl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Ol(i)),1073741823===Ws&&10<(i=Ys+Zs-Wi())){if(Ks){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,yl(e,n);break}}if(0!==(o=hl(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Cn(Al.bind(null,e),i);break}Al(e);break;case Ms:if(Yl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Ol(i)),Ks&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,yl(e,n);break}if(0!==(i=hl(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Gs?r=10*(1073741821-Gs)-Wi():1073741823===Ws?r=0:(r=10*(1073741821-Ws)-5e3,0>(r=(i=Wi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ks(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Cn(Al.bind(null,e),r);break}Al(e);break;case Bs:if(1073741823!==Ws&&null!==Vs){o=Ws;var s=Vs;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Wi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Yl(e,n),e.timeoutHandle=Cn(Al.bind(null,e),r);break}}Al(e);break;default:throw Error(a(329))}if(fl(e),e.callbackNode===t)return ml.bind(null,e)}}return null}function gl(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(Qs&(Ps|Is))!==As)throw Error(a(327));if(Il(),e===Us&&t===zs||yl(e,t),null!==Fs){var n=Qs;Qs|=Ps;for(var r=xl();;)try{Tl();break}catch(i){_l(e,i)}if(oo(),Qs=n,Ss.current=r,qs===Rs)throw n=Hs,yl(e,t),Yl(e,t),fl(e),n;if(null!==Fs)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Us=null,Al(e),fl(e)}return null}function vl(e,t){var n=Qs;Qs|=1;try{return e(t)}finally{(Qs=n)===As&&Zi()}}function bl(e,t){var n=Qs;Qs&=-2,Qs|=js;try{return e(t)}finally{(Qs=n)===As&&Zi()}}function yl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,kn(n)),null!==Fs)for(n=Fs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&wi();break;case 3:Qo(),fi(bi),fi(vi);break;case 5:Fo(r);break;case 4:Qo();break;case 13:case 19:fi(zo);break;case 10:ao(r)}n=n.return}Us=e,Fs=ql(e.current,null),zs=t,qs=Ls,Hs=null,Gs=Ws=1073741823,Vs=null,$s=0,Ks=!1}function _l(e,t){for(;;){try{if(oo(),Wo.current=wa,Zo)for(var n=$o.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Vo=0,Yo=Ko=$o=null,Zo=!1,null===Fs||null===Fs.return)return qs=Rs,Hs=t,Fs=null;e:{var i=e,o=Fs.return,a=Fs,s=t;if(t=zs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!==(1&zo.current),d=o;do{var p;if(p=13===d.tag){var h=d.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var f=d.memoizedProps;p=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!u)}}if(p){var m=d.updateQueue;if(null===m){var g=new Set;g.add(l),d.updateQueue=g}else m.add(l);if(0===(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=fo(1073741823,null);v.tag=2,mo(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new ws,s=new Set,b.set(l,s)):void 0===(s=b.get(l))&&(s=new Set,b.set(l,s)),!s.has(a)){s.add(a);var y=Dl.bind(null,i,l,a);l.then(y,y)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(a))}qs!==Bs&&(qs=Ns),s=os(s,a),d=o;do{switch(d.tag){case 3:l=s,d.effectTag|=4096,d.expirationTime=t,go(d,Es(d,l,t));break e;case 1:l=s;var _=d.type,x=d.stateNode;if(0===(64&d.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===tl||!tl.has(x)))){d.effectTag|=4096,d.expirationTime=t,go(d,Ts(d,l,t));break e}}d=d.return}while(null!==d)}Fs=Sl(Fs)}catch(w){t=w;continue}break}}function xl(){var e=Ss.current;return Ss.current=wa,null===e?wa:e}function wl(e,t){e<Ws&&2<e&&(Ws=e),null!==t&&e<Gs&&2<e&&(Gs=e,Vs=t)}function El(e){e>$s&&($s=e)}function Tl(){for(;null!==Fs;)Fs=kl(Fs)}function Cl(){for(;null!==Fs&&!Qi();)Fs=kl(Fs)}function kl(e){var t=Cs(e.alternate,e,zs);return e.memoizedProps=e.pendingProps,null===t&&(t=Sl(e)),Os.current=null,t}function Sl(e){Fs=e;do{var t=Fs.alternate;if(e=Fs.return,0===(2048&Fs.effectTag)){if(t=rs(t,Fs,zs),1===zs||1!==Fs.childExpirationTime){for(var n=0,r=Fs.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Fs.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Fs.firstEffect),null!==Fs.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Fs.firstEffect),e.lastEffect=Fs.lastEffect),1<Fs.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Fs:e.firstEffect=Fs,e.lastEffect=Fs))}else{if(null!==(t=is(Fs)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Fs.sibling))return t;Fs=e}while(null!==Fs);return qs===Ls&&(qs=Bs),null}function Ol(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Al(e){var t=Gi();return $i(99,jl.bind(null,e,t)),null}function jl(e,t){do{Il()}while(null!==rl);if((Qs&(Ps|Is))!==As)throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Ol(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Us&&(Fs=Us=null,zs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Qs;Qs|=Is,Os.current=null,xn=Vt;var s=mn();if(gn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{l.nodeType,d.nodeType}catch(k){l=null;break e}var p=0,h=-1,f=-1,m=0,g=0,v=s,b=null;t:for(;;){for(var y;v!==l||0!==u&&3!==v.nodeType||(h=p+u),v!==d||0!==c&&3!==v.nodeType||(f=p+c),3===v.nodeType&&(p+=v.nodeValue.length),null!==(y=v.firstChild);)b=v,v=y;for(;;){if(v===s)break t;if(b===l&&++m===u&&(h=p),b===d&&++g===c&&(f=p),null!==(y=v.nextSibling))break;b=(v=b).parentNode}v=y}l=-1===h||-1===f?null:{start:h,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;wn={activeElementDetached:null,focusedElem:s,selectionRange:l},Vt=!1,Js=i;do{try{Pl()}catch(k){if(null===Js)throw Error(a(330));Nl(Js,k),Js=Js.nextEffect}}while(null!==Js);Js=i;do{try{for(s=e,l=t;null!==Js;){var _=Js.effectTag;if(16&_&&Fe(Js.stateNode,""),128&_){var x=Js.alternate;if(null!==x){var w=x.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&_){case 2:gs(Js),Js.effectTag&=-3;break;case 6:gs(Js),Js.effectTag&=-3,_s(Js.alternate,Js);break;case 1024:Js.effectTag&=-1025;break;case 1028:Js.effectTag&=-1025,_s(Js.alternate,Js);break;case 4:_s(Js.alternate,Js);break;case 8:ys(s,u=Js,l),fs(u)}Js=Js.nextEffect}}catch(k){if(null===Js)throw Error(a(330));Nl(Js,k),Js=Js.nextEffect}}while(null!==Js);if(w=wn,x=mn(),_=w.focusedElem,l=w.selectionRange,x!==_&&_&&_.ownerDocument&&fn(_.ownerDocument.documentElement,_)){null!==l&&gn(_)&&(x=l.start,void 0===(w=l.end)&&(w=x),"selectionStart"in _?(_.selectionStart=x,_.selectionEnd=Math.min(w,_.value.length)):(w=(x=_.ownerDocument||document)&&x.defaultView||window).getSelection&&(w=w.getSelection(),u=_.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!w.extend&&s>l&&(u=l,l=s,s=u),u=hn(_,s),d=hn(_,l),u&&d&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==d.node||w.focusOffset!==d.offset)&&((x=x.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),s>l?(w.addRange(x),w.extend(d.node,d.offset)):(x.setEnd(d.node,d.offset),w.addRange(x))))),x=[];for(w=_;w=w.parentNode;)1===w.nodeType&&x.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<x.length;_++)(w=x[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Vt=!!xn,wn=xn=null,e.current=n,Js=i;do{try{for(_=e;null!==Js;){var E=Js.effectTag;if(36&E&&ps(_,Js.alternate,Js),128&E){x=void 0;var T=Js.ref;if(null!==T){var C=Js.stateNode;Js.tag,x=C,"function"===typeof T?T(x):T.current=x}}Js=Js.nextEffect}}catch(k){if(null===Js)throw Error(a(330));Nl(Js,k),Js=Js.nextEffect}}while(null!==Js);Js=null,Ui(),Qs=o}else e.current=n;if(nl)nl=!1,rl=e,il=t;else for(Js=i;null!==Js;)t=Js.nextEffect,Js.nextEffect=null,Js=t;if(0===(t=e.firstPendingTime)&&(tl=null),1073741823===t?e===sl?al++:(al=0,sl=e):al=0,"function"===typeof Bl&&Bl(n.stateNode,r),fl(e),Xs)throw Xs=!1,e=el,el=null,e;return(Qs&js)!==As||Zi(),null}function Pl(){for(;null!==Js;){var e=Js.effectTag;0!==(256&e)&&cs(Js.alternate,Js),0===(512&e)||nl||(nl=!0,Ki(97,(function(){return Il(),null}))),Js=Js.nextEffect}}function Il(){if(90!==il){var e=97<il?97:il;return il=90,$i(e,Ll)}}function Ll(){if(null===rl)return!1;var e=rl;if(rl=null,(Qs&(Ps|Is))!==As)throw Error(a(331));var t=Qs;for(Qs|=Is,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:us(5,n),ds(5,n)}}catch(r){if(null===e)throw Error(a(330));Nl(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Qs=t,Zi(),!0}function Rl(e,t,n){mo(e,t=Es(e,t=os(n,t),1073741823)),null!==(e=pl(e,1073741823))&&fl(e)}function Nl(e,t){if(3===e.tag)Rl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Rl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===tl||!tl.has(r))){mo(n,e=Ts(n,e=os(t,e),1073741823)),null!==(n=pl(n,1073741823))&&fl(n);break}}n=n.return}}function Dl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Us===e&&zs===n?qs===Ms||qs===Ds&&1073741823===Ws&&Wi()-Ys<Zs?yl(e,zs):Ks=!0:Kl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,fl(e)))}function Ml(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=ul(t=cl(),e,null)),null!==(e=pl(e,t))&&fl(e)}Cs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||bi.current)Da=!0;else{if(r<n){switch(Da=!1,t.tag){case 3:Wa(t),Ra();break;case 5:if(Uo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:xi(t.type)&&Ci(t);break;case 4:Bo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,mi(to,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Za(e,t,n):(mi(zo,1&zo.current),null!==(t=ts(e,t,n))?t.sibling:null);mi(zo,1&zo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return es(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),mi(zo,zo.current),!r)return null}return ts(e,t,n)}Da=!1}}else Da=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=_i(t,vi.current),lo(t,n),i=ea(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,xi(r)){var o=!0;Ci(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,po(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&xo(t,r,s,e),i.updater=wo,t.stateNode=i,i._reactInternalFiber=t,ko(t,r,e,n),t=Ha(null,t,r,!0,o,n)}else t.tag=0,Ma(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return zl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(i),e=eo(i,e),o){case 0:t=za(null,t,i,e,n);break e;case 1:t=qa(null,t,i,e,n);break e;case 11:t=Ba(null,t,i,e,n);break e;case 14:t=Qa(null,t,i,eo(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 1:return r=t.type,i=t.pendingProps,qa(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 3:if(Wa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ho(e,t),vo(t,r,null,n),(r=t.memoizedState.element)===i)Ra(),t=ts(e,t,n);else{if((i=t.stateNode.hydrate)&&(Sa=Sn(t.stateNode.containerInfo.firstChild),ka=t,i=Oa=!0),i)for(n=Io(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ma(e,t,r,n),Ra();t=t.child}return t;case 5:return Uo(t),null===e&&Pa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Tn(r,i)?s=null:null!==o&&Tn(r,o)&&(t.effectTag|=16),Fa(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ma(e,t,s,n),t=t.child),t;case 6:return null===e&&Pa(t),null;case 13:return Za(e,t,n);case 4:return Bo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Po(t,null,r,n):Ma(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ba(e,t,r,i=t.elementType===r?i:eo(r,i),n);case 7:return Ma(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ma(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(mi(to,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=qr(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!bi.current){t=ts(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&o)){1===l.tag&&((u=fo(n,null)).tag=2,mo(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),so(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ma(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,lo(t,n),r=r(i=co(i,o.unstable_observedBits)),t.effectTag|=1,Ma(e,t,r,n),t.child;case 14:return o=eo(i=t.type,t.pendingProps),Qa(e,t,i,o=eo(i.type,o),r,n);case 15:return Ua(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:eo(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,xi(r)?(e=!0,Ci(t)):e=!1,lo(t,n),To(t,r,i),ko(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return es(e,t,n)}throw Error(a(156,t.tag))};var Bl=null,Ql=null;function Ul(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Fl(e,t,n,r){return new Ul(e,t,n,r)}function zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ql(e,t){var n=e.alternate;return null===n?((n=Fl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)zl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Wl(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Fl(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ce:return(e=Fl(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=o,e;case ue:return(e=Fl(19,n,t,i)).elementType=ue,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case de:s=14;break e;case pe:s=16,r=null;break e;case he:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Fl(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Wl(e,t,n,r){return(e=Fl(7,e,r,t)).expirationTime=n,e}function Gl(e,t,n){return(e=Fl(6,e,null,t)).expirationTime=n,e}function Vl(e,t,n){return(t=Fl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $l(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Kl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Yl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Zl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Jl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Xl(e,t,n,r){var i=t.current,o=cl(),s=yo.suspense;o=ul(o,i,s);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(xi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(xi(c)){n=Ti(n,c,l);break e}}n=l}else n=gi;return null===t.context?t.context=n:t.pendingContext=n,(t=fo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),mo(i,t),dl(i,o),o}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=new $l(e,t,n=null!=n&&!0===n.hydrate),i=Fl(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,po(i),e[In]=r.current,n&&0!==t&&function(e,t){var n=Xe(t);St.forEach((function(e){mt(e,t,n)})),Ot.forEach((function(e){mt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ec(a);s.call(e)}}Xl(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=ec(a);l.call(e)}}bl((function(){Xl(t,a,e,i)}))}return ec(a)}function ac(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}rc.prototype.render=function(e){Xl(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Xl(null,e,null,(function(){t[In]=null}))},gt=function(e){if(13===e.tag){var t=Xi(cl(),150,100);dl(e,t),nc(e,t)}},vt=function(e){13===e.tag&&(dl(e,3),nc(e,3))},bt=function(e){if(13===e.tag){var t=cl();dl(e,t=ul(t,e,null)),nc(e,t)}},O=function(e,t,n){switch(t){case"input":if(Ce(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Dn(r);if(!i)throw Error(a(90));xe(r),Ce(r,i)}}}break;case"textarea":Ie(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},R=vl,N=function(e,t,n,r,i){var o=Qs;Qs|=4;try{return $i(98,e.bind(null,t,n,r,i))}finally{(Qs=o)===As&&Zi()}},D=function(){(Qs&(1|Ps|Is))===As&&(function(){if(null!==ol){var e=ol;ol=null,e.forEach((function(e,t){Jl(t,e),fl(t)})),Zi()}}(),Il())},M=function(e,t){var n=Qs;Qs|=2;try{return e(t)}finally{(Qs=n)===As&&Zi()}};var sc={Events:[Rn,Nn,Dn,k,E,qn,function(e){ot(e,zn)},I,L,Jt,lt,Il,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Bl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Ql=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Ln,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if((Qs&(Ps|Is))!==As)throw Error(a(187));var n=Qs;Qs|=1;try{return $i(99,e.bind(null,t))}finally{Qs=n,Zi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(a(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(a(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(a(40));return!!e._reactRootContainer&&(bl((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[In]=null}))})),!0)},t.unstable_batchedUpdates=vl,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return oc(e,t,n,!1,r)},t.version="16.14.0"},4840:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(404)},7920:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,l,c,u;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(!o(e[l],a[l]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!o(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof a.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof a.toString)return e.toString()===a.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],a[c[l]]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},8168:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,l=60110,c=60112,u=60113,d=60120,p=60115,h=60116,f=60121,m=60122,g=60117,v=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var y=Symbol.for;n=y("react.element"),r=y("react.portal"),i=y("react.fragment"),o=y("react.strict_mode"),a=y("react.profiler"),s=y("react.provider"),l=y("react.context"),c=y("react.forward_ref"),u=y("react.suspense"),d=y("react.suspense_list"),p=y("react.memo"),h=y("react.lazy"),f=y("react.block"),m=y("react.server.block"),g=y("react.fundamental"),v=y("react.debug_trace_mode"),b=y("react.legacy_hidden")}function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case h:case p:case s:return e;default:return t}}case r:return t}}}},52:(e,t,n)=>{"use strict";n(8168)},216:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},6412:(e,t,n)=>{var r=n(216);e.exports=h,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=p;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",u=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],p=n[1],h=n.index;if(s+=e.slice(a,h),a=h+d.length,p)s+=p[1];else{var f=e[a],m=n[2],g=n[3],v=n[4],b=n[5],y=n[6],_=n[7];s&&(r.push(s),s="");var x=null!=m&&null!=f&&f!==m,w="+"===y||"*"===y,E="?"===y||"*"===y,T=n[2]||u,C=v||b;r.push({name:g||o++,prefix:m||"",delimiter:T,optional:E,repeat:w,partial:x,asterisk:!!_,pattern:C?c(C):_?".*":"[^"+l(T)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",s=t||{},l=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!==typeof u){var d,p=s[u.name];if(null==p){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var h=0;h<p.length;h++){if(d=l(p[h]),!n[c].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===h?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(p),!n[c].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');o+=u.prefix+d}}else o+=u}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=l(c);else{var p=l(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+p+h+")*"),a+=h=c.optional?c.partial?p+"("+h+")?":"(?:"+p+"("+h+"))?":p+"("+h+")"}}var f=l(n.delimiter||"/"),m=a.slice(-f.length)===f;return i||(a=(m?a.slice(0,-f.length):a)+"(?:"+f+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+f+"|$)",u(new RegExp("^"+a,d(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return p(o(e,n),t,n)}(e,t,n)}},400:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case m:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===d}},8e3:(e,t,n)=>{"use strict";n(400)},3460:(e,t,n)=>{"use strict";var r,i=n(1468),o=(r=i)&&"object"===typeof r&&"default"in r?r.default:r;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var l,c=[];function u(){l=e(c.map((function(e){return e.props}))),d.canUseDOM?t(l):n&&(l=n(l))}var d=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.peek=function(){return l},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,c=[],e};var a=i.prototype;return a.UNSAFE_componentWillMount=function(){c.push(this),u()},a.componentDidUpdate=function(){u()},a.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),u()},a.render=function(){return o.createElement(r,this.props)},i}(i.PureComponent);return a(d,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),a(d,"canUseDOM",s),d}}},1480:function(e,t,n){!function(e,t,n,r){"use strict";var i="default"in t?t.default:t;function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}n=n&&n.hasOwnProperty("default")?n.default:n,r.smoothDnD.dropHandler=r.dropHandlers.reactDropHandler().handler,r.smoothDnD.wrapChild=!1;var g=function(e){function n(e){var t;return o(this,n),l(f(t=m(this,d(n).call(this,e))),"prevContainer",void 0),l(f(t),"container",null),l(f(t),"containerRef",i.createRef()),t.getContainerOptions=t.getContainerOptions.bind(f(t)),t.getContainer=t.getContainer.bind(f(t)),t.isObjectTypePropsChanged=t.isObjectTypePropsChanged.bind(f(t)),t.prevContainer=null,t}return u(n,t.Component),s(n,[{key:"componentDidMount",value:function(){this.prevContainer=this.getContainer(),this.container=r.smoothDnD(this.getContainer(),this.getContainerOptions())}},{key:"componentWillUnmount",value:function(){this.container.dispose(),this.container=null}},{key:"componentDidUpdate",value:function(e){if(this.getContainer()){if(this.prevContainer&&this.prevContainer!==this.getContainer())return this.container.dispose(),this.container=r.smoothDnD(this.getContainer(),this.getContainerOptions()),void(this.prevContainer=this.getContainer());this.isObjectTypePropsChanged(e)&&this.container.setOptions(this.getContainerOptions())}}},{key:"isObjectTypePropsChanged",value:function(e){var t=this.props,n=(t.render,t.children,t.style,h(t,["render","children","style"]));for(var r in n){var i=r;if(n.hasOwnProperty(i)){var o=n[i];if("function"!=typeof o&&o!==e[i])return!0}}return!1}},{key:"render",value:function(){return this.props.render?this.props.render(this.containerRef):i.createElement("div",{style:this.props.style,ref:this.containerRef},this.props.children)}},{key:"getContainer",value:function(){return this.containerRef.current}},{key:"getContainerOptions",value:function(){var e=this;return Object.keys(this.props).reduce((function(t,n){var r=n,i=e.props[r];return t[r]="function"==typeof i?function(){return e.props[r].apply(void 0,arguments)}:i,t}),{})}}]),n}();l(g,"propTypes",{behaviour:n.oneOf(["move","copy","drop-zone","contain"]),groupName:n.string,orientation:n.oneOf(["horizontal","vertical"]),style:n.object,dragHandleSelector:n.string,nonDragAreaSelector:n.string,dragBeginDelay:n.number,animationDuration:n.number,autoScrollEnabled:n.bool,lockAxis:n.string,dragClass:n.string,dropClass:n.string,onDragStart:n.func,onDragEnd:n.func,onDrop:n.func,getChildPayload:n.func,shouldAnimateDrop:n.func,shouldAcceptDrop:n.func,onDragEnter:n.func,onDragLeave:n.func,render:n.func,getGhostParent:n.func,removeOnDropOut:n.bool,dropPlaceholder:n.oneOfType([n.shape({className:n.string,animationDuration:n.number,showOnTop:n.bool}),n.bool])}),l(g,"defaultProps",{behaviour:"move",orientation:"vertical"});var v=r.constants.wrapperClass,b=function(e){function n(){return o(this,n),m(this,d(n).apply(this,arguments))}return u(n,t.Component),s(n,[{key:"render",value:function(){if(this.props.render)return i.cloneElement(this.props.render(),{className:v});var e="".concat(this.props.className?this.props.className+" ":"");return i.createElement("div",c({},this.props,{className:"".concat(e).concat(v)}),this.props.children)}}]),n}();l(b,"propsTypes",{render:n.func,className:n.string}),Object.keys(r).forEach((function(t){e[t]=r[t]})),e.Container=g,e.Draggable=b,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(1468),n(2320),n(3896))},6680:(e,t,n)=>{"use strict";var r=n(1468),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},6181:(e,t,n)=>{"use strict";var r=n(4697),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function _(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||b}function x(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||b}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=_.prototype;var E=w.prototype=new x;E.constructor=w,r(E,_.prototype),E.isPureReactComponent=!0;var T={current:null},C=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:T.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,j=[];function P(e,t,n,r){if(j.length){var i=j.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function I(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>j.length&&j.push(e)}function L(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case o:case a:s=!0}}if(s)return n(r,e,""===t?"."+N(e,0):t),1;if(s=0,t=""===t?".":t+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=t+N(i=e[l],l);s+=L(i,c,n,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=g&&e[g]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),l=0;!(i=e.next()).done;)s+=L(i=i.value,c=t+N(i,l++),n,r);else if("object"===i)throw n=""+e,Error(v(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return s}function R(e,t,n){return null==e?0:L(e,"",t,n)}function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function M(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,(function(e){return e})):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),R(e,M,t=P(t,o,r,i)),I(t)}var Q={current:null};function U(){var e=Q.current;if(null===e)throw Error(v(321));return e}var F={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;R(e,D,t=P(null,null,t,n)),I(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!O(e))throw Error(v(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=c,t.PureComponent=w,t.StrictMode=l,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var i=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=T.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)C.call(t,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return U().useCallback(e,t)},t.useContext=function(e,t){return U().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return U().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return U().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return U().useLayoutEffect(e,t)},t.useMemo=function(e,t){return U().useMemo(e,t)},t.useReducer=function(e,t,n){return U().useReducer(e,t,n)},t.useRef=function(e){return U().useRef(e)},t.useState=function(e){return U().useState(e)},t.version="16.14.0"},1468:(e,t,n)=>{"use strict";e.exports=n(6181)},492:(e,t,n)=>{"use strict";e.exports=n(6680)},3595:(e,t)=>{"use strict";var n,r,i,o,a;if("undefined"===typeof window||"function"!==typeof MessageChannel){var s=null,l=null,c=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(n){throw setTimeout(c,0),n}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(c,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},o=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,p=window.Date,h=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)t.unstable_now=function(){return d.now()};else{var g=p.now();t.unstable_now=function(){return p.now()-g}}var v=!1,b=null,y=-1,_=5,x=0;o=function(){return t.unstable_now()>=x},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();x=e+_;try{b(!0,e)?E.postMessage(null):(v=!1,b=null)}catch(n){throw E.postMessage(null),n}}else v=!1},n=function(e){b=e,v||(v=!0,E.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){f(y),y=-1}}function T(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<S(i,t)))break e;e[r]=t,e[n]=i,n=r}}function C(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>S(a,n))void 0!==l&&0>S(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>S(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],A=[],j=1,P=null,I=3,L=!1,R=!1,N=!1;function D(e){for(var t=C(A);null!==t;){if(null===t.callback)k(A);else{if(!(t.startTime<=e))break;k(A),t.sortIndex=t.expirationTime,T(O,t)}t=C(A)}}function M(e){if(N=!1,D(e),!R)if(null!==C(O))R=!0,n(B);else{var t=C(A);null!==t&&r(M,t.startTime-e)}}function B(e,n){R=!1,N&&(N=!1,i()),L=!0;var a=I;try{for(D(n),P=C(O);null!==P&&(!(P.expirationTime>n)||e&&!o());){var s=P.callback;if(null!==s){P.callback=null,I=P.priorityLevel;var l=s(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?P.callback=l:P===C(O)&&k(O),D(n)}else k(O);P=C(O)}if(null!==P)var c=!0;else{var u=C(A);null!==u&&r(M,u.startTime-n),c=!1}return c}finally{P=null,I=a,L=!1}}function Q(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||L||(R=!0,n(B))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return C(O)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:Q(e)}else a=Q(e),l=s;return e={id:j++,callback:o,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,T(A,e),null===C(O)&&e===C(A)&&(N?i():N=!0,r(M,l-s))):(e.sortIndex=a,T(O,e),R||L||(R=!0,n(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();D(e);var n=C(O);return n!==P&&null!==P&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<P.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},3436:(e,t,n)=>{"use strict";e.exports=n(3595)},3896:function(e,t){!function(e){"use strict";var t,n,r="smooth-dnd-container-instance",i="smooth-dnd-draggable-wrapper",o="animated",a="__smooth_dnd_draggable_translation_value",s="__smooth_dnd_draggable_visibility_value",l="smooth-dnd-ghost",c="smooth-dnd-container",u="smooth-dnd-extra-size-for-insertion",d="smooth-dnd-stretcher-element",p="smooth-dnd-stretcher-instance",h="smooth-dnd-disable-touch-action",f="smooth-dnd-no-user-select",m="smooth-dnd-prevent-auto-scroll-class",g="smooth-dnd-drop-preview-default-class",v="smooth-dnd-drop-preview-inner-class",b="smooth-dnd-drop-preview-constant-class",y="smooth-dnd-drop-preview-flex-container-class",_=Object.freeze({containerInstance:r,defaultGroupName:"@@smooth-dnd-default-group@@",wrapperClass:i,defaultGrabHandleClass:"smooth-dnd-default-grap-handle",animationClass:o,translationValue:a,visibilityValue:s,ghostClass:l,containerClass:c,extraSizeForInsertion:u,stretcherElementClass:d,stretcherElementInstance:p,isDraggableDetached:"smoth-dnd-is-draggable-detached",disbaleTouchActions:h,noUserSelectClass:f,preventAutoScrollClass:m,dropPlaceholderDefaultClass:g,dropPlaceholderInnerClass:v,dropPlaceholderWrapperClass:b,dropPlaceholderFlexContainerClass:y}),x={groupName:void 0,behaviour:"move",orientation:"vertical",getChildPayload:void 0,animationDuration:250,autoScrollEnabled:!0,shouldAcceptDrop:void 0,shouldAnimateDrop:void 0};function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(e,t,n){return"x"===n?{left:Math.max(e.left,t.left),top:e.top,right:Math.min(e.right,t.right),bottom:e.bottom}:{left:e.left,top:Math.max(e.top,t.top),right:e.right,bottom:Math.min(e.bottom,t.bottom)}}function k(e){var n=window.getComputedStyle(e),r=n.overflow;if("auto"===r||"scroll"===r)return t.xy;var i=n["overflow-x"],o="auto"===i||"scroll"===i,a=n["overflow-y"],s="auto"===a||"scroll"===a;return o&&s?t.xy:o?t.x:s?t.y:null}function S(e,t){var n=window.getComputedStyle(e),r=n.overflow,i=n["overflow-".concat(t)];return"auto"===r||"scroll"===r||"auto"===i||"scroll"===i}(n=t||(t={})).x="x",n.y="y",n.xy="xy";var O=function(e,t){return{left:Math.max(e.left,t.left),top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom)}},A=function(e){var t=e.getBoundingClientRect(),n={left:t.left,right:t.right,top:t.top,bottom:t.bottom};if(P(e,"x")&&!j(e,"x")){var r=n.right-n.left;n.right=n.right+e.scrollWidth-r}if(P(e,"y")&&!j(e,"y")){var i=n.bottom-n.top;n.bottom=n.bottom+e.scrollHeight-i}return n},j=function(e,t){var n=window.getComputedStyle(e),r=n.overflow,i=n["overflow-".concat(t)];return"auto"===r||"scroll"===r||"hidden"===r||"auto"===i||"scroll"===i||"hidden"===i},P=function(e,t){return"x"===t?e.scrollWidth>e.clientWidth:e.scrollHeight>e.clientHeight},I=function(e,t){var n=e,r=t||A(e);for(n=e.parentElement;n;)P(n,"x")&&j(n,"x")&&(r=C(r,n.getBoundingClientRect(),"x")),P(n,"y")&&j(n,"y")&&(r=C(r,n.getBoundingClientRect(),"y")),n=n.parentElement;return r},L=function(e,t){for(var n=e;n;){if(n[r]){var i=function(){var e=n[r];if(t.some((function(t){return t===e})))return{v:e}}();if("object"===w(i))return i.v}n=n.parentElement}return null},R=function(e,t){for(var n=e;n;){if(n.matches(t))return n;n=n.parentElement}return null},N=function(e,t){return-1<e.className.split(" ").map((function(e){return e})).indexOf(t)},D=function(e,t){if(e){var n=e.className.split(" ").filter((function(e){return e}));-1===n.indexOf(t)&&(n.unshift(t),e.className=n.join(" "))}},M=function(e,t){if(e){var n=e.className.split(" ").filter((function(e){return e&&e!==t}));e.className=n.join(" ")}},B=function(e,t){return e.removeChild(e.children[t])},Q=function(e,t,n){n>=e.children.length?e.appendChild(t):e.insertBefore(t,e.children[n])},U=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():window.document.selection&&window.document.selection.empty()},F=function(e){if(e){var t=window.getComputedStyle(e);if(t)return t.cursor}return null};function z(e){return!(e.bottom<=e.top||e.right<=e.left)}function q(e){var t=e.element,n=e.draggables;return function(e,r){var o=e,a=o.removedIndex,s=o.addedIndex,l=o.droppedElement,c=null;if(null!==a&&(c=B(t,a),n.splice(a,1)),null!==s){var u=window.document.createElement("div");u.className="".concat(i),u.appendChild(c&&c.firstElementChild?c.firstElementChild:l),Q(t,u,s),s>=n.length?n.push(u):n.splice(s,0,u)}r&&r(e)}}var H=Object.freeze({domDropHandler:q,reactDropHandler:function(){return{handler:function(){return function(e,t){t&&t(e)}}}}}),W={size:"offsetWidth",distanceToParent:"offsetLeft",translate:"transform",begin:"left",end:"right",dragPosition:"x",scrollSize:"scrollWidth",offsetSize:"offsetWidth",scrollValue:"scrollLeft",scale:"scaleX",setSize:"width",setters:{translate:function(e){return"translate3d(".concat(e,"px, 0, 0)")}}},G={size:"offsetHeight",distanceToParent:"offsetTop",translate:"transform",begin:"top",end:"bottom",dragPosition:"y",scrollSize:"scrollHeight",offsetSize:"offsetHeight",scrollValue:"scrollTop",scale:"scaleY",setSize:"height",setters:{translate:function(e){return"translate3d(0,".concat(e,"px, 0)")}}};function V(e,t,n){e[u]=0;var r=function(e){return{get:function(t,n){return t[e[n]||n]},set:function(t,n,r){t[e[n]]=e.setters[n]?e.setters[n](r):r}}}("horizontal"===t?W:G),i={translation:0};function o(){l(e),function(e){var t=e.getBoundingClientRect();i.scaleX=e.offsetWidth?(t.right-t.left)/e.offsetWidth:1,i.scaleY=e.offsetHeight?(t.bottom-t.top)/e.offsetHeight:1}(e)}function l(e){i.rect=A(e);var t=I(e,i.rect);z(t)&&(i.lastVisibleRect=i.visibleRect),i.visibleRect=t}function c(e){var n=e;if(n.tagName){var o=n.getBoundingClientRect();return"vertical"===t?o.bottom-o.top:o.right-o.left}return r.get(e,"size")*r.get(i,"scale")}function d(e){return r.get(e,"dragPosition")}return window.addEventListener("resize",(function(){l(e)})),setTimeout((function(){o()}),10),{getSize:c,getContainerRectangles:function(){return{rect:i.rect,visibleRect:i.visibleRect,lastVisibleRect:i.lastVisibleRect}},getBeginEndOfDOMRect:function(e){return{begin:r.get(e,"begin"),end:r.get(e,"end")}},getBeginEndOfContainer:function(){return{begin:r.get(i.rect,"begin")+i.translation,end:r.get(i.rect,"end")+i.translation}},getBeginEndOfContainerVisibleRect:function(){return{begin:r.get(i.visibleRect,"begin")+i.translation,end:r.get(i.visibleRect,"end")+i.translation}},getBeginEnd:function(t){var n=function(e){return(r.get(e,"distanceToParent")+(e[a]||0))*r.get(i,"scale")}(t)+(r.get(i.rect,"begin")+i.translation)-r.get(e,"scrollValue");return{begin:n,end:n+c(t)*r.get(i,"scale")}},getAxisValue:d,setTranslation:function(e,t){t?r.set(e.style,"translate",t):e.style.removeProperty("transform"),e[a]=t},getTranslation:function(e){return e[a]},setVisibility:function(e,t){void 0!==e[s]&&e[s]===t||(t?e.style.removeProperty("visibility"):e.style.visibility="hidden",e[s]=t)},isVisible:function(e){return void 0===e[s]||e[s]},isInVisibleRect:function(e,n){var r=i.visibleRect,o=r.left,a=r.top,s=r.right,l=r.bottom;l-a<2&&(l=a+30);var c=i.rect;return"vertical"===t?e>c.left&&e<c.right&&a<n&&n<l:o<e&&e<s&&n>c.top&&n<c.bottom},setSize:function(e,t){r.set(e,"setSize",t)},getTopLeftOfElementBegin:function(e){var n=0;return{top:"horizontal"===t?(n=e,i.rect.top):(n=i.rect.left,e),left:n}},getScrollSize:function(e){return r.get(e,"scrollSize")},getScrollValue:function(e){return r.get(e,"scrollValue")},setScrollValue:function(e,t){return r.set(e,"scrollValue",t)},invalidate:o,invalidateRects:function(){l(e)},getPosition:function(e){return d(e)},setBegin:function(e,t){r.set(e,"begin",t)}}}function $(e,t,n){var r,i,o,a=n.left,s=n.right,l=n.top,c=n.bottom,u=e.x,d=e.y;if(u<a||s<u||d<l||c<d)return null;o="x"===t?(r=a,i=s,u):(r=l,i=c,d);var p=i-r,h=400<p?100:p/4;return i-o<h?{direction:"end",speedFactor:(h-(i-o))/h}:o-r<h?{direction:"begin",speedFactor:(h-(o-r))/h}:null}function K(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"y",n=null,r=null,i=null,o=null;return{animate:function(a,s){i=a,o=s,function a(){null===n&&(n=requestAnimationFrame((function(s){null===r&&(r=s);var l=s-r;r=s;var c,u,d,p=l/1e3*o;u=t,d=p="begin"===i?0-p:p,(c=e)&&(c!==window?"x"===u?c.scrollLeft+=d:c.scrollTop+=d:"x"===u?c.scrollBy(d,0):c.scrollBy(0,d)),n=null,a()})))}()},stop:function(){null!==n&&(cancelAnimationFrame(n),n=null),r=null}}}function Y(e){return function(){return I(e,e.getBoundingClientRect())}}var Z,J,X,ee=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1500,r=e.reduce((function(e,n){var r=function(e){for(var n=[],r=e.element;r;){var i=k(r);if(i&&!N(r,m)){var o={};switch(i){case t.xy:o.x={animator:K(r,"x")},o.y={animator:K(r,"y")};break;case t.x:o.x={animator:K(r,"x")};break;case t.y:o.y={animator:K(r,"y")}}n.push({axisAnimations:o,getRect:Y(r),scrollerElement:r})}r=r.parentElement}return n}(n).filter((function(t){return!e.find((function(e){return e.scrollerElement===t.scrollerElement}))}));return[].concat(T(e),T(r))}),[]);return function(e){var t=e.draggableInfo;if(e.reset)r.forEach((function(e){e.axisAnimations.x&&e.axisAnimations.x.animator.stop(),e.axisAnimations.y&&e.axisAnimations.y.animator.stop()}));else if(t){!function(e,t){e.forEach((function(e){var n=e.axisAnimations,r=(0,e.getRect)();n.x&&(n.x.scrollParams=$(t,"x",r),e.cachedRect=r),n.y&&(n.y.scrollParams=$(t,"y",r),e.cachedRect=r)}))}(r,t.mousePosition),r.forEach((function(e){var t=e.axisAnimations,r=t.x,i=t.y;if(r)if(r.scrollParams){var o=r.scrollParams,a=o.direction,s=o.speedFactor;r.animator.animate(a,s*n)}else r.animator.stop();if(i)if(i.scrollParams){var l=i.scrollParams,c=l.direction,u=l.speedFactor;i.animator.animate(c,u*n)}else i.animator.stop()}));var i=r.filter((function(e){return e.cachedRect}));if(i.length&&1<i.length){var o=function(e,t){for(var n=document.elementFromPoint(t.x,t.y);n;){var r=e.find((function(e){return e.scrollerElement===n}));if(r)return r;n=n.parentElement}return null}(i,t.mousePosition);o&&i.forEach((function(e){e!==o&&(e.axisAnimations.x&&e.axisAnimations.x.animator.stop(),e.axisAnimations.y&&e.axisAnimations.y.animator.stop())}))}}}};"undefined"!=typeof window&&((Z=Element)&&Z.prototype&&!Z.prototype.matches&&(Z.prototype.matches=Z.prototype.matchesSelector||Z.prototype.mozMatchesSelector||Z.prototype.msMatchesSelector||Z.prototype.oMatchesSelector||Z.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;0<=--n&&t.item(n)!==this;);return-1<n}),(J=Node||Element)&&J.prototype&&null==J.prototype.firstElementChild&&Object.defineProperty(J.prototype,"firstElementChild",{get:function(){for(var e,t=this.childNodes,n=0;e=t[n++];)if(1===e.nodeType)return e;return null}}),Array.prototype.some||(Array.prototype.some=function(e){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var t=Object(this),n=t.length>>>0,r=2<=arguments.length?arguments[1]:void 0,i=0;i<n;i++)if(i in t&&e.call(r,t[i],i,t))return!0;return!1}));var te={overflow:"hidden",display:"block"},ne={height:"100%",display:"table-cell","vertical-align":"top"},re=(E(X={},".".concat(c),{position:"relative","min-height":"30px","min-width":"30px"}),E(X,".".concat(c,".horizontal"),{display:"table"}),E(X,".".concat(c,".horizontal > .").concat(d),{display:"inline-block"}),E(X,".".concat(c,".horizontal > .").concat(i),ne),E(X,".".concat(c,".vertical > .").concat(i),te),E(X,".".concat(i),{"box-sizing":"border-box"}),E(X,".".concat(i,".horizontal"),ne),E(X,".".concat(i,".vertical"),te),E(X,".".concat(i,".animated"),{transition:"transform ease"}),E(X,".".concat(l),{"box-sizing":"border-box"}),E(X,".".concat(l,".animated"),{transition:"all ease-in-out"}),E(X,".".concat(l," *"),{"pointer-events":"none"}),E(X,".".concat(h," *"),{"touch-action":"none","-ms-touch-action":"none"}),E(X,".".concat(f),{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),E(X,".".concat(v),{flex:"1"}),E(X,".".concat(c,".horizontal > .").concat(b),{height:"100%",overflow:"hidden",display:"table-cell","vertical-align":"top"}),E(X,".".concat(c,".vertical > .").concat(b),{overflow:"hidden",display:"block",width:"100%"}),E(X,".".concat(y),{width:"100%",height:"100%",display:"flex","justify-content":"stretch","align-items":"stretch"}),E(X,".".concat(g),{"background-color":"rgba(150, 150, 150, 0.1)",border:"1px solid #ccc"}),X);function ie(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return"object"===w(r)?"".concat(t).concat(n,"{").concat(ie(r),"}"):"".concat(t).concat(n,":").concat(r,";")}),"")}function oe(e){if(e&&"undefined"!=typeof window){var t=window.document.head||window.document.getElementsByTagName("head")[0],n=window.document.createElement("style"),r=ie({"body *":{cursor:"".concat(e," !important")}});return n.type="text/css",n.styleSheet?n.styleSheet.cssText=r:n.appendChild(window.document.createTextNode(r)),t.appendChild(n),n}return null}var ae,se,le=["mousedown","touchstart"],ce=["mousemove","touchmove"],ue=["mouseup","touchend"],de=null,pe=null,he=null,fe=null,me=[],ge=!1,ve=!1,be=!1,ye=!1,_e=null,xe=null,we=null,Ee=null,Te=(ae=null,se=!1,{start:function(){se||(se=!0,function e(){ae=requestAnimationFrame((function(){de.forEach((function(e){return e.layout.invalidateRects()})),setTimeout((function(){null!==ae&&e()}),50)}))}())},stop:function(){null!==ae&&(cancelAnimationFrame(ae),ae=null),se=!1}}),Ce="undefined"!=typeof window&&!!(window.navigator.userAgent.match(/Android/i)||window.navigator.userAgent.match(/webOS/i)||window.navigator.userAgent.match(/iPhone/i)||window.navigator.userAgent.match(/iPad/i)||window.navigator.userAgent.match(/iPod/i)||window.navigator.userAgent.match(/BlackBerry/i)||window.navigator.userAgent.match(/Windows Phone/i));function ke(){"undefined"!=typeof window&&le.forEach((function(e){window.document.addEventListener(e,Ue,{passive:!1})}))}function Se(){return fe&&fe.ghostParent?fe.ghostParent:pe&&pe.parentElement||window.document.body}var Oe,Ae,je,Pe,Ie,Le,Re=(Pe=null,Ie=1,Le=5,function(e,t,n){Oe=Ke(e),je=n,(Ae="number"==typeof t?t:Ce?200:0)&&(Pe=setTimeout(Qe,Ae)),ce.forEach((function(e){return window.document.addEventListener(e,Ne)}),{passive:!1}),ue.forEach((function(e){return window.document.addEventListener(e,De)}),{passive:!1}),window.document.addEventListener("drag",Me,{passive:!1})});function Ne(e){var t=Ke(e),n=t.clientX,r=t.clientY;if(Ae)(Math.abs(Oe.clientX-n)>Le||Math.abs(Oe.clientY-r)>Le)&&Be();else if(Math.abs(Oe.clientX-n)>Ie||Math.abs(Oe.clientY-r)>Ie)return Qe()}function De(){Be()}function Me(){Be()}function Be(){clearTimeout(Pe),ce.forEach((function(e){return window.document.removeEventListener(e,Ne)}),{passive:!1}),ue.forEach((function(e){return window.document.removeEventListener(e,De)}),{passive:!1}),window.document.removeEventListener("drag",Me,{passive:!1})}function Qe(){clearTimeout(Pe),Be(),je()}function Ue(e){var t=Ke(e);if(!ge&&(void 0===t.button||0===t.button)&&(pe=R(t.target,"."+i))){var n=R(pe,"."+c),r=me.filter((function(e){return e.element===n}))[0],o=r.getOptions().dragHandleSelector,a=r.getOptions().nonDragAreaSelector,s=!0;o&&!R(t.target,o)&&(s=!1),a&&R(t.target,a)&&(s=!1),s&&(r.layout.invalidate(),D(window.document.body,h),D(window.document.body,f),window.document.addEventListener("mouseup",(function e(){M(window.document.body,h),M(window.document.body,f),window.document.removeEventListener("mouseup",e)}))),s&&Re(t,r.getOptions().dragBeginDelay,(function(){U(),et(t,F(e.target)),ce.forEach((function(e){window.document.addEventListener(e,Fe,{passive:!1})})),ue.forEach((function(e){window.document.addEventListener(e,$e,{passive:!1})}))}))}}function Fe(e){e.preventDefault();var t=Ke(e);if(fe){var n=fe.container.getOptions();"contain"===n.behaviour?function(e){var t,n,r,i,o=e.clientX,a=e.clientY,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"vertical",l=fe.container.layout.getBeginEndOfContainerVisibleRect();i="vertical"===s?(t=a,n="y",r="top",fe.size.offsetHeight):(t=o,n="x",r="left",fe.size.offsetWidth);var c=l.begin,u=l.end-i,d=Math.max(c,Math.min(u,t+he.positionDelta[r]));he.topLeft[n]=d,fe.position[n]=Math.max(l.begin,Math.min(l.end,t+he.centerDelta[n])),fe.mousePosition[n]=Math.max(l.begin,Math.min(l.end,t)),fe.position[n]<l.begin+i/2&&(fe.position[n]=l.begin+2),fe.position[n]>l.end-i/2&&(fe.position[n]=l.end-2)}(t,n.orientation):we?"y"===we?(he.topLeft.y=t.clientY+he.positionDelta.top,fe.position.y=t.clientY+he.centerDelta.y,fe.mousePosition.y=t.clientY):"x"===we&&(he.topLeft.x=t.clientX+he.positionDelta.left,fe.position.x=t.clientX+he.centerDelta.x,fe.mousePosition.x=t.clientX):(he.topLeft.x=t.clientX+he.positionDelta.left,he.topLeft.y=t.clientY+he.positionDelta.top,fe.position.x=t.clientX+he.centerDelta.x,fe.position.y=t.clientY+he.centerDelta.y,fe.mousePosition.x=t.clientX,fe.mousePosition.y=t.clientY),nt(),(ye=!_e(fe))&&Ge()}else et(t,F(e.target))}var ze,qe,He,We,Ge=(ze=Ve,He=!(qe=20),We=null,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];We&&clearTimeout(We),He&&!We?ze.call.apply(ze,[null].concat(t)):We=setTimeout((function(){We=null,ze.call.apply(ze,[null].concat(t))}),qe)});function Ve(){ye&&(ye=!1,Ye(fe,de))}function $e(){ce.forEach((function(e){window.document.removeEventListener(e,Fe,{passive:!1})})),ue.forEach((function(e){window.document.removeEventListener(e,$e,{passive:!1})})),xe({reset:!0}),Ee&&(function(e){e&&"undefined"!=typeof window&&(window.document.head||window.document.getElementsByTagName("head")[0]).removeChild(e)}(Ee),Ee=null),fe&&(Te.stop(),Ve(),be=!0,function(e){function t(){M(he.ghost,"animated"),he.ghost.style.transitionDuration=null,Se().removeChild(he.ghost),e()}function n(e,n,r){var i=e.top,o=e.left;D(he.ghost,"animated"),r&&D(he.ghost.firstElementChild,r),he.topLeft.x=o,he.topLeft.y=i,nt(n),setTimeout((function(){t()}),n+20)}function r(e,t){D(he.ghost,"animated"),nt(e,.9,!0),setTimeout((function(){t()}),e+20)}if(fe.targetElement){var i=me.filter((function(e){return e.element===fe.targetElement}))[0];!(m=i.getOptions()).shouldAnimateDrop||m.shouldAnimateDrop(fe.container.getOptions(),fe.payload)?n(i.getDragResult().shadowBeginEnd.rect,Math.max(150,i.getOptions().animationDuration/2),i.getOptions().dropClass):t()}else{var o=me.filter((function(e){return e===fe.container}))[0];if(o){var a=o.getOptions(),s=a.behaviour,l=a.removeOnDropOut;if("move"!==s&&"contain"!==s||!ve&&l||!o.getDragResult())r(o.getOptions().animationDuration,t);else{var c=o.layout.getContainerRectangles();if(!z(c.visibleRect)&&z(c.lastVisibleRect))n({top:c.lastVisibleRect.top,left:c.lastVisibleRect.left},o.getOptions().animationDuration,o.getOptions().dropClass);else{var u=o.getDragResult(),d=u.removedIndex,p=u.elementSize,h=o.layout;o.getTranslateCalculator({dragResult:{removedIndex:d,addedIndex:d,elementSize:p,pos:void 0,shadowBeginEnd:void 0}});var f=0<d?h.getBeginEnd(o.draggables[d-1]).end:h.getBeginEndOfContainer().begin;n(h.getTopLeftOfElementBegin(f),o.getOptions().animationDuration,o.getOptions().dropClass)}}}else r(x.animationDuration,t)}var m}((function(){Xe(ge=!1);for(var e=de||[],t=e.shift();void 0!==t;)t.handleDrop(fe),t=e.shift();_e=we=fe=he=pe=de=null,be=!1})))}function Ke(e){return e.touches?e.touches[0]:e}function Ye(e,t){var n=!1;t.forEach((function(t){var r=t.handleDrag(e);n=!!r.containerBoxChanged||!1,r.containerBoxChanged=!1})),n&&(n=!1,requestAnimationFrame((function(){me.forEach((function(e){e.layout.invalidateRects(),e.onTranslated()}))})))}function Ze(e){var t=e,n=null;return function(e){return!(null!==n||!ge||be)&&(n=requestAnimationFrame((function(){ge&&!be&&(Ye(e,t),xe({draggableInfo:e})),n=null})),!0)}}function Je(e,t){return e.getOptions().autoScrollEnabled?ee(t,e.getScrollMaxSpeed()):function(e){return null}}function Xe(e){me.forEach((function(t){var n=e?t.getOptions().onDragStart:t.getOptions().onDragEnd;if(n){var r={isSource:t===fe.container,payload:fe.payload};t.isDragRelevant(fe.container,fe.payload)?r.willAcceptDrop=!0:r.willAcceptDrop=!1,n(r)}}))}function et(e,t){if(null!==pe){ge=!0;var n=me.filter((function(e){return pe.parentElement===e.element}))[0];n.setDraggables(),we=n.getOptions().lockAxis?n.getOptions().lockAxis.toLowerCase():null,fe=function(e){var t=me.filter((function(t){return e.parentElement===t.element}))[0],n=t.draggables.indexOf(e),r=t.getOptions().getGhostParent,i=e.getBoundingClientRect();return{container:t,element:e,size:{offsetHeight:i.bottom-i.top,offsetWidth:i.right-i.left},elementIndex:n,payload:t.getOptions().getChildPayload?t.getOptions().getChildPayload(n):void 0,targetElement:null,position:{x:0,y:0},groupName:t.getOptions().groupName,ghostParent:r?r():null,invalidateShadow:null,mousePosition:null,relevantContainers:null}}(pe),he=function(e,t,n,r){var i=t.x,o=t.y,a=e.getBoundingClientRect(),s=a.left,c=a.top,u=a.right,d=a.bottom,p=O(n.layout.getContainerRectangles().visibleRect,a),h=p.left+(p.right-p.left)/2,f=p.top+(p.bottom-p.top)/2,m=e.cloneNode(!0);return m.style.zIndex="1000",m.style.boxSizing="border-box",m.style.position="fixed",m.style.top="0px",m.style.left="0px",m.style.transform=null,m.style.removeProperty("transform"),n.shouldUseTransformForGhost()?m.style.transform="translate3d(".concat(s,"px, ").concat(c,"px, 0)"):(m.style.top="".concat(c,"px"),m.style.left="".concat(s,"px")),m.style.width=u-s+"px",m.style.height=d-c+"px",m.style.overflow="visible",m.style.transition=null,m.style.removeProperty("transition"),m.style.pointerEvents="none",m.style.userSelect="none",n.getOptions().dragClass?setTimeout((function(){D(m.firstElementChild,n.getOptions().dragClass);var e=window.getComputedStyle(m.firstElementChild).cursor;Ee=oe(e)})):Ee=oe(r),D(m,n.getOptions().orientation||"vertical"),D(m,l),{ghost:m,centerDelta:{x:h-i,y:f-o},positionDelta:{left:s-i,top:c-o},topLeft:{x:s,y:c}}}(pe,{x:e.clientX,y:e.clientY},fe.container,t),fe.position={x:e.clientX+he.centerDelta.x,y:e.clientY+he.centerDelta.y},fe.mousePosition={x:e.clientX,y:e.clientY},de=me.filter((function(e){return e.isDragRelevant(n,fe.payload)})),fe.relevantContainers=de,_e=Ze(de),xe&&xe({reset:!0,draggableInfo:void 0}),xe=Je(n,de),de.forEach((function(e){return e.prepareDrag(e,de)})),Xe(!0),_e(fe),Se().appendChild(he.ghost),Te.start()}}var tt=null;function nt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=he,i=r.ghost,o=r.topLeft,a=o.x,s=o.y,l=!fe.container||fe.container.shouldUseTransformForGhost(),c=l?"translate3d(".concat(a,"px,").concat(s,"px, 0)"):null;if(1!==t&&(c=c?"".concat(c," scale(").concat(t,")"):"scale(".concat(t,")")),0<e)return he.ghost.style.transitionDuration=e+"ms",void requestAnimationFrame((function(){c&&(i.style.transform=c),l||(i.style.left=a+"px",i.style.top=s+"px"),tt=null,n&&(i.style.opacity="0")}));null===tt&&(tt=requestAnimationFrame((function(){c&&(i.style.transform=c),l||(i.style.left=a+"px",i.style.top=s+"px"),tt=null,n&&(i.style.opacity="0")})))}function rt(){if(ge&&!ve&&!be){ye=!(ve=!0);var e=Object.assign({},fe,{targetElement:null,position:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER},mousePosition:{x:Number.MAX_SAFE_INTEGER,y:Number.MAX_SAFE_INTEGER}});de.forEach((function(t){t.handleDrag(e)})),fe.targetElement=null,fe.cancelDrop=!0,$e(),ve=!1}}"undefined"!=typeof window&&function(){if("undefined"!=typeof window){var e=window.document.head||window.document.getElementsByTagName("head")[0],t=window.document.createElement("style");t.id="smooth-dnd-style-definitions";var n=ie(re);t.type="text/css",t.styleSheet?t.styleSheet.cssText=n:t.appendChild(window.document.createTextNode(n)),e.appendChild(t)}}();var it=(ke(),{register:function(e){!function(e){me.push(e),ge&&fe&&e.isDragRelevant(fe.container,fe.payload)&&(de.push(e),e.prepareDrag(e,de),xe&&xe({reset:!0,draggableInfo:void 0}),xe=Je(e,de),_e=Ze(de),e.handleDrag(fe))}(e)},unregister:function(e){!function(e){if(me.splice(me.indexOf(e),1),ge&&fe){fe.container===e&&e.fireRemoveElement(),fe.targetElement===e.element&&(fe.targetElement=null);var t=de.indexOf(e);-1<t&&(de.splice(t,1),xe&&xe({reset:!0,draggableInfo:void 0}),xe=Je(e,de),_e=Ze(de))}}(e)},isDragging:function(){return ge},cancelDrag:rt});function ot(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:x.animationDuration;t?(D(e,o),e.style.transitionDuration=n+"ms"):(M(e,o),e.style.removeProperty("transition-duration"))}function at(e){var t=[];return Array.prototype.forEach.call(e.children,(function(n){if(n.nodeType===Node.ELEMENT_NODE){var r=n;N(n,i)||(r=function(e){if(At.wrapChild){var t=window.document.createElement("div");return t.className="".concat(i),e.parentElement.insertBefore(t,e),t.appendChild(e),t}return e}(n)),r[a]=0,t.push(r)}else e.removeChild(n)})),t}function st(e){var t=e.layout;return function(e,n){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return function e(n,r,i,o){var a=4<arguments.length&&void 0!==arguments[4]&&arguments[4];if(o<i)return i;if(i===o){var s=t.getBeginEnd(n[i]),l=s.begin,c=s.end;return a?r<(c+l)/2?i:i+1:i}var u=Math.floor((o+i)/2),d=t.getBeginEnd(n[u]),p=d.begin,h=d.end;return r<p?e(n,r,i,u-1,a):h<r?e(n,r,u+1,o,a):a?r<(h+p)/2?u:u+1:u}(e,n,0,e.length-1,r)}}function lt(e){var t=e.element,n=e.draggables,r=e.layout,i=e.getOptions,o=function(e){var t=e.element,n=e.draggables,r=e.layout;return function(){n.forEach((function(e){ot(e,!1),r.setTranslation(e,0),r.setVisibility(e,!0)})),t[p]&&(t[p].parentNode.removeChild(t[p]),t[p]=null)}}({element:t,draggables:n,layout:r,getOptions:i}),a=(At.dropHandler||q)({element:t,draggables:n,layout:r,getOptions:i});return function(e,t){var n=t.addedIndex,r=t.removedIndex,s=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(o(),!e.cancelDrop&&(e.targetElement||i().removeOnDropOut||s)){var l={removedIndex:r,addedIndex:null!==n?null!==r&&r<n?n-1:n:null,payload:e.payload};a(l,i().onDrop)}}}function ct(e){var t=e.element,n=e.getOptions,r=null;return function(e){var i=e.draggableInfo,o=r;return null==r&&i.container.element===t&&"copy"!==n().behaviour&&(o=r=i.elementIndex),{removedIndex:o}}}function ut(e){var t=e.draggables,n=e.layout;return function(e){var r=e.dragResult;null!==r.removedIndex&&n.setVisibility(t[r.removedIndex],!1)}}function dt(e){var t=e.element,n=e.layout;return function(e){var r=e.draggableInfo,i=document.elementFromPoint(r.position.x,r.position.y);if(i){var o=L(i,r.relevantContainers);if(o&&o.element===t)return{pos:n.getPosition(r.position)}}return{pos:null}}}function pt(e){var t=e.layout,n=null;return function(e){var r=e.draggableInfo;return null===e.dragResult.pos?n=null:{elementSize:n=n||t.getSize(r.size)}}}function ht(e){var t=e.element;return function(e){var n=e.draggableInfo,r=e.dragResult;!function(e,t){!t||2<arguments.length&&void 0!==arguments[2]&&!arguments[2]?e.targetElement===t&&(e.targetElement=null):e.targetElement=t}(n,t,!!r.pos)}}function ft(){return function(e){return null!==e.dragResult.pos?{addedIndex:0}:{addedIndex:null}}}function mt(e){var t=e.layout,n=null;return function(e){var r=e.dragResult.addedIndex;if(r===n)return null;n=r;var i=t.getBeginEndOfContainer(),o=i.begin;return i.end,{shadowBeginEnd:{rect:t.getTopLeftOfElementBegin(o)}}}}function gt(e){var t=e.layout,n=e.element,r=e.getOptions,i=null;return function(e){var o=e.dragResult,a=o.elementSize,s=o.shadowBeginEnd,l=o.addedIndex,c=o.dropPlaceholderContainer,u=r();if(u.dropPlaceholder){var d="boolean"==typeof u.dropPlaceholder?{}:u.dropPlaceholder,p=d.animationDuration,h=d.className,f=d.showOnTop;if(null===l)return c&&null!==i&&n.removeChild(c),i=null,{dropPlaceholderContainer:void 0};if(!c){var m=document.createElement("div"),_=document.createElement("div");_.className=y,m.className="".concat(v," ").concat(h||g),(c=document.createElement("div")).className="".concat(b),c.style.position="absolute",void 0!==p&&(c.style.transition="all ".concat(p,"ms ease")),c.appendChild(_),_.appendChild(m),t.setSize(c.style,a+"px"),c.style.pointerEvents="none",f?n.appendChild(c):n.insertBefore(c,n.firstElementChild)}return i!==l&&s.dropArea&&t.setBegin(c.style,s.dropArea.begin-t.getBeginEndOfContainer().begin+"px"),i=l,{dropPlaceholderContainer:c}}return null}}function vt(e){var t=wt(e);return function(e){var n=e.draggableInfo,r=e.dragResult;return n.invalidateShadow?t({draggableInfo:n,dragResult:r}):null}}function bt(e){var t=function(e){var t=e.draggables,n=st({layout:e.layout});return function(e){var r=e.dragResult,i=r.shadowBeginEnd,o=r.pos;if(i)return i.begin+i.beginAdjustment<=o&&i.end>=o?null:o<i.begin+i.beginAdjustment?n(t,o):o>i.end?n(t,o)+1:t.length;var a=n(t,o,!0);return null!==a?a:t.length}}(e);return function(e){var n=e.dragResult,r=null;return null!==n.pos&&null===(r=t({dragResult:n}))&&(r=n.addedIndex),{addedIndex:r}}}function yt(){var e=null;return function(t){var n=t.dragResult,r=n.addedIndex,i=n.shadowBeginEnd;r!==e&&null!==e&&i&&(i.beginAdjustment=0),e=r}}function _t(e){var t=e.element,n=e.draggables,r=e.layout,i=e.getOptions,o=null;return function(e){var s=e.dragResult,l=s.addedIndex,c=s.removedIndex,u=s.elementSize;if(null===c)if(null!==l){if(!o){var h=r.getBeginEndOfContainer();h.end=h.begin+r.getSize(t);var f=r.getScrollSize(t)>r.getSize(t)?h.begin+r.getScrollSize(t)-r.getScrollValue(t):h.end,m=0<n.length?r.getBeginEnd(n[n.length-1]).end-n[n.length-1][a]:h.begin;if(f<m+u){(o=window.document.createElement("div")).className=d+" "+i().orientation;var g=0<n.length?u+m-f:u;return r.setSize(o.style,"".concat(g,"px")),t.appendChild(o),t[p]=o,{containerBoxChanged:!0}}}}else if(o){r.setTranslation(o,0);var v=o;return o=null,t.removeChild(v),{containerBoxChanged:!(t[p]=null)}}}}function xt(e){var t=e.draggables,n=e.layout,r=null,i=null;return function(e){var o=e.dragResult,a=o.addedIndex,s=o.removedIndex,l=o.elementSize;if(a!==r||s!==i){for(var c=0;c<t.length;c++)if(c!==s){var u=t[c],d=0;null!==s&&s<c&&(d-=l),null!==a&&a<=c&&(d+=l),n.setTranslation(u,d)}return{addedIndex:r=a,removedIndex:i=s}}}}function wt(e){var t=e.draggables,n=e.layout,r=null;return function(e){var i=e.draggableInfo,o=e.dragResult,a=o.addedIndex,s=o.removedIndex,l=o.elementSize,c=o.pos,u=o.shadowBeginEnd;if(null===c)return{shadowBeginEnd:r=null};if(null===a||!i.invalidateShadow&&a===r)return null;var d=a-1,p=Number.MIN_SAFE_INTEGER,h=0,f=0,m=null,g=null;if(d===s&&d--,-1<d){var v=n.getSize(t[d]);if(g=n.getBeginEnd(t[d]),l<v){var b=(v-l)/2;p=g.end-b}else p=g.end;h=g.end}else g={end:n.getBeginEndOfContainer().begin},h=n.getBeginEndOfContainer().begin;var y=Number.MAX_SAFE_INTEGER,_=a;if(_===s&&_++,_<t.length){var x=n.getSize(t[_]);if(m=n.getBeginEnd(t[_]),l<x){var w=(x-l)/2;y=m.begin+w}else y=m.begin;f=m.begin}else m={begin:n.getContainerRectangles().rect.end},f=n.getContainerRectangles().rect.end-n.getContainerRectangles().rect.begin;var E=g&&m?n.getTopLeftOfElementBegin(g.end):null;return r=a,{shadowBeginEnd:{dropArea:{begin:h,end:f},begin:p,end:y,rect:E,beginAdjustment:u?u.beginAdjustment:0}}}}function Et(){var e=null;return function(t){var n=t.dragResult,r=n.pos,i=n.addedIndex,o=n.shadowBeginEnd;if(null!==r){if(null!=i&&null===e){if(r<o.begin){var a=r-o.begin-5;o.beginAdjustment=a}e=i}}else e=null}}function Tt(e){var t=e.getOptions,n=!1,r=t();return function(e){var t=!!e.dragResult.pos;t!==n&&((n=t)?r.onDragEnter&&r.onDragEnter():r.onDragLeave&&r.onDragLeave())}}function Ct(e){var t=e.getOptions,n=null,r=t();return function(e){var t=e.dragResult,i=t.addedIndex,o=t.removedIndex,a=e.draggableInfo,s=a.payload,l=a.element;if(r.onDropReady&&null!==i&&n!==i){var c=n=i;null!==o&&o<i&&c--,r.onDropReady({addedIndex:c,removedIndex:o,payload:s,element:l?l.firstElementChild:void 0})}}}function kt(e){return"drop-zone"===e.getOptions().behaviour?St(e)(ct,ut,dt,pt,ht,ft,mt,Tt,Ct):St(e)(ct,ut,dt,pt,ht,vt,bt,yt,_t,xt,wt,gt,Et,Tt,Ct)}function St(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.map((function(t){return t(e)})),o=null;return function(e){return o=i.reduce((function(t,n){return Object.assign(t,n({draggableInfo:e,dragResult:t}))}),o||{addedIndex:null,removedIndex:null,elementSize:null,pos:null,shadowBeginEnd:null})}}}function Ot(e){return function(t){var n=Object.assign({},x,t),r=null,o=null,a=function(e,t){var n=at(e),r=t();return D(e,"".concat(c," ").concat(r.orientation)),{element:e,draggables:n,getOptions:t,layout:V(e,r.orientation,r.animationDuration)}}(e,h),s=kt(a),l=lt(a),u=function(e,t){var n=[];function r(){n&&(n.forEach((function(e){return e.removeEventListener("scroll",t)})),window.removeEventListener("scroll",t))}return function(){for(var t=e;t;)(S(t,"x")||S(t,"y"))&&n.push(t),t=t.parentElement}(),{dispose:function(){r(),n=null},start:function(){n&&(n.forEach((function(e){return e.addEventListener("scroll",t)})),window.addEventListener("scroll",t))},stop:r}}(e,(function(){a.layout.invalidateRects(),d()}));function d(){null!==o&&(o.invalidateShadow=!0,r=s(o),o.invalidateShadow=!1)}function p(e,t){for(var n=at(t),r=0;r<n.length;r++)e[r]=n[r];for(var i=0;i<e.length-n.length;i++)e.pop()}function h(){return n}return{element:e,draggables:a.draggables,isDragRelevant:function(e){var t=e.element,n=e.getOptions;return function(e,r){var o=n();if(o.shouldAcceptDrop)return o.shouldAcceptDrop(e.getOptions(),r);var a=e.getOptions();return"copy"!==o.behaviour&&R(t,"."+i)!==e.element&&(e.element===t||!(!a.groupName||a.groupName!==o.groupName))}}(a),layout:a.layout,dispose:function(e){u.dispose(),function(e){At.wrapChild&&Array.prototype.forEach.call(e.children,(function(t){t.nodeType===Node.ELEMENT_NODE&&N(t,i)&&(e.insertBefore(t.firstElementChild,t),e.removeChild(t))}))}(e.element)},prepareDrag:function(e,t){var n=e.element,r=a.draggables;p(r,n),e.layout.invalidateRects(),r.forEach((function(e){return ot(e,!0,h().animationDuration)})),u.start()},handleDrag:function(e){return r=s(o=e)},handleDrop:function(t){u.stop(),r&&r.dropPlaceholderContainer&&e.removeChild(r.dropPlaceholderContainer),o=null,s=kt(a),l(t,r),r=null},fireRemoveElement:function(){l(o,Object.assign({},r,{addedIndex:null}),!0),r=null},getDragResult:function(){return r},getTranslateCalculator:function(e){return xt(a)(e)},onTranslated:function(){d()},setDraggables:function(){p(a.draggables,e)},getScrollMaxSpeed:function(){return At.maxScrollSpeed},shouldUseTransformForGhost:function(){return!0===At.useTransformForGhost},getOptions:h,setOptions:function(e){n=!1===(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])?Object.assign({},x,e):Object.assign({},x,n,e)}}}}var At=function(e,t){var n=Ot(e)(t);return e[r]=n,it.register(n),{dispose:function(){it.unregister(n),n.dispose(n)},setOptions:function(e,t){n.setOptions(e,t)}}};function jt(e,t,n){Object.defineProperty(e,n,{set:function(e){t[n]=e},get:function(){return t[n]}})}function Pt(e,t){return console.warn('default export is deprecated. please use named export "smoothDnD"'),At(e,t)}At.wrapChild=!0,At.cancelDrag=function(){it.cancelDrag()},At.isDragging=function(){return it.isDragging()},Pt.cancelDrag=function(){At.cancelDrag()},Pt.isDragging=function(){return At.isDragging()},jt(Pt,At,"useTransformForGhost"),jt(Pt,At,"maxScrollSpeed"),jt(Pt,At,"wrapChild"),jt(Pt,At,"dropHandler"),e.smoothDnD=At,e.constants=_,e.dropHandlers=H,e.default=Pt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},5296:(e,t,n)=>{const{Buffer:r}=n(9003);function i(){const[e,t]=function(e,t){const n=[];e instanceof i.Request?(n.push(e.url),n.push({method:e.method,headers:e.headers,body:e.body})):n.push(e,{});return Object.assign(n[1],t),n[1].headers=new i.Headers(n[1].headers||{}),n}(...arguments),n=new XMLHttpRequest;n.withCredentials="include"===t.credentials,n.timeout=t.timeout,n.open(t.method||"GET",e,!1);try{n.responseType="arraybuffer"}catch(o){}for(const i of t.headers)n.setRequestHeader(...i);n.send(t.body||null);let r=n.getAllResponseHeaders();return r=r&&r.split("\r\n").filter(Boolean).map((e=>e.split(": ",2))),new i.Response(n.response,{url:n.responseURL,status:n.status,statusText:n.statusText,headers:r,redirected:n.responseURL!==e})}const o=Symbol("SyncFetch Internals");class a extends Request{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.body;super(e,t),this[o]={body:n?r.from(n):null}}clone(){return c(this),new a(this.url,this)}}class s extends Response{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(function(e){return new ReadableStream({start(t){t.enqueue(e),t.close()}})}(e=e?r.from(e):null),t),this[o]={url:t.url,redirected:t.redirected,body:e}}get url(){return this[o].url}get redirected(){return this[o].redirected}clone(){return c(this),new s(this[o].body,{url:this.url,headers:this.headers,status:this.status,statusText:this.statusText,redirected:this.redirected})}}class l{constructor(e){this[o]={body:r.from(e)}}static mixin(e){for(const t of Object.getOwnPropertyNames(l.prototype)){if("constructor"===t)continue;const n=Object.getOwnPropertyDescriptor(l.prototype,t);Object.defineProperty(e,t,{...n,enumerable:!0})}}arrayBuffer(){c(this);const e=u(this);return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}blob(){c(this);const e=this.headers&&this.headers.get("content-type");return new Blob([u(this)],e&&{type:e})}text(){return c(this),u(this).toString()}json(){c(this);try{return JSON.parse(u(this).toString())}catch(e){throw new TypeError("invalid json response body at ".concat(this.url," reason: ").concat(e.message),"invalid-json")}}buffer(){return c(this),u(this).clone()}}function c(e){if(e.bodyUsed)throw new TypeError("body used already for: ".concat(e.url))}function u(e){return function(e,t){return Object.getPrototypeOf(Object.getPrototypeOf(e))[t].bind(e)}(e,"arrayBuffer")(),e[o].body||r.alloc(0)}l.mixin(a.prototype),l.mixin(s.prototype),i.Headers=self.Headers,i.Request=a,i.Response=s,e.exports=i},9003:(e,t,n)=>{"use strict";var r=n(8364),i=n(924),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;var a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|m(e,t),r=s(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(F(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(F(e,SharedArrayBuffer)||e&&F(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);var i=function(e){if(l.isBuffer(e)){var t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||z(e.length)?s(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|f(e))}function p(e){for(var t=e.length<0?0:0|f(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function f(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(i)return r?-1:B(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function b(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),z(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,p=0;p<l;p++)if(c(e,o+p)!==c(t,p)){d=!1;break}if(d)return o}return-1}function _(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(z(s))return a;e[n+a]=s}return a}function x(e,t,n,r){return U(B(t,e.length-n),e,n,r)}function w(e,t,n,r){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return U(Q(t),e,n,r)}function T(e,t,n,r){return U(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128===(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"===typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(F(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),F(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(F(o,Uint8Array))i+o.length>r.length?l.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else{if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(F(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){o=c[d],a=u[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return w(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=q[e[o]];return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,o){return t=+t,n>>>=0,o||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return t=+t,n>>>=0,o||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:l.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var M=/[^+/0-9A-Za-z-_]/g;function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function U(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function z(e){return e!==e}var q=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},8992:(e,t,n)=>{"use strict";n.d(t,{C3:()=>o,KQ:()=>c,ct:()=>i,gR:()=>s,o5:()=>l,sX:()=>a});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}},7152:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=Ye(n(2868)),o=Ye(n(8135)),a=Ye(n(2928)),s=Ye(n(3008)),l=Ye(n(9432)),c=Ye(n(884)),u=Ye(n(1888)),d=Ye(n(3936)),p=Ye(n(9080)),h=Ye(n(2912)),f=Ye(n(9900)),m=Ye(n(3504)),g=Ye(n(6e3)),v=Ye(n(364)),b=Ye(n(6512)),y=Ye(n(3816)),_=Ye(n(6234)),x=Ke(n(7892)),w=Ke(n(3468)),E=Ye(n(2192)),T=Ye(n(4236)),C=Ye(n(4532)),k=Ye(n(5755)),S=Ye(n(3804)),O=Ye(n(3292)),A=Ye(n(6883)),j=Ye(n(7388)),P=Ye(n(8192)),I=Ye(n(56)),L=Ye(n(6724)),R=Ye(n(7780)),N=Ye(n(2224)),D=Ye(n(9272)),M=Ke(n(9356)),B=Ye(n(9180)),Q=Ye(n(6796)),U=Ye(n(240)),F=Ye(n(9140)),z=Ye(n(252)),q=Ye(n(8996)),H=Ye(n(588)),W=Ye(n(5524)),G=Ke(n(4891)),V=Ye(n(8872)),$=Ye(n(9068)),K=Ye(n(6936)),Y=Ye(n(7464)),Z=Ye(n(5149)),J=Ye(n(680)),X=Ye(n(7396)),ee=Ye(n(5400)),te=Ye(n(5148)),ne=Ye(n(1981)),re=Ye(n(1664)),ie=Ye(n(2440)),oe=Ye(n(1528)),ae=Ye(n(1308)),se=Ye(n(1208)),le=Ye(n(6184)),ce=Ye(n(9056)),ue=Ye(n(696)),de=Ye(n(4020)),pe=Ye(n(5152)),he=Ye(n(1860)),fe=Ke(n(2240)),me=Ye(n(908)),ge=Ye(n(3964)),ve=Ye(n(3928)),be=n(9336),ye=Ye(n(3544)),_e=Ye(n(4204)),xe=Ye(n(1188)),we=Ye(n(8208)),Ee=Ye(n(8496)),Te=Ye(n(4311)),Ce=Ye(n(6012)),ke=Ye(n(3772)),Se=Ye(n(296)),Oe=Ye(n(3824)),Ae=Ye(n(7188)),je=Ye(n(9880)),Pe=Ye(n(1640)),Ie=Ye(n(8692)),Le=Ke(n(5568)),Re=Ye(n(7060)),Ne=Ye(n(2728)),De=Ye(n(4592)),Me=Ye(n(7933)),Be=Ye(n(8232)),Qe=Ye(n(4811)),Ue=Ye(n(6856)),Fe=Ye(n(5868)),ze=Ye(n(3876)),qe=Ye(n(4251)),He=Ye(n(8620)),We=Ye(n(4288)),Ge=Ye(n(7192)),Ve=Ye(n(5404));function $e(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return $e=function(){return e},e}function Ke(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=$e();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function Ye(e){return e&&e.__esModule?e:{default:e}}var Ze={version:"13.11.0",toDate:i.default,toFloat:o.default,toInt:a.default,toBoolean:s.default,equals:l.default,contains:c.default,matches:u.default,isEmail:d.default,isURL:p.default,isMACAddress:h.default,isIP:f.default,isIPRange:m.default,isFQDN:g.default,isBoolean:y.default,isIBAN:G.default,isBIC:V.default,isAlpha:x.default,isAlphaLocales:x.locales,isAlphanumeric:w.default,isAlphanumericLocales:w.locales,isNumeric:E.default,isPassportNumber:T.default,isPort:C.default,isLowercase:k.default,isUppercase:S.default,isAscii:A.default,isFullWidth:j.default,isHalfWidth:P.default,isVariableWidth:I.default,isMultibyte:L.default,isSemVer:R.default,isSurrogatePair:N.default,isInt:D.default,isIMEI:O.default,isFloat:M.default,isFloatLocales:M.locales,isDecimal:B.default,isHexadecimal:Q.default,isOctal:U.default,isDivisibleBy:F.default,isHexColor:z.default,isRgbColor:q.default,isHSL:H.default,isISRC:W.default,isMD5:$.default,isHash:K.default,isJWT:Y.default,isJSON:Z.default,isEmpty:J.default,isLength:X.default,isLocale:_.default,isByteLength:ee.default,isUUID:te.default,isMongoId:ne.default,isAfter:re.default,isBefore:ie.default,isIn:oe.default,isLuhnNumber:ae.default,isCreditCard:se.default,isIdentityCard:le.default,isEAN:ce.default,isISIN:ue.default,isISBN:de.default,isISSN:pe.default,isMobilePhone:fe.default,isMobilePhoneLocales:fe.locales,isPostalCode:Le.default,isPostalCodeLocales:Le.locales,isEthereumAddress:me.default,isCurrency:ge.default,isBtcAddress:ve.default,isISO6346:be.isISO6346,isFreightContainerID:be.isFreightContainerID,isISO6391:ye.default,isISO8601:_e.default,isRFC3339:xe.default,isISO31661Alpha2:we.default,isISO31661Alpha3:Ee.default,isISO4217:Te.default,isBase32:Ce.default,isBase58:ke.default,isBase64:Se.default,isDataURI:Oe.default,isMagnetURI:Ae.default,isMailtoURI:je.default,isMimeType:Pe.default,isLatLong:Ie.default,ltrim:Re.default,rtrim:Ne.default,trim:De.default,escape:Me.default,unescape:Be.default,stripLow:Qe.default,whitelist:Ue.default,blacklist:Fe.default,isWhitelisted:ze.default,normalizeEmail:qe.default,toString:toString,isSlug:He.default,isStrongPassword:Ge.default,isTaxID:he.default,isDate:v.default,isTime:b.default,isLicensePlate:We.default,isVAT:Ve.default,ibanLocales:G.locales};t.default=Ze,e.exports=t.default,e.exports.default=t.default},7112:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commaDecimal=t.dotDecimal=t.bengaliLocales=t.farsiLocales=t.arabicLocales=t.englishLocales=t.decimal=t.alphanumeric=t.alpha=void 0;var n={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZ\xc7\u018f\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"bg-BG":/^[\u0410-\u042f]+$/i,"cs-CZ":/^[A-Z\xc1\u010c\u010e\xc9\u011a\xcd\u0147\xd3\u0158\u0160\u0164\xda\u016e\xdd\u017d]+$/i,"da-DK":/^[A-Z\xc6\xd8\xc5]+$/i,"de-DE":/^[A-Z\xc4\xd6\xdc\xdf]+$/i,"el-GR":/^[\u0391-\u03ce]+$/i,"es-ES":/^[A-Z\xc1\xc9\xcd\xd1\xd3\xda\xdc]+$/i,"fa-IR":/^[\u0627\u0628\u067e\u062a\u062b\u062c\u0686\u062d\u062e\u062f\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u06a9\u06af\u0644\u0645\u0646\u0648\u0647\u06cc]+$/i,"fi-FI":/^[A-Z\xc5\xc4\xd6]+$/i,"fr-FR":/^[A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178]+$/i,"it-IT":/^[A-Z\xc0\xc9\xc8\xcc\xce\xd3\xd2\xd9]+$/i,"ja-JP":/^[\u3041-\u3093\u30a1-\u30f6\uff66-\uff9f\u4e00-\u9fa0\u30fc\u30fb\u3002\u3001]+$/i,"nb-NO":/^[A-Z\xc6\xd8\xc5]+$/i,"nl-NL":/^[A-Z\xc1\xc9\xcb\xcf\xd3\xd6\xdc\xda]+$/i,"nn-NO":/^[A-Z\xc6\xd8\xc5]+$/i,"hu-HU":/^[A-Z\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170]+$/i,"pl-PL":/^[A-Z\u0104\u0106\u0118\u015a\u0141\u0143\xd3\u017b\u0179]+$/i,"pt-PT":/^[A-Z\xc3\xc1\xc0\xc2\xc4\xc7\xc9\xca\xcb\xcd\xcf\xd5\xd3\xd4\xd6\xda\xdc]+$/i,"ru-RU":/^[\u0410-\u042f\u0401]+$/i,"kk-KZ":/^[\u0410-\u042f\u0401\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[A-Z\u010c\u0106\u0110\u0160\u017d]+$/i,"sk-SK":/^[A-Z\xc1\u010c\u010e\xc9\xcd\u0147\xd3\u0160\u0164\xda\xdd\u017d\u0139\u0154\u013d\xc4\xd4]+$/i,"sr-RS@latin":/^[A-Z\u010c\u0106\u017d\u0160\u0110]+$/i,"sr-RS":/^[\u0410-\u042f\u0402\u0408\u0409\u040a\u040b\u040f]+$/i,"sv-SE":/^[A-Z\xc5\xc4\xd6]+$/i,"th-TH":/^[\u0e01-\u0e50\s]+$/i,"tr-TR":/^[A-Z\xc7\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"uk-UA":/^[\u0410-\u0429\u042c\u042e\u042f\u0404I\u0407\u0490\u0456]+$/i,"vi-VN":/^[A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\u0110\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8]+$/i,"ko-KR":/^[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]*$/,"ku-IQ":/^[\u0626\u0627\u0628\u067e\u062a\u062c\u0686\u062d\u062e\u062f\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063a\u0641\u06a4\u0642\u06a9\u06af\u0644\u06b5\u0645\u0646\u0648\u06c6\u06be\u06d5\u06cc\u06ce\u064a\u0637\u0624\u062b\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,ar:/^[\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064a\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0670]+$/,he:/^[\u05d0-\u05ea]+$/,fa:/^['\u0622\u0627\u0621\u0623\u0624\u0626\u0628\u067e\u062a\u062b\u062c\u0686\u062d\u062e\u062f\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u06a9\u06af\u0644\u0645\u0646\u0648\u0647\u0629\u06cc']+$/i,bn:/^['\u0980\u0981\u0982\u0983\u0985\u0986\u0987\u0988\u0989\u098a\u098b\u098c\u098f\u0990\u0993\u0994\u0995\u0996\u0997\u0998\u0999\u099a\u099b\u099c\u099d\u099e\u099f\u09a0\u09a1\u09a2\u09a3\u09a4\u09a5\u09a6\u09a7\u09a8\u09aa\u09ab\u09ac\u09ad\u09ae\u09af\u09b0\u09b2\u09b6\u09b7\u09b8\u09b9\u09bc\u09bd\u09be\u09bf\u09c0\u09c1\u09c2\u09c3\u09c4\u09c7\u09c8\u09cb\u09cc\u09cd\u09ce\u09d7\u09dc\u09dd\u09df\u09e0\u09e1\u09e2\u09e3\u09f0\u09f1\u09f2\u09f3\u09f4\u09f5\u09f6\u09f7\u09f8\u09f9\u09fa\u09fb']+$/,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i,"si-LK":/^[\u0D80-\u0DFF]+$/};t.alpha=n;var r={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZ\xc7\u018f\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"bg-BG":/^[0-9\u0410-\u042f]+$/i,"cs-CZ":/^[0-9A-Z\xc1\u010c\u010e\xc9\u011a\xcd\u0147\xd3\u0158\u0160\u0164\xda\u016e\xdd\u017d]+$/i,"da-DK":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"de-DE":/^[0-9A-Z\xc4\xd6\xdc\xdf]+$/i,"el-GR":/^[0-9\u0391-\u03c9]+$/i,"es-ES":/^[0-9A-Z\xc1\xc9\xcd\xd1\xd3\xda\xdc]+$/i,"fi-FI":/^[0-9A-Z\xc5\xc4\xd6]+$/i,"fr-FR":/^[0-9A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178]+$/i,"it-IT":/^[0-9A-Z\xc0\xc9\xc8\xcc\xce\xd3\xd2\xd9]+$/i,"ja-JP":/^[0-9\uff10-\uff19\u3041-\u3093\u30a1-\u30f6\uff66-\uff9f\u4e00-\u9fa0\u30fc\u30fb\u3002\u3001]+$/i,"hu-HU":/^[0-9A-Z\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170]+$/i,"nb-NO":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"nl-NL":/^[0-9A-Z\xc1\xc9\xcb\xcf\xd3\xd6\xdc\xda]+$/i,"nn-NO":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"pl-PL":/^[0-9A-Z\u0104\u0106\u0118\u015a\u0141\u0143\xd3\u017b\u0179]+$/i,"pt-PT":/^[0-9A-Z\xc3\xc1\xc0\xc2\xc4\xc7\xc9\xca\xcb\xcd\xcf\xd5\xd3\xd4\xd6\xda\xdc]+$/i,"ru-RU":/^[0-9\u0410-\u042f\u0401]+$/i,"kk-KZ":/^[0-9\u0410-\u042f\u0401\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[0-9A-Z\u010c\u0106\u0110\u0160\u017d]+$/i,"sk-SK":/^[0-9A-Z\xc1\u010c\u010e\xc9\xcd\u0147\xd3\u0160\u0164\xda\xdd\u017d\u0139\u0154\u013d\xc4\xd4]+$/i,"sr-RS@latin":/^[0-9A-Z\u010c\u0106\u017d\u0160\u0110]+$/i,"sr-RS":/^[0-9\u0410-\u042f\u0402\u0408\u0409\u040a\u040b\u040f]+$/i,"sv-SE":/^[0-9A-Z\xc5\xc4\xd6]+$/i,"th-TH":/^[\u0e01-\u0e59\s]+$/i,"tr-TR":/^[0-9A-Z\xc7\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"uk-UA":/^[0-9\u0410-\u0429\u042c\u042e\u042f\u0404I\u0407\u0490\u0456]+$/i,"ko-KR":/^[0-9\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]*$/,"ku-IQ":/^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0626\u0627\u0628\u067e\u062a\u062c\u0686\u062d\u062e\u062f\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063a\u0641\u06a4\u0642\u06a9\u06af\u0644\u06b5\u0645\u0646\u0648\u06c6\u06be\u06d5\u06cc\u06ce\u064a\u0637\u0624\u062b\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,"vi-VN":/^[0-9A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\u0110\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8]+$/i,ar:/^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064a\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0670]+$/,he:/^[0-9\u05d0-\u05ea]+$/,fa:/^['0-9\u0622\u0627\u0621\u0623\u0624\u0626\u0628\u067e\u062a\u062b\u062c\u0686\u062d\u062e\u062f\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u06a9\u06af\u0644\u0645\u0646\u0648\u0647\u0629\u06cc\u06f1\u06f2\u06f3\u06f4\u06f5\u06f6\u06f7\u06f8\u06f9\u06f0']+$/i,bn:/^['\u0980\u0981\u0982\u0983\u0985\u0986\u0987\u0988\u0989\u098a\u098b\u098c\u098f\u0990\u0993\u0994\u0995\u0996\u0997\u0998\u0999\u099a\u099b\u099c\u099d\u099e\u099f\u09a0\u09a1\u09a2\u09a3\u09a4\u09a5\u09a6\u09a7\u09a8\u09aa\u09ab\u09ac\u09ad\u09ae\u09af\u09b0\u09b2\u09b6\u09b7\u09b8\u09b9\u09bc\u09bd\u09be\u09bf\u09c0\u09c1\u09c2\u09c3\u09c4\u09c7\u09c8\u09cb\u09cc\u09cd\u09ce\u09d7\u09dc\u09dd\u09df\u09e0\u09e1\u09e2\u09e3\u09e6\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09f0\u09f1\u09f2\u09f3\u09f4\u09f5\u09f6\u09f7\u09f8\u09f9\u09fa\u09fb']+$/,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i,"si-LK":/^[0-9\u0D80-\u0DFF]+$/};t.alphanumeric=r;var i={"en-US":".",ar:"\u066b"};t.decimal=i;var o=["AU","GB","HK","IN","NZ","ZA","ZM"];t.englishLocales=o;for(var a,s=0;s<o.length;s++)n[a="en-".concat(o[s])]=n["en-US"],r[a]=r["en-US"],i[a]=i["en-US"];var l=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"];t.arabicLocales=l;for(var c,u=0;u<l.length;u++)n[c="ar-".concat(l[u])]=n.ar,r[c]=r.ar,i[c]=i.ar;var d=["IR","AF"];t.farsiLocales=d;for(var p,h=0;h<d.length;h++)r[p="fa-".concat(d[h])]=r.fa,i[p]=i.ar;var f=["BD","IN"];t.bengaliLocales=f;for(var m,g=0;g<f.length;g++)n[m="bn-".concat(f[g])]=n.bn,r[m]=r.bn,i[m]=i["en-US"];var v=["ar-EG","ar-LB","ar-LY"];t.dotDecimal=v;var b=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","kk-KZ","si-LK","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"];t.commaDecimal=b;for(var y=0;y<v.length;y++)i[v[y]]=i["en-US"];for(var _=0;_<b.length;_++)i[b[_]]=",";n["fr-CA"]=n["fr-FR"],r["fr-CA"]=r["fr-FR"],n["pt-BR"]=n["pt-PT"],r["pt-BR"]=r["pt-PT"],i["pt-BR"]=i["pt-PT"],n["pl-Pl"]=n["pl-PL"],r["pl-Pl"]=r["pl-PL"],i["pl-Pl"]=i["pl-PL"],n["fa-AF"]=n.fa},5868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e.replace(new RegExp("[".concat(t,"]+"),"g"),"")};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},884:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if((0,r.default)(e),(n=(0,o.default)(n,s)).ignoreCase)return e.toLowerCase().split((0,i.default)(t).toLowerCase()).length>n.minOccurrences;return e.split((0,i.default)(t)).length>n.minOccurrences};var r=a(n(1284)),i=a(n(8984)),o=a(n(900));function a(e){return e&&e.__esModule?e:{default:e}}var s={ignoreCase:!1,minOccurrences:1};e.exports=t.default,e.exports.default=t.default},9432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e===t};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},7933:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},1664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(null===t||void 0===t?void 0:t.comparisonDate)||t||Date().toString(),r=(0,i.default)(n),o=(0,i.default)(e);return!!(o&&r&&o>r)};var r,i=(r=n(2868))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},7892:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(e);var r=e,a=n.ignore;if(a)if(a instanceof RegExp)r=r.replace(a,"");else{if("string"!==typeof a)throw new Error("ignore should be instance of a String or RegExp");r=r.replace(new RegExp("[".concat(a.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"")}if(t in o.alpha)return o.alpha[t].test(r);throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var r,i=(r=n(1284))&&r.__esModule?r:{default:r},o=n(7112);var a=Object.keys(o.alpha);t.locales=a},3468:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(e);var r=e,a=n.ignore;if(a)if(a instanceof RegExp)r=r.replace(a,"");else{if("string"!==typeof a)throw new Error("ignore should be instance of a String or RegExp");r=r.replace(new RegExp("[".concat(a.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"")}if(t in o.alphanumeric)return o.alphanumeric[t].test(r);throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var r,i=(r=n(1284))&&r.__esModule?r:{default:r},o=n(7112);var a=Object.keys(o.alphanumeric);t.locales=a},6883:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^[\x00-\x7F]+$/;e.exports=t.default,e.exports.default=t.default},8872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.slice(4,6).toUpperCase();if(!o.CountryCodes.has(t)&&"XK"!==t)return!1;return a.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r},o=n(8208);var a=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;e.exports=t.default,e.exports.default=t.default},6012:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),(t=(0,i.default)(t,l)).crockford)return s.test(e);if(e.length%8===0&&a.test(e))return!0;return!1};var r=o(n(1284)),i=o(n(900));function o(e){return e&&e.__esModule?e:{default:e}}var a=/^[A-Z2-7]+=*$/,s=/^[A-HJKMNP-TV-Z0-9]+$/,l={crockford:!1};e.exports=t.default,e.exports.default=t.default},3772:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),o.test(e))return!0;return!1};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^[A-HJ-NP-Za-km-z1-9]*$/;e.exports=t.default,e.exports.default=t.default},296:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e),t=(0,i.default)(t,l);var n=e.length;if(t.urlSafe)return s.test(e);if(n%4!==0||a.test(e))return!1;var o=e.indexOf("=");return-1===o||o===n-1||o===n-2&&"="===e[n-1]};var r=o(n(1284)),i=o(n(900));function o(e){return e&&e.__esModule?e:{default:e}}var a=/[^A-Z0-9+\/=]/i,s=/^[A-Z0-9_\-]*$/i,l={urlSafe:!1};e.exports=t.default,e.exports.default=t.default},2440:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,r.default)(e);var n=(0,i.default)(t),o=(0,i.default)(e);return!!(o&&n&&o<n)};var r=o(n(1284)),i=o(n(2868));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},3816:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if((0,i.default)(e),t.loose)return s.includes(e.toLowerCase());return a.includes(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o={loose:!1},a=["true","false","1","0"],s=[].concat(a,["yes","no"]);e.exports=t.default,e.exports.default=t.default},3928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)||a.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^(bc1)[a-z0-9]{25,39}$/,a=/^(1|3)[A-HJ-NP-Za-km-z1-9]{25,39}$/;e.exports=t.default,e.exports.default=t.default},5400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r;(0,i.default)(e),"object"===o(t)?(n=t.min||0,r=t.max):(n=arguments[1],r=arguments[2]);var a=encodeURI(e).split(/%..|./).length-1;return a>=n&&("undefined"===typeof r||a<=r)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}e.exports=t.default,e.exports.default=t.default},1208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(e);var n=t.provider,o=e.replace(/[- ]+/g,"");if(n&&n.toLowerCase()in a){if(!a[n.toLowerCase()].test(o))return!1}else{if(n&&!(n.toLowerCase()in a))throw new Error("".concat(n," is not a valid credit card provider."));if(!s.some((function(e){return e.test(o)})))return!1}return(0,i.default)(e)};var r=o(n(1284)),i=o(n(1308));function o(e){return e&&e.__esModule?e:{default:e}}var a={amex:/^3[47][0-9]{13}$/,dinersclub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9][0-9])[0-9]{12,15}$/,jcb:/^(?:2131|1800|35\d{3})\d{11}$/,mastercard:/^5[1-5][0-9]{2}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/,unionpay:/^(6[27][0-9]{14}|^(81[0-9]{14,17}))$/,visa:/^(?:4[0-9]{12})(?:[0-9]{3,6})?$/},s=function(){var e=[];for(var t in a)a.hasOwnProperty(t)&&e.push(a[t]);return e}();e.exports=t.default,e.exports.default=t.default},3964:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),function(e){var t="\\d{".concat(e.digits_after_decimal[0],"}");e.digits_after_decimal.forEach((function(e,n){0!==n&&(t="".concat(t,"|\\d{").concat(e,"}"))}));var n="(".concat(e.symbol.replace(/\W/,(function(e){return"\\".concat(e)})),")").concat(e.require_symbol?"":"?"),r="-?",i="[1-9]\\d{0,2}(\\".concat(e.thousands_separator,"\\d{3})*"),o="(".concat(["0","[1-9]\\d*",i].join("|"),")?"),a="(\\".concat(e.decimal_separator,"(").concat(t,"))").concat(e.require_decimal?"":"?"),s=o+(e.allow_decimal||e.require_decimal?a:"");e.allow_negatives&&!e.parens_for_negatives&&(e.negative_sign_after_digits?s+=r:e.negative_sign_before_digits&&(s=r+s));e.allow_negative_sign_placeholder?s="( (?!\\-))?".concat(s):e.allow_space_after_symbol?s=" ?".concat(s):e.allow_space_after_digits&&(s+="( (?!$))?");e.symbol_after_digits?s+=n:s=n+s;e.allow_negatives&&(e.parens_for_negatives?s="(\\(".concat(s,"\\)|").concat(s,")"):e.negative_sign_before_digits||e.negative_sign_after_digits||(s=r+s));return new RegExp("^(?!-? )(?=.*\\d)".concat(s,"$"))}(t=(0,r.default)(t,a)).test(e)};var r=o(n(900)),i=o(n(1284));function o(e){return e&&e.__esModule?e:{default:e}}var a={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};e.exports=t.default,e.exports.default=t.default},3824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.split(",");if(t.length<2)return!1;var n=t.shift().trim().split(";"),r=n.shift();if("data:"!==r.slice(0,5))return!1;var l=r.slice(5);if(""!==l&&!o.test(l))return!1;for(var c=0;c<n.length;c++)if((c!==n.length-1||"base64"!==n[c].toLowerCase())&&!a.test(n[c]))return!1;for(var u=0;u<t.length;u++)if(!s.test(t[u]))return!1;return!0};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^[a-z]+\/[a-z0-9\-\+\._]+$/i,a=/^[a-z\-]+=[a-z0-9\-]+$/i,s=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;e.exports=t.default,e.exports.default=t.default},364:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t="string"===typeof t?(0,i.default)({format:t},s):(0,i.default)(t,s);if("string"===typeof e&&(b=t.format,/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(b))){var n,r=t.delimiters.find((function(e){return-1!==t.format.indexOf(e)})),a=t.strictMode?r:t.delimiters.find((function(t){return-1!==e.indexOf(t)})),l=function(e,t){for(var n=[],r=Math.min(e.length,t.length),i=0;i<r;i++)n.push([e[i],t[i]]);return n}(e.split(a),t.format.toLowerCase().split(r)),c={},u=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(l);try{for(u.s();!(n=u.n()).done;){var d=(g=n.value,v=2,function(e){if(Array.isArray(e))return e}(g)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(g,v)||o(g,v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=d[0],h=d[1];if(p.length!==h.length)return!1;c[h.charAt(0)]=p}}catch(y){u.e(y)}finally{u.f()}var f=c.y;if(2===c.y.length){var m=parseInt(c.y,10);if(isNaN(m))return!1;f=m<(new Date).getFullYear()%100?"20".concat(c.y):"19".concat(c.y)}return new Date("".concat(f,"-").concat(c.m,"-").concat(c.d)).getDate()===+c.d}var g,v;var b;if(!t.strictMode)return"[object Date]"===Object.prototype.toString.call(e)&&isFinite(e);return!1};var r,i=(r=n(900))&&r.__esModule?r:{default:r};function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};e.exports=t.default,e.exports.default=t.default},9180:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),(t=(0,r.default)(t,l)).locale in a.decimal)return!(0,o.default)(c,e.replace(/ /g,""))&&function(e){var t=new RegExp("^[-+]?([0-9]+)?(\\".concat(a.decimal[e.locale],"[0-9]{").concat(e.decimal_digits,"})").concat(e.force_decimal?"":"?","$"));return t}(t).test(e);throw new Error("Invalid locale '".concat(t.locale,"'"))};var r=s(n(900)),i=s(n(1284)),o=s(n(6596)),a=n(7112);function s(e){return e&&e.__esModule?e:{default:e}}var l={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},c=["","-","+"];e.exports=t.default,e.exports.default=t.default},9140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),(0,i.default)(e)%parseInt(t,10)===0};var r=o(n(1284)),i=o(n(8135));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},9056:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=Number(e.slice(-1));return s.test(e)&&t===function(e){var t=10-e.slice(0,-1).split("").map((function(t,n){return Number(t)*function(e,t){if(e===o||e===a)return t%2===0?3:1;return t%2===0?1:3}(e.length,n)})).reduce((function(e,t){return e+t}),0)%10;return t<10?t:0}(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=8,a=14,s=/^(\d{8}|\d{13}|\d{14})$/;e.exports=t.default,e.exports.default=t.default},3936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),(t=(0,s.default)(t,c)).require_display_name||t.allow_display_name){var n=e.match(u);if(n){var l=n[1];if(e=e.replace(l,"").replace(/(^<|>$)/g,""),l.endsWith(" ")&&(l=l.slice(0,-1)),!function(e){var t=e.replace(/^"(.+)"$/,"$1");if(!t.trim())return!1;if(/[\.";<>]/.test(t)){if(t===e)return!1;if(!(t.split('"').length===t.split('\\"').length))return!1}return!0}(l))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>g)return!1;var v=e.split("@"),b=v.pop(),y=b.toLowerCase();if(t.host_blacklist.includes(y))return!1;if(t.host_whitelist.length>0&&!t.host_whitelist.includes(y))return!1;var _=v.join("@");if(t.domain_specific_validation&&("gmail.com"===y||"googlemail.com"===y)){var x=(_=_.toLowerCase()).split("+")[0];if(!(0,i.default)(x.replace(/\./g,""),{min:6,max:30}))return!1;for(var w=x.split("."),E=0;E<w.length;E++)if(!p.test(w[E]))return!1}if(!1===t.ignore_max_length&&(!(0,i.default)(_,{max:64})||!(0,i.default)(b,{max:254})))return!1;if(!(0,o.default)(b,{require_tld:t.require_tld,ignore_max_length:t.ignore_max_length,allow_underscores:t.allow_underscores})){if(!t.allow_ip_domain)return!1;if(!(0,a.default)(b)){if(!b.startsWith("[")||!b.endsWith("]"))return!1;var T=b.slice(1,-1);if(0===T.length||!(0,a.default)(T))return!1}}if('"'===_[0])return _=_.slice(1,_.length-1),t.allow_utf8_local_part?m.test(_):h.test(_);for(var C=t.allow_utf8_local_part?f:d,k=_.split("."),S=0;S<k.length;S++)if(!C.test(k[S]))return!1;if(t.blacklisted_chars&&-1!==_.search(new RegExp("[".concat(t.blacklisted_chars,"]+"),"g")))return!1;return!0};var r=l(n(1284)),i=l(n(5400)),o=l(n(6e3)),a=l(n(9900)),s=l(n(900));function l(e){return e&&e.__esModule?e:{default:e}}var c={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},u=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,p=/^[a-z\d]+$/,h=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,g=254;e.exports=t.default,e.exports.default=t.default},680:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),0===((t=(0,i.default)(t,a)).ignore_whitespace?e.trim().length:e.length)};var r=o(n(1284)),i=o(n(900));function o(e){return e&&e.__esModule?e:{default:e}}var a={ignore_whitespace:!1};e.exports=t.default,e.exports.default=t.default},908:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^(0x)[0-9a-f]{40}$/i;e.exports=t.default,e.exports.default=t.default},6e3:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e),(t=(0,i.default)(t,a)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var n=e.split("."),o=n[n.length-1];if(t.require_tld){if(n.length<2)return!1;if(!t.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(o))return!1;if(/\s/.test(o))return!1}if(!t.allow_numeric_tld&&/^\d+$/.test(o))return!1;return n.every((function(e){return!(e.length>63&&!t.ignore_max_length)&&(!!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)&&(!/[\uff01-\uff5e]/.test(e)&&(!/^-|-$/.test(e)&&!(!t.allow_underscores&&/_/.test(e)))))}))};var r=o(n(1284)),i=o(n(900));function o(e){return e&&e.__esModule?e:{default:e}}var a={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};e.exports=t.default,e.exports.default=t.default},9356:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e),t=t||{};var n=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(t.locale?o.decimal[t.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(""===e||"."===e||","===e||"-"===e||"+"===e)return!1;var r=parseFloat(e.replace(",","."));return n.test(e)&&(!t.hasOwnProperty("min")||r>=t.min)&&(!t.hasOwnProperty("max")||r<=t.max)&&(!t.hasOwnProperty("lt")||r<t.lt)&&(!t.hasOwnProperty("gt")||r>t.gt)},t.locales=void 0;var r,i=(r=n(1284))&&r.__esModule?r:{default:r},o=n(7112);var a=Object.keys(o.decimal);t.locales=a},7388:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)},t.fullWidth=void 0;var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;t.fullWidth=o},588:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/gi,"$1");if(-1!==t.indexOf(","))return o.test(t);return a.test(t)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,a=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i;e.exports=t.default,e.exports.default=t.default},8192:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)},t.halfWidth=void 0;var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;t.halfWidth=o},6936:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),new RegExp("^[a-fA-F0-9]{".concat(o[t],"}$")).test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};e.exports=t.default,e.exports.default=t.default},252:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;e.exports=t.default,e.exports.default=t.default},6796:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^(0x|0h)?[0-9A-F]+$/i;e.exports=t.default,e.exports.default=t.default},4891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(e),function(e,t){var n=e.replace(/[\s\-]+/gi,"").toUpperCase(),r=n.slice(0,2).toUpperCase(),i=r in o;if(t.whitelist){if(!function(e){if(e.filter((function(e){return!(e in o)})).length>0)return!1;return!0}(t.whitelist))return!1;if(!t.whitelist.includes(r))return!1}if(t.blacklist){if(t.blacklist.includes(r))return!1}return i&&o[r].test(n)}(e,t)&&function(e){var t=e.replace(/[^A-Z0-9]+/gi,"").toUpperCase();return 1===(t.slice(4)+t.slice(0,4)).replace(/[A-Z]/g,(function(e){return e.charCodeAt(0)-55})).match(/\d{1,7}/g).reduce((function(e,t){return Number(e+t)%97}),"")}(e)},t.locales=void 0;var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z0-9]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MA:/^(MA[0-9]{26})$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z0-9]{4}\d{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z0-9]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/};var a=Object.keys(o);t.locales=a},3292:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var n=o;(t=t||{}).allow_hyphens&&(n=a);if(!n.test(e))return!1;e=e.replace(/-/g,"");for(var r=0,s=2,l=0;l<14;l++){var c=e.substring(14-l-1,14-l),u=parseInt(c,10)*s;r+=u>=10?u%10+1:u,1===s?s+=1:s-=1}if((10-r%10)%10!==parseInt(e.substring(14,15),10))return!1;return!0};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^[0-9]{15}$/,a=/^\d{2}-\d{6}-\d{6}-\d{1}$/;e.exports=t.default,e.exports.default=t.default},9900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,i.default)(t),!(n=String(n)))return e(t,4)||e(t,6);if("4"===n)return s.test(t);if("6"===n)return c.test(t);return!1};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",a="(".concat(o,"[.]){3}").concat(o),s=new RegExp("^".concat(a,"$")),l="(?:[0-9a-fA-F]{1,4})",c=new RegExp("^("+"(?:".concat(l,":){7}(?:").concat(l,"|:)|")+"(?:".concat(l,":){6}(?:").concat(a,"|:").concat(l,"|:)|")+"(?:".concat(l,":){5}(?::").concat(a,"|(:").concat(l,"){1,2}|:)|")+"(?:".concat(l,":){4}(?:(:").concat(l,"){0,1}:").concat(a,"|(:").concat(l,"){1,3}|:)|")+"(?:".concat(l,":){3}(?:(:").concat(l,"){0,2}:").concat(a,"|(:").concat(l,"){1,4}|:)|")+"(?:".concat(l,":){2}(?:(:").concat(l,"){0,3}:").concat(a,"|(:").concat(l,"){1,5}|:)|")+"(?:".concat(l,":){1}(?:(:").concat(l,"){0,4}:").concat(a,"|(:").concat(l,"){1,6}|:)|")+"(?::((?::".concat(l,"){0,5}:").concat(a,"|(?::").concat(l,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");e.exports=t.default,e.exports.default=t.default},3504:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,r.default)(e);var n=e.split("/");if(2!==n.length)return!1;if(!a.test(n[1]))return!1;if(n[1].length>1&&n[1].startsWith("0"))return!1;if(!(0,i.default)(n[0],t))return!1;var o=null;switch(String(t)){case"4":o=s;break;case"6":o=l;break;default:o=(0,i.default)(n[0],"6")?l:s}return n[1]<=o&&n[1]>=0};var r=o(n(1284)),i=o(n(9900));function o(e){return e&&e.__esModule?e:{default:e}}var a=/^\d{1,3}$/,s=32,l=128;e.exports=t.default,e.exports.default=t.default},4020:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){(0,i.default)(t);var r=String((null===n||void 0===n?void 0:n.version)||n);if(!(null!==n&&void 0!==n&&n.version||n))return e(t,{version:10})||e(t,{version:13});var l=t.replace(/[\s-]+/g,""),c=0;if("10"===r){if(!o.test(l))return!1;for(var u=0;u<r-1;u++)c+=(u+1)*l.charAt(u);if("X"===l.charAt(9)?c+=100:c+=10*l.charAt(9),c%11===0)return!0}else if("13"===r){if(!a.test(l))return!1;for(var d=0;d<12;d++)c+=s[d%2]*l.charAt(d);if(l.charAt(12)-(10-c%10)%10===0)return!0}return!1};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^(?:[0-9]{9}X|[0-9]{10})$/,a=/^(?:[0-9]{13})$/,s=[1,3];e.exports=t.default,e.exports.default=t.default},696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),!o.test(e))return!1;for(var t=!0,n=0,r=e.length-2;r>=0;r--)if(e[r]>="A"&&e[r]<="Z")for(var a=e[r].charCodeAt(0)-55,s=0,l=[a%10,Math.trunc(a/10)];s<l.length;s++){var c=l[s];n+=t?c>=5?1+2*(c-5):2*c:c,t=!t}else{var u=e[r].charCodeAt(0)-"0".charCodeAt(0);n+=t?u>=5?1+2*(u-5):2*u:u,t=!t}var d=10*Math.trunc((n+9)/10)-n;return+e[e.length-1]===d};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;e.exports=t.default,e.exports.default=t.default},8208:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.has(e.toUpperCase())},t.CountryCodes=void 0;var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]);var a=o;t.CountryCodes=a},8496:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.has(e.toUpperCase())};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]);e.exports=t.default,e.exports.default=t.default},4311:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.has(e.toUpperCase())},t.CurrencyCodes=void 0;var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]);var a=o;t.CurrencyCodes=a},9336:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isISO6346=s,t.isFreightContainerID=void 0;var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^[A-Z]{3}(U[0-9]{7})|([J,Z][0-9]{6,7})$/,a=/^[0-9]$/;function s(e){if((0,i.default)(e),e=e.toUpperCase(),!o.test(e))return!1;if(11===e.length){for(var t=0,n=0;n<e.length-1;n++)if(a.test(e[n]))t+=e[n]*Math.pow(2,n);else{var r=e.charCodeAt(n)-55;t+=(r<11?r:r>=11&&r<=20?12+r%11:r>=21&&r<=30?23+r%21:34+r%31)*Math.pow(2,n)}var s=t%11;return Number(e[e.length-1])===s}return!0}var l=s;t.isFreightContainerID=l},3544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.has(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=new Set(["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"]);e.exports=t.default,e.exports.default=t.default},4204:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(e);var n=t.strictSeparator?a.test(e):o.test(e);return n&&t.strict?s(e):n};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,a=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,s=function(e){var t=e.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(t){var n=Number(t[1]),r=Number(t[2]);return n%4===0&&n%100!==0||n%400===0?r<=366:r<=365}var i=e.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),o=i[1],a=i[2],s=i[3],l=a?"0".concat(a).slice(-2):a,c=s?"0".concat(s).slice(-2):s,u=new Date("".concat(o,"-").concat(l||"01","-").concat(c||"01"));return!a||!s||u.getUTCFullYear()===o&&u.getUTCMonth()+1===a&&u.getUTCDate()===s};e.exports=t.default,e.exports.default=t.default},5524:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;e.exports=t.default,e.exports.default=t.default},5152:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(e);var n=o;if(n=t.require_hyphen?n.replace("?",""):n,!(n=t.case_sensitive?new RegExp(n):new RegExp(n,"i")).test(e))return!1;for(var r=e.replace("-","").toUpperCase(),a=0,s=0;s<r.length;s++){var l=r[s];a+=("X"===l?10:+l)*(8-s)}return a%11===0};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o="^\\d{4}-?\\d{3}[\\dX]$";e.exports=t.default,e.exports.default=t.default},6184:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t in a)return a[t](e);if("any"===t){for(var n in a){if(a.hasOwnProperty(n))if((0,a[n])(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))};var r=o(n(1284)),i=o(n(9272));function o(e){return e&&e.__esModule?e:{default:e}}var a={PL:function(e){(0,r.default)(e);var t={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(null!=e&&11===e.length&&(0,i.default)(e,{allow_leading_zeroes:!0})){var n=e.split("").slice(0,-1).reduce((function(e,n,r){return e+Number(n)*t[r+1]}),0)%10,o=Number(e.charAt(e.length-1));if(0===n&&0===o||o===10-n)return!0}return!1},ES:function(e){(0,r.default)(e);var t={X:0,Y:1,Z:2},n=e.trim().toUpperCase();if(!/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/.test(n))return!1;var i=n.slice(0,-1).replace(/[X,Y,Z]/g,(function(e){return t[e]}));return n.endsWith(["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][i%23])},FI:function(e){if((0,r.default)(e),11!==e.length)return!1;if(!e.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/))return!1;return"0123456789ABCDEFHJKLMNPRSTUVWXY"[(1e3*parseInt(e.slice(0,6),10)+parseInt(e.slice(7,10),10))%31]===e.slice(10,11)},IN:function(e){var t=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],n=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],r=e.trim();if(!/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/.test(r))return!1;var i=0;return r.replace(/\s/g,"").split("").map(Number).reverse().forEach((function(e,r){i=t[i][n[r%8][e]]})),0===i},IR:function(e){if(!e.match(/^\d{10}$/))return!1;if(e="0000".concat(e).slice(e.length-6),0===parseInt(e.slice(3,9),10))return!1;for(var t=parseInt(e.slice(9,10),10),n=0,r=0;r<9;r++)n+=parseInt(e.slice(r,r+1),10)*(10-r);return(n%=11)<2&&t===n||n>=2&&t===11-n},IT:function(e){return 9===e.length&&("CA00000AA"!==e&&e.search(/C[A-Z][0-9]{5}[A-Z]{2}/i)>-1)},NO:function(e){var t=e.trim();if(isNaN(Number(t)))return!1;if(11!==t.length)return!1;if("00000000000"===t)return!1;var n=t.split("").map(Number),r=(11-(3*n[0]+7*n[1]+6*n[2]+1*n[3]+8*n[4]+9*n[5]+4*n[6]+5*n[7]+2*n[8])%11)%11,i=(11-(5*n[0]+4*n[1]+3*n[2]+2*n[3]+7*n[4]+6*n[5]+5*n[6]+4*n[7]+3*n[8]+2*r)%11)%11;return r===n[9]&&i===n[10]},TH:function(e){if(!e.match(/^[1-8]\d{12}$/))return!1;for(var t=0,n=0;n<12;n++)t+=parseInt(e[n],10)*(13-n);return e[12]===((11-t%11)%10).toString()},LK:function(e){return!(10!==e.length||!/^[1-9]\d{8}[vx]$/i.test(e))||!(12!==e.length||!/^[1-9]\d{11}$/i.test(e))},"he-IL":function(e){var t=e.trim();if(!/^\d{9}$/.test(t))return!1;for(var n,r=t,i=0,o=0;o<r.length;o++)i+=(n=Number(r[o])*(o%2+1))>9?n-9:n;return i%10===0},"ar-LY":function(e){var t=e.trim();return!!/^(1|2)\d{11}$/.test(t)},"ar-TN":function(e){var t=e.trim();return!!/^\d{8}$/.test(t)},"zh-CN":function(e){var t,n=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],r=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],i=["1","0","X","9","8","7","6","5","4","3","2"],o=function(e){return n.includes(e)},a=function(e){var t=parseInt(e.substring(0,4),10),n=parseInt(e.substring(4,6),10),r=parseInt(e.substring(6),10),i=new Date(t,n-1,r);return!(i>new Date)&&(i.getFullYear()===t&&i.getMonth()===n-1&&i.getDate()===r)},s=function(e){return function(e){for(var t=e.substring(0,17),n=0,o=0;o<17;o++)n+=parseInt(t.charAt(o),10)*parseInt(r[o],10);return i[n%11]}(e)===e.charAt(17).toUpperCase()};return!!/^\d{15}|(\d{17}(\d|x|X))$/.test(t=e)&&(15===t.length?function(e){var t=/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(e);if(!t)return!1;var n=e.substring(0,2);if(!(t=o(n)))return!1;var r="19".concat(e.substring(6,12));return!!(t=a(r))}(t):function(e){var t=/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(e);if(!t)return!1;var n=e.substring(0,2);if(!(t=o(n)))return!1;var r=e.substring(6,14);return!!(t=a(r))&&s(e)}(t))},"zh-HK":function(e){var t=/^[0-9]$/;if(e=(e=e.trim()).toUpperCase(),!/^[A-Z]{1,2}[0-9]{6}((\([0-9A]\))|(\[[0-9A]\])|([0-9A]))$/.test(e))return!1;8===(e=e.replace(/\[|\]|\(|\)/g,"")).length&&(e="3".concat(e));for(var n=0,r=0;r<=7;r++){n+=(t.test(e[r])?e[r]:(e[r].charCodeAt(0)-55)%11)*(9-r)}return(0===(n%=11)?"0":1===n?"A":String(11-n))===e[e.length-1]},"zh-TW":function(e){var t={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},n=e.trim().toUpperCase();return!!/^[A-Z][0-9]{9}$/.test(n)&&Array.from(n).reduce((function(e,n,r){if(0===r){var i=t[n];return i%10*9+Math.floor(i/10)}return 9===r?(10-e%10-Number(n))%10===0:e+Number(n)*(9-r)}),0)}};e.exports=t.default,e.exports.default=t.default},1528:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n;if((0,r.default)(e),"[object Array]"===Object.prototype.toString.call(t)){var o=[];for(n in t)({}).hasOwnProperty.call(t,n)&&(o[n]=(0,i.default)(t[n]));return o.indexOf(e)>=0}if("object"===a(t))return t.hasOwnProperty(e);if(t&&"function"===typeof t.indexOf)return t.indexOf(e)>=0;return!1};var r=o(n(1284)),i=o(n(8984));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}e.exports=t.default,e.exports.default=t.default},9272:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var n=(t=t||{}).hasOwnProperty("allow_leading_zeroes")&&!t.allow_leading_zeroes?o:a,r=!t.hasOwnProperty("min")||e>=t.min,s=!t.hasOwnProperty("max")||e<=t.max,l=!t.hasOwnProperty("lt")||e<t.lt,c=!t.hasOwnProperty("gt")||e>t.gt;return n.test(e)&&r&&s&&l&&c};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,a=/^[-+]?[0-9]+$/;e.exports=t.default,e.exports.default=t.default},5149:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);try{t=(0,i.default)(t,s);var n=[];t.allow_primitives&&(n=[null,!1,!0]);var o=JSON.parse(e);return n.includes(o)||!!o&&"object"===a(o)}catch(l){}return!1};var r=o(n(1284)),i=o(n(900));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s={allow_primitives:!1};e.exports=t.default,e.exports.default=t.default},7464:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=e.split(".");if(3!==t.length)return!1;return t.reduce((function(e,t){return e&&(0,i.default)(t,{urlSafe:!0})}),!0)};var r=o(n(1284)),i=o(n(296));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},8692:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t=(0,i.default)(t,u),!e.includes(","))return!1;var n=e.split(",");if(n[0].startsWith("(")&&!n[1].endsWith(")")||n[1].endsWith(")")&&!n[0].startsWith("("))return!1;if(t.checkDMS)return l.test(n[0])&&c.test(n[1]);return a.test(n[0])&&s.test(n[1])};var r=o(n(1284)),i=o(n(900));function o(e){return e&&e.__esModule?e:{default:e}}var a=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,s=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,l=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,c=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,u={checkDMS:!1};e.exports=t.default,e.exports.default=t.default},7396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r;(0,i.default)(e),"object"===o(t)?(n=t.min||0,r=t.max):(n=arguments[1]||0,r=arguments[2]);var a=e.match(/(\uFE0F|\uFE0E)/g)||[],s=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],l=e.length-a.length-s.length;return l>=n&&("undefined"===typeof r||l<=r)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}e.exports=t.default,e.exports.default=t.default},4288:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t in o)return o[t](e);if("any"===t){for(var n in o){if((0,o[n])(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o={"cs-CZ":function(e){return/^(([ABCDEFHIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(e)},"de-DE":function(e){return/^((A|AA|AB|AC|AE|AH|AK|AM|AN|A\xd6|AP|AS|AT|AU|AW|AZ|B|BA|BB|BC|BE|BF|BH|BI|BK|BL|BM|BN|BO|B\xd6|BS|BT|BZ|C|CA|CB|CE|CO|CR|CW|D|DA|DD|DE|DH|DI|DL|DM|DN|DO|DU|DW|DZ|E|EA|EB|ED|EE|EF|EG|EH|EI|EL|EM|EN|ER|ES|EU|EW|F|FB|FD|FF|FG|FI|FL|FN|FO|FR|FS|FT|F\xdc|FW|FZ|G|GA|GC|GD|GE|GF|GG|GI|GK|GL|GM|GN|G\xd6|GP|GR|GS|GT|G\xdc|GV|GW|GZ|H|HA|HB|HC|HD|HE|HF|HG|HH|HI|HK|HL|HM|HN|HO|HP|HR|HS|HU|HV|HX|HY|HZ|IK|IL|IN|IZ|J|JE|JL|K|KA|KB|KC|KE|KF|KG|KH|KI|KK|KL|KM|KN|KO|KR|KS|KT|KU|KW|KY|L|LA|LB|LC|LD|LF|LG|LH|LI|LL|LM|LN|L\xd6|LP|LR|LU|M|MA|MB|MC|MD|ME|MG|MH|MI|MK|ML|MM|MN|MO|MQ|MR|MS|M\xdc|MW|MY|MZ|N|NB|ND|NE|NF|NH|NI|NK|NM|N\xd6|NP|NR|NT|NU|NW|NY|NZ|OA|OB|OC|OD|OE|OF|OG|OH|OK|OL|OP|OS|OZ|P|PA|PB|PE|PF|PI|PL|PM|PN|PR|PS|PW|PZ|R|RA|RC|RD|RE|RG|RH|RI|RL|RM|RN|RO|RP|RS|RT|RU|RV|RW|RZ|S|SB|SC|SE|SG|SI|SK|SL|SM|SN|SO|SP|SR|ST|SU|SW|SY|SZ|TE|TF|TG|TO|TP|TR|TS|TT|T\xdc|\xdcB|UE|UH|UL|UM|UN|V|VB|VG|VK|VR|VS|W|WA|WB|WE|WF|WI|WK|WL|WM|WN|WO|WR|WS|WT|W\xdc|WW|WZ|Z|ZE|ZI|ZP|ZR|ZW|ZZ)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(ABG|ABI|AIB|AIC|ALF|ALZ|ANA|ANG|ANK|APD|ARN|ART|ASL|ASZ|AUR|AZE|BAD|BAR|BBG|BCH|BED|BER|BGD|BGL|BID|BIN|BIR|BIT|BIW|BKS|BLB|BLK|BNA|BOG|BOH|BOR|BOT|BRA|BRB|BRG|BRK|BRL|BRV|BSB|BSK|BTF|B\xdcD|BUL|B\xdcR|B\xdcS|B\xdcZ|CAS|CHA|CLP|CLZ|COC|COE|CUX|DAH|DAN|DAU|DBR|DEG|DEL|DGF|DIL|DIN|DIZ|DKB|DLG|DON|DUD|D\xdcW|EBE|EBN|EBS|ECK|EIC|EIL|EIN|EIS|EMD|EMS|ERB|ERH|ERK|ERZ|ESB|ESW|FDB|FDS|FEU|FFB|FKB|FL\xd6|FOR|FRG|FRI|FRW|FTL|F\xdcS|GAN|GAP|GDB|GEL|GEO|GER|GHA|GHC|GLA|GMN|GNT|GOA|GOH|GRA|GRH|GRI|GRM|GRZ|GTH|GUB|GUN|GVM|HAB|HAL|HAM|HAS|HBN|HBS|HCH|HDH|HDL|HEB|HEF|HEI|HER|HET|HGN|HGW|HHM|HIG|HIP|HM\xdc|HOG|HOH|HOL|HOM|HOR|H\xd6S|HOT|HRO|HSK|HST|HVL|HWI|IGB|ILL|J\xdcL|KEH|KEL|KEM|KIB|KLE|KLZ|K\xd6N|K\xd6T|K\xd6Z|KRU|K\xdcN|KUS|KYF|LAN|LAU|LBS|LBZ|LDK|LDS|LEO|LER|LEV|LIB|LIF|LIP|L\xd6B|LOS|LRO|LSZ|L\xdcN|LUP|LWL|MAB|MAI|MAK|MAL|MED|MEG|MEI|MEK|MEL|MER|MET|MGH|MGN|MHL|MIL|MKK|MOD|MOL|MON|MOS|MSE|MSH|MSP|MST|MTK|MTL|M\xdcB|M\xdcR|MYK|MZG|NAB|NAI|NAU|NDH|NEA|NEB|NEC|NEN|NES|NEW|NMB|NMS|NOH|NOL|NOM|NOR|NVP|NWM|OAL|OBB|OBG|OCH|OHA|\xd6HR|OHV|OHZ|OPR|OSL|OVI|OVL|OVP|PAF|PAN|PAR|PCH|PEG|PIR|PL\xd6|PR\xdc|QFT|QLB|RDG|REG|REH|REI|RID|RIE|ROD|ROF|ROK|ROL|ROS|ROT|ROW|RSL|R\xdcD|R\xdcG|SAB|SAD|SAN|SAW|SBG|SBK|SCZ|SDH|SDL|SDT|SEB|SEE|SEF|SEL|SFB|SFT|SGH|SHA|SHG|SHK|SHL|SIG|SIM|SLE|SLF|SLK|SLN|SLS|SL\xdc|SLZ|SM\xdc|SOB|SOG|SOK|S\xd6M|SON|SPB|SPN|SRB|SRO|STA|STB|STD|STE|STL|SUL|S\xdcW|SWA|SZB|TBB|TDO|TET|TIR|T\xd6L|TUT|UEM|UER|UFF|USI|VAI|VEC|VER|VIB|VIE|VIT|VOH|WAF|WAK|WAN|WAR|WAT|WBS|WDA|WEL|WEN|WER|WES|WHV|WIL|WIS|WIT|WIZ|WLG|WMS|WND|WOB|WOH|WOL|WOR|WOS|WRN|WSF|WST|WSW|WTL|WTM|WUG|W\xdcM|WUN|WUR|WZL|ZEL|ZIG)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(e)},"de-LI":function(e){return/^FL[- ]?\d{1,5}[UZ]?$/.test(e)},"en-IN":function(e){return/^[A-Z]{2}[ -]?[0-9]{1,2}(?:[ -]?[A-Z])(?:[ -]?[A-Z]*)?[ -]?[0-9]{4}$/.test(e)},"es-AR":function(e){return/^(([A-Z]{2} ?[0-9]{3} ?[A-Z]{2})|([A-Z]{3} ?[0-9]{3}))$/.test(e)},"fi-FI":function(e){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(e)},"hu-HU":function(e){return/^((((?!AAA)(([A-NPRSTVZWXY]{1})([A-PR-Z]{1})([A-HJ-NPR-Z]))|(A[ABC]I)|A[ABC]O|A[A-W]Q|BPI|BPO|UCO|UDO|XAO)-(?!000)\d{3})|(M\d{6})|((CK|DT|CD|HC|H[ABEFIKLMNPRSTVX]|MA|OT|R[A-Z]) \d{2}-\d{2})|(CD \d{3}-\d{3})|(C-(C|X) \d{4})|(X-(A|B|C) \d{4})|(([EPVZ]-\d{5}))|(S A[A-Z]{2} \d{2})|(SP \d{2}-\d{2}))$/.test(e)},"pt-BR":function(e){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(e)},"pt-PT":function(e){return/^([A-Z]{2}|[0-9]{2})[ -\xb7]?([A-Z]{2}|[0-9]{2})[ -\xb7]?([A-Z]{2}|[0-9]{2})$/.test(e)},"sq-AL":function(e){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(e)},"sv-SE":function(e){return/^[A-HJ-PR-UW-Z]{3} ?[\d]{2}[A-HJ-PR-UW-Z1-9]$|(^[A-Z\xc5\xc4\xd6 ]{2,7}$)/.test(e.trim())}};e.exports=t.default,e.exports.default=t.default},6234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),d.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o="(([a-zA-Z]{2,3}(-".concat("([A-Za-z]{3}(-[A-Za-z]{3}){0,2})",")?)|([a-zA-Z]{5,8}))"),a="(".concat("(\\d|[A-W]|[Y-Z]|[a-w]|[y-z])","(-[A-Za-z0-9]{2,8})+)"),s="(x(-[A-Za-z0-9]{1,8})+)",l="(".concat("((en-GB-oed)|(i-ami)|(i-bnn)|(i-default)|(i-enochian)|(i-hak)|(i-klingon)|(i-lux)|(i-mingo)|(i-navajo)|(i-pwn)|(i-tao)|(i-tay)|(i-tsu)|(sgn-BE-FR)|(sgn-BE-NL)|(sgn-CH-DE))","|").concat("((art-lojban)|(cel-gaulish)|(no-bok)|(no-nyn)|(zh-guoyu)|(zh-hakka)|(zh-min)|(zh-min-nan)|(zh-xiang))",")"),c="(-|_)",u="".concat(o,"(").concat(c).concat("([A-Za-z]{4})",")?(").concat(c).concat("([A-Za-z]{2}|\\d{3})",")?(").concat(c).concat("([A-Za-z0-9]{5,8}|(\\d[A-Z-a-z0-9]{3}))",")*(").concat(c).concat(a,")*(").concat(c).concat(s,")?"),d=new RegExp("(^".concat(s,"$)|(^").concat(l,"$)|(^").concat(u,"$)"));e.exports=t.default,e.exports.default=t.default},5755:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e===e.toLowerCase()};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},1308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);for(var t,n,r,o=e.replace(/[- ]+/g,""),a=0,s=o.length-1;s>=0;s--)t=o.substring(s,s+1),n=parseInt(t,10),a+=r&&(n*=2)>=10?n%10+1:n,r=!r;return!(a%10!==0||!o)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},2912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){(0,i.default)(t),null!==n&&void 0!==n&&n.eui&&(n.eui=String(n.eui));if(null!==n&&void 0!==n&&n.no_colons||null!==n&&void 0!==n&&n.no_separators)return"48"===n.eui?a.test(t):"64"===n.eui?c.test(t):a.test(t)||c.test(t);if("48"===(null===n||void 0===n?void 0:n.eui))return o.test(t)||s.test(t);if("64"===(null===n||void 0===n?void 0:n.eui))return l.test(t)||u.test(t);return e(t,{eui:"48"})||e(t,{eui:"64"})};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,a=/^([0-9a-fA-F]){12}$/,s=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/,l=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){6}([0-9a-fA-F]{2})$/,c=/^([0-9a-fA-F]){16}$/,u=/^([0-9a-fA-F]{4}\.){3}([0-9a-fA-F]{4})$/;e.exports=t.default,e.exports.default=t.default},9068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^[a-f0-9]{32}$/;e.exports=t.default,e.exports.default=t.default},7188:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),0!==e.indexOf("magnet:?"))return!1;return o.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/(?:^magnet:\?|[^?&]&)xt(?:\.1)?=urn:(?:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?|btmh:1220[a-z0-9]{64})(?:$|&)/i;e.exports=t.default,e.exports.default=t.default},9880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,o.default)(e),0!==e.indexOf("mailto:"))return!1;var n=s(e.replace("mailto:","").split("?"),2),a=n[0],c=void 0===a?"":a,u=n[1],d=void 0===u?"":u;if(!c&&!d)return!0;var p=function(e){var t=new Set(["subject","body","cc","bcc"]),n={cc:"",bcc:""},r=!1,i=e.split("&");if(i.length>4)return!1;var o,a=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(i);try{for(a.s();!(o=a.n()).done;){var c=s(o.value.split("="),2),u=c[0],d=c[1];if(u&&!t.has(u)){r=!0;break}!d||"cc"!==u&&"bcc"!==u||(n[u]=d),u&&t.delete(u)}}catch(p){a.e(p)}finally{a.f()}return!r&&n}(d);if(!p)return!1;return"".concat(c,",").concat(p.cc,",").concat(p.bcc).split(",").every((function(e){return!(e=(0,r.default)(e," "))||(0,i.default)(e,t)}))};var r=a(n(4592)),i=a(n(3936)),o=a(n(1284));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=t.default,e.exports.default=t.default},1640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)||a.test(e)||s.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+_]{1,100}$/i,a=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,s=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;e.exports=t.default,e.exports.default=t.default},2240:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if((0,i.default)(e),n&&n.strictMode&&!e.startsWith("+"))return!1;if(Array.isArray(t))return t.some((function(t){if(o.hasOwnProperty(t)&&o[t].test(e))return!0;return!1}));if(t in o)return o[t].test(e);if(!t||"any"===t){for(var r in o){if(o.hasOwnProperty(r))if(o[r].test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o={"am-AM":/^(\+?374|0)((10|[9|7][0-9])\d{6}$|[2-4]\d{7}$)/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)([569]\d{7}|41\d{6})$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SD":/^((\+?249)|0)?(9[012369]|1[012])\d{7}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(10|5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)1)(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|9[1-9])\d{5}$/,"el-GR":/^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,"el-CY":/^(\+?357?)?(9(9|6)\d{6})$/,"en-AI":/^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-AG":/^(?:\+1|1)268(?:464|7(?:1[3-9]|[28]\d|3[0246]|64|7[0-689]))\d{4}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}$))/,"en-BS":/^(\+?1[-\s]?|0)?\(?242\)?[-\s]?\d{3}[-\s]?\d{4}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-JM":/^(\+?876)?\d{7}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"fr-CF":/^(\+?236| ?)(70|75|77|72|21|22)\d{6}$/,"en-SS":/^(\+?211|0)(9[1257])\d{7}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-KN":/^(?:\+1|1)869(?:46\d|48[89]|55[6-8]|66\d|76[02-7])\d{4}$/,"en-LS":/^(\+?266)(22|28|57|58|59|27|52)\d{6}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PG":/^(\+?675|0)?(7\d|8[18])\d{6}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8|3|2]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-NI":/^(\+?505)\d{7,8}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4[0-6]|50)\s?(\d\s?){4,8}$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-BJ":/^(\+229)\d{8}$/,"fr-CD":/^(\+?243|0)?(8|9)\d{8}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"fr-WF":/^(\+681)?\d{6}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"ir-IR":/^(\+98|0)?9\d{9}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(79\d{7}|5\d{8})$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"ky-KG":/^(\+?7\s?\+?7|0)\s?\d{2}\s?\d{3}\s?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"mg-MG":/^((\+?261|0)(2|3)\d)?\d{7}$/,"mn-MN":/^(\+|00|011)?976(77|81|88|91|94|95|96|99)\d{6}$/,"my-MM":/^(\+?959|09|9)(2[5-7]|3[1-2]|4[0-5]|6[6-9]|7[5-9]|9[6-9])[0-9]{7}$/,"ms-MY":/^(\+?60|0)1(([0145](-|\s)?\d{7,8})|([236-9](-|\s)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nl-AW":/^(\+)?297(56|59|64|73|74|99)\d{5}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?([5-8]\d|45) ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-MD":/^(\+?373|0)((6(0|1|2|6|7|8|9))|(7(6|7|8|9)))\d{6}$/,"ro-RO":/^(\+?40|0)\s?7\d{2}(\/|\s|\.|-)?\d{3}(\s|\.|-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"so-SO":/^(\+?252|0)((6[0-9])\d{7}|(7[1-9])\d{7})$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/,"ar-YE":/^(((\+|00)9677|0?7)[0137]\d{7}|((\+|00)967|0)[1-7]\d{6})$/,"ar-EH":/^(\+?212|0)[\s\-]?(5288|5289)[\s\-]?\d{5}$/,"fa-AF":/^(\+93|0)?(2{1}[0-8]{1}|[3-5]{1}[0-4]{1})(\d{7})$/};o["en-CA"]=o["en-US"],o["fr-CA"]=o["en-CA"],o["fr-BE"]=o["nl-BE"],o["zh-HK"]=o["en-HK"],o["zh-MO"]=o["en-MO"],o["ga-IE"]=o["en-IE"],o["fr-CH"]=o["de-CH"],o["it-CH"]=o["fr-CH"];var a=Object.keys(o);t.locales=a},1981:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),(0,i.default)(e)&&24===e.length};var r=o(n(1284)),i=o(n(6796));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},6724:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/[^\x00-\x7F]/;e.exports=t.default,e.exports.default=t.default},2192:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t&&t.no_symbols)return a.test(e);return new RegExp("^[+-]?([0-9]*[".concat((t||{}).locale?o.decimal[t.locale]:".","])?[0-9]+$")).test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r},o=n(7112);var a=/^[0-9]+$/;e.exports=t.default,e.exports.default=t.default},240:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^(0o)?[0-7]+$/i;e.exports=t.default,e.exports.default=t.default},4236:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var n=e.replace(/\s/g,"").toUpperCase();return t.toUpperCase()in o&&o[t].test(n)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,AZ:/^[A-Z]{2,3}\d{7,8}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JM:/^[Aa]\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,KZ:/^[a-zA-Z]\d{7}$/,LI:/^[a-zA-Z]\d{5}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,MX:/^\d{10,11}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,NZ:/^([Ll]([Aa]|[Dd]|[Ff]|[Hh])|[Ee]([Aa]|[Pp])|[Nn])\d{6}$/,PH:/^([A-Z](\d{6}|\d{7}[A-Z]))|([A-Z]{2}(\d{6}|\d{7}))$/,PK:/^[A-Z]{2}\d{7}$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TH:/^[A-Z]{1,2}\d{6,7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$/};e.exports=t.default,e.exports.default=t.default},4532:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e,{min:0,max:65535})};var r,i=(r=n(9272))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},5568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t in c)return c[t].test(e);if("any"===t){for(var n in c){if(c.hasOwnProperty(n))if(c[n].test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^\d{3}$/,a=/^\d{4}$/,s=/^\d{5}$/,l=/^\d{6}$/,c={AD:/^AD\d{3}$/,AT:a,AU:a,AZ:/^AZ\d{4}$/,BA:/^([7-8]\d{4}$)/,BE:a,BG:a,BR:/^\d{5}-\d{3}$/,BY:/^2[1-4]\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:a,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CZ:/^\d{3}\s?\d{2}$/,DE:s,DK:a,DO:s,DZ:s,EE:s,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:s,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:a,ID:s,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/^(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}$/,IS:o,IT:s,JP:/^\d{3}\-\d{4}$/,KE:s,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:a,LV:/^LV\-\d{4}$/,LK:s,MG:o,MX:s,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:s,NL:/^\d{4}\s?[a-z]{2}$/i,NO:a,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:a,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:l,RU:l,SA:s,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:l,SI:a,SK:/^\d{3}\s?\d{2}$/,TH:s,TN:a,TW:/^\d{3}(\d{2})?$/,UA:s,US:/^\d{5}(-\d{4})?$/,ZA:a,ZM:s},u=Object.keys(c);t.locales=u},1188:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),p.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/([01][0-9]|2[0-3])/,a=/[0-5][0-9]/,s=new RegExp("[-+]".concat(o.source,":").concat(a.source)),l=new RegExp("([zZ]|".concat(s.source,")")),c=new RegExp("".concat(o.source,":").concat(a.source,":").concat(/([0-5][0-9]|60)/.source).concat(/(\.[0-9]+)?/.source)),u=new RegExp("".concat(/[0-9]{4}/.source,"-").concat(/(0[1-9]|1[0-2])/.source,"-").concat(/([12]\d|0[1-9]|3[01])/.source)),d=new RegExp("".concat(c.source).concat(l.source)),p=new RegExp("^".concat(u.source,"[ tT]").concat(d.source,"$"));e.exports=t.default,e.exports.default=t.default},8996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((0,i.default)(e),!t)return o.test(e)||a.test(e);return o.test(e)||a.test(e)||s.test(e)||l.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,a=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,s=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)$/,l=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/;e.exports=t.default,e.exports.default=t.default},7780:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),o.test(e)};var r=i(n(1284));function i(e){return e&&e.__esModule?e:{default:e}}var o=(0,i(n(6104)).default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");e.exports=t.default,e.exports.default=t.default},8620:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;e.exports=t.default,e.exports.default=t.default},7192:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,i.default)(e);var n=function(e){var t=function(e){var t={};return Array.from(e).forEach((function(e){t[e]?t[e]+=1:t[e]=1})),t}(e),n={length:e.length,uniqueChars:Object.keys(t).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0};return Object.keys(t).forEach((function(e){a.test(e)?n.uppercaseCount+=t[e]:s.test(e)?n.lowercaseCount+=t[e]:l.test(e)?n.numberCount+=t[e]:c.test(e)&&(n.symbolCount+=t[e])})),n}(e);if((t=(0,r.default)(t||{},u)).returnScore)return function(e,t){var n=0;n+=e.uniqueChars*t.pointsPerUnique,n+=(e.length-e.uniqueChars)*t.pointsPerRepeat,e.lowercaseCount>0&&(n+=t.pointsForContainingLower);e.uppercaseCount>0&&(n+=t.pointsForContainingUpper);e.numberCount>0&&(n+=t.pointsForContainingNumber);e.symbolCount>0&&(n+=t.pointsForContainingSymbol);return n}(n,t);return n.length>=t.minLength&&n.lowercaseCount>=t.minLowercase&&n.uppercaseCount>=t.minUppercase&&n.numberCount>=t.minNumbers&&n.symbolCount>=t.minSymbols};var r=o(n(900)),i=o(n(1284));function o(e){return e&&e.__esModule?e:{default:e}}var a=/^[A-Z]$/,s=/^[a-z]$/,l=/^[0-9]$/,c=/^[-#!$@\xa3%^&*()_+|~=`{}\[\]:";'<>?,.\/ ]$/,u={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};e.exports=t.default,e.exports.default=t.default},2224:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;e.exports=t.default,e.exports.default=t.default},1860:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";(0,i.default)(e);var n=e.slice(0);if(t in h)return t in g&&(n=n.replace(g[t],"")),!!h[t].test(n)&&(!(t in f)||f[t](n));throw new Error("Invalid locale '".concat(t,"'"))};var i=l(n(1284)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(228)),a=l(n(364));function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function p(e){for(var t=!1,n=!1,r=0;r<3;r++)if(!t&&/[AEIOU]/.test(e[r]))t=!0;else if(!n&&t&&"X"===e[r])n=!0;else if(r>0){if(t&&!n&&!/[AEIOU]/.test(e[r]))return!1;if(n&&!/X/.test(e[r]))return!1}return!0}var h={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-CA":/^\d{9}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/};h["lb-LU"]=h["fr-LU"],h["lt-LT"]=h["et-EE"],h["nl-BE"]=h["fr-BE"],h["fr-CA"]=h["en-CA"];var f={"bg-BG":function(e){var t=e.slice(0,2),n=parseInt(e.slice(2,4),10);n>40?(n-=40,t="20".concat(t)):n>20?(n-=20,t="18".concat(t)):t="19".concat(t),n<10&&(n="0".concat(n));var r="".concat(t,"/").concat(n,"/").concat(e.slice(4,6));if(!(0,a.default)(r,"YYYY/MM/DD"))return!1;for(var i=e.split("").map((function(e){return parseInt(e,10)})),o=[2,4,8,5,10,9,7,3,6],s=0,l=0;l<o.length;l++)s+=i[l]*o[l];return(s=s%11===10?0:s%11)===i[9]},"cs-CZ":function(e){e=e.replace(/\W/,"");var t=parseInt(e.slice(0,2),10);if(10===e.length)t=t<54?"20".concat(t):"19".concat(t);else{if("000"===e.slice(6))return!1;if(!(t<54))return!1;t="19".concat(t)}3===t.length&&(t=[t.slice(0,2),"0",t.slice(2)].join(""));var n=parseInt(e.slice(2,4),10);if(n>50&&(n-=50),n>20){if(parseInt(t,10)<2004)return!1;n-=20}n<10&&(n="0".concat(n));var r="".concat(t,"/").concat(n,"/").concat(e.slice(4,6));if(!(0,a.default)(r,"YYYY/MM/DD"))return!1;if(10===e.length&&parseInt(e,10)%11!==0){var i=parseInt(e.slice(0,9),10)%11;if(!(parseInt(t,10)<1986&&10===i))return!1;if(0!==parseInt(e.slice(9),10))return!1}return!0},"de-AT":function(e){return o.luhnCheck(e)},"de-DE":function(e){for(var t=e.split("").map((function(e){return parseInt(e,10)})),n=[],r=0;r<t.length-1;r++){n.push("");for(var i=0;i<t.length-1;i++)t[r]===t[i]&&(n[r]+=i)}if(2!==(n=n.filter((function(e){return e.length>1}))).length&&3!==n.length)return!1;if(3===n[0].length){for(var a=n[0].split("").map((function(e){return parseInt(e,10)})),s=0,l=0;l<a.length-1;l++)a[l]+1===a[l+1]&&(s+=1);if(2===s)return!1}return o.iso7064Check(e)},"dk-DK":function(e){e=e.replace(/\W/,"");var t=parseInt(e.slice(4,6),10);switch(e.slice(6,7)){case"0":case"1":case"2":case"3":t="19".concat(t);break;case"4":case"9":t=t<37?"20".concat(t):"19".concat(t);break;default:if(t<37)t="20".concat(t);else{if(!(t>58))return!1;t="18".concat(t)}}3===t.length&&(t=[t.slice(0,2),"0",t.slice(2)].join(""));var n="".concat(t,"/").concat(e.slice(2,4),"/").concat(e.slice(0,2));if(!(0,a.default)(n,"YYYY/MM/DD"))return!1;for(var r=e.split("").map((function(e){return parseInt(e,10)})),i=0,o=4,s=0;s<9;s++)i+=r[s]*o,1===(o-=1)&&(o=7);return 1!==(i%=11)&&(0===i?0===r[9]:r[9]===11-i)},"el-CY":function(e){for(var t=e.slice(0,8).split("").map((function(e){return parseInt(e,10)})),n=0,r=1;r<t.length;r+=2)n+=t[r];for(var i=0;i<t.length;i+=2)t[i]<2?n+=1-t[i]:(n+=2*(t[i]-2)+5,t[i]>4&&(n+=2));return String.fromCharCode(n%26+65)===e.charAt(8)},"el-GR":function(e){for(var t=e.split("").map((function(e){return parseInt(e,10)})),n=0,r=0;r<8;r++)n+=t[r]*Math.pow(2,8-r);return n%11%10===t[8]},"en-CA":function(e){var t=e.split(""),n=t.filter((function(e,t){return t%2})).map((function(e){return 2*Number(e)})).join("").split("");return t.filter((function(e,t){return!(t%2)})).concat(n).map((function(e){return Number(e)})).reduce((function(e,t){return e+t}))%10===0},"en-IE":function(e){var t=o.reverseMultiplyAndSum(e.split("").slice(0,7).map((function(e){return parseInt(e,10)})),8);return 9===e.length&&"W"!==e[8]&&(t+=9*(e[8].charCodeAt(0)-64)),0===(t%=23)?"W"===e[7].toUpperCase():e[7].toUpperCase()===String.fromCharCode(64+t)},"en-US":function(e){return-1!==function(){var e=[];for(var t in d)d.hasOwnProperty(t)&&e.push.apply(e,c(d[t]));return e}().indexOf(e.slice(0,2))},"es-ES":function(e){var t=e.toUpperCase().split("");if(isNaN(parseInt(t[0],10))&&t.length>1){var n=0;switch(t[0]){case"Y":n=1;break;case"Z":n=2}t.splice(0,1,n)}else for(;t.length<9;)t.unshift(0);t=t.join("");var r=parseInt(t.slice(0,8),10)%23;return t[8]===["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][r]},"et-EE":function(e){var t=e.slice(1,3);switch(e.slice(0,1)){case"1":case"2":t="18".concat(t);break;case"3":case"4":t="19".concat(t);break;default:t="20".concat(t)}var n="".concat(t,"/").concat(e.slice(3,5),"/").concat(e.slice(5,7));if(!(0,a.default)(n,"YYYY/MM/DD"))return!1;for(var r=e.split("").map((function(e){return parseInt(e,10)})),i=0,o=1,s=0;s<10;s++)i+=r[s]*o,10===(o+=1)&&(o=1);if(i%11===10){i=0,o=3;for(var l=0;l<10;l++)i+=r[l]*o,10===(o+=1)&&(o=1);if(i%11===10)return 0===r[10]}return i%11===r[10]},"fi-FI":function(e){var t=e.slice(4,6);switch(e.slice(6,7)){case"+":t="18".concat(t);break;case"-":t="19".concat(t);break;default:t="20".concat(t)}var n="".concat(t,"/").concat(e.slice(2,4),"/").concat(e.slice(0,2));if(!(0,a.default)(n,"YYYY/MM/DD"))return!1;var r=parseInt(e.slice(0,6)+e.slice(7,10),10)%31;return r<10?r===parseInt(e.slice(10),10):["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"][r-=10]===e.slice(10)},"fr-BE":function(e){if("00"!==e.slice(2,4)||"00"!==e.slice(4,6)){var t="".concat(e.slice(0,2),"/").concat(e.slice(2,4),"/").concat(e.slice(4,6));if(!(0,a.default)(t,"YY/MM/DD"))return!1}var n=97-parseInt(e.slice(0,9),10)%97,r=parseInt(e.slice(9,11),10);return n===r||(n=97-parseInt("2".concat(e.slice(0,9)),10)%97)===r},"fr-FR":function(e){return e=e.replace(/\s/g,""),parseInt(e.slice(0,10),10)%511===parseInt(e.slice(10,13),10)},"fr-LU":function(e){var t="".concat(e.slice(0,4),"/").concat(e.slice(4,6),"/").concat(e.slice(6,8));return!!(0,a.default)(t,"YYYY/MM/DD")&&(!!o.luhnCheck(e.slice(0,12))&&o.verhoeffCheck("".concat(e.slice(0,11)).concat(e[12])))},"hr-HR":function(e){return o.iso7064Check(e)},"hu-HU":function(e){for(var t=e.split("").map((function(e){return parseInt(e,10)})),n=8,r=1;r<9;r++)n+=t[r]*(r+1);return n%11===t[9]},"it-IT":function(e){var t=e.toUpperCase().split("");if(!p(t.slice(0,3)))return!1;if(!p(t.slice(3,6)))return!1;for(var n={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},r=0,i=[6,7,9,10,12,13,14];r<i.length;r++){var o=i[r];t[o]in n&&t.splice(o,1,n[t[o]])}var s={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"}[t[8]],l=parseInt(t[9]+t[10],10);l>40&&(l-=40),l<10&&(l="0".concat(l));var c="".concat(t[6]).concat(t[7],"/").concat(s,"/").concat(l);if(!(0,a.default)(c,"YY/MM/DD"))return!1;for(var u=0,d=1;d<t.length-1;d+=2){var h=parseInt(t[d],10);isNaN(h)&&(h=t[d].charCodeAt(0)-65),u+=h}for(var f={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},m=0;m<t.length-1;m+=2){var g=0;if(t[m]in f)g=f[t[m]];else{var v=parseInt(t[m],10);g=2*v+1,v>4&&(g+=2)}u+=g}return String.fromCharCode(65+u%26)===t[15]},"lv-LV":function(e){var t=(e=e.replace(/\W/,"")).slice(0,2);if("32"!==t){if("00"!==e.slice(2,4)){var n=e.slice(4,6);switch(e[6]){case"0":n="18".concat(n);break;case"1":n="19".concat(n);break;default:n="20".concat(n)}var r="".concat(n,"/").concat(e.slice(2,4),"/").concat(t);if(!(0,a.default)(r,"YYYY/MM/DD"))return!1}for(var i=1101,o=[1,6,3,7,9,10,5,8,4,2],s=0;s<e.length-1;s++)i-=parseInt(e[s],10)*o[s];return parseInt(e[10],10)===i%11}return!0},"mt-MT":function(e){if(9!==e.length){for(var t=e.toUpperCase().split("");t.length<8;)t.unshift(0);switch(e[7]){case"A":case"P":if(0===parseInt(t[6],10))return!1;break;default:var n=parseInt(t.join("").slice(0,5),10);if(n>32e3)return!1;if(n===parseInt(t.join("").slice(5,7),10))return!1}}return!0},"nl-NL":function(e){return o.reverseMultiplyAndSum(e.split("").slice(0,8).map((function(e){return parseInt(e,10)})),9)%11===parseInt(e[8],10)},"pl-PL":function(e){if(10===e.length){for(var t=[6,5,7,2,3,4,5,6,7],n=0,r=0;r<t.length;r++)n+=parseInt(e[r],10)*t[r];return 10!==(n%=11)&&n===parseInt(e[9],10)}var i=e.slice(0,2),o=parseInt(e.slice(2,4),10);o>80?(i="18".concat(i),o-=80):o>60?(i="22".concat(i),o-=60):o>40?(i="21".concat(i),o-=40):o>20?(i="20".concat(i),o-=20):i="19".concat(i),o<10&&(o="0".concat(o));var s="".concat(i,"/").concat(o,"/").concat(e.slice(4,6));if(!(0,a.default)(s,"YYYY/MM/DD"))return!1;for(var l=0,c=1,u=0;u<e.length-1;u++)l+=parseInt(e[u],10)*c%10,(c+=2)>10?c=1:5===c&&(c+=2);return(l=10-l%10)===parseInt(e[10],10)},"pt-BR":function(e){if(11===e.length){var t,n;if(t=0,"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e||"00000000000"===e)return!1;for(var r=1;r<=9;r++)t+=parseInt(e.substring(r-1,r),10)*(11-r);if(10===(n=10*t%11)&&(n=0),n!==parseInt(e.substring(9,10),10))return!1;t=0;for(var i=1;i<=10;i++)t+=parseInt(e.substring(i-1,i),10)*(12-i);return 10===(n=10*t%11)&&(n=0),n===parseInt(e.substring(10,11),10)}if("00000000000000"===e||"11111111111111"===e||"22222222222222"===e||"33333333333333"===e||"44444444444444"===e||"55555555555555"===e||"66666666666666"===e||"77777777777777"===e||"88888888888888"===e||"99999999999999"===e)return!1;for(var o=e.length-2,a=e.substring(0,o),s=e.substring(o),l=0,c=o-7,u=o;u>=1;u--)l+=a.charAt(o-u)*c,(c-=1)<2&&(c=9);var d=l%11<2?0:11-l%11;if(d!==parseInt(s.charAt(0),10))return!1;o+=1,a=e.substring(0,o),l=0,c=o-7;for(var p=o;p>=1;p--)l+=a.charAt(o-p)*c,(c-=1)<2&&(c=9);return(d=l%11<2?0:11-l%11)===parseInt(s.charAt(1),10)},"pt-PT":function(e){var t=11-o.reverseMultiplyAndSum(e.split("").slice(0,8).map((function(e){return parseInt(e,10)})),9)%11;return t>9?0===parseInt(e[8],10):t===parseInt(e[8],10)},"ro-RO":function(e){if("9000"!==e.slice(0,4)){var t=e.slice(1,3);switch(e[0]){case"1":case"2":t="19".concat(t);break;case"3":case"4":t="18".concat(t);break;case"5":case"6":t="20".concat(t)}var n="".concat(t,"/").concat(e.slice(3,5),"/").concat(e.slice(5,7));if(8===n.length){if(!(0,a.default)(n,"YY/MM/DD"))return!1}else if(!(0,a.default)(n,"YYYY/MM/DD"))return!1;for(var r=e.split("").map((function(e){return parseInt(e,10)})),i=[2,7,9,1,4,6,3,5,8,2,7,9],o=0,s=0;s<i.length;s++)o+=r[s]*i[s];return o%11===10?1===r[12]:r[12]===o%11}return!0},"sk-SK":function(e){if(9===e.length){if("000"===(e=e.replace(/\W/,"")).slice(6))return!1;var t=parseInt(e.slice(0,2),10);if(t>53)return!1;t=t<10?"190".concat(t):"19".concat(t);var n=parseInt(e.slice(2,4),10);n>50&&(n-=50),n<10&&(n="0".concat(n));var r="".concat(t,"/").concat(n,"/").concat(e.slice(4,6));if(!(0,a.default)(r,"YYYY/MM/DD"))return!1}return!0},"sl-SI":function(e){var t=11-o.reverseMultiplyAndSum(e.split("").slice(0,7).map((function(e){return parseInt(e,10)})),8)%11;return 10===t?0===parseInt(e[7],10):t===parseInt(e[7],10)},"sv-SE":function(e){var t=e.slice(0);e.length>11&&(t=t.slice(2));var n="",r=t.slice(2,4),i=parseInt(t.slice(4,6),10);if(e.length>11)n=e.slice(0,4);else if(n=e.slice(0,2),11===e.length&&i<60){var s=(new Date).getFullYear().toString(),l=parseInt(s.slice(0,2),10);if(s=parseInt(s,10),"-"===e[6])n=parseInt("".concat(l).concat(n),10)>s?"".concat(l-1).concat(n):"".concat(l).concat(n);else if(n="".concat(l-1).concat(n),s-parseInt(n,10)<100)return!1}i>60&&(i-=60),i<10&&(i="0".concat(i));var c="".concat(n,"/").concat(r,"/").concat(i);if(8===c.length){if(!(0,a.default)(c,"YY/MM/DD"))return!1}else if(!(0,a.default)(c,"YYYY/MM/DD"))return!1;return o.luhnCheck(e.replace(/\W/,""))}};f["lb-LU"]=f["fr-LU"],f["lt-LT"]=f["et-EE"],f["nl-BE"]=f["fr-BE"],f["fr-CA"]=f["en-CA"];var m=/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g,g={"de-AT":m,"de-DE":/[\/\\]/g,"fr-BE":m};g["nl-BE"]=g["fr-BE"],e.exports=t.default,e.exports.default=t.default},6512:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t=(0,i.default)(t,o),"string"===typeof e&&a[t.hourFormat][t.mode].test(e)};var r,i=(r=n(900))&&r.__esModule?r:{default:r};var o={hourFormat:"hour24",mode:"default"},a={hour24:{default:/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,withSeconds:/^([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/},hour12:{default:/^(0?[1-9]|1[0-2]):([0-5][0-9]) (A|P)M$/,withSeconds:/^(0?[1-9]|1[0-2]):([0-5][0-9]):([0-5][0-9]) (A|P)M$/}};e.exports=t.default,e.exports.default=t.default},9080:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),!e||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;if((t=(0,a.default)(t,c)).validate_length&&e.length>=2083)return!1;if(!t.allow_fragments&&e.includes("#"))return!1;if(!t.allow_query_components&&(e.includes("?")||e.includes("&")))return!1;var n,s,p,h,f,m,g,v;if(g=e.split("#"),e=g.shift(),g=e.split("?"),e=g.shift(),(g=e.split("://")).length>1){if(n=g.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(n))return!1}else{if(t.require_protocol)return!1;if("//"===e.slice(0,2)){if(!t.allow_protocol_relative_urls)return!1;g[0]=e.slice(2)}}if(""===(e=g.join("://")))return!1;if(g=e.split("/"),""===(e=g.shift())&&!t.require_host)return!0;if((g=e.split("@")).length>1){if(t.disallow_auth)return!1;if(""===g[0])return!1;if((s=g.shift()).indexOf(":")>=0&&s.split(":").length>2)return!1;var b=s.split(":"),y=(E=2,function(e){if(Array.isArray(e))return e}(w=b)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(w,E)||function(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(w,E)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=y[0],x=y[1];if(""===_&&""===x)return!1}var w,E;h=g.join("@"),m=null,v=null;var T=h.match(u);T?(p="",v=T[1],m=T[2]||null):(p=(g=h.split(":")).shift(),g.length&&(m=g.join(":")));if(null!==m&&m.length>0){if(f=parseInt(m,10),!/^[0-9]+$/.test(m)||f<=0||f>65535)return!1}else if(t.require_port)return!1;if(t.host_whitelist)return d(p,t.host_whitelist);if(""===p&&!t.require_host)return!0;if(!(0,o.default)(p)&&!(0,i.default)(p,t)&&(!v||!(0,o.default)(v,6)))return!1;if(p=p||v,t.host_blacklist&&d(p,t.host_blacklist))return!1;return!0};var r=s(n(1284)),i=s(n(6e3)),o=s(n(9900)),a=s(n(900));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},u=/^\[([^\]]+)\](?::([0-9]+))?$/;function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e===r||(i=r,"[object RegExp]"===Object.prototype.toString.call(i)&&r.test(e)))return!0}var i;return!1}e.exports=t.default,e.exports.default=t.default},5148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var n=o[[void 0,null].includes(t)?"all":t];return!!n&&n.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};var o={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};e.exports=t.default,e.exports.default=t.default},3804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e===e.toUpperCase()};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},5404:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,o.default)(e),(0,o.default)(t),t in l)return l[t](e);throw new Error("Invalid country code: '".concat(t,"'"))},t.vatMatchers=void 0;var i,o=(i=n(1284))&&i.__esModule?i:{default:i},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(228));function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var l={AT:function(e){return/^(AT)?U\d{8}$/.test(e)},BE:function(e){return/^(BE)?\d{10}$/.test(e)},BG:function(e){return/^(BG)?\d{9,10}$/.test(e)},HR:function(e){return/^(HR)?\d{11}$/.test(e)},CY:function(e){return/^(CY)?\w{9}$/.test(e)},CZ:function(e){return/^(CZ)?\d{8,10}$/.test(e)},DK:function(e){return/^(DK)?\d{8}$/.test(e)},EE:function(e){return/^(EE)?\d{9}$/.test(e)},FI:function(e){return/^(FI)?\d{8}$/.test(e)},FR:function(e){return/^(FR)?\w{2}\d{9}$/.test(e)},DE:function(e){return/^(DE)?\d{9}$/.test(e)},EL:function(e){return/^(EL)?\d{9}$/.test(e)},HU:function(e){return/^(HU)?\d{8}$/.test(e)},IE:function(e){return/^(IE)?\d{7}\w{1}(W)?$/.test(e)},IT:function(e){return/^(IT)?\d{11}$/.test(e)},LV:function(e){return/^(LV)?\d{11}$/.test(e)},LT:function(e){return/^(LT)?\d{9,12}$/.test(e)},LU:function(e){return/^(LU)?\d{8}$/.test(e)},MT:function(e){return/^(MT)?\d{8}$/.test(e)},NL:function(e){return/^(NL)?\d{9}B\d{2}$/.test(e)},PL:function(e){return/^(PL)?(\d{10}|(\d{3}-\d{3}-\d{2}-\d{2})|(\d{3}-\d{2}-\d{2}-\d{3}))$/.test(e)},PT:function(e){var t=e.match(/^(PT)?(\d{9})$/);if(!t)return!1;var n=t[2],r=11-a.reverseMultiplyAndSum(n.split("").slice(0,8).map((function(e){return parseInt(e,10)})),9)%11;return r>9?0===parseInt(n[8],10):r===parseInt(n[8],10)},RO:function(e){return/^(RO)?\d{2,10}$/.test(e)},SK:function(e){return/^(SK)?\d{10}$/.test(e)},SI:function(e){return/^(SI)?\d{8}$/.test(e)},ES:function(e){return/^(ES)?\w\d{7}[A-Z]$/.test(e)},SE:function(e){return/^(SE)?\d{12}$/.test(e)},AL:function(e){return/^(AL)?\w{9}[A-Z]$/.test(e)},MK:function(e){return/^(MK)?\d{13}$/.test(e)},AU:function(e){return/^(AU)?\d{11}$/.test(e)},BY:function(e){return/^(\u0423\u041d\u041f )?\d{9}$/.test(e)},CA:function(e){return/^(CA)?\d{9}$/.test(e)},IS:function(e){return/^(IS)?\d{5,6}$/.test(e)},IN:function(e){return/^(IN)?\d{15}$/.test(e)},ID:function(e){return/^(ID)?(\d{15}|(\d{2}.\d{3}.\d{3}.\d{1}-\d{3}.\d{3}))$/.test(e)},IL:function(e){return/^(IL)?\d{9}$/.test(e)},KZ:function(e){return/^(KZ)?\d{9}$/.test(e)},NZ:function(e){return/^(NZ)?\d{9}$/.test(e)},NG:function(e){return/^(NG)?(\d{12}|(\d{8}-\d{4}))$/.test(e)},NO:function(e){return/^(NO)?\d{9}MVA$/.test(e)},PH:function(e){return/^(PH)?(\d{12}|\d{3} \d{3} \d{3} \d{3})$/.test(e)},RU:function(e){return/^(RU)?(\d{10}|\d{12})$/.test(e)},SM:function(e){return/^(SM)?\d{5}$/.test(e)},SA:function(e){return/^(SA)?\d{15}$/.test(e)},RS:function(e){return/^(RS)?\d{9}$/.test(e)},CH:function(e){return/^(CHE[- ]?)?(\d{9}|(\d{3}\.\d{3}\.\d{3})|(\d{3} \d{3} \d{3})) ?(TVA|MWST|IVA)?$/.test(e)&&function(e){var t=e.pop(),n=[5,4,3,2,7,6,5,4];return t===(11-e.reduce((function(e,t,r){return e+t*n[r]}),0)%11)%11}(e.match(/\d/g).map((function(e){return+e})))},TR:function(e){return/^(TR)?\d{10}$/.test(e)},UA:function(e){return/^(UA)?\d{12}$/.test(e)},GB:function(e){return/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/.test(e)},UZ:function(e){return/^(UZ)?\d{9}$/.test(e)},AR:function(e){return/^(AR)?\d{11}$/.test(e)},BO:function(e){return/^(BO)?\d{7}$/.test(e)},BR:function(e){return/^(BR)?((\d{2}.\d{3}.\d{3}\/\d{4}-\d{2})|(\d{3}.\d{3}.\d{3}-\d{2}))$/.test(e)},CL:function(e){return/^(CL)?\d{8}-\d{1}$/.test(e)},CO:function(e){return/^(CO)?\d{10}$/.test(e)},CR:function(e){return/^(CR)?\d{9,12}$/.test(e)},EC:function(e){return/^(EC)?\d{13}$/.test(e)},SV:function(e){return/^(SV)?\d{4}-\d{6}-\d{3}-\d{1}$/.test(e)},GT:function(e){return/^(GT)?\d{7}-\d{1}$/.test(e)},HN:function(e){return/^(HN)?$/.test(e)},MX:function(e){return/^(MX)?\w{3,4}\d{6}\w{3}$/.test(e)},NI:function(e){return/^(NI)?\d{3}-\d{6}-\d{4}\w{1}$/.test(e)},PA:function(e){return/^(PA)?$/.test(e)},PY:function(e){return/^(PY)?\d{6,8}-\d{1}$/.test(e)},PE:function(e){return/^(PE)?\d{11}$/.test(e)},DO:function(e){return/^(DO)?(\d{11}|(\d{3}-\d{7}-\d{1})|[1,4,5]{1}\d{8}|([1,4,5]{1})-\d{2}-\d{5}-\d{1})$/.test(e)},UY:function(e){return/^(UY)?\d{12}$/.test(e)},VE:function(e){return/^(VE)?[J,G,V,E]{1}-(\d{9}|(\d{8}-\d{1}))$/.test(e)}};t.vatMatchers=l},56:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.fullWidth.test(e)&&a.halfWidth.test(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r},o=n(7388),a=n(8192);e.exports=t.default,e.exports.default=t.default},3876:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);for(var n=e.length-1;n>=0;n--)if(-1===t.indexOf(e[n]))return!1;return!0};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},7060:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var n=t?new RegExp("^[".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return e.replace(n,"")};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},1888:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){(0,i.default)(e),"[object RegExp]"!==Object.prototype.toString.call(t)&&(t=new RegExp(t,n));return!!e.match(t)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},4251:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=(0,i.default)(t,o);var n=e.split("@"),r=n.pop(),d=[n.join("@"),r];if(d[1]=d[1].toLowerCase(),"gmail.com"===d[1]||"googlemail.com"===d[1]){if(t.gmail_remove_subaddress&&(d[0]=d[0].split("+")[0]),t.gmail_remove_dots&&(d[0]=d[0].replace(/\.+/g,u)),!d[0].length)return!1;(t.all_lowercase||t.gmail_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]=t.gmail_convert_googlemaildotcom?"gmail.com":d[1]}else if(a.indexOf(d[1])>=0){if(t.icloud_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(t.all_lowercase||t.icloud_lowercase)&&(d[0]=d[0].toLowerCase())}else if(s.indexOf(d[1])>=0){if(t.outlookdotcom_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(t.all_lowercase||t.outlookdotcom_lowercase)&&(d[0]=d[0].toLowerCase())}else if(l.indexOf(d[1])>=0){if(t.yahoo_remove_subaddress){var p=d[0].split("-");d[0]=p.length>1?p.slice(0,-1).join("-"):p[0]}if(!d[0].length)return!1;(t.all_lowercase||t.yahoo_lowercase)&&(d[0]=d[0].toLowerCase())}else c.indexOf(d[1])>=0?((t.all_lowercase||t.yandex_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]="yandex.ru"):t.all_lowercase&&(d[0]=d[0].toLowerCase());return d.join("@")};var r,i=(r=n(900))&&r.__esModule?r:{default:r};var o={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},a=["icloud.com","me.com"],s=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],l=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],c=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function u(e){return e.length>1?e:""}e.exports=t.default,e.exports.default=t.default},2728:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t){var n=new RegExp("[".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return e.replace(n,"")}var r=e.length-1;for(;/\s/.test(e.charAt(r));)r-=1;return e.slice(0,r+1)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},4811:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=t?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,i.default)(e,n)};var r=o(n(1284)),i=o(n(5868));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},3008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t)return"1"===e||/^true$/i.test(e);return"0"!==e&&!/^false$/i.test(e)&&""!==e};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},2868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e=Date.parse(e),isNaN(e)?null:new Date(e)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},8135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)?parseFloat(e):NaN};var r,i=(r=n(9356))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},2928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),parseInt(e,t||10)};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},4592:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)((0,i.default)(e,t),t)};var r=o(n(2728)),i=o(n(7060));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},8232:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},228:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iso7064Check=function(e){for(var t=10,n=0;n<e.length-1;n++)t=(parseInt(e[n],10)+t)%10===0?9:(parseInt(e[n],10)+t)%10*2%11;return(t=1===t?0:11-t)===parseInt(e[10],10)},t.luhnCheck=function(e){for(var t=0,n=!1,r=e.length-1;r>=0;r--){if(n){var i=2*parseInt(e[r],10);t+=i>9?i.toString().split("").map((function(e){return parseInt(e,10)})).reduce((function(e,t){return e+t}),0):i}else t+=parseInt(e[r],10);n=!n}return t%10===0},t.reverseMultiplyAndSum=function(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*(t-r);return n},t.verhoeffCheck=function(e){for(var t=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],n=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],r=e.split("").reverse().join(""),i=0,o=0;o<r.length;o++)i=t[i][n[o%8][parseInt(r[o],10)]];return 0===i}},1284:(e,t)=>{"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"===typeof e||e instanceof String)){var t=n(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),new TypeError("Expected a string but received a ".concat(t))}},e.exports=t.default,e.exports.default=t.default},6596:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){return e.some((function(e){return t===e}))};t.default=n,e.exports=t.default,e.exports.default=t.default},900:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in t)"undefined"===typeof e[n]&&(e[n]=t[n]);return e},e.exports=t.default,e.exports.default=t.default},6104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.join("");return new RegExp(n,t)},e.exports=t.default,e.exports.default=t.default},8984:(e,t)=>{"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){"object"===n(e)&&null!==e?e="function"===typeof e.toString?e.toString():"[object Object]":(null===e||"undefined"===typeof e||isNaN(e)&&!e.length)&&(e="");return String(e)},e.exports=t.default,e.exports.default=t.default},6856:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e.replace(new RegExp("[^".concat(t,"]+"),"g"),"")};var r,i=(r=n(1284))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},2412:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DOMException:()=>w,Headers:()=>u,Request:()=>v,Response:()=>_,fetch:()=>E});var r="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof n.g&&n.g||{},i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(i.arrayBuffer)var o=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&o.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function c(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function d(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function h(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i.arrayBuffer&&i.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=d(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=p(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8";return t.readAsText(e,i),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=s(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},u.prototype.delete=function(e){delete this.map[s(e)]},u.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},u.prototype.set=function(e,t){this.map[s(e)]=l(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),c(e)},u.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),c(e)},u.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),c(e)},i.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var g=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=function(e){var t=e.toUpperCase();return g.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function b(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function y(e){var t=new u;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i)}catch(o){console.warn("Response "+o.message)}}})),t}function _(e,t){if(!(this instanceof _))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var x=[301,302,303,307,308];_.redirect=function(e,t){if(-1===x.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})};var w=r.DOMException;try{new w}catch(T){(w=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),w.prototype.constructor=w}function E(e,t){return new Promise((function(n,o){var a=new v(e,t);if(a.signal&&a.signal.aborted)return o(new w("Aborted","AbortError"));var c=new XMLHttpRequest;function d(){c.abort()}if(c.onload=function(){var e={statusText:c.statusText,headers:y(c.getAllResponseHeaders()||"")};0===a.url.indexOf("file://")&&(c.status<200||c.status>599)?e.status=200:e.status=c.status,e.url="responseURL"in c?c.responseURL:e.headers.get("X-Request-URL");var t="response"in c?c.response:c.responseText;setTimeout((function(){n(new _(t,e))}),0)},c.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},c.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request timed out"))}),0)},c.onabort=function(){setTimeout((function(){o(new w("Aborted","AbortError"))}),0)},c.open(a.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(a.url),!0),"include"===a.credentials?c.withCredentials=!0:"omit"===a.credentials&&(c.withCredentials=!1),"responseType"in c&&(i.blob?c.responseType="blob":i.arrayBuffer&&(c.responseType="arraybuffer")),t&&"object"===typeof t.headers&&!(t.headers instanceof u||r.Headers&&t.headers instanceof r.Headers)){var p=[];Object.getOwnPropertyNames(t.headers).forEach((function(e){p.push(s(e)),c.setRequestHeader(e,l(t.headers[e]))})),a.headers.forEach((function(e,t){-1===p.indexOf(t)&&c.setRequestHeader(t,e)}))}else a.headers.forEach((function(e,t){c.setRequestHeader(t,e)}));a.signal&&(a.signal.addEventListener("abort",d),c.onreadystatechange=function(){4===c.readyState&&a.signal.removeEventListener("abort",d)}),c.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}E.polyfill=!0,r.fetch||(r.fetch=E,r.Headers=u,r.Request=v,r.Response=_)},5088:(e,t,n)=>{const r=n(3732),i={isNumericId:e=>/^[1-9][0-9]*$/.test(e),isEntityId:e=>/^((Q|P|L)[1-9][0-9]*|L[1-9][0-9]*-(F|S)[1-9][0-9]*)$/.test(e),isEntitySchemaId:e=>/^E[1-9][0-9]*$/.test(e),isItemId:e=>/^Q[1-9][0-9]*$/.test(e),isPropertyId:e=>/^P[1-9][0-9]*$/.test(e),isLexemeId:e=>/^L[1-9][0-9]*$/.test(e),isFormId:e=>/^L[1-9][0-9]*-F[1-9][0-9]*$/.test(e),isSenseId:e=>/^L[1-9][0-9]*-S[1-9][0-9]*$/.test(e),isGuid:e=>/^((Q|P|L)[1-9][0-9]*|L[1-9][0-9]*-(F|S)[1-9][0-9]*)\$[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),isHash:e=>/^[0-9a-f]{40}$/.test(e),isPropertyClaimsId:e=>{const[t,n]=e.split("#");return i.isEntityId(t)&&i.isPropertyId(n)},isRevisionId:e=>/^\d+$/.test(e),isEntityPageTitle:e=>{if("string"!==typeof e)return!1;let[t,n]=e.split(":");return t&&n?a(t)&&i["is".concat(t,"Id")](n):(n=t,i.isItemId(n))}},o=["Item","Property","Lexeme"],a=e=>o.includes(e);i.getNumericId=e=>{if(!(e=>/^(Q|P|L)[1-9][0-9]*$/.test(e))(e))throw new Error("invalid entity id: ".concat(e));return e.replace(/^(Q|P|L)/,"")},i.wikibaseTimeToDateObject=r;const s=e=>t=>{try{return e(t)}catch(n){const e=(t=t.time||t)[0];let[r,i]=t.slice(1).split("T");return r=r.replace(/-00/g,"-01"),"".concat(e).concat(r,"T").concat(i)}};i.wikibaseTimeToEpochTime=s((e=>r(e).getTime())),i.wikibaseTimeToISOString=s((e=>r(e).toISOString())),i.wikibaseTimeToSimpleDay=s((e=>{if("object"===typeof e){const{time:t,precision:n}=e;e=9===n?t.replace("-01-01T","-00-00T"):10===n?t.replace("-01T","-00T"):t}return e.split("T")[0].replace(/^\+/,"").replace(/^(-?)0+/,"$1").replace(/-00$/,"").replace(/-00$/,"")})),i.getImageUrl=(e,t)=>{let n="https://commons.wikimedia.org/wiki/Special:FilePath/".concat(e);return"number"===typeof t&&(n+="?width=".concat(t)),n},i.getEntityIdFromGuid=e=>{const t=e.split(/[$-]/);if(6===t.length)return t[0].toUpperCase();if(7===t.length)return t.slice(0,2).join("-").toUpperCase();throw new Error("invalid guid: ".concat(e))},e.exports=i},6516:(e,t,n)=>{const{wikibaseTimeToISOString:r,wikibaseTimeToEpochTime:i,wikibaseTimeToSimpleDay:o}=n(5088),a=e=>e.value,s=(e,t)=>c(e,t.entityPrefix),l={item:"Q",lexeme:"L",property:"P"},c=(e,t)=>{const{value:n}=e,r=n.id||l[n["entity-type"]]+n["numeric-id"];return"string"===typeof t?"".concat(t,":").concat(r):r},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"iso";const t=d[e];if(!t)throw new Error("invalid converter key: ".concat(JSON.stringify(e).substring(0,100)));return t},d={iso:r,epoch:i,"simple-day":o,none:e=>e.time||e},p={commonsMedia:a,"external-id":a,"geo-shape":a,"globe-coordinate":(e,t)=>t.keepRichValues?e.value:[e.value.latitude,e.value.longitude],math:a,monolingualtext:(e,t)=>t.keepRichValues?e.value:e.value.text,"musical-notation":a,quantity:(e,t)=>{const{value:n}=e,r=parseFloat(n.amount);if(t.keepRichValues){const e={amount:parseFloat(n.amount),unit:n.unit.replace(/^https?:\/\/.*\/entity\//,"")};return null!=n.upperBound&&(e.upperBound=parseFloat(n.upperBound)),null!=n.lowerBound&&(e.lowerBound=parseFloat(n.lowerBound)),e}return r},string:a,"tabular-data":a,time:(e,t)=>{let n;if(n="function"===typeof t.timeConverter?t.timeConverter(e.value):u(t.timeConverter)(e.value),t.keepRichValues){const{timezone:t,before:r,after:i,precision:o,calendarmodel:a}=e.value;return{time:n,timezone:t,before:r,after:i,precision:o,calendarmodel:a}}return n},url:a,"wikibase-entityid":s,"wikibase-form":s,"wikibase-item":s,"wikibase-lexeme":s,"wikibase-property":s,"wikibase-sense":s};e.exports={parsers:p,parse:(e,t,n,r)=>{e=(e=e||t.type).replace(" ","-");try{return p[e](t,n)}catch(i){throw"parsers[datatype] is not a function"===i.message&&(i.message="".concat(e," claim parser isn't implemented\n        Claim id: ").concat(r,"\n        Please report to https://github.com/maxlath/wikibase-sdk/issues")),i}}}},5424:(e,t,n)=>{const{simplifyEntity:r}=n(2321),i={entities:e=>{e=e.body||e;const{entities:t}=e;return Object.keys(t).forEach((e=>{t[e]=r(t[e])})),t},pagesTitles:e=>(e=e.body||e).query.search.map((e=>e.title))};e.exports={wb:i,wd:i}},9648:e=>{const t=e=>{const t=e.reduce(n,{});return t.preferred||t.normal||[]},n=(e,t)=>{const{rank:n}=t;return e[n]||(e[n]=[]),e[n].push(t),e};e.exports={truthyClaims:e=>{const n={};return Object.keys(e).forEach((r=>{n[r]=t(e[r])})),n},truthyPropertyClaims:t,nonDeprecatedPropertyClaims:e=>e.filter((e=>"deprecated"!==e.rank))}},7476:(e,t,n)=>{const{labels:r,descriptions:i,aliases:o,lemmas:a,glosses:s}=n(2544),{simplifyClaim:l,simplifyPropertyClaims:c,simplifyClaims:u,simplifyQualifier:d,simplifyPropertyQualifiers:p,simplifyQualifiers:h,simplifyReferences:f}=n(3007),{simplifyForm:m,simplifyForms:g}=n(8416),{simplifySense:v,simplifySenses:b}=n(2872),y=n(344),_=n(349);e.exports={labels:r,descriptions:i,aliases:o,claim:l,propertyClaims:c,claims:u,qualifier:d,propertyQualifiers:p,qualifiers:h,references:f,sitelinks:y,snak:l,propertySnaks:c,snaks:u,lemmas:a,glosses:s,form:m,forms:g,sense:v,senses:b,sparqlResults:_}},3007:(e,t,n)=>{const{parse:r}=n(6516),{uniq:i}=n(9280),{truthyPropertyClaims:o,nonDeprecatedPropertyClaims:a}=n(9648),s=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const{propertyPrefix:i}=d(n),o={};for(let a in e){const t=e[a];i&&(a=i+":"+a),o[a]=l(t,...n)}return o},l=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(null==e||0===e.length)return[];const{keepNonTruthy:s,keepNonDeprecated:l,areSubSnaks:p}=d(n);return l?e=a(e):s||p||(e=o(e)),(e=e.map((e=>u(e,...n))).filter(c))[0]&&"object"!==typeof e[0]?i(e):e},c=e=>void 0!==e,u=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n=d(n);const{keepQualifiers:o,keepReferences:a,keepIds:s,keepHashes:l,keepTypes:c,keepSnaktypes:u,keepRanks:f}=v(n),{mainsnak:g,rank:b}=e;let y,_,x,w,E,T;if(g?(_=g.datatype,x=g.datavalue,w=g.snaktype):(x=e.datavalue,_=e.datatype,w=e.snaktype,e.hash?E=!0:T=!0),x)y=r(_,x,n,e.id);else if("somevalue"===w)y=n.somevalueValue;else{if("novalue"!==w)throw new Error("no datavalue or special snaktype found");y=n.novalueValue}if(E){if(!(l||c||u))return y;const t={value:y};return l&&(t.hash=e.hash),c&&(t.type=_),u&&(t.snaktype=w),t}if(T)return c?{type:_,value:y}:y;if(!(o||a||s||c||u||f))return y;const C={value:y};c&&(C.type=_),u&&(C.snaktype=w),f&&(C.rank=b);const k=m(n);return k.keepHashes=l,o&&(C.qualifiers=p(e.qualifiers,k)),a&&(e.references=e.references||[],C.references=h(e.references,k)),s&&(C.id=e.id),C},d=e=>{if(null==e)return{};if(e[0]&&"object"===typeof e[0])return e[0];const[t,n,r]=e;return{entityPrefix:t,propertyPrefix:n,keepQualifiers:r}},p=(e,t)=>s(e,m(t)),h=(e,t)=>e.map((e=>f(e,t))),f=(e,t)=>{const n=m(t),r=s(e.snaks,n);return n.keepHashes?{snaks:r,hash:e.hash}:r},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.areSubSnaks?e:Object.assign({},e,{areSubSnaks:!0})},g=["keepQualifiers","keepReferences","keepIds","keepHashes","keepTypes","keepSnaktypes","keepRanks","keepRichValues"],v=e=>(e.keepAll&&g.forEach((t=>{null==e[t]&&(e[t]=!0)})),e);e.exports={simplifyClaims:s,simplifyPropertyClaims:l,simplifyClaim:u,simplifyQualifiers:p,simplifyPropertyQualifiers:(e,t)=>l(e,m(t)),simplifyQualifier:u,simplifyReferences:h}},2321:(e,t,n)=>{const r=n(7476),i=(e,t)=>{const{type:n}=e,r={id:e.id,type:n,modified:e.modified};return e.datatype&&(r.datatype=e.datatype),"item"===n?(o(e,r,"labels"),o(e,r,"descriptions"),o(e,r,"aliases"),o(e,r,"claims",t),o(e,r,"sitelinks",t)):"property"===n?(r.datatype=e.datatype,o(e,r,"labels"),o(e,r,"descriptions"),o(e,r,"aliases"),o(e,r,"claims",t)):"lexeme"===n&&(o(e,r,"lemmas"),r.lexicalCategory=e.lexicalCategory,r.language=e.language,o(e,r,"claims",t),o(e,r,"forms",t),o(e,r,"senses",t)),r},o=(e,t,n,i)=>{null!=e[n]&&(t[n]=r[n](e[n],i))},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.entities&&(e=e.entities);const{entityPrefix:n}=t;return Object.keys(e).reduce(((r,o)=>{const a=e[o];return n&&(o="".concat(n,":").concat(o)),r[o]=i(a,t),r}),{})};r.entity=i,r.entities=a,e.exports={simplifyEntity:i,simplifyEntities:a}},8416:(e,t,n)=>{const{isFormId:r}=n(5088),{representations:i}=n(2544),{simplifyClaims:o}=n(3007),a=(e,t)=>{const{id:n,representations:a,grammaticalFeatures:s,claims:l}=e;if(!r(n))throw new Error("invalid form object");return{id:n,representations:i(a),grammaticalFeatures:s,claims:o(l,t)}};e.exports={simplifyForm:a,simplifyForms:(e,t)=>e.map((e=>a(e,t)))}},2872:(e,t,n)=>{const{isSenseId:r}=n(5088),{glosses:i}=n(2544),{simplifyClaims:o}=n(3007),a=(e,t)=>{const{id:n,glosses:a,claims:s}=e;if(!r(n))throw new Error("invalid sense object");return{id:n,glosses:i(a),claims:o(s,t)}};e.exports={simplifySense:a,simplifySenses:(e,t)=>e.map((e=>a(e,t)))}},344:(e,t,n)=>{const{getSitelinkUrl:r}=n(5672);e.exports=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{addUrl:n}=t;return Object.keys(e).reduce(i(e,n),{})};const i=(e,t)=>(n,i)=>{if(null==e[i])return n[i]=e[i],n;const{title:o}=e[i];return n[i]=t?{title:o,url:r(i,o)}:o,n}},349:e=>{e.exports=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"===typeof e&&(e=JSON.parse(e));const{vars:r}=e.head,i=e.results.bindings;if(1===r.length&&!0===n.minimize){const e=r[0];return i.map((n=>t(n[e]))).filter((e=>null!=e))}const{richVars:o,associatedVars:a,standaloneVars:s}=c(r);return i.map(d(o,a,s))};const t=e=>{if(!e)return;let{datatype:t}=e;t=t&&t.replace("http://www.w3.org/2001/XMLSchema#","");return(n[e.type]||i(t))(e)},n={uri:e=>s(e.value),bnode:()=>null},r=e=>parseFloat(e.value),i=e=>(e=e&&e.replace("http://www.w3.org/2001/XMLSchema#",""),o[e]||a),o={decimal:r,integer:r,float:r,double:r,boolean:e=>"true"===e.value},a=e=>e.value,s=e=>e.match(/http.*\/entity\/statement\//)?l(e):e.replace(/^https?:\/\/.*\/entity\//,"").replace(/^https?:\/\/.*\/prop\/direct\//,""),l=e=>{const t=(e=e.replace(/^https?:\/\/.*\/entity\/statement\//,"")).split("-");return t[0]+"$"+t.slice(1).join("-")},c=e=>{let t=e.filter((t=>e.some(u(t))));t=t.filter((e=>!t.some((t=>e!==t&&e.startsWith(t)))));const n=new RegExp("^(".concat(t.join("|"),")[A-Z]")),r=e.filter((e=>n.test(e))),i=e.filter((e=>!t.includes(e)&&!n.test(e)));return{richVars:t,associatedVars:r,standaloneVars:i}},u=e=>{const t=new RegExp("^".concat(e,"[A-Z]\\w+"));return t.test.bind(t)},d=(e,n,r)=>i=>{const o={};for(const r of e){const e={},a=t(i[r]);null!=a&&(e.value=a);for(const t of n)t.startsWith(r)&&p(i,r,t,e);Object.keys(e).length>0&&(o[r]=e)}for(const e of r)o[e]=t(i[e]);return o},p=(e,t,n,r)=>{let i=n.split(t)[1];i=i[0].toLowerCase()+i.slice(1),i=h[i]||i;const o=e[n];null!=o&&(r[i]=o.value)},h={altLabel:"aliases"}},2544:e=>{const t=e=>t=>{const r={};return Object.keys(t).forEach((i=>{const o=t[i];r[i]=null!=o?e?o.map(n):o.value:e?[]:null})),r},n=e=>e.value,r=t(!1);e.exports={labels:r,descriptions:r,aliases:t(!0),lemmas:r,representations:r,glosses:r}},5672:(e,t,n)=>{const{fixedEncodeURIComponent:r,replaceSpaceByUnderscores:i,isPlainObject:o}=n(9280),{isPropertyId:a}=n(5088),s="https://www.wikidata.org/wiki/",l=n(6624),c=e=>t=>"https://".concat(e,".wikimedia.org/wiki/").concat(t),u={commons:c("commons"),mediawiki:e=>"https://www.mediawiki.org/wiki/".concat(e),meta:c("meta"),species:c("species"),wikidata:e=>a(e)?"".concat(s,"Property:").concat(e):"".concat(s).concat(e),wikimania:c("wikimania")},d=/^https?:\/\/([\w-]{2,10})\.(\w+)\.org\/\w+\/(.*)/,p=e=>{if(e.startsWith("http")){const t=e,n=t.match(d);if(!n)throw new Error("invalid sitelink url: ".concat(t));let r,[i,o,a]=n.slice(1);return a=decodeURIComponent(a),"www"===i?(i="en",r=o):"commons"===i?(i="en",o=r="commons"):r="".concat(i).concat(o).replace("wikipedia","wiki"),{lang:i,project:o,key:r,title:a,url:t}}{const t=e,n=h[t];if(n)return{lang:"en",project:n,key:t};const[r,i,o]=t.split("wik");if(null!=o)throw new Error("invalid sitelink key: ".concat(t));if(-1===l.indexOf(r))throw new Error("sitelink lang not found: ".concat(r));const a=f[i];if(!a)throw new Error("sitelink project not found: ".concat(a));return{lang:r,project:a,key:t}}},h={commonswiki:"commons",mediawikiwiki:"mediawiki",metawiki:"meta",specieswiki:"specieswiki",wikidatawiki:"wikidata",wikimaniawiki:"wikimania"},f={i:"wikipedia",isource:"wikisource",iquote:"wikiquote",tionary:"wiktionary",ibooks:"wikibooks",iversity:"wikiversity",ivoyage:"wikivoyage",inews:"wikinews"};e.exports={getSitelinkUrl:(e,t)=>{if(o(e)&&(t=e.title,e=e.site),!e)throw new Error("missing a site");if(!t)throw new Error("missing a title");const n=e.replace(/wiki$/,""),a=u[n]||u[e];if(a)return a(t);const{lang:s,project:l}=p(e);return t=r(i(t)),"https://".concat(s,".").concat(l,".org/wiki/").concat(t)},getSitelinkData:p,isSitelinkKey:e=>{try{return p(e),!0}catch(t){return!1}}}},6624:e=>{e.exports=["aa","ab","ace","ady","af","ak","als","alt","ami","am","ang","an","arc","ar","ary","arz","ast","as","atj","avk","av","awa","ay","azb","az","ban","bar","bat_smg","ba","bcl","be_x_old","be","bg","bh","bi","bjn","bm","bn","bo","bpy","br","bs","bug","bxr","ca","cbk_zam","cdo","ceb","ce","cho","chr","ch","chy","ckb","co","crh","cr","csb","cs","cu","cv","cy","dag","da","de","din","diq","dsb","dty","dv","dz","ee","el","eml","en","eo","es","et","eu","ext","fa","ff","fiu_vro","fi","fj","fo","frp","frr","fr","fur","fy","gag","gan","ga","gcr","gd","glk","gl","gn","gom","gor","got","gu","gv","hak","ha","haw","he","hif","hi","ho","hr","hsb","ht","hu","hy","hyw","hz","ia","id","ie","ig","ii","ik","ilo","inh","io","is","it","iu","jam","ja","jbo","jv","kaa","kab","ka","kbd","kbp","kg","ki","kj","kk","kl","km","kn","koi","ko","krc","kr","ksh","ks","ku","kv","kw","ky","lad","la","lbe","lb","lez","lfn","lg","lij","li","lld","lmo","ln","lo","lrc","ltg","lt","lv","mad","mai","map_bms","mdf","mg","mhr","mh","min","mi","mk","ml","mni","mn","mnw","mo","mrj","mr","ms","mt","mus","mwl","myv","my","mzn","nah","nap","na","nds_nl","nds","ne","new","ng","nia","nl","nn","nov","no","nqo","nrm","nso","nv","ny","oc","olo","om","or","os","pag","pam","pap","pa","pcd","pdc","pfl","pih","pi","pl","pms","pnb","pnt","ps","pt","pwn","qu","rm","rmy","rn","roa_rup","roa_tara","ro","rue","ru","rw","sah","sat","sa","scn","sco","sc","sd","se","sg","shi","shn","sh","shy","simple","si","skr","sk","sl","smn","sm","sn","sources","so","sq","srn","sr","ss","stq","st","su","sv","sw","szl","szy","ta","tay","tcy","tet","te","tg","th","ti","tk","tl","tn","to","tpi","trv","tr","ts","tt","tum","tw","tyv","ty","udm","ug","uk","ur","uz","vec","vep","ve","vi","vls","vo","war","wa","wo","wuu","xal","xh","xmf","yi","yo","yue","za","zea","zh_classical","zh_min_nan","zh_yue","zh","zu"]},12:(e,t,n)=>{const r=n(5088),i=(e,t)=>n=>{if(!r[t](n))throw new Error("invalid ".concat(e,": ").concat(n))};e.exports={entityId:i("entity id","isEntityId"),propertyId:i("property id","isPropertyId"),entityPageTitle:i("entity page title","isEntityPageTitle"),revisionId:i("revision id","isRevisionId")}},3732:e=>{e.exports=e=>{"object"===typeof e&&(e=e.time);const n=e[0];let[r,i]=e.slice(1).split("T");r=r.replace(/-00/g,"-01");const o="".concat(r,"T").concat(i);return t(n,o)};const t=(e,t)=>{const r=t.split("-")[0];return"-"===e||r.length>4?n(e,t,r):new Date(t)},n=(e,t,n)=>{let r;return r=4===n.length?"".concat(e,"00").concat(t):5===n.length?"".concat(e,"0").concat(t):e+t,new Date(r)}},4736:(e,t,n)=>{const{isPlainObject:r}=n(9280),i=/^\d+[|\d]*$/;e.exports=e=>t=>{if(!r(t))throw new Error("expected parameters to be passed as an object, got ".concat(t," (").concat(typeof t,")"));for(const e in t)if(e.startsWith("sr")){const n=e.replace(/^sr/,"");if(null!=t[n])throw new Error("".concat(n," and ").concat(e," are the same"));t[n]=t[e]}const{search:n,haswbstatement:o,format:a="json",limit:s,offset:l,profile:c,sort:u}=t;let{namespace:d,prop:p}=t;if(!n&&!o)throw new Error('missing "search" or "haswbstatement" parameter');let h="";if(n&&(h+=n),o){const e=o instanceof Array?o:[o];for(const t of e)"-"===t[0]?h+=" -haswbstatement:".concat(t.slice(1)):h+=" haswbstatement:".concat(t)}if(null!=s&&("number"!==typeof s||s<1))throw new Error("invalid limit: ".concat(s));if(null!=l&&("number"!==typeof l||l<0))throw new Error("invalid offset: ".concat(l));if(d instanceof Array?d=d.join("|"):"number"===typeof d&&(d=d.toString()),d&&!i.test(d))throw new Error("invalid namespace: ".concat(d));if(null!=c&&"string"!==typeof c)throw new Error("invalid profile: ".concat(c," (").concat(typeof c,", expected string)"));if(null!=u&&"string"!==typeof u)throw new Error("invalid sort: ".concat(u," (").concat(typeof u,", expected string)"));if(null!=p&&(d instanceof Array&&(p=p.join("|")),"string"!==typeof p))throw new Error("invalid prop: ".concat(p," (").concat(typeof p,", expected string)"));return e({action:"query",list:"search",srsearch:h.trim(),format:a,srnamespace:d,srlimit:s,sroffset:l,srqiprofile:c,srsort:u,srprop:p})}},6956:(e,t,n)=>{const{isPlainObject:r,forceArray:i,shortLang:o}=n(9280),a=n(12);e.exports=e=>(t,n,s,l,c)=>{if(r(t)&&({ids:t,languages:n,props:s,format:l,redirects:c}=t),l=l||"json",!(t&&t.length>0))throw new Error("no id provided");(t=i(t)).forEach(a.entityId),t.length>50&&console.warn("getEntities accepts 50 ids max to match Wikidata API limitations:\n      this request won't get all the desired entities.\n      You can use getManyEntities instead to generate several request urls\n      to work around this limitation");const u={action:"wbgetentities",ids:t.join("|"),format:l};return!1===c&&(u.redirects="no"),n&&(n=i(n).map(o),u.languages=n.join("|")),s&&s.length>0&&(u.props=i(s).join("|")),e(u)}},5680:(e,t,n)=>{const{isPlainObject:r,forceArray:i,shortLang:o}=n(9280);e.exports=e=>(t,n,s,l,c,u)=>{if(r(t)){const e=t;t=e.titles,n=e.sites,s=e.languages,l=e.props,c=e.format,u=e.redirects}if(c=c||"json",!(t&&t.length>0))throw new Error("no titles provided");n&&n.length>0||(n=["enwiki"]),t=i(t),n=i(n).map(a),l=i(l);const d={action:"wbgetentities",titles:t.join("|"),sites:n.join("|"),format:c};return 1===n.length&&1===t.length&&(d.normalize=!0),s&&(s=i(s).map(o),d.languages=s.join("|")),l&&l.length>0&&(d.props=l.join("|")),!1===u&&(d.redirects="no"),e(d)};const a=e=>2===e.length?"".concat(e,"wiki"):e},3792:(e,t,n)=>{const r=n(12),{isPlainObject:i}=n(9280);e.exports=(e,t)=>(n,o)=>(i(n)&&(o=n.revision,n=n.id),r.entityId(n),r.revisionId(o),"".concat(e,"/").concat(t,"/index.php?title=Special:EntityData/").concat(n,".json&revision=").concat(o))},7784:(e,t,n)=>{const{isPlainObject:r}=n(9280);e.exports=e=>{const t=n(6956)(e);return(e,n,o,a,s)=>{if(r(e)&&({ids:e,languages:n,props:o,format:a,redirects:s}=e),!(e instanceof Array))throw new Error("getManyEntities expects an array of ids");return i(e).map((e=>t(e,n,o,a,s)))}};const i=e=>{const t=[];for(;e.length>0;){const n=e.slice(0,50);e=e.slice(50),t.push(n)}return t}},4136:(e,t,n)=>{const{forceArray:r}=n(9280),{isItemId:i}=n(5088),o=n(12);e.exports=e=>{const t=n(540)(e);return function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{limit:s,caseInsensitive:d,keepProperties:p}=i,h=d?c:l,f=p?"":"FILTER NOT EXISTS { ?subject rdf:type wikibase:Property . } ";let m=r(e);m.forEach(o.propertyId),m=m.map(u).join("|");const g=a(n,h,m,f);let v="SELECT DISTINCT ?subject WHERE { ".concat(g," }");return s&&(v+=" LIMIT ".concat(s)),t(v)}};const a=(e,t,n,r)=>{if(!(e instanceof Array))return t(n,s(e),r);return"{ "+e.map(s).map((e=>t(n,e,r))).join("} UNION {")+" }"},s=e=>(i(e)?e="wd:".concat(e):"string"===typeof e&&(e="'".concat(e,"'")),e),l=(e,t,n,r)=>"?subject ".concat(e," ").concat(t," .\n    ").concat(n),c=(e,t,n,r)=>"?subject ".concat(e," ?value .\n    FILTER (lcase(?value) = ").concat(t.toLowerCase(),")\n    ").concat(n),u=e=>"wdt:"+e},4368:(e,t,n)=>{const{forceArray:r}=n(9280),i=n(12);e.exports=e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(t=r(t)).forEach(i.entityPageTitle);const a=1===t.length,s={action:"query",prop:"revisions"};s.titles=t.join("|"),s.format=n.format||"json",a&&(s.rvlimit=n.limit||"max"),a&&n.start&&(s.rvstart=o(n.start)),a&&n.end&&(s.rvend=o(n.end));const{prop:l,user:c,excludeuser:u,tag:d}=n;return s.rvprop=l?r(l).join("|"):"ids|flags|timestamp|user|userid|size|slotsize|sha1|slotsha1|contentmodel|comment|parsedcomment|content|tags|roles|oresscores",s.rvslots="*",c&&(s.rvuser=c),u&&(s.rvexcludeuser=u),d&&(s.rvtag=d),e(s)};const o=e=>"number"===typeof e&&e<a?e:Math.trunc(new Date(e).getTime()/1e3),a=new Date("2000-01-01").getTime()},3656:(e,t,n)=>{const{isPlainObject:r}=n(9280),i=["item","property","lexeme","form","sense"];e.exports=e=>(t,n,o,a,s)=>{let l,c;if(r(t)){const e=t;t=e.search,n=e.language,o=e.limit,c=e.continue,a=e.format,s=e.uselang,l=e.type}if(!(t&&t.length>0))throw new Error("search can't be empty");if(n=n||"en",s=s||n,o=o||"20",a=a||"json",l=l||"item",c=c||"0",!i.includes(l))throw new Error("invalid type: ".concat(l));return e({action:"wbsearchentities",search:t,language:n,limit:o,continue:c,format:a,uselang:s,type:l})}},540:(e,t,n)=>{const{fixedEncodeURIComponent:r}=n(9280);e.exports=e=>t=>{const n=r(t);return"".concat(e,"?format=json&query=").concat(n)}},9852:(e,t,n)=>{const r="undefined"!==typeof location&&"undefined"!==typeof document;let i;i=r?e=>new URLSearchParams(e).toString():n(4080).stringify,e.exports=e=>t=>(r&&(t.origin="*"),Object.keys(t).forEach((e=>{null==t[e]&&delete t[e]})),e+"?"+i(t))},9280:e=>{e.exports={shortLang:e=>e.toLowerCase().split("_")[0],forceArray:e=>("string"===typeof e&&(e=[e]),e||[]),isPlainObject:e=>!(!e||"object"!==typeof e||e instanceof Array),fixedEncodeURIComponent:e=>encodeURIComponent(e).replace(/[!'()*]/g,t),replaceSpaceByUnderscores:e=>e.replace(/\s/g,"_"),uniq:e=>Array.from(new Set(e))};const t=e=>"%"+e.charCodeAt(0).toString(16)},136:(e,t,n)=>{const{isPlainObject:r}=n(9280),i=n(7476),o=n(5424),a=n(5088),s=n(5672),l=n(9648),c=Object.assign({simplify:i,parse:o},a,s,l),u=e=>{if(!r(e))throw new Error("invalid config");const{instance:t,sparqlEndpoint:i}=e;let o,a,s,l,{wgScriptPath:u="w"}=e;if(u=u.replace(/^\//,""),!t&&!i)throw new Error("one of instance or sparqlEndpoint should be set at initialization.\n".concat("Tip: if you just want to access functions that don't need an instance or a sparqlEndpoint,\nthose are also exposed directly on the module object. Exemple:\nconst { isItemId, simplify } = require('wikibase-sdk')"));if(t){d("instance",t),a=t.replace(/\/$/,"").replace("/".concat(u,"/api.php"),""),s="".concat(a,"/").concat(u,"/api.php");const e=n(9852)(s);o={searchEntities:n(3656)(e),cirrusSearchPages:n(4736)(e),getEntities:n(6956)(e),getManyEntities:n(7784)(e),getRevisions:n(4368)(e),getEntityRevision:n(3792)(t,u),getEntitiesFromSitelinks:n(5680)(e)}}else o={searchEntities:f("searchEntities"),cirrusSearchPages:f("cirrusSearchPages"),getEntities:f("getEntities"),getManyEntities:f("getManyEntities"),getRevisions:f("getRevisions"),getEntityRevision:f("getEntityRevision"),getEntitiesFromSitelinks:f("getEntitiesFromSitelinks")};i?(d("sparqlEndpoint",i),l={sparqlQuery:n(540)(i),getReverseClaims:n(4136)(i)}):l={sparqlQuery:h("sparqlQuery"),getReverseClaims:h("getReverseClaims")};const p={instance:{root:a,apiEndpoint:s}};return Object.assign(p,c,o,l)};Object.assign(u,c);const d=(e,t)=>{if("string"!==typeof t||!t.startsWith("http"))throw new Error("invalid ".concat(e,": ").concat(t))},p=e=>t=>()=>{throw new Error("".concat(t," requires ").concat(e," to be set at initialization"))},h=p("a sparqlEndpoint"),f=p("an instance");e.exports=u},1168:(e,t,n)=>{e.exports=n(136)({instance:"https://www.wikidata.org",sparqlEndpoint:"https://query.wikidata.org/sparql"})},5740:e=>{(e.exports=function e(t,n){var r;if(null!==t&&void 0!==t)return n=(n||"").replace(/[^&"<>\']/g,""),r="([&\"<>'])".replace(new RegExp("["+n+"]","g"),""),t.replace(new RegExp(r,"g"),(function(t,n){return e.map[n]}))}).map={">":"&gt;","<":"&lt;","'":"&apos;",'"':"&quot;","&":"&amp;"}},5272:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},6536:(e,t,n)=>{var r=n(1696).default;function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=r(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var o={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},1696:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},9352:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{c:()=>r})},7456:(e,t,n)=>{"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{c:()=>r})},4316:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{c:()=>r})},4816:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(7520);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.c)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},2312:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(7520);function i(e,t,n){return(t=(0,r.c)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5984:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{c:()=>r})},5776:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(7796);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.c)(e,t)}},8792:(e,t,n)=>{"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{c:()=>r})},2664:(e,t,n)=>{"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{c:()=>r})},2540:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(1632);function i(e,t){if(null==e)return{};var n,i,o=(0,r.c)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},1632:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{c:()=>r})},7796:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{c:()=>r})},5376:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(7456);var i=n(3764),o=n(2664);function a(e,t){return(0,r.c)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||(0,i.c)(e,t)||(0,o.c)()}},3188:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(9352);var i=n(8792),o=n(3764);function a(e){return function(e){if(Array.isArray(e))return(0,r.c)(e)}(e)||(0,i.c)(e)||(0,o.c)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7520:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(2784);function i(e){var t=function(e,t){if("object"!=(0,r.c)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.c)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.c)(t)?t:String(t)}},2784:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{c:()=>r})},3764:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(9352);function i(e,t){if(e){if("string"===typeof e)return(0,r.c)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.c)(e,t):void 0}}},6144:e=>{"use strict";e.exports=JSON.parse('{"name":"@citation-js/core","version":"0.5.7","description":"Convert different bibliographic metadata sources","keywords":["citation-js","citation","bibliography"],"author":"Lars Willighagen <lars.willighagen@gmail.com>","license":"MIT","main":"lib/index.js","module":"lib-mjs/index.js","directories":{"lib":"src","test":"__tests__"},"homepage":"https://citation.js.org/","repository":"https://github.com/citation-js/citation-js/tree/master/packages/core","bugs":{"url":"https://github.com/citation-js/citation-js/issues"},"engines":{"node":">=10"},"files":["lib","lib-mjs"],"scripts":{"test":"mocha -c -R dot test/*.spec.js"},"dependencies":{"@citation-js/date":"^0.5.0","@citation-js/name":"^0.4.2","isomorphic-fetch":"^3.0.0","sync-fetch":"^0.3.0"},"devDependencies":{"@babel/plugin-proposal-class-properties":"^7.12.1"},"gitHead":"e253e74b1bb444a2b29fd14a4fd818617b7c55b3"}')},7064:e=>{"use strict";e.exports=JSON.parse('{"abstract":["field","literal"],"addendum":["field","literal"],"afterword":["list","name"],"annotation":["field","literal"],"annotator":["list","name"],"author":["list","name"],"authortype":["field","key"],"bookauthor":["list","name"],"bookpagination":["field","key"],"booksubtitle":["field","literal"],"booktitle":["field","title"],"booktitleaddon":["field","literal"],"chapter":["field","literal"],"commentator":["list","name"],"date":["field","date"],"doi":["field","verbatim"],"edition":["field","literal"],"editor":["list","name"],"editora":["list","name"],"editorb":["list","name"],"editorc":["list","name"],"editortype":["field","key"],"editoratype":["field","key"],"editorbtype":["field","key"],"editorctype":["field","key"],"eid":["field","literal"],"entrysubtype":["field","literal"],"eprint":["field","verbatim"],"eprintclass":["field","literal"],"eprinttype":["field","literal"],"eventdate":["field","date"],"eventtitle":["field","title"],"eventtitleaddon":["field","literal"],"file":["field","verbatim"],"foreword":["list","name"],"holder":["list","name"],"howpublished":["field","literal"],"indextitle":["field","literal"],"institution":["list","literal"],"introduction":["list","name"],"isan":["field","literal"],"isbn":["field","literal"],"ismn":["field","literal"],"isrn":["field","literal"],"issn":["field","literal"],"issue":["field","literal"],"issuesubtitle":["field","literal"],"issuetitle":["field","literal"],"iswc":["field","literal"],"journalsubtitle":["field","literal"],"journaltitle":["field","literal"],"label":["field","literal"],"language":["list","key"],"library":["field","literal"],"location":["list","literal"],"mainsubtitle":["field","literal"],"maintitle":["field","title"],"maintitleaddon":["field","literal"],"month":["field","literal"],"nameaddon":["field","literal"],"note":["field","literal"],"number":["field","literal"],"organization":["list","literal"],"origdate":["field","date"],"origlanguage":["list","key"],"origlocation":["list","literal"],"origpublisher":["list","literal"],"origtitle":["field","title"],"pages":["field","range"],"pagetotal":["field","literal"],"pagination":["field","key"],"part":["field","literal"],"publisher":["list","literal"],"pubstate":["field","key"],"reprinttitle":["field","literal"],"series":["field","title"],"shortauthor":["list","name"],"shorteditor":["list","name"],"shorthand":["field","literal"],"shorthandintro":["field","literal"],"shortjournal":["field","literal"],"shortseries":["field","literal"],"shorttitle":["field","title"],"subtitle":["field","literal"],"title":["field","title"],"titleaddon":["field","literal"],"translator":["list","name"],"type":["field","title"],"url":["field","uri"],"urldate":["field","date"],"venue":["field","literal"],"version":["field","literal"],"volume":["field","integer"],"volumes":["field","integer"],"year":["field","literal"],"crossref":["field","entry key"],"entryset":["separated","literal"],"execute":["field","code"],"gender":["field","gender"],"langid":["field","identifier"],"langidopts":["field","literal"],"ids":["separated","entry key"],"indexsorttitle":["field","literal"],"keywords":["separated","literal"],"options":["separated","options"],"presort":["field","string"],"related":["separated","literal"],"relatedoptions":["separated","literal"],"relatedtype":["field","identifier"],"relatedstring":["field","literal"],"sortkey":["field","literal"],"sortname":["list","name"],"sortshorthand":["field","literal"],"sorttitle":["field","literal"],"sortyear":["field","integer"],"xdata":["separated","entry key"],"xref":["field","entry key"],"namea":["list","name"],"nameb":["list","name"],"namec":["list","name"],"nameatype":["field","key"],"namebtype":["field","key"],"namectype":["field","key"],"lista":["list","literal"],"listb":["list","literal"],"listc":["list","literal"],"listd":["list","literal"],"liste":["list","literal"],"listf":["list","literal"],"usera":["field","literal"],"userb":["field","literal"],"userc":["field","literal"],"userd":["field","literal"],"usere":["field","literal"],"userf":["field","literal"],"verba":["field","literal"],"verbb":["field","literal"],"verbc":["field","literal"],"address":["list","literal"],"annote":["field","literal"],"archiveprefix":["field","literal"],"journal":["field","literal"],"key":["field","literal"],"pdf":["field","verbatim"],"primaryclass":["field","literal"],"school":["list","literal"],"numpages":["field","integer"],"pmid":["field","literal"],"pmcid":["field","literal"]}')},8242:e=>{"use strict";e.exports=JSON.parse('{"biblatex":{"article":["author","title","journaltitle",["year","date"]],"book":["author","title",["year","date"]],"mvbook":["author","title",["year","date"]],"inbook":["author","title","booktitle",["year","date"]],"booklet":[["author","editor"],"title",["year","date"]],"collection":["editor","title",["year","date"]],"mvcollection":["editor","title",["year","date"]],"incollection":["author","title","booktitle",["year","date"]],"dataset":[["author","editor"],"title",["year","date"]],"online":[["author","editor"],"title",["year","date"],["doi","eprint","url"]],"patent":["author","title","number",["year","date"]],"periodical":["editor","title",["year","date"]],"proceedings":["title",["year","date"]],"mvproceedings":["title",["year","date"]],"inproceedings":["author","title","booktitle",["year","date"]],"report":["author","title","type","institution",["year","date"]],"thesis":["author","title","type","institution",["year","date"]],"unpublished":["author","title",["year","date"]],"conference":["author","title","booktitle",["year","date"]],"electronic":[["author","editor"],"title",["year","date"],["doi","eprint","url"]],"mastersthesis":["author","title","institution",["year","date"]],"phdthesis":["author","title","institution",["year","date"]],"techreport":["author","title","institution",["year","date"]],"www":[["author","editor"],"title",["year","date"],["doi","eprint","url"]]},"bibtex":{"article":["author","title","journal","year"],"book":[["author","editor"],"title","publisher","year"],"booklet":["title"],"inbook":[["author","editor"],"title",["chapter","pages"],"publisher","year"],"incollection":["author","title","booktitle","publisher","year"],"inproceedings":["author","title","booktitle","year"],"mastersthesis":["author","title","school","year"],"phdthesis":["author","title","school","year"],"proceedings":["title","year"],"techreport":["author","title","institution","year"],"unpublished":["author","title","note"]}}')},5188:e=>{"use strict";e.exports=JSON.parse('{"diacritics":{"`":"\u0300","\'":"\u0301","^":"\u0302","~":"\u0303","=":"\u0304","u":"\u0306",".":"\u0307","\\"":"\u0308","r":"\u030a","H":"\u030b","v":"\u030c","b":"\u0332","d":"\u0323","c":"\u0327","k":"\u0328","t":"\u0361","textcommabelow":"\u0326"},"commands":{"textquotesingle":"\'","textasciigrave":"`","textquotedbl":"\\"","textdollar":"$","textless":"<","textgreater":">","textbackslash":"\\\\","textasciicircum":"^","textunderscore":"_","textbraceleft":"{","textbar":"|","textbraceright":"}","textasciitilde":"~","textexclamdown":"\xa1","textcent":"\xa2","textsterling":"\xa3","textcurrency":"\xa4","textyen":"\xa5","textbrokenbar":"\xa6","textsection":"\xa7","textasciidieresis":"\xa8","textcopyright":"\xa9","textordfeminine":"\xaa","guillemetleft":"\xab","guillemotleft":"\xab","textlnot":"\xac","textregistered":"\xae","textasciimacron":"\xaf","textdegree":"\xb0","textpm":"\xb1","texttwosuperior":"\xb2","textthreesuperior":"\xb3","textasciiacute":"\xb4","textmu":"\xb5","textparagraph":"\xb6","textperiodcentered":"\xb7","textonesuperior":"\xb9","textordmasculine":"\xba","guillemetright":"\xbb","guillemotright":"\xbb","textonequarter":"\xbc","textonehalf":"\xbd","textthreequarters":"\xbe","textquestiondown":"\xbf","AE":"\xc6","DH":"\xd0","texttimes":"\xd7","O":"\xd8","TH":"\xde","ss":"\xdf","ae":"\xe6","dh":"\xf0","textdiv":"\xf7","o":"\xf8","th":"\xfe","DJ":"\u0110","dj":"\u0111","i":"\u0131","IJ":"\u0132","ij":"\u0133","L":"\u0141","l":"\u0142","NG":"\u014a","ng":"\u014b","OE":"\u0152","oe":"\u0153","textflorin":"\u0192","j":"\u0237","textasciicaron":"\u02c7","textasciibreve":"\u02d8","textacutedbl":"\u02dd","textgravedbl":"\u02f5","texttildelow":"\u02f7","textbaht":"\u0e3f","SS":"\u1e9e","textcompwordmark":"\u200c","textendash":"\u2013","textemdash":"\u2014","textbardbl":"\u2016","textquoteleft":"\u2018","textquoteright":"\u2019","quotesinglbase":"\u201a","textquotedblleft":"\u201c","textquotedblright":"\u201d","quotedblbase":"\u201e","textdagger":"\u2020","textdaggerdbl":"\u2021","textbullet":"\u2022","textellipsis":"\u2026","textperthousand":"\u2030","textpertenthousand":"\u2031","guilsinglleft":"\u2039","guilsinglright":"\u203a","textreferencemark":"\u203b","textinterrobang":"\u203d","textfractionsolidus":"\u2044","textlquill":"\u2045","textrquill":"\u2046","textdiscount":"\u2052","textcolonmonetary":"\u20a1","textlira":"\u20a4","textnaira":"\u20a6","textwon":"\u20a9","textdong":"\u20ab","texteuro":"\u20ac","textpeso":"\u20b1","textcelsius":"\u2103","textnumero":"\u2116","textcircledP":"\u2117","textrecipe":"\u211e","textservicemark":"\u2120","texttrademark":"\u2122","textohm":"\u2126","textmho":"\u2127","textestimated":"\u212e","textleftarrow":"\u2190","textuparrow":"\u2191","textrightarrow":"\u2192","textdownarrow":"\u2193","textminus":"\u2212","Hwithstroke":"\u0126","hwithstroke":"\u0127","textasteriskcentered":"\u2217","textsurd":"\u221a","textlangle":"\u2329","textrangle":"\u232a","textblank":"\u2422","textvisiblespace":"\u2423","textopenbullet":"\u25e6","textbigcircle":"\u25ef","textmusicalnote":"\u266a","textmarried":"\u26ad","textdivorced":"\u26ae","textinterrobangdown":"\u2e18","textcommabelow":null,"copyright":"\xa9","Gamma":"\u0393","Delta":"\u0394","Theta":"\u0398","Lambda":"\u039b","Xi":"\u039e","Pi":"\u03a0","Sigma":"\u03a3","Phi":"\u03a6","Psi":"\u03a8","Omega":"\u03a9","alpha":"\u03b1","beta":"\u03b2","gamma":"\u03b3","delta":"\u03b4","varepsilon":"\u03b5","zeta":"\u03b6","eta":"\u03b7","theta":"\u03b8","iota":"\u03b9","kappa":"\u03ba","lambda":"\u03bb","mu":"\u03bc","nu":"\u03bd","xi":"\u03be","pi":"\u03c0","rho":"\u03c1","varsigma":"\u03c2","sigma":"\u03c3","tau":"\u03c4","upsilon":"\u03c5","varphi":"\u03c6","chi":"\u03c7","psi":"\u03c8","omega":"\u03c9","vartheta":"\u03d1","Upsilon":"\u03d2","phi":"\u03d5","varpi":"\u03d6","varrho":"\u03f1","epsilon":"\u03f5"}}')},480:e=>{"use strict";e.exports=JSON.parse('{"source":{"article":"article-journal","book":"book","mvbook":"book","inbook":"chapter","bookinbook":"book","booklet":"book","collection":"book","mvcollection":"book","incollection":"chapter","dataset":"dataset","online":"webpage","patent":"patent","periodical":"article-journal","proceedings":"book","mvproceedings":"book","inproceedings":"paper-conference","reference":"book","mvreference":"book","inreference":"entry","report":"report","software":"book","thesis":"thesis","unpublished":"manuscript","artwork":"graphic","audio":"song","image":"figure","jurisdiction":"legal_case","legislation":"legislation","legal":"treaty","letter":"personal_communication","movie":"motion_picture","music":"musical_score","review":"review","video":"motion_picture","conference":"paper-conference","electronic":"webpage","mastersthesis":"thesis","phdthesis":"thesis","techreport":"report","www":"webpage"},"target":{"article":"article","article-journal":"article","article-magazine":"article","article-newspaper":"article","bill":"legislation","book":"book","broadcast":"audio","chapter":"inbook","dataset":"dataset","entry":"inreference","entry-dictionary":"inreference","entry-encyclopedia":"inreference","figure":"artwork","graphic":"artwork","interview":"audio","legal_case":"jurisdiction","legislation":"legislation","manuscript":"unpublished","motion_picture":"movie","musical_score":"music","paper-conference":"inproceedings","patent":"patent","personal_communication":"letter","post":"online","post-weblog":"online","report":"report","review":"review","review-book":"review","song":"music","speech":"audio","thesis":"thesis","treaty":"legal","webpage":"online"}}')},9776:e=>{"use strict";e.exports=JSON.parse('{"source":{"article":"article-journal","book":"book","booklet":"book","conference":"paper-conference","inbook":"chapter","incollection":"chapter","inproceedings":"paper-conference","mastersthesis":"thesis","phdthesis":"thesis","proceedings":"book","techreport":"report","unpublished":"manuscript"},"target":{"article":"article","article-journal":"article","article-magazine":"article","article-newspaper":"article","book":"book","chapter":"inbook","manuscript":"unpublished","paper-conference":"inproceedings","report":"techreport","review":"article","review-book":"article"}}')},9240:e=>{"use strict";e.exports=JSON.parse('{"en-US":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"en-US\\"><info><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"true\\"/><date form=\\"text\\"><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"day\\" suffix=\\", \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"accessed\\">accessed</term><term name=\\"and\\">and</term><term name=\\"and others\\">and others</term><term name=\\"anonymous\\">anonymous</term><term name=\\"anonymous\\" form=\\"short\\">anon.</term><term name=\\"at\\">at</term><term name=\\"available at\\">available at</term><term name=\\"by\\">by</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">c.</term><term name=\\"cited\\">cited</term><term name=\\"edition\\"><single>edition</single><multiple>editions</multiple></term><term name=\\"edition\\" form=\\"short\\">ed.</term><term name=\\"et-al\\">et al.</term><term name=\\"forthcoming\\">forthcoming</term><term name=\\"from\\">from</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">in</term><term name=\\"in press\\">in press</term><term name=\\"internet\\">internet</term><term name=\\"interview\\">interview</term><term name=\\"letter\\">letter</term><term name=\\"no date\\">no date</term><term name=\\"no date\\" form=\\"short\\">n.d.</term><term name=\\"online\\">online</term><term name=\\"presented at\\">presented at the</term><term name=\\"reference\\"><single>reference</single><multiple>references</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>ref.</single><multiple>refs.</multiple></term><term name=\\"retrieved\\">retrieved</term><term name=\\"scale\\">scale</term><term name=\\"version\\">version</term><term name=\\"ad\\">AD</term><term name=\\"bc\\">BC</term><term name=\\"open-quote\\">\u201c</term><term name=\\"close-quote\\">\u201d</term><term name=\\"open-inner-quote\\">\u2018</term><term name=\\"close-inner-quote\\">\u2019</term><term name=\\"page-range-delimiter\\">\u2013</term><term name=\\"ordinal\\">th</term><term name=\\"ordinal-01\\">st</term><term name=\\"ordinal-02\\">nd</term><term name=\\"ordinal-03\\">rd</term><term name=\\"ordinal-11\\">th</term><term name=\\"ordinal-12\\">th</term><term name=\\"ordinal-13\\">th</term><term name=\\"long-ordinal-01\\">first</term><term name=\\"long-ordinal-02\\">second</term><term name=\\"long-ordinal-03\\">third</term><term name=\\"long-ordinal-04\\">fourth</term><term name=\\"long-ordinal-05\\">fifth</term><term name=\\"long-ordinal-06\\">sixth</term><term name=\\"long-ordinal-07\\">seventh</term><term name=\\"long-ordinal-08\\">eighth</term><term name=\\"long-ordinal-09\\">ninth</term><term name=\\"long-ordinal-10\\">tenth</term><term name=\\"book\\"><single>book</single><multiple>books</multiple></term><term name=\\"chapter\\"><single>chapter</single><multiple>chapters</multiple></term><term name=\\"column\\"><single>column</single><multiple>columns</multiple></term><term name=\\"figure\\"><single>figure</single><multiple>figures</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folios</multiple></term><term name=\\"issue\\"><single>number</single><multiple>numbers</multiple></term><term name=\\"line\\"><single>line</single><multiple>lines</multiple></term><term name=\\"note\\"><single>note</single><multiple>notes</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opera</multiple></term><term name=\\"page\\"><single>page</single><multiple>pages</multiple></term><term name=\\"number-of-pages\\"><single>page</single><multiple>pages</multiple></term><term name=\\"paragraph\\"><single>paragraph</single><multiple>paragraphs</multiple></term><term name=\\"part\\"><single>part</single><multiple>parts</multiple></term><term name=\\"section\\"><single>section</single><multiple>sections</multiple></term><term name=\\"sub verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>verse</single><multiple>verses</multiple>\\n</term><term name=\\"volume\\"><single>volume</single><multiple>volumes</multiple></term><term name=\\"book\\" form=\\"short\\"><single>bk.</single><multiple>bks.</multiple></term><term name=\\"chapter\\" form=\\"short\\"><single>chap.</single><multiple>chaps.</multiple></term><term name=\\"column\\" form=\\"short\\"><single>col.</single><multiple>cols.</multiple></term><term name=\\"figure\\" form=\\"short\\"><single>fig.</single><multiple>figs.</multiple></term><term name=\\"folio\\" form=\\"short\\"><single>fol.</single><multiple>fols.</multiple></term><term name=\\"issue\\" form=\\"short\\"><single>no.</single><multiple>nos.</multiple></term><term name=\\"line\\" form=\\"short\\"><single>l.</single><multiple>ll.</multiple></term><term name=\\"note\\" form=\\"short\\"><single>n.</single><multiple>nn.</multiple></term><term name=\\"opus\\" form=\\"short\\"><single>op.</single><multiple>opp.</multiple></term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"paragraph\\" form=\\"short\\"><single>para.</single><multiple>paras.</multiple></term><term name=\\"part\\" form=\\"short\\"><single>pt.</single><multiple>pts.</multiple></term><term name=\\"section\\" form=\\"short\\"><single>sec.</single><multiple>secs.</multiple></term><term name=\\"sub verbo\\" form=\\"short\\"><single>s.v.</single><multiple>s.vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>vv.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vols.</multiple></term><term name=\\"paragraph\\" form=\\"symbol\\"><single>\xb6</single><multiple>\xb6\xb6</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7\xa7</multiple></term><term name=\\"director\\"><single>director</single><multiple>directors</multiple></term><term name=\\"editor\\"><single>editor</single><multiple>editors</multiple></term><term name=\\"editorial-director\\"><single>editor</single><multiple>editors</multiple></term><term name=\\"illustrator\\"><single>illustrator</single><multiple>illustrators</multiple></term><term name=\\"translator\\"><single>translator</single><multiple>translators</multiple></term><term name=\\"editortranslator\\"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term><term name=\\"director\\" form=\\"short\\"><single>dir.</single><multiple>dirs.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ill.</single><multiple>ills.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>tran.</single><multiple>trans.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term><term name=\\"container-author\\" form=\\"verb\\">by</term><term name=\\"director\\" form=\\"verb\\">directed by</term><term name=\\"editor\\" form=\\"verb\\">edited by</term><term name=\\"editorial-director\\" form=\\"verb\\">edited by</term><term name=\\"illustrator\\" form=\\"verb\\">illustrated by</term><term name=\\"interviewer\\" form=\\"verb\\">interview by</term><term name=\\"recipient\\" form=\\"verb\\">to</term><term name=\\"reviewed-author\\" form=\\"verb\\">by</term><term name=\\"translator\\" form=\\"verb\\">translated by</term><term name=\\"editortranslator\\" form=\\"verb\\">edited &amp; translated by</term><term name=\\"director\\" form=\\"verb-short\\">dir. by</term><term name=\\"editor\\" form=\\"verb-short\\">ed. by</term><term name=\\"editorial-director\\" form=\\"verb-short\\">ed. by</term><term name=\\"illustrator\\" form=\\"verb-short\\">illus. by</term><term name=\\"translator\\" form=\\"verb-short\\">trans. by</term><term name=\\"editortranslator\\" form=\\"verb-short\\">ed. &amp; trans. by</term><term name=\\"month-01\\">January</term><term name=\\"month-02\\">February</term><term name=\\"month-03\\">March</term><term name=\\"month-04\\">April</term><term name=\\"month-05\\">May</term><term name=\\"month-06\\">June</term><term name=\\"month-07\\">July</term><term name=\\"month-08\\">August</term><term name=\\"month-09\\">September</term>\\n<term name=\\"month-10\\">October</term><term name=\\"month-11\\">November</term><term name=\\"month-12\\">December</term><term name=\\"month-01\\" form=\\"short\\">Jan.</term><term name=\\"month-02\\" form=\\"short\\">Feb.</term><term name=\\"month-03\\" form=\\"short\\">Mar.</term><term name=\\"month-04\\" form=\\"short\\">Apr.</term><term name=\\"month-05\\" form=\\"short\\">May</term><term name=\\"month-06\\" form=\\"short\\">Jun.</term><term name=\\"month-07\\" form=\\"short\\">Jul.</term><term name=\\"month-08\\" form=\\"short\\">Aug.</term><term name=\\"month-09\\" form=\\"short\\">Sep.</term><term name=\\"month-10\\" form=\\"short\\">Oct.</term><term name=\\"month-11\\" form=\\"short\\">Nov.</term><term name=\\"month-12\\" form=\\"short\\">Dec.</term><term name=\\"season-01\\">Spring</term><term name=\\"season-02\\">Summer</term><term name=\\"season-03\\">Autumn</term><term name=\\"season-04\\">Winter</term></terms></locale>","nl-NL":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"nl-NL\\"><info><translator><name>Rintze Zelle</name><uri>http://twitter.com/rintzezelle</uri></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\"/><date form=\\"text\\"><date-part name=\\"day\\" suffix=\\" \\"/><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" suffix=\\"-\\" range-delimiter=\\"/\\"/><date-part name=\\"month\\" form=\\"numeric\\" suffix=\\"-\\" range-delimiter=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"accessed\\">geraadpleegd</term><term name=\\"and\\">en</term><term name=\\"and others\\">en anderen</term><term name=\\"anonymous\\">anoniem</term><term name=\\"anonymous\\" form=\\"short\\">anon.</term><term name=\\"at\\">bij</term><term name=\\"available at\\">beschikbaar op</term><term name=\\"by\\">door</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">c.</term><term name=\\"cited\\">geciteerd</term><term name=\\"edition\\"><single>editie</single><multiple>edities</multiple></term><term name=\\"edition\\" form=\\"short\\">ed.</term><term name=\\"et-al\\">e.a.</term><term name=\\"forthcoming\\">in voorbereiding</term><term name=\\"from\\">van</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">in</term><term name=\\"in press\\">in druk</term><term name=\\"internet\\">internet</term><term name=\\"interview\\">interview</term><term name=\\"letter\\">brief</term><term name=\\"no date\\">zonder datum</term><term name=\\"no date\\" form=\\"short\\">z.d.</term><term name=\\"online\\">online</term><term name=\\"presented at\\">gepresenteerd bij</term><term name=\\"reference\\"><single>referentie</single><multiple>referenties</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>ref.</single><multiple>refs.</multiple></term><term name=\\"retrieved\\">geraadpleegd</term><term name=\\"scale\\">schaal</term><term name=\\"version\\">versie</term><term name=\\"ad\\">AD</term><term name=\\"bc\\">BC</term><term name=\\"open-quote\\">\u201c</term><term name=\\"close-quote\\">\u201d</term><term name=\\"open-inner-quote\\">\u2018</term><term name=\\"close-inner-quote\\">\u2019</term><term name=\\"page-range-delimiter\\">\u2013</term><term name=\\"ordinal\\">ste</term><term name=\\"ordinal-00\\" match=\\"whole-number\\">de</term><term name=\\"ordinal-02\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-03\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-04\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-05\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-06\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-07\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-09\\" match=\\"last-two-digits\\">de</term><term name=\\"ordinal-10\\">de</term><term name=\\"ordinal-11\\">de</term><term name=\\"ordinal-12\\">de</term><term name=\\"ordinal-13\\">de</term><term name=\\"ordinal-14\\">de</term><term name=\\"ordinal-15\\">de</term><term name=\\"ordinal-16\\">de</term><term name=\\"ordinal-17\\">de</term><term name=\\"ordinal-18\\">de</term><term name=\\"ordinal-19\\">de</term><term name=\\"long-ordinal-01\\">eerste</term><term name=\\"long-ordinal-02\\">tweede</term><term name=\\"long-ordinal-03\\">derde</term><term name=\\"long-ordinal-04\\">vierde</term><term name=\\"long-ordinal-05\\">vijfde</term><term name=\\"long-ordinal-06\\">zesde</term><term name=\\"long-ordinal-07\\">zevende</term><term name=\\"long-ordinal-08\\">achtste</term><term name=\\"long-ordinal-09\\">negende</term><term name=\\"long-ordinal-10\\">tiende</term><term name=\\"book\\"><single>boek</single><multiple>boeken</multiple></term><term name=\\"chapter\\"><single>hoofdstuk</single><multiple>hoofdstukken</multiple></term><term name=\\"column\\"><single>column</single><multiple>columns</multiple></term><term name=\\"figure\\"><single>figuur</single><multiple>figuren</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folio\'s</multiple></term><term name=\\"issue\\"><single>nummer</single><multiple>nummers</multiple></term><term name=\\"line\\"><single>regel</single><multiple>regels</multiple>\\n</term><term name=\\"note\\"><single>aantekening</single><multiple>aantekeningen</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opera</multiple></term><term name=\\"page\\"><single>pagina</single><multiple>pagina\'s</multiple></term><term name=\\"number-of-pages\\"><single>pagina</single><multiple>pagina\'s</multiple></term><term name=\\"paragraph\\"><single>paragraaf</single><multiple>paragrafen</multiple></term><term name=\\"part\\"><single>deel</single><multiple>delen</multiple></term><term name=\\"section\\"><single>sectie</single><multiple>secties</multiple></term><term name=\\"sub verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>vers</single><multiple>versen</multiple></term><term name=\\"volume\\"><single>volume</single><multiple>volumes</multiple></term><term name=\\"book\\" form=\\"short\\">bk.</term><term name=\\"chapter\\" form=\\"short\\">hfdst.</term><term name=\\"column\\" form=\\"short\\">col.</term><term name=\\"figure\\" form=\\"short\\">fig.</term><term name=\\"folio\\" form=\\"short\\">f.</term><term name=\\"issue\\" form=\\"short\\">nr.</term><term name=\\"line\\" form=\\"short\\">l.</term><term name=\\"note\\" form=\\"short\\">n.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">par.</term><term name=\\"part\\" form=\\"short\\">deel</term><term name=\\"section\\" form=\\"short\\">sec.</term><term name=\\"sub verbo\\" form=\\"short\\"><single>s.v.</single><multiple>s.vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>vv.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vols.</multiple></term><term name=\\"paragraph\\" form=\\"symbol\\"><single>\xb6</single><multiple>\xb6\xb6</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7\xa7</multiple></term><term name=\\"director\\"><single>regisseur</single><multiple>regisseurs</multiple></term><term name=\\"editor\\"><single>redacteur</single><multiple>redacteuren</multiple></term><term name=\\"editorial-director\\"><single>redacteur</single><multiple>redacteuren</multiple></term><term name=\\"illustrator\\"><single>illustrator</single><multiple>illustrators</multiple></term><term name=\\"translator\\"><single>vertaler</single><multiple>vertalers</multiple></term><term name=\\"editortranslator\\"><single>redacteur &amp; vertaler</single><multiple>redacteuren &amp; vertalers</multiple></term><term name=\\"director\\" form=\\"short\\"><single>reg.</single><multiple>reg.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>red.</single><multiple>red.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>red.</single><multiple>red.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ill.</single><multiple>ill.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>vert.</single><multiple>vert.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>red. &amp; vert.</single><multiple>red. &amp; vert.</multiple></term><term name=\\"container-author\\" form=\\"verb\\">door</term><term name=\\"director\\" form=\\"verb\\">geregisseerd door</term><term name=\\"editor\\" form=\\"verb\\">bewerkt door</term><term name=\\"editorial-director\\" form=\\"verb\\">bewerkt door</term><term name=\\"illustrator\\" form=\\"verb\\">ge\xefllustreerd door</term><term name=\\"interviewer\\" form=\\"verb\\">ge\xefnterviewd door</term><term name=\\"recipient\\" form=\\"verb\\">ontvangen door</term><term name=\\"reviewed-author\\" form=\\"verb\\">door</term><term name=\\"translator\\" form=\\"verb\\">vertaald door</term><term name=\\"editortranslator\\" form=\\"verb\\">bewerkt &amp; vertaald door</term><term name=\\"director\\" form=\\"verb-short\\">geregisseerd door</term><term name=\\"editor\\" form=\\"verb-short\\">bewerkt door</term><term name=\\"editorial-director\\" form=\\"verb-short\\">bewerkt door</term><term name=\\"illustrator\\" form=\\"verb-short\\">ge\xefllustreerd door</term><term name=\\"translator\\" form=\\"verb-short\\">vertaald door</term><term name=\\"editortranslator\\" form=\\"verb-short\\">bewerkt &amp; vertaald door</term>\\n<term name=\\"month-01\\">januari</term><term name=\\"month-02\\">februari</term><term name=\\"month-03\\">maart</term><term name=\\"month-04\\">april</term><term name=\\"month-05\\">mei</term><term name=\\"month-06\\">juni</term><term name=\\"month-07\\">juli</term><term name=\\"month-08\\">augustus</term><term name=\\"month-09\\">september</term><term name=\\"month-10\\">oktober</term><term name=\\"month-11\\">november</term><term name=\\"month-12\\">december</term><term name=\\"month-01\\" form=\\"short\\">jan.</term><term name=\\"month-02\\" form=\\"short\\">feb.</term><term name=\\"month-03\\" form=\\"short\\">mrt.</term><term name=\\"month-04\\" form=\\"short\\">apr.</term><term name=\\"month-05\\" form=\\"short\\">mei</term><term name=\\"month-06\\" form=\\"short\\">jun.</term><term name=\\"month-07\\" form=\\"short\\">jul.</term><term name=\\"month-08\\" form=\\"short\\">aug.</term><term name=\\"month-09\\" form=\\"short\\">sep.</term><term name=\\"month-10\\" form=\\"short\\">okt.</term><term name=\\"month-11\\" form=\\"short\\">nov.</term><term name=\\"month-12\\" form=\\"short\\">dec.</term><term name=\\"season-01\\">lente</term><term name=\\"season-02\\">zomer</term><term name=\\"season-03\\">herst</term><term name=\\"season-04\\">winter</term></terms></locale>","fr-FR":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"fr-FR\\"><info><translator><name>Gr\xe9goire Colly</name></translator><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\" limit-day-ordinals-to-day-1=\\"true\\"/><date form=\\"text\\"><date-part name=\\"day\\" suffix=\\" \\"/><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"accessed\\">consult\xe9 le</term><term name=\\"and\\">et</term><term name=\\"and others\\">et autres</term><term name=\\"anonymous\\">anonyme</term><term name=\\"anonymous\\" form=\\"short\\">anon.</term><term name=\\"at\\">sur</term><term name=\\"available at\\">disponible sur</term><term name=\\"by\\">par</term><term name=\\"circa\\">vers</term><term name=\\"circa\\" form=\\"short\\">v.</term><term name=\\"cited\\">cit\xe9</term><term name=\\"edition\\" gender=\\"feminine\\"><single>\xe9dition</single><multiple>\xe9ditions</multiple></term><term name=\\"edition\\" form=\\"short\\">\xe9d.</term><term name=\\"et-al\\">et al.</term><term name=\\"forthcoming\\">\xe0 para\xeetre</term><term name=\\"from\\">\xe0 l\'adresse</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">in</term><term name=\\"in press\\">sous presse</term><term name=\\"internet\\">Internet</term><term name=\\"interview\\">entretien</term><term name=\\"letter\\">lettre</term><term name=\\"no date\\">sans date</term><term name=\\"no date\\" form=\\"short\\">s.&#160;d.</term><term name=\\"online\\">en ligne</term><term name=\\"presented at\\">pr\xe9sent\xe9 \xe0</term><term name=\\"reference\\"><single>r\xe9f\xe9rence</single><multiple>r\xe9f\xe9rences</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>r\xe9f.</single><multiple>r\xe9f.</multiple></term><term name=\\"retrieved\\">consult\xe9</term><term name=\\"scale\\">\xe9chelle</term><term name=\\"version\\">version</term><term name=\\"ad\\">apr. J.-C.</term><term name=\\"bc\\">av. J.-C.</term><term name=\\"open-quote\\">\xab&#160;</term><term name=\\"close-quote\\">&#160;\xbb</term><term name=\\"open-inner-quote\\">\u201c</term><term name=\\"close-inner-quote\\">\u201d</term><term name=\\"page-range-delimiter\\">&#8209;</term><term name=\\"ordinal\\">\u1d49</term><term name=\\"ordinal-01\\" gender-form=\\"feminine\\" match=\\"whole-number\\">\u02b3\u1d49</term><term name=\\"ordinal-01\\" gender-form=\\"masculine\\" match=\\"whole-number\\">\u1d49\u02b3</term><term name=\\"long-ordinal-01\\">premier</term><term name=\\"long-ordinal-02\\">deuxi\xe8me</term><term name=\\"long-ordinal-03\\">troisi\xe8me</term><term name=\\"long-ordinal-04\\">quatri\xe8me</term><term name=\\"long-ordinal-05\\">cinqui\xe8me</term><term name=\\"long-ordinal-06\\">sixi\xe8me</term><term name=\\"long-ordinal-07\\">septi\xe8me</term><term name=\\"long-ordinal-08\\">huiti\xe8me</term><term name=\\"long-ordinal-09\\">neuvi\xe8me</term><term name=\\"long-ordinal-10\\">dixi\xe8me</term><term name=\\"book\\"><single>livre</single><multiple>livres</multiple></term><term name=\\"chapter\\"><single>chapitre</single><multiple>chapitres</multiple></term><term name=\\"column\\"><single>colonne</single><multiple>colonnes</multiple></term><term name=\\"figure\\"><single>figure</single><multiple>figures</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folios</multiple></term><term name=\\"issue\\" gender=\\"masculine\\"><single>num\xe9ro</single><multiple>num\xe9ros</multiple></term><term name=\\"line\\"><single>ligne</single><multiple>lignes</multiple></term><term name=\\"note\\"><single>note</single><multiple>notes</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opus</multiple></term><term name=\\"page\\"><single>page</single><multiple>pages</multiple></term><term name=\\"number-of-pages\\"><single>page</single><multiple>pages</multiple></term><term name=\\"paragraph\\"><single>paragraphe</single><multiple>paragraphes</multiple></term><term name=\\"part\\"><single>partie</single><multiple>parties</multiple></term><term name=\\"section\\"><single>section</single><multiple>sections</multiple>\\n</term><term name=\\"sub verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>verset</single><multiple>versets</multiple></term><term name=\\"volume\\" gender=\\"masculine\\"><single>volume</single><multiple>volumes</multiple></term><term name=\\"book\\" form=\\"short\\">liv.</term><term name=\\"chapter\\" form=\\"short\\">chap.</term><term name=\\"column\\" form=\\"short\\">col.</term><term name=\\"figure\\" form=\\"short\\">fig.</term><term name=\\"folio\\" form=\\"short\\"><single>f\u1d52</single><multiple>f\u1d52\u02e2</multiple></term><term name=\\"issue\\" form=\\"short\\"><single>n\u1d52</single><multiple>n\u1d52\u02e2</multiple></term><term name=\\"line\\" form=\\"short\\">l.</term><term name=\\"note\\" form=\\"short\\">n.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>p.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>p.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">paragr.</term><term name=\\"part\\" form=\\"short\\">part.</term><term name=\\"section\\" form=\\"short\\">sect.</term><term name=\\"sub verbo\\" form=\\"short\\"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>v.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vol.</multiple></term><term name=\\"paragraph\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7</multiple></term><term name=\\"director\\"><single>r\xe9alisateur</single><multiple>r\xe9alisateurs</multiple></term><term name=\\"editor\\"><single>\xe9diteur</single><multiple>\xe9diteurs</multiple></term><term name=\\"editorial-director\\"><single>directeur</single><multiple>directeurs</multiple></term><term name=\\"illustrator\\"><single>illustrateur</single><multiple>illustrateurs</multiple></term><term name=\\"translator\\"><single>traducteur</single><multiple>traducteurs</multiple></term><term name=\\"editortranslator\\"><single>\xe9diteur et traducteur</single><multiple>\xe9diteurs et traducteurs</multiple></term><term name=\\"director\\" form=\\"short\\"><single>r\xe9al.</single><multiple>r\xe9al.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>\xe9d.</single><multiple>\xe9d.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>dir.</single><multiple>dir.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ill.</single><multiple>ill.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>trad.</single><multiple>trad.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>\xe9d. et trad.</single><multiple>\xe9d. et trad.</multiple></term><term name=\\"container-author\\" form=\\"verb\\">par</term><term name=\\"director\\" form=\\"verb\\">r\xe9alis\xe9 par</term><term name=\\"editor\\" form=\\"verb\\">\xe9dit\xe9 par</term><term name=\\"editorial-director\\" form=\\"verb\\">sous la direction de</term><term name=\\"illustrator\\" form=\\"verb\\">illustr\xe9 par</term><term name=\\"interviewer\\" form=\\"verb\\">entretien r\xe9alis\xe9 par</term><term name=\\"recipient\\" form=\\"verb\\">\xe0</term><term name=\\"reviewed-author\\" form=\\"verb\\">par</term><term name=\\"translator\\" form=\\"verb\\">traduit par</term><term name=\\"editortranslator\\" form=\\"verb\\">\xe9dit\xe9 et traduit par</term><term name=\\"director\\" form=\\"verb-short\\">r\xe9al. par</term><term name=\\"editor\\" form=\\"verb-short\\">\xe9d. par</term><term name=\\"editorial-director\\" form=\\"verb-short\\">ss la dir. de</term><term name=\\"illustrator\\" form=\\"verb-short\\">ill. par</term><term name=\\"translator\\" form=\\"verb-short\\">trad. par</term><term name=\\"editortranslator\\" form=\\"verb-short\\">\xe9d. et trad. par</term><term name=\\"month-01\\" gender=\\"masculine\\">janvier</term><term name=\\"month-02\\" gender=\\"masculine\\">f\xe9vrier</term><term name=\\"month-03\\" gender=\\"masculine\\">mars</term><term name=\\"month-04\\" gender=\\"masculine\\">avril</term><term name=\\"month-05\\" gender=\\"masculine\\">mai</term><term name=\\"month-06\\" gender=\\"masculine\\">juin</term><term name=\\"month-07\\" gender=\\"masculine\\">juillet</term><term name=\\"month-08\\" gender=\\"masculine\\">ao\xfbt</term><term name=\\"month-09\\" gender=\\"masculine\\">septembre</term><term name=\\"month-10\\" gender=\\"masculine\\">\\noctobre</term><term name=\\"month-11\\" gender=\\"masculine\\">novembre</term><term name=\\"month-12\\" gender=\\"masculine\\">d\xe9cembre</term><term name=\\"month-01\\" form=\\"short\\">janv.</term><term name=\\"month-02\\" form=\\"short\\">f\xe9vr.</term><term name=\\"month-03\\" form=\\"short\\">mars</term><term name=\\"month-04\\" form=\\"short\\">avr.</term><term name=\\"month-05\\" form=\\"short\\">mai</term><term name=\\"month-06\\" form=\\"short\\">juin</term><term name=\\"month-07\\" form=\\"short\\">juill.</term><term name=\\"month-08\\" form=\\"short\\">ao\xfbt</term><term name=\\"month-09\\" form=\\"short\\">sept.</term><term name=\\"month-10\\" form=\\"short\\">oct.</term><term name=\\"month-11\\" form=\\"short\\">nov.</term><term name=\\"month-12\\" form=\\"short\\">d\xe9c.</term><term name=\\"season-01\\">printemps</term><term name=\\"season-02\\">\xe9t\xe9</term><term name=\\"season-03\\">automne</term><term name=\\"season-04\\">hiver</term></terms></locale>","de-DE":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"de-DE\\"><info><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\"/><date form=\\"text\\"><date-part name=\\"day\\" form=\\"ordinal\\" suffix=\\" \\"/><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\".\\"/><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\".\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"accessed\\">zugegriffen</term><term name=\\"and\\">und</term><term name=\\"and others\\">und andere</term><term name=\\"anonymous\\">ohne Autor</term><term name=\\"anonymous\\" form=\\"short\\">o.&#160;A.</term><term name=\\"at\\">auf</term><term name=\\"available at\\">verf\xfcgbar unter</term><term name=\\"by\\">von</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">ca.</term><term name=\\"cited\\">zitiert</term><term name=\\"edition\\"><single>Auflage</single><multiple>Auflagen</multiple></term><term name=\\"edition\\" form=\\"short\\">Aufl.</term><term name=\\"et-al\\">u.&#160;a.</term><term name=\\"forthcoming\\">i.&#160;E.</term><term name=\\"from\\">von</term><term name=\\"ibid\\">ebd.</term><term name=\\"in\\">in</term><term name=\\"in press\\">im Druck</term><term name=\\"internet\\">Internet</term><term name=\\"interview\\">Interview</term><term name=\\"letter\\">Brief</term><term name=\\"no date\\">ohne Datum</term><term name=\\"no date\\" form=\\"short\\">o.&#160;J.</term><term name=\\"online\\">online</term><term name=\\"presented at\\">gehalten auf der</term><term name=\\"reference\\"><single>Referenz</single><multiple>Referenzen</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>Ref.</single><multiple>Ref.</multiple></term><term name=\\"retrieved\\">abgerufen</term><term name=\\"scale\\">Ma\xdfstab</term><term name=\\"version\\">Version</term><term name=\\"ad\\">n.&#160;Chr.</term><term name=\\"bc\\">v.&#160;Chr.</term><term name=\\"open-quote\\">\u201e</term><term name=\\"close-quote\\">\u201c</term><term name=\\"open-inner-quote\\">\u201a</term><term name=\\"close-inner-quote\\">\u2018</term><term name=\\"page-range-delimiter\\">\u2013</term><term name=\\"ordinal\\">.</term><term name=\\"long-ordinal-01\\">erster</term><term name=\\"long-ordinal-02\\">zweiter</term><term name=\\"long-ordinal-03\\">dritter</term><term name=\\"long-ordinal-04\\">vierter</term><term name=\\"long-ordinal-05\\">f\xfcnfter</term><term name=\\"long-ordinal-06\\">sechster</term><term name=\\"long-ordinal-07\\">siebter</term><term name=\\"long-ordinal-08\\">achter</term><term name=\\"long-ordinal-09\\">neunter</term><term name=\\"long-ordinal-10\\">zehnter</term><term name=\\"book\\"><single>Buch</single><multiple>B\xfccher</multiple></term><term name=\\"chapter\\"><single>Kapitel</single><multiple>Kapitel</multiple></term><term name=\\"column\\"><single>Spalte</single><multiple>Spalten</multiple></term><term name=\\"figure\\"><single>Abbildung</single><multiple>Abbildungen</multiple></term><term name=\\"folio\\"><single>Blatt</single><multiple>Bl\xe4tter</multiple></term><term name=\\"issue\\"><single>Nummer</single><multiple>Nummern</multiple></term><term name=\\"line\\"><single>Zeile</single><multiple>Zeilen</multiple></term><term name=\\"note\\"><single>Note</single><multiple>Noten</multiple></term><term name=\\"opus\\"><single>Opus</single><multiple>Opera</multiple></term><term name=\\"page\\"><single>Seite</single><multiple>Seiten</multiple></term><term name=\\"number-of-pages\\"><single>Seite</single><multiple>Seiten</multiple></term><term name=\\"paragraph\\"><single>Absatz</single><multiple>Abs\xe4tze</multiple></term><term name=\\"part\\"><single>Teil</single><multiple>Teile</multiple></term><term name=\\"section\\"><single>Abschnitt</single><multiple>Abschnitte</multiple></term><term name=\\"sub verbo\\"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name=\\"verse\\"><single>Vers</single><multiple>Verse</multiple></term><term name=\\"volume\\"><single>Band</single><multiple>B\xe4nde</multiple></term><term name=\\"book\\" form=\\"short\\">B.</term>\\n<term name=\\"chapter\\" form=\\"short\\">Kap.</term><term name=\\"column\\" form=\\"short\\">Sp.</term><term name=\\"figure\\" form=\\"short\\">Abb.</term><term name=\\"folio\\" form=\\"short\\">Fol.</term><term name=\\"issue\\" form=\\"short\\">Nr.</term><term name=\\"line\\" form=\\"short\\">Z.</term><term name=\\"note\\" form=\\"short\\">N.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>S.</single><multiple>S.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>S.</single><multiple>S.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">Abs.</term><term name=\\"part\\" form=\\"short\\">Teil</term><term name=\\"section\\" form=\\"short\\">Abschn.</term><term name=\\"sub verbo\\" form=\\"short\\"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>V.</single><multiple>V.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>Bd.</single><multiple>Bde.</multiple></term><term name=\\"paragraph\\" form=\\"symbol\\"><single>\xb6</single><multiple>\xb6\xb6</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7\xa7</multiple></term><term name=\\"director\\"><single>Regisseur</single><multiple>Regisseure</multiple></term><term name=\\"editor\\"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name=\\"collection-editor\\"><single>Reihenherausgeber</single><multiple>Reihenherausgeber</multiple></term><term name=\\"editorial-director\\"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name=\\"illustrator\\"><single>Illustrator</single><multiple>Illustratoren</multiple></term><term name=\\"translator\\"><single>\xdcbersetzer</single><multiple>\xdcbersetzer</multiple></term><term name=\\"editortranslator\\"><single>Herausgeber&#160;&amp; \xdcbersetzer</single><multiple>Herausgeber&#160;&amp; \xdcbersetzer</multiple></term><term name=\\"director\\" form=\\"short\\"><single>Reg.</single><multiple>Reg.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name=\\"collection-editor\\" form=\\"short\\"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>Ill.</single><multiple>Ill.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>\xdcbers.</single><multiple>\xdcbers.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>Hrsg.&#160;&amp; \xdcbers.</single><multiple>Hrsg.&#160;&amp; \xdcbers</multiple></term><term name=\\"container-author\\" form=\\"verb\\">von</term><term name=\\"director\\" form=\\"verb\\">Regie von</term><term name=\\"editor\\" form=\\"verb\\">herausgegeben von</term><term name=\\"collection-editor\\" form=\\"verb\\">herausgegeben von</term><term name=\\"editorial-director\\" form=\\"verb\\">herausgegeben von</term><term name=\\"illustrator\\" form=\\"verb\\">illustriert von</term><term name=\\"interviewer\\" form=\\"verb\\">interviewt von</term><term name=\\"recipient\\" form=\\"verb\\">an</term><term name=\\"reviewed-author\\" form=\\"verb\\">von</term><term name=\\"translator\\" form=\\"verb\\">\xfcbersetzt von</term><term name=\\"editortranslator\\" form=\\"verb\\">herausgegeben und \xfcbersetzt von</term><term name=\\"director\\" form=\\"verb-short\\">Reg.</term><term name=\\"editor\\" form=\\"verb-short\\">hg. von</term><term name=\\"collection-editor\\" form=\\"verb-short\\">hg. von</term><term name=\\"editorial-director\\" form=\\"verb-short\\">hg. von</term><term name=\\"illustrator\\" form=\\"verb-short\\">illus. von</term><term name=\\"translator\\" form=\\"verb-short\\">\xfcbers. von</term><term name=\\"editortranslator\\" form=\\"verb-short\\">hg.&#160;&amp; \xfcbers. von</term><term name=\\"month-01\\">Januar</term><term name=\\"month-02\\">Februar</term><term name=\\"month-03\\">M\xe4rz</term><term name=\\"month-04\\">April</term><term name=\\"month-05\\">Mai</term><term name=\\"month-06\\">Juni</term><term name=\\"month-07\\">Juli</term><term name=\\"month-08\\">August</term><term name=\\"month-09\\">September</term><term name=\\"month-10\\">Oktober</term><term name=\\"month-11\\">November</term><term name=\\"month-12\\">Dezember</term><term name=\\"month-01\\" form=\\"short\\">Jan.</term><term name=\\"month-02\\" form=\\"short\\">Feb.</term>\\n<term name=\\"month-03\\" form=\\"short\\">M\xe4rz</term><term name=\\"month-04\\" form=\\"short\\">Apr.</term><term name=\\"month-05\\" form=\\"short\\">Mai</term><term name=\\"month-06\\" form=\\"short\\">Juni</term><term name=\\"month-07\\" form=\\"short\\">Juli</term><term name=\\"month-08\\" form=\\"short\\">Aug.</term><term name=\\"month-09\\" form=\\"short\\">Sep.</term><term name=\\"month-10\\" form=\\"short\\">Okt.</term><term name=\\"month-11\\" form=\\"short\\">Nov.</term><term name=\\"month-12\\" form=\\"short\\">Dez.</term><term name=\\"season-01\\">Fr\xfchjahr</term><term name=\\"season-02\\">Sommer</term><term name=\\"season-03\\">Herbst</term><term name=\\"season-04\\">Winter</term></terms></locale>","es-ES":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><locale xmlns=\\"http://purl.org/net/xbiblio/csl\\" version=\\"1.0\\" xml:lang=\\"es-ES\\"><info><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote=\\"false\\"/><date form=\\"text\\"><date-part name=\\"day\\" suffix=\\" de \\"/><date-part name=\\"month\\" suffix=\\" de \\"/><date-part name=\\"year\\"/></date><date form=\\"numeric\\"><date-part name=\\"day\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"month\\" form=\\"numeric-leading-zeros\\" suffix=\\"/\\"/><date-part name=\\"year\\"/></date><terms><term name=\\"accessed\\">accedido</term><term name=\\"and\\">y</term><term name=\\"and others\\">y otros</term><term name=\\"anonymous\\">an\xf3nimo</term><term name=\\"anonymous\\" form=\\"short\\">an\xf3n.</term><term name=\\"at\\">en</term><term name=\\"available at\\">disponible en</term><term name=\\"by\\">de</term><term name=\\"circa\\">circa</term><term name=\\"circa\\" form=\\"short\\">c.</term><term name=\\"cited\\">citado</term><term name=\\"edition\\"><single>edici\xf3n</single><multiple>ediciones</multiple></term><term name=\\"edition\\" form=\\"short\\">ed.</term><term name=\\"et-al\\">et&#160;al.</term><term name=\\"forthcoming\\">previsto</term><term name=\\"from\\">a partir de</term><term name=\\"ibid\\">ibid.</term><term name=\\"in\\">en</term><term name=\\"in press\\">en imprenta</term><term name=\\"internet\\">internet</term><term name=\\"interview\\">entrevista</term><term name=\\"letter\\">carta</term><term name=\\"no date\\">sin fecha</term><term name=\\"no date\\" form=\\"short\\">s.&#160;f.</term><term name=\\"online\\">en l\xednea</term><term name=\\"presented at\\">presentado en</term><term name=\\"reference\\"><single>referencia</single><multiple>referencias</multiple></term><term name=\\"reference\\" form=\\"short\\"><single>ref.</single><multiple>refs.</multiple></term><term name=\\"retrieved\\">recuperado</term><term name=\\"scale\\">escala</term><term name=\\"version\\">versi\xf3n</term><term name=\\"ad\\">d.&#160;C.</term><term name=\\"bc\\">a.&#160;C.</term><term name=\\"open-quote\\">\xab</term><term name=\\"close-quote\\">\xbb</term><term name=\\"open-inner-quote\\">\u201c</term><term name=\\"close-inner-quote\\">\u201d</term><term name=\\"page-range-delimiter\\">-</term><term name=\\"ordinal\\">.\xaa</term><term name=\\"long-ordinal-01\\">primera</term><term name=\\"long-ordinal-02\\">segunda</term><term name=\\"long-ordinal-03\\">tercera</term><term name=\\"long-ordinal-04\\">cuarta</term><term name=\\"long-ordinal-05\\">quinta</term><term name=\\"long-ordinal-06\\">sexta</term><term name=\\"long-ordinal-07\\">s\xe9ptima</term><term name=\\"long-ordinal-08\\">octava</term><term name=\\"long-ordinal-09\\">novena</term><term name=\\"long-ordinal-10\\">d\xe9cima</term><term name=\\"book\\"><single>libro</single><multiple>libros</multiple></term><term name=\\"chapter\\"><single>cap\xedtulo</single><multiple>cap\xedtulos</multiple></term><term name=\\"column\\"><single>columna</single><multiple>columnas</multiple></term><term name=\\"figure\\"><single>figura</single><multiple>figuras</multiple></term><term name=\\"folio\\"><single>folio</single><multiple>folios</multiple></term><term name=\\"issue\\"><single>n\xfamero</single><multiple>n\xfameros</multiple></term><term name=\\"line\\"><single>l\xednea</single><multiple>l\xedneas</multiple></term><term name=\\"note\\"><single>nota</single><multiple>notas</multiple></term><term name=\\"opus\\"><single>opus</single><multiple>opera</multiple></term><term name=\\"page\\"><single>p\xe1gina</single><multiple>p\xe1ginas</multiple></term><term name=\\"number-of-pages\\"><single>p\xe1gina</single><multiple>p\xe1ginas</multiple></term><term name=\\"paragraph\\"><single>p\xe1rrafo</single><multiple>p\xe1rrafos</multiple></term><term name=\\"part\\"><single>parte</single><multiple>partes</multiple></term><term name=\\"section\\"><single>secci\xf3n</single><multiple>secciones</multiple></term><term name=\\"sub verbo\\"><single>sub voce</single><multiple>sub vocibus</multiple></term><term name=\\"verse\\"><single>verso</single><multiple>versos</multiple></term><term name=\\"volume\\"><single>volumen</single><multiple>vol\xfamenes</multiple></term><term name=\\"book\\" form=\\"short\\">lib.</term>\\n<term name=\\"chapter\\" form=\\"short\\">cap.</term><term name=\\"column\\" form=\\"short\\">col.</term><term name=\\"figure\\" form=\\"short\\">fig.</term><term name=\\"folio\\" form=\\"short\\">f.</term><term name=\\"issue\\" form=\\"short\\">n.\xba</term><term name=\\"line\\" form=\\"short\\">l.</term><term name=\\"note\\" form=\\"short\\">n.</term><term name=\\"opus\\" form=\\"short\\">op.</term><term name=\\"page\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"number-of-pages\\" form=\\"short\\"><single>p.</single><multiple>pp.</multiple></term><term name=\\"paragraph\\" form=\\"short\\">p\xe1rr.</term><term name=\\"part\\" form=\\"short\\">pt.</term><term name=\\"section\\" form=\\"short\\">sec.</term><term name=\\"sub verbo\\" form=\\"short\\"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name=\\"verse\\" form=\\"short\\"><single>v.</single><multiple>vv.</multiple></term><term name=\\"volume\\" form=\\"short\\"><single>vol.</single><multiple>vols.</multiple></term><term name=\\"paragraph\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7</multiple></term><term name=\\"section\\" form=\\"symbol\\"><single>\xa7</single><multiple>\xa7</multiple></term><term name=\\"director\\"><single>director</single><multiple>directores</multiple></term><term name=\\"editor\\"><single>editor</single><multiple>editores</multiple></term><term name=\\"editorial-director\\"><single>editor</single><multiple>editores</multiple></term><term name=\\"illustrator\\"><single>ilustrador</single><multiple>ilustradores</multiple></term><term name=\\"translator\\"><single>traductor</single><multiple>traductores</multiple></term><term name=\\"editortranslator\\"><single>editor y traductor</single><multiple>editores y traductores</multiple></term><term name=\\"director\\" form=\\"short\\"><single>dir.</single><multiple>dirs.</multiple></term><term name=\\"editor\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"editorial-director\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"illustrator\\" form=\\"short\\"><single>ilust.</single><multiple>ilusts.</multiple></term><term name=\\"translator\\" form=\\"short\\"><single>trad.</single><multiple>trads.</multiple></term><term name=\\"editortranslator\\" form=\\"short\\"><single>ed. y trad.</single><multiple>eds. y trads.</multiple></term><term name=\\"container-author\\" form=\\"verb\\">de</term><term name=\\"director\\" form=\\"verb\\">dirigido por</term><term name=\\"editor\\" form=\\"verb\\">editado por</term><term name=\\"editorial-director\\" form=\\"verb\\">editado por</term><term name=\\"illustrator\\" form=\\"verb\\">ilustrado por</term><term name=\\"interviewer\\" form=\\"verb\\">entrevistado por</term><term name=\\"recipient\\" form=\\"verb\\">a</term><term name=\\"reviewed-author\\" form=\\"verb\\">por</term><term name=\\"translator\\" form=\\"verb\\">traducido por</term><term name=\\"editortranslator\\" form=\\"verb\\">editado y traducido por</term><term name=\\"director\\" form=\\"verb-short\\">dir.</term><term name=\\"editor\\" form=\\"verb-short\\">ed.</term><term name=\\"editorial-director\\" form=\\"verb-short\\">ed.</term><term name=\\"illustrator\\" form=\\"verb-short\\">ilust.</term><term name=\\"translator\\" form=\\"verb-short\\">trad.</term><term name=\\"editortranslator\\" form=\\"verb-short\\">ed. y trad.</term><term name=\\"month-01\\">enero</term><term name=\\"month-02\\">febrero</term><term name=\\"month-03\\">marzo</term><term name=\\"month-04\\">abril</term><term name=\\"month-05\\">mayo</term><term name=\\"month-06\\">junio</term><term name=\\"month-07\\">julio</term><term name=\\"month-08\\">agosto</term><term name=\\"month-09\\">septiembre</term><term name=\\"month-10\\">octubre</term><term name=\\"month-11\\">noviembre</term><term name=\\"month-12\\">diciembre</term><term name=\\"month-01\\" form=\\"short\\">ene.</term><term name=\\"month-02\\" form=\\"short\\">feb.</term><term name=\\"month-03\\" form=\\"short\\">mar.</term><term name=\\"month-04\\" form=\\"short\\">abr.</term><term name=\\"month-05\\" form=\\"short\\">may</term><term name=\\"month-06\\" form=\\"short\\">jun.</term><term name=\\"month-07\\" form=\\"short\\">jul.</term><term name=\\"month-08\\" form=\\"short\\">ago.</term><term name=\\"month-09\\" form=\\"short\\">sep.</term><term name=\\"month-10\\" form=\\"short\\">oct.</term><term name=\\"month-11\\" form=\\"short\\">nov.</term><term name=\\"month-12\\" form=\\"short\\">\\ndic.</term><term name=\\"season-01\\">primavera</term><term name=\\"season-02\\">verano</term><term name=\\"season-03\\">oto\xf1o</term><term name=\\"season-04\\">invierno</term></terms></locale>"}')},5832:e=>{"use strict";e.exports=JSON.parse('{"apa":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><style xmlns=\\"http://purl.org/net/xbiblio/csl\\" class=\\"in-text\\" version=\\"1.0\\" demote-non-dropping-particle=\\"never\\" page-range-format=\\"expanded\\"><info><title>American Psychological Association 7th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href=\\"http://www.zotero.org/styles/apa\\" rel=\\"self\\"/><link href=\\"http://www.zotero.org/styles/apa-6th-edition\\" rel=\\"template\\"/><link href=\\"https://apastyle.apa.org/style-grammar-guidelines/references/examples\\" rel=\\"documentation\\"/><author><name>Brenton M. Wiernik</name><email>zotero@wiernik.org</email></author><category citation-format=\\"author-date\\"/><category field=\\"psychology\\"/><category field=\\"generic-base\\"/><updated>2019-12-04T13:09:49+00:00</updated><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\\"en\\"><terms><term name=\\"editortranslator\\" form=\\"short\\"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name=\\"translator\\" form=\\"short\\">trans.</term><term name=\\"interviewer\\" form=\\"short\\"><single>interviewer</single><multiple>interviewers</multiple></term><term name=\\"collection-editor\\" form=\\"short\\"><single>ed.</single><multiple>eds.</multiple></term><term name=\\"circa\\" form=\\"short\\">ca.</term><term name=\\"bc\\"> B.C.E.</term><term name=\\"ad\\"> C.E.</term><term name=\\"letter\\">personal communication</term><term name=\\"letter\\" form=\\"short\\">letter</term><term name=\\"issue\\" form=\\"long\\"><single>issue</single><multiple>issues</multiple></term></terms></locale><locale xml:lang=\\"af\\"><terms><term name=\\"letter\\">persoonlike kommunikasie</term><term name=\\"letter\\" form=\\"short\\">brief</term></terms></locale><locale xml:lang=\\"ar\\"><terms><term name=\\"letter\\">\u0627\u062a\u0635\u0627\u0644 \u0634\u062e\u0635\u064a</term><term name=\\"letter\\" form=\\"short\\">\u062e\u0637\u0627\u0628</term></terms></locale><locale xml:lang=\\"da\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">personlig kommunikation</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"de\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">pers\xf6nliche Kommunikation</term><term name=\\"letter\\" form=\\"short\\">Brief</term></terms></locale><locale xml:lang=\\"es\\"><terms><term name=\\"from\\">de</term><term name=\\"letter\\">comunicaci\xf3n personal</term><term name=\\"letter\\" form=\\"short\\">carta</term></terms></locale><locale xml:lang=\\"fr\\"><terms><term name=\\"letter\\">communication personnelle</term><term name=\\"letter\\" form=\\"short\\">lettre</term><term name=\\"editor\\" form=\\"short\\"><single>\xe9d.</single><multiple>\xe9ds.</multiple></term></terms></locale><locale xml:lang=\\"nb\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">personlig kommunikasjon</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"nl\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">persoonlijke communicatie</term><term name=\\"letter\\" form=\\"short\\">brief</term></terms></locale><locale xml:lang=\\"nn\\"><terms><term name=\\"et-al\\">et al.</term><term name=\\"letter\\">personlig kommunikasjon</term><term name=\\"letter\\" form=\\"short\\">brev</term></terms></locale><locale xml:lang=\\"ru\\"><terms><term name=\\"letter\\">\u043b\u0438\u0447\u043d\u0430\u044f \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u043a\u0430</term><term name=\\"letter\\" form=\\"short\\">\u043f\u0438\u0441\u044c\u043c\u043e</term></terms></locale><locale xml:lang=\\"tr\\"><terms><term name=\\"letter\\">ki\u015fisel ileti\u015fim</term><term name=\\"letter\\" form=\\"short\\">mektup</term></terms></locale><macro name=\\"author-bib\\"><names variable=\\"composer\\" delimiter=\\", \\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><substitute><names variable=\\"author\\"/><names variable=\\"illustrator\\"/><names variable=\\"director\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><choose><if variable=\\"container-title\\"><choose><if type=\\"book entry entry-dictionary entry-encyclopedia\\" match=\\"any\\"><choose><if variable=\\"title\\"><group delimiter=\\" \\"><text macro=\\"title\\"/><text macro=\\"parenthetical\\"/></group></if><else><text macro=\\"title-and-descriptions\\"/></else></choose></if></choose></if></choose><names variable=\\"editor\\" delimiter=\\", \\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><names variable=\\"editorial-director\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><names variable=\\"collection-editor\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\". \\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"short\\" prefix=\\" (\\" suffix=\\")\\" text-case=\\"title\\"/></names><choose><if variable=\\"title\\"><group delimiter=\\" \\"><text macro=\\"title\\"/><text macro=\\"parenthetical\\"/></group></if><else><text macro=\\"title-and-descriptions\\"/></else></choose></substitute></names></macro><macro name=\\"author-intext\\"><choose><if type=\\"bill legal_case legislation treaty\\" match=\\"any\\"><text macro=\\"title-intext\\"/></if><else-if type=\\"interview personal_communication\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><group delimiter=\\", \\"><names variable=\\"author\\"><name and=\\"symbol\\" delimiter=\\", \\" initialize-with=\\". \\"/><substitute><text macro=\\"title-intext\\"/></substitute></names><text term=\\"letter\\"/></group></if><else><names variable=\\"author\\" delimiter=\\", \\"><name form=\\"short\\" and=\\"symbol\\" delimiter=\\", \\" initialize-with=\\". \\"/><substitute><text macro=\\"title-intext\\"/></substitute></names></else></choose></else-if><else><names variable=\\"composer\\" delimiter=\\", \\"><name form=\\"short\\" and=\\"symbol\\" delimiter=\\", \\" initialize-with=\\". \\"/><substitute><names variable=\\"author\\"/><names variable=\\"illustrator\\"/><names variable=\\"director\\"/><choose><if variable=\\"container-title\\"><choose><if type=\\"book entry entry-dictionary entry-encyclopedia\\" match=\\"any\\"><text macro=\\"title-intext\\"/></if></choose></if></choose><names variable=\\"editor\\"/><names variable=\\"editorial-director\\"/><text macro=\\"title-intext\\"/></substitute></names></else></choose></macro><macro name=\\"date-bib\\"><group delimiter=\\" \\" prefix=\\"(\\" suffix=\\")\\"><choose><if is-uncertain-date=\\"issued\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><group><choose><if variable=\\"issued\\"><date variable=\\"issued\\"><date-part name=\\"year\\"/></date><text variable=\\"year-suffix\\"/><choose><if type=\\"article-magazine article-newspaper broadcast interview motion_picture pamphlet personal_communication post post-weblog song speech webpage\\" match=\\"any\\"><date variable=\\"issued\\"><date-part prefix=\\", \\" name=\\"month\\"/><date-part prefix=\\" \\" name=\\"day\\"/></date></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\"><date variable=\\"issued\\"><date-part prefix=\\", \\" name=\\"month\\"/><date-part prefix=\\" \\" name=\\"day\\"/></date></if></choose></else-if></choose></if><else-if variable=\\"status\\"><group><text variable=\\"status\\" text-case=\\"lowercase\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></group></else-if><else><group><text term=\\"no date\\" form=\\"short\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></group></else></choose></group></group></macro><macro name=\\"date-sort-group\\"><choose><if variable=\\"issued\\"><text value=\\"1\\"/></if><else-if variable=\\"status\\"><text value=\\"2\\"/></else-if><else><text value=\\"0\\"/></else></choose></macro><macro name=\\"date-sort-date\\"><choose><if type=\\"article-magazine article-newspaper broadcast interview pamphlet personal_communication post post-weblog speech treaty webpage\\" match=\\"any\\"><date variable=\\"issued\\" form=\\"numeric\\"/></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\"><date variable=\\"issued\\" form=\\"numeric\\"/></if></choose></else-if><else><date variable=\\"issued\\" form=\\"numeric\\"/></else></choose></macro><macro name=\\"date-intext\\"><choose><if variable=\\"issued\\"><group delimiter=\\"/\\"><group delimiter=\\" \\"><choose><if is-uncertain-date=\\"original-date\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><date variable=\\"original-date\\"><date-part name=\\"year\\"/></date></group><group delimiter=\\" \\"><choose><if is-uncertain-date=\\"issued\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><group><choose><if type=\\"interview personal_communication\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><date variable=\\"issued\\" form=\\"text\\"/></if><else><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></else></choose></if><else><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></else></choose><text variable=\\"year-suffix\\"/></group></group></group></if><else-if variable=\\"status\\"><text variable=\\"status\\" text-case=\\"lowercase\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></else-if><else><text term=\\"no date\\" form=\\"short\\"/><text variable=\\"year-suffix\\" prefix=\\"-\\"/></else></choose></macro><macro name=\\"title-and-descriptions\\"><choose><if variable=\\"title\\"><group delimiter=\\" \\"><text macro=\\"title\\"/><text macro=\\"parenthetical\\"/><text macro=\\"bracketed\\"/></group></if><else><group delimiter=\\" \\"><text macro=\\"bracketed\\"/><text macro=\\"parenthetical\\"/></group></else></choose></macro><macro name=\\"title\\"><choose><if type=\\"post webpage\\" match=\\"any\\"><text variable=\\"title\\" font-style=\\"italic\\"/></if><else-if variable=\\"container-title\\" match=\\"any\\"><text variable=\\"title\\"/></else-if><else><choose><if type=\\"article-journal article-magazine article-newspaper post-weblog review review-book\\"><text variable=\\"title\\" font-style=\\"italic\\"/></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><group delimiter=\\": \\" font-style=\\"italic\\"><text variable=\\"title\\"/><choose><if is-numeric=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose></group></if><else><text variable=\\"title\\" font-style=\\"italic\\"/></else></choose></else-if><else><group delimiter=\\": \\" font-style=\\"italic\\"><text variable=\\"title\\"/><choose><if is-numeric=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose></group></else></choose></else></choose></macro><macro name=\\"title-intext\\"><choose><if variable=\\"title\\" match=\\"none\\"><text macro=\\"bracketed-intext\\" prefix=\\"[\\" suffix=\\"]\\"/></if><else-if type=\\"bill\\"><choose><if variable=\\"number container-title\\" match=\\"none\\"><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></if><else-if variable=\\"title\\"><text variable=\\"title\\" form=\\"short\\" text-case=\\"title\\"/></else-if><else><group delimiter=\\" \\"><text variable=\\"genre\\"/><group delimiter=\\" \\"><choose><if variable=\\"chapter-number container-title\\" match=\\"none\\"><text term=\\"issue\\" form=\\"short\\"/></if></choose><text variable=\\"number\\"/></group></group></else></choose></else-if><else-if type=\\"legal_case\\" match=\\"any\\"><text variable=\\"title\\" font-style=\\"italic\\"/></else-if><else-if type=\\"legislation treaty\\" match=\\"any\\"><text variable=\\"title\\" form=\\"short\\" text-case=\\"title\\"/></else-if><else-if type=\\"post webpage\\" match=\\"any\\"><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></else-if><else-if variable=\\"container-title\\" match=\\"any\\"><text variable=\\"title\\" form=\\"short\\" quotes=\\"true\\" text-case=\\"title\\"/></else-if><else><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></else></choose></macro><macro name=\\"parenthetical\\"><group prefix=\\"(\\" suffix=\\")\\"><choose><if type=\\"patent\\"><group delimiter=\\" \\"><text variable=\\"authority\\" form=\\"short\\"/><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else><text value=\\"patent\\" text-case=\\"capitalize-first\\"/></else></choose><group delimiter=\\" \\"><text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"number\\"/></group></group></if><else-if type=\\"post webpage\\"><group delimiter=\\"; \\"><text macro=\\"secondary-contributors\\"/><text macro=\\"database-location\\"/><text macro=\\"number\\"/><text macro=\\"locators-booklike\\"/></group></else-if><else-if variable=\\"container-title\\"><group delimiter=\\"; \\"><text macro=\\"secondary-contributors\\"/><choose><if type=\\"broadcast graphic map motion_picture song\\" match=\\"any\\"><text macro=\\"number\\"/></if></choose></group></else-if><else><group delimiter=\\"; \\"><text macro=\\"secondary-contributors\\"/><text macro=\\"database-location\\"/><text macro=\\"number\\"/><text macro=\\"locators-booklike\\"/></group></else></choose></group></macro><macro name=\\"parenthetical-container\\"><choose><if variable=\\"container-title\\" match=\\"any\\"><group prefix=\\"(\\" suffix=\\")\\"><group delimiter=\\"; \\"><text macro=\\"database-location\\"/><choose><if type=\\"broadcast graphic map motion_picture song\\" match=\\"none\\"><text macro=\\"number\\"/></if></choose><text macro=\\"locators-booklike\\"/></group></group></if></choose></macro><macro name=\\"bracketed\\"><group prefix=\\"[\\" suffix=\\"]\\"><choose><if variable=\\"reviewed-author reviewed-title\\" type=\\"review review-book\\" match=\\"any\\"><group delimiter=\\"; \\"><group delimiter=\\", \\"><group delimiter=\\" \\"><choose><if variable=\\"number\\" match=\\"none\\"><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></else-if><else><text value=\\"Review of\\"/></else></choose></if><else><choose><if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if><else><text value=\\"Review of\\"/></else></choose></else></choose><text macro=\\"reviewed-title\\"/></group><names variable=\\"reviewed-author\\"><label form=\\"verb-short\\" suffix=\\" \\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></group><choose><if variable=\\"genre\\" match=\\"any\\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></if><else-if type=\\"thesis\\"><group delimiter=\\"; \\"><choose><if variable=\\"number\\" match=\\"none\\"><group delimiter=\\", \\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><choose><if variable=\\"archive DOI URL\\" match=\\"any\\"><text variable=\\"publisher\\"/></if></choose></group></if></choose><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></group></else-if><else-if variable=\\"interviewer\\" type=\\"interview\\" match=\\"any\\"><choose><if variable=\\"title\\"><text macro=\\"format\\"/></if><else-if variable=\\"genre\\"><group delimiter=\\"; \\"><group delimiter=\\" \\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><group delimiter=\\" \\"><text term=\\"author\\" form=\\"verb\\"/><names variable=\\"interviewer\\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></group></group></group></else-if><else-if variable=\\"interviewer\\"><group delimiter=\\"; \\"><names variable=\\"interviewer\\"><label form=\\"verb\\" suffix=\\" \\" text-case=\\"capitalize-first\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></group></else-if><else><text macro=\\"format\\"/></else></choose></else-if><else-if type=\\"personal_communication\\"><choose><if variable=\\"recipient\\"><group delimiter=\\"; \\"><group delimiter=\\" \\"><choose><if variable=\\"number\\" match=\\"none\\"><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></else-if><else><text term=\\"letter\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></else></choose></if><else><choose><if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if><else><text term=\\"letter\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></else></choose></else></choose><names variable=\\"recipient\\" delimiter=\\", \\"><label form=\\"verb\\" suffix=\\" \\"/><name and=\\"symbol\\" delimiter=\\", \\"/></names></group><choose><if variable=\\"genre\\" match=\\"any\\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></if><else><text macro=\\"format\\"/></else></choose></else-if><else-if variable=\\"composer\\" type=\\"song\\" match=\\"all\\"><group delimiter=\\"; \\"><choose><if variable=\\"number\\" match=\\"none\\"><group delimiter=\\" \\"><choose><if variable=\\"genre\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><names variable=\\"author\\" prefix=\\"recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/><names variable=\\"author\\" prefix=\\"recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else-if><else><names variable=\\"author\\" prefix=\\"Recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else></choose></group></if><else><group delimiter=\\" \\"><choose><if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/><names variable=\\"author\\" prefix=\\"recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></if><else><names variable=\\"author\\" prefix=\\"Recorded by \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names></else></choose></group></else></choose><choose><if variable=\\"genre\\" match=\\"any\\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></else-if><else-if variable=\\"container-title\\" match=\\"none\\"><text macro=\\"format\\"/></else-if><else><choose><if type=\\"paper-conference speech\\" match=\\"any\\"><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"any\\"><text macro=\\"format\\"/></if></choose></if><else-if type=\\"book\\"><choose><if variable=\\"version\\" match=\\"none\\"><text macro=\\"format\\"/></if></choose></else-if><else-if type=\\"report\\" match=\\"none\\"><text macro=\\"format\\"/></else-if></choose></else></choose></group></macro><macro name=\\"bracketed-intext\\"><group prefix=\\"[\\" suffix=\\"]\\"><choose><if variable=\\"reviewed-author reviewed-title\\" type=\\"review review-book\\" match=\\"any\\"><text macro=\\"reviewed-title-intext\\" prefix=\\"Review of \\"/></if><else-if variable=\\"interviewer\\" type=\\"interview\\" match=\\"any\\"><names variable=\\"interviewer\\"><label form=\\"verb\\" suffix=\\" \\" text-case=\\"capitalize-first\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><substitute><text macro=\\"format-intext\\"/></substitute></names></else-if><else-if type=\\"personal_communication\\"><choose><if variable=\\"recipient\\"><group delimiter=\\" \\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else><text term=\\"letter\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></else></choose><names variable=\\"recipient\\" delimiter=\\", \\"><label form=\\"verb\\" suffix=\\" \\"/><name and=\\"symbol\\" delimiter=\\", \\"/></names></group></if><else><text macro=\\"format-intext\\"/></else></choose></else-if><else><text macro=\\"format-intext\\"/></else></choose></group></macro><macro name=\\"bracketed-container\\"><group prefix=\\"[\\" suffix=\\"]\\"><choose><if type=\\"paper-conference speech\\" match=\\"any\\"><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\"><text macro=\\"format\\"/></if></choose></if><else-if type=\\"book\\" variable=\\"version\\" match=\\"all\\"><text macro=\\"format\\"/></else-if><else-if type=\\"report\\"><text macro=\\"format\\"/></else-if></choose></group></macro><macro name=\\"secondary-contributors\\"><choose><if type=\\"article-journal article-magazine article-newspaper post-weblog review review-book\\" match=\\"any\\"><text macro=\\"secondary-contributors-periodical\\"/></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><text macro=\\"secondary-contributors-booklike\\"/></if><else><text macro=\\"secondary-contributors-periodical\\"/></else></choose></else-if><else><text macro=\\"secondary-contributors-booklike\\"/></else></choose></macro><macro name=\\"secondary-contributors-periodical\\"><group delimiter=\\"; \\"><choose><if variable=\\"title\\"><names variable=\\"interviewer\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></if></choose><names variable=\\"translator\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></group></macro><macro name=\\"secondary-contributors-booklike\\"><group delimiter=\\"; \\"><choose><if variable=\\"title\\"><names variable=\\"interviewer\\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></if></choose><choose><if type=\\"post webpage\\" match=\\"none\\"><choose><if variable=\\"container-title\\" match=\\"none\\"><group delimiter=\\"; \\"><names variable=\\"container-author\\"><label form=\\"verb-short\\" suffix=\\" \\" text-case=\\"title\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names><names variable=\\"editor translator\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></group></if></choose></if><else><group delimiter=\\"; \\"><names variable=\\"container-author\\"><label form=\\"verb-short\\" suffix=\\" \\" text-case=\\"title\\"/><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/></names><names variable=\\"editor translator\\" delimiter=\\"; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"title\\"/></names></group></else></choose></group></macro><macro name=\\"database-location\\"><choose><if variable=\\"archive-place\\" match=\\"none\\"><text variable=\\"archive_location\\"/></if></choose></macro><macro name=\\"number\\"><choose><if variable=\\"number\\"><group delimiter=\\", \\"><group delimiter=\\" \\"><text variable=\\"genre\\" text-case=\\"title\\"/><choose><if is-numeric=\\"number\\"><text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"number\\"/></if><else><text variable=\\"number\\"/></else></choose></group><choose><if type=\\"thesis\\"><choose><if variable=\\"archive DOI URL\\" match=\\"any\\"><text variable=\\"publisher\\"/></if></choose></if></choose></group></if></choose></macro><macro name=\\"locators-booklike\\"><choose><if type=\\"article-journal article-magazine article-newspaper broadcast interview patent post post-weblog review review-book speech webpage\\" match=\\"any\\"/><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><group delimiter=\\", \\"><text macro=\\"version\\"/><text macro=\\"edition\\"/><text macro=\\"volume-booklike\\"/></group></if></choose></else-if><else><group delimiter=\\", \\"><text macro=\\"version\\"/><text macro=\\"edition\\"/><text macro=\\"volume-booklike\\"/></group></else></choose></macro><macro name=\\"version\\"><choose><if is-numeric=\\"version\\"><group delimiter=\\" \\"><text term=\\"version\\" text-case=\\"capitalize-first\\"/><text variable=\\"version\\"/></group></if><else><text variable=\\"version\\"/></else></choose></macro><macro name=\\"edition\\"><choose><if is-numeric=\\"edition\\"><group delimiter=\\" \\"><number variable=\\"edition\\" form=\\"ordinal\\"/><label variable=\\"edition\\" form=\\"short\\"/></group></if><else><text variable=\\"edition\\"/></else></choose></macro><macro name=\\"volume-booklike\\"><group delimiter=\\", \\"><choose><if type=\\"report\\"><group delimiter=\\" \\"><text variable=\\"collection-title\\" text-case=\\"title\\"/><text variable=\\"collection-number\\"/></group></if></choose><choose><if variable=\\"volume\\" match=\\"any\\"><choose><if is-numeric=\\"volume\\" match=\\"none\\"/><else><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><number variable=\\"volume\\" form=\\"numeric\\"/></group></else></choose></if><else><group><text term=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\" suffix=\\" \\"/><text term=\\"page-range-delimiter\\" prefix=\\"1\\"/><number variable=\\"number-of-volumes\\" form=\\"numeric\\"/></group></else></choose><group delimiter=\\" \\"><label variable=\\"issue\\" text-case=\\"capitalize-first\\"/><text variable=\\"issue\\"/></group><group delimiter=\\" \\"><label variable=\\"page\\" form=\\"short\\" suffix=\\" \\"/><text variable=\\"page\\"/></group></group></macro><macro name=\\"reviewed-title\\"><choose><if variable=\\"reviewed-title\\"><text variable=\\"reviewed-title\\" font-style=\\"italic\\"/></if><else><text variable=\\"title\\" font-style=\\"italic\\"/></else></choose></macro><macro name=\\"reviewed-title-intext\\"><choose><if variable=\\"reviewed-title\\"><text variable=\\"reviewed-title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></if><else><text variable=\\"title\\" form=\\"short\\" font-style=\\"italic\\" text-case=\\"title\\"/></else></choose></macro><macro name=\\"format\\"><choose><if variable=\\"genre medium\\" match=\\"any\\"><group delimiter=\\"; \\"><choose><if variable=\\"number\\" match=\\"none\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if></choose><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></group></if><else-if type=\\"dataset\\"><text value=\\"Data set\\"/></else-if><else-if type=\\"book\\" variable=\\"version\\" match=\\"all\\"><text value=\\"Computer software\\"/></else-if><else-if type=\\"interview personal_communication\\" match=\\"any\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><text term=\\"letter\\" text-case=\\"capitalize-first\\"/></if><else-if type=\\"interview\\"><text term=\\"interview\\" text-case=\\"capitalize-first\\"/></else-if></choose></else-if><else-if type=\\"map\\"><text value=\\"Map\\"/></else-if></choose></macro><macro name=\\"format-intext\\"><choose><if variable=\\"genre\\" match=\\"any\\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/></if><else-if variable=\\"medium\\"><text variable=\\"medium\\" text-case=\\"capitalize-first\\"/></else-if><else-if type=\\"dataset\\"><text value=\\"Data set\\"/></else-if><else-if type=\\"book\\" variable=\\"version\\" match=\\"all\\"><text value=\\"Computer software\\"/></else-if><else-if type=\\"interview personal_communication\\" match=\\"any\\"><choose><if variable=\\"archive container-title DOI publisher URL\\" match=\\"none\\"><text term=\\"letter\\" text-case=\\"capitalize-first\\"/></if><else-if type=\\"interview\\"><text term=\\"interview\\" text-case=\\"capitalize-first\\"/></else-if></choose></else-if><else-if type=\\"map\\"><text value=\\"Map\\"/></else-if></choose></macro><macro name=\\"container\\"><choose><if type=\\"article-journal article-magazine article-newspaper post-weblog review review-book\\" match=\\"any\\"><text macro=\\"container-periodical\\"/></if><else-if type=\\"paper-conference\\"><choose><if variable=\\"editor editorial-director collection-editor container-author\\" match=\\"any\\"><text macro=\\"container-booklike\\"/></if><else><text macro=\\"container-periodical\\"/></else></choose></else-if><else-if type=\\"post webpage\\" match=\\"none\\"><text macro=\\"container-booklike\\"/></else-if></choose></macro><macro name=\\"container-periodical\\"><group delimiter=\\". \\"><group delimiter=\\", \\"><text variable=\\"container-title\\" font-style=\\"italic\\" text-case=\\"title\\"/><choose><if variable=\\"volume\\"><group><text variable=\\"volume\\" font-style=\\"italic\\"/><text variable=\\"issue\\" prefix=\\"(\\" suffix=\\")\\"/></group></if><else><text variable=\\"issue\\" font-style=\\"italic\\"/></else></choose><choose><if variable=\\"page\\"><text variable=\\"page\\"/></if><else><text variable=\\"number\\" prefix=\\"Article \\"/></else></choose></group><choose><if variable=\\"issued\\"><choose><if variable=\\"issue page volume\\" match=\\"none\\"><text variable=\\"status\\" text-case=\\"capitalize-first\\"/></if></choose></if></choose></group></macro><macro name=\\"container-booklike\\"><choose><if variable=\\"container-title\\" match=\\"any\\"><group delimiter=\\" \\"><text term=\\"in\\" text-case=\\"capitalize-first\\"/><group delimiter=\\", \\"><names variable=\\"editor translator\\" delimiter=\\", &amp; \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" text-case=\\"title\\" prefix=\\" (\\" suffix=\\")\\"/><substitute><names variable=\\"editorial-director\\"/><names variable=\\"collection-editor\\"/><names variable=\\"container-author\\"/></substitute></names><group delimiter=\\": \\" font-style=\\"italic\\"><text variable=\\"container-title\\"/><choose><if is-numeric=\\"volume\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose></group></group><text macro=\\"parenthetical-container\\"/><text macro=\\"bracketed-container\\"/></group></if></choose></macro><macro name=\\"publisher\\"><group delimiter=\\"; \\"><choose><if type=\\"thesis\\"><choose><if variable=\\"archive DOI URL\\" match=\\"none\\"><text variable=\\"publisher\\"/></if></choose></if><else-if type=\\"post webpage\\"><group delimiter=\\"; \\"><text variable=\\"container-title\\" text-case=\\"title\\"/><text variable=\\"publisher\\"/></group></else-if><else-if type=\\"paper-conference\\"><choose><if variable=\\"collection-editor editor editorial-director\\" match=\\"any\\"><text variable=\\"publisher\\"/></if></choose></else-if><else-if type=\\"article-journal article-magazine article-newspaper post-weblog\\" match=\\"none\\"><text variable=\\"publisher\\"/></else-if></choose><group delimiter=\\", \\"><choose><if variable=\\"archive-place\\"><text variable=\\"archive_location\\"/></if></choose><text variable=\\"archive\\"/><text variable=\\"archive-place\\"/></group></group></macro><macro name=\\"access\\"><choose><if variable=\\"DOI\\" match=\\"any\\"><text variable=\\"DOI\\" prefix=\\"https://doi.org/\\"/></if><else-if variable=\\"URL\\"><group delimiter=\\" \\"><choose><if variable=\\"issued status\\" match=\\"none\\"><group delimiter=\\" \\"><text term=\\"retrieved\\" text-case=\\"capitalize-first\\"/><date variable=\\"accessed\\" form=\\"text\\" suffix=\\",\\"/><text term=\\"from\\"/></group></if></choose><text variable=\\"URL\\"/></group></else-if></choose></macro><macro name=\\"event\\"><choose><if variable=\\"event\\"><choose><if variable=\\"collection-editor editor editorial-director issue page volume\\" match=\\"none\\"><group delimiter=\\", \\"><text variable=\\"event\\"/><text variable=\\"event-place\\"/></group></if></choose></if></choose></macro><macro name=\\"publication-history\\"><choose><if type=\\"patent\\" match=\\"none\\"><group prefix=\\"(\\" suffix=\\")\\"><choose><if variable=\\"references\\"><text variable=\\"references\\"/></if><else><group delimiter=\\" \\"><text value=\\"Original work published\\"/><choose><if is-uncertain-date=\\"original-date\\"><text term=\\"circa\\" form=\\"short\\"/></if></choose><date variable=\\"original-date\\"><date-part name=\\"year\\"/></date></group></else></choose></group></if><else><text variable=\\"references\\" prefix=\\"(\\" suffix=\\")\\"/></else></choose></macro><macro name=\\"legal-cites\\"><choose><if type=\\"legal_case\\"><group delimiter=\\". \\"><group delimiter=\\", \\"><text variable=\\"title\\"/><group delimiter=\\" \\"><text macro=\\"container-legal\\"/><text macro=\\"date-legal\\"/></group><text variable=\\"references\\"/></group><text macro=\\"access\\"/></group></if><else-if type=\\"bill\\"><group delimiter=\\". \\"><group delimiter=\\", \\"><choose><if variable=\\"number container-title\\" match=\\"none\\"><text variable=\\"title\\" font-style=\\"italic\\"/></if><else><text variable=\\"title\\"/></else></choose><group delimiter=\\" \\"><text macro=\\"container-legal\\"/><text macro=\\"date-legal\\"/><choose><if variable=\\"number container-title\\" match=\\"none\\"><names variable=\\"author\\" prefix=\\"(testimony of \\" suffix=\\")\\"><name and=\\"symbol\\" delimiter=\\", \\"/></names></if><else><text variable=\\"status\\" prefix=\\"(\\" suffix=\\")\\"/></else></choose></group><text variable=\\"references\\"/></group><text macro=\\"access\\"/></group></else-if><else-if type=\\"legislation\\"><group delimiter=\\". \\"><group delimiter=\\", \\"><text variable=\\"title\\"/><group delimiter=\\" \\"><text macro=\\"container-legal\\"/><text macro=\\"date-legal\\"/><text variable=\\"status\\" prefix=\\"(\\" suffix=\\")\\"/></group><text variable=\\"references\\"/></group><text macro=\\"access\\"/></group></else-if><else-if type=\\"treaty\\"><group delimiter=\\", \\"><text variable=\\"title\\" text-case=\\"title\\"/><names variable=\\"author\\"><name initialize-with=\\".\\" form=\\"short\\" delimiter=\\"-\\"/></names><text macro=\\"date-legal\\"/><text macro=\\"container-legal\\"/><text macro=\\"access\\"/></group></else-if></choose></macro><macro name=\\"date-legal\\"><choose><if type=\\"legal_case\\"><group prefix=\\"(\\" suffix=\\")\\" delimiter=\\" \\"><text variable=\\"authority\\"/><choose><if variable=\\"container-title\\" match=\\"any\\"><date variable=\\"issued\\" form=\\"numeric\\" date-parts=\\"year\\"/></if><else><date variable=\\"issued\\" form=\\"text\\"/></else></choose></group></if><else-if type=\\"bill legislation\\" match=\\"any\\"><group prefix=\\"(\\" suffix=\\")\\" delimiter=\\" \\"><group delimiter=\\" \\"><date variable=\\"original-date\\"><date-part name=\\"year\\"/></date><text term=\\"and\\" form=\\"symbol\\"/></group><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></group></else-if><else-if type=\\"treaty\\"><date variable=\\"issued\\" form=\\"text\\"/></else-if></choose></macro><macro name=\\"container-legal\\"><choose><if type=\\"legal_case\\"><group delimiter=\\" \\"><choose><if variable=\\"container-title\\"><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><group delimiter=\\" \\"><text term=\\"section\\" form=\\"symbol\\"/><text variable=\\"section\\"/></group><choose><if variable=\\"page page-first\\" match=\\"any\\"><text variable=\\"page-first\\"/></if><else><text value=\\"___\\"/></else></choose></group></if><else><group delimiter=\\" \\"><choose><if is-numeric=\\"number\\"><text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/></if></choose><text variable=\\"number\\"/></group></else></choose></group></if><else-if type=\\"bill\\"><group delimiter=\\", \\"><group delimiter=\\" \\"><text variable=\\"genre\\"/><group delimiter=\\" \\"><choose><if variable=\\"chapter-number container-title\\" match=\\"none\\"><text term=\\"issue\\" form=\\"short\\"/></if></choose><text variable=\\"number\\"/></group></group><text variable=\\"authority\\"/><text variable=\\"chapter-number\\"/><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><text variable=\\"page-first\\"/></group></group></else-if><else-if type=\\"legislation\\"><choose><if variable=\\"number\\"><group delimiter=\\", \\"><text variable=\\"number\\" prefix=\\"Pub. L. No. \\"/><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><text variable=\\"page-first\\"/></group></group></if><else><group delimiter=\\" \\"><text variable=\\"volume\\"/><text variable=\\"container-title\\"/><choose><if variable=\\"section\\"><group delimiter=\\" \\"><text term=\\"section\\" form=\\"symbol\\"/><text variable=\\"section\\"/></group></if><else><text variable=\\"page-first\\"/></else></choose></group></else></choose></else-if><else-if type=\\"treaty\\"><group delimiter=\\" \\"><number variable=\\"volume\\"/><text variable=\\"container-title\\"/><choose><if variable=\\"page page-first\\" match=\\"any\\"><text variable=\\"page-first\\"/></if><else><group delimiter=\\" \\"><text term=\\"issue\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"number\\"/></group></else></choose></group></else-if></choose></macro><macro name=\\"citation-locator\\"><group delimiter=\\" \\"><choose><if locator=\\"chapter\\"><label variable=\\"locator\\" text-case=\\"capitalize-first\\"/></if><else><label variable=\\"locator\\" form=\\"short\\"/></else></choose><text variable=\\"locator\\"/></group></macro><citation et-al-min=\\"3\\" et-al-use-first=\\"1\\" disambiguate-add-year-suffix=\\"true\\" disambiguate-add-names=\\"true\\" disambiguate-add-givenname=\\"true\\" collapse=\\"year\\" givenname-disambiguation-rule=\\"primary-name\\"><sort><key macro=\\"author-bib\\" names-min=\\"3\\" names-use-first=\\"1\\"/><key macro=\\"date-sort-group\\"/><key macro=\\"date-sort-date\\" sort=\\"ascending\\"/><key variable=\\"status\\"/></sort><layout prefix=\\"(\\" suffix=\\")\\" delimiter=\\"; \\"><group delimiter=\\", \\"><text macro=\\"author-intext\\"/><text macro=\\"date-intext\\"/><text macro=\\"citation-locator\\"/></group></layout></citation><bibliography hanging-indent=\\"true\\" et-al-min=\\"21\\" et-al-use-first=\\"19\\" et-al-use-last=\\"true\\" entry-spacing=\\"0\\" line-spacing=\\"2\\"><sort><key macro=\\"author-bib\\"/><key macro=\\"date-sort-group\\"/><key macro=\\"date-sort-date\\" sort=\\"ascending\\"/><key variable=\\"status\\"/><key macro=\\"title\\"/></sort><layout><choose><if type=\\"bill legal_case legislation treaty\\" match=\\"any\\"><choose><if variable=\\"DOI URL\\" match=\\"any\\"><text macro=\\"legal-cites\\"/></if><else><text macro=\\"legal-cites\\" suffix=\\".\\"/></else></choose></if><else><group delimiter=\\" \\"><group delimiter=\\". \\" suffix=\\".\\"><text macro=\\"author-bib\\"/><text macro=\\"date-bib\\"/><text macro=\\"title-and-descriptions\\"/><text macro=\\"container\\"/><text macro=\\"event\\"/><text macro=\\"publisher\\"/></group><text macro=\\"access\\"/><text macro=\\"publication-history\\"/></group></else></choose></layout></bibliography></style>","vancouver":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><style xmlns=\\"http://purl.org/net/xbiblio/csl\\" class=\\"in-text\\" version=\\"1.0\\" demote-non-dropping-particle=\\"sort-only\\" page-range-format=\\"minimal\\"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href=\\"http://www.zotero.org/styles/vancouver\\" rel=\\"self\\"/><link href=\\"http://www.nlm.nih.gov/bsd/uniform_requirements.html\\" rel=\\"documentation\\"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format=\\"numeric\\"/><category field=\\"medicine\\"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2014-09-06T16:03:01+00:00</updated><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang=\\"en\\"><date form=\\"text\\" delimiter=\\" \\"><date-part name=\\"year\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"day\\"/></date><terms><term name=\\"collection-editor\\" form=\\"long\\"><single>editor</single><multiple>editors</multiple></term><term name=\\"presented at\\">presented at</term><term name=\\"available at\\">available from</term><term name=\\"section\\" form=\\"short\\">sect.</term></terms></locale><locale xml:lang=\\"fr\\"><date form=\\"text\\" delimiter=\\" \\"><date-part name=\\"day\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"year\\"/></date></locale><macro name=\\"author\\"><names variable=\\"author\\"><name sort-separator=\\" \\" initialize-with=\\"\\" name-as-sort-order=\\"all\\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\", \\"/><substitute><names variable=\\"editor\\"/></substitute></names></macro><macro name=\\"editor\\"><names variable=\\"editor\\" suffix=\\".\\"><name sort-separator=\\" \\" initialize-with=\\"\\" name-as-sort-order=\\"all\\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\", \\"/></names></macro><macro name=\\"chapter-marker\\"><choose><if type=\\"chapter paper-conference entry-dictionary entry-encyclopedia\\" match=\\"any\\"><text term=\\"in\\" text-case=\\"capitalize-first\\"/></if></choose></macro><macro name=\\"publisher\\"><choose><if type=\\"article-journal article-magazine article-newspaper\\" match=\\"none\\"><group delimiter=\\": \\" suffix=\\";\\"><choose><if type=\\"thesis\\"><text variable=\\"publisher-place\\" prefix=\\"[\\" suffix=\\"]\\"/></if><else-if type=\\"speech\\"/><else><text variable=\\"publisher-place\\"/></else></choose><text variable=\\"publisher\\"/></group></if></choose></macro><macro name=\\"access\\"><choose><if variable=\\"URL\\"><group delimiter=\\": \\"><text term=\\"available at\\" text-case=\\"capitalize-first\\"/><text variable=\\"URL\\"/></group></if></choose></macro><macro name=\\"accessed-date\\"><choose><if variable=\\"URL\\"><group prefix=\\"[\\" suffix=\\"]\\" delimiter=\\" \\"><text term=\\"cited\\" text-case=\\"lowercase\\"/><date variable=\\"accessed\\" form=\\"text\\"/></group></if></choose></macro><macro name=\\"container-title\\"><choose><if type=\\"article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia\\" match=\\"any\\"><group suffix=\\".\\" delimiter=\\" \\"><choose><if type=\\"article-journal review review-book\\" match=\\"any\\"><text variable=\\"container-title\\" form=\\"short\\" strip-periods=\\"true\\"/></if><else><text variable=\\"container-title\\" strip-periods=\\"true\\"/></else></choose><choose><if variable=\\"URL\\"><text term=\\"internet\\" prefix=\\"[\\" suffix=\\"]\\" text-case=\\"capitalize-first\\"/></if></choose></group><text macro=\\"edition\\" prefix=\\" \\"/></if><else-if type=\\"bill legislation\\" match=\\"any\\"><group delimiter=\\", \\"><group delimiter=\\". \\"><text variable=\\"container-title\\"/><group delimiter=\\" \\"><text term=\\"section\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"section\\"/></group></group><text variable=\\"number\\"/></group></else-if><else-if type=\\"speech\\">\\n<group delimiter=\\": \\" suffix=\\";\\"><group delimiter=\\" \\"><text variable=\\"genre\\" text-case=\\"capitalize-first\\"/><text term=\\"presented at\\"/></group><text variable=\\"event\\"/></group></else-if><else><group delimiter=\\", \\" suffix=\\".\\"><choose><if variable=\\"collection-title\\" match=\\"none\\"><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\" text-case=\\"capitalize-first\\"/><text variable=\\"volume\\"/></group></if></choose><text variable=\\"container-title\\"/></group></else></choose></macro><macro name=\\"title\\"><text variable=\\"title\\"/><choose><if type=\\"article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia\\" match=\\"none\\"><choose><if variable=\\"URL\\"><text term=\\"internet\\" prefix=\\" [\\" suffix=\\"]\\" text-case=\\"capitalize-first\\"/></if></choose><text macro=\\"edition\\" prefix=\\". \\"/></if></choose><choose><if type=\\"thesis\\"><text variable=\\"genre\\" prefix=\\" [\\" suffix=\\"]\\"/></if></choose></macro><macro name=\\"edition\\"><choose><if is-numeric=\\"edition\\"><group delimiter=\\" \\"><number variable=\\"edition\\" form=\\"ordinal\\"/><text term=\\"edition\\" form=\\"short\\"/></group></if><else><text variable=\\"edition\\" suffix=\\".\\"/></else></choose></macro><macro name=\\"date\\"><choose><if type=\\"article-journal article-magazine article-newspaper review review-book\\" match=\\"any\\"><group suffix=\\";\\" delimiter=\\" \\"><date variable=\\"issued\\" form=\\"text\\"/><text macro=\\"accessed-date\\"/></group></if><else-if type=\\"bill legislation\\" match=\\"any\\"><group delimiter=\\", \\"><date variable=\\"issued\\" delimiter=\\" \\"><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"day\\"/></date><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></group></else-if><else-if type=\\"report\\"><date variable=\\"issued\\" delimiter=\\" \\"><date-part name=\\"year\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/></date><text macro=\\"accessed-date\\" prefix=\\" \\"/></else-if><else-if type=\\"patent\\"><group suffix=\\".\\"><group delimiter=\\", \\"><text variable=\\"number\\"/><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></group><text macro=\\"accessed-date\\" prefix=\\" \\"/></group></else-if><else-if type=\\"speech\\"><group delimiter=\\"; \\"><group delimiter=\\" \\"><date variable=\\"issued\\" delimiter=\\" \\"><date-part name=\\"year\\"/><date-part name=\\"month\\" form=\\"short\\" strip-periods=\\"true\\"/><date-part name=\\"day\\"/></date><text macro=\\"accessed-date\\"/></group><text variable=\\"event-place\\"/></group></else-if><else><group suffix=\\".\\"><date variable=\\"issued\\"><date-part name=\\"year\\"/></date><text macro=\\"accessed-date\\" prefix=\\" \\"/></group></else></choose></macro><macro name=\\"pages\\"><choose><if type=\\"article-journal article-magazine article-newspaper review review-book\\" match=\\"any\\"><text variable=\\"page\\" prefix=\\":\\"/></if><else-if type=\\"book\\" match=\\"any\\"><text variable=\\"number-of-pages\\" prefix=\\" \\"/><choose><if is-numeric=\\"number-of-pages\\"><label variable=\\"number-of-pages\\" form=\\"short\\" prefix=\\" \\" plural=\\"never\\"/></if></choose></else-if><else><group prefix=\\" \\" delimiter=\\" \\"><label variable=\\"page\\" form=\\"short\\" plural=\\"never\\"/><text variable=\\"page\\"/></group></else></choose></macro><macro name=\\"journal-location\\"><choose><if type=\\"article-journal article-magazine review review-book\\" match=\\"any\\"><text variable=\\"volume\\"/><text variable=\\"issue\\" prefix=\\"(\\" suffix=\\")\\"/></if></choose></macro><macro name=\\"collection-details\\"><choose><if type=\\"article-journal article-magazine article-newspaper review review-book\\" match=\\"none\\"><choose><if variable=\\"collection-title\\"><group delimiter=\\" \\" prefix=\\"(\\" suffix=\\")\\"><names variable=\\"collection-editor\\" suffix=\\".\\"><name sort-separator=\\" \\" initialize-with=\\"\\" name-as-sort-order=\\"all\\" delimiter=\\", \\" delimiter-precedes-last=\\"always\\"/><label form=\\"long\\" prefix=\\", \\"/></names><group delimiter=\\"; \\"><text variable=\\"collection-title\\"/><group delimiter=\\" \\"><label variable=\\"volume\\" form=\\"short\\"/><text variable=\\"volume\\"/></group></group></group></if></choose></if></choose></macro><macro name=\\"report-details\\"><choose><if type=\\"report\\"><text variable=\\"number\\" prefix=\\"Report No.: \\"/></if></choose></macro><citation collapse=\\"citation-number\\">\\n<sort><key variable=\\"citation-number\\"/></sort><layout prefix=\\"(\\" suffix=\\")\\" delimiter=\\",\\"><text variable=\\"citation-number\\"/></layout></citation><bibliography et-al-min=\\"7\\" et-al-use-first=\\"6\\" second-field-align=\\"flush\\"><layout><text variable=\\"citation-number\\" suffix=\\". \\"/><group delimiter=\\". \\" suffix=\\". \\"><text macro=\\"author\\"/><text macro=\\"title\\"/></group><group delimiter=\\" \\" suffix=\\". \\"><group delimiter=\\": \\"><text macro=\\"chapter-marker\\"/><group delimiter=\\" \\"><text macro=\\"editor\\"/><text macro=\\"container-title\\"/></group></group><text macro=\\"publisher\\"/><group><text macro=\\"date\\"/><text macro=\\"journal-location\\"/><text macro=\\"pages\\"/></group></group><text macro=\\"collection-details\\" suffix=\\". \\"/><text macro=\\"report-details\\" suffix=\\". \\"/><text macro=\\"access\\"/></layout></bibliography></style>","harvard1":"<?xml version=\\"1.0\\" encoding=\\"utf-8\\"?><style xmlns=\\"http://purl.org/net/xbiblio/csl\\" class=\\"in-text\\" version=\\"1.0\\" demote-non-dropping-particle=\\"sort-only\\"><info><title>Harvard Reference format 1 (author-date)</title><id>http://www.zotero.org/styles/harvard1</id><link href=\\"http://www.zotero.org/styles/harvard1\\" rel=\\"self\\"/><link href=\\"http://libweb.anglia.ac.uk/referencing/harvard.htm\\" rel=\\"documentation\\"/><author><name>Julian Onions</name><email>julian.onions@gmail.com</email></author><category citation-format=\\"author-date\\"/><category field=\\"generic-base\\"/><summary>The Harvard author-date style</summary><updated>2012-09-27T22:06:38+00:00</updated><rights license=\\"http://creativecommons.org/licenses/by-sa/3.0/\\">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><macro name=\\"editor\\"><names variable=\\"editor\\" delimiter=\\", \\"><name and=\\"symbol\\" initialize-with=\\". \\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\", \\" text-case=\\"lowercase\\"/></names></macro><macro name=\\"anon\\"><text term=\\"anonymous\\" form=\\"short\\" text-case=\\"capitalize-first\\" strip-periods=\\"true\\"/></macro><macro name=\\"author\\"><names variable=\\"author\\"><name name-as-sort-order=\\"all\\" and=\\"symbol\\" sort-separator=\\", \\" initialize-with=\\".\\" delimiter-precedes-last=\\"never\\" delimiter=\\", \\"/><label form=\\"short\\" prefix=\\" \\" text-case=\\"lowercase\\"/><substitute><names variable=\\"editor\\"/><text macro=\\"anon\\"/></substitute></names></macro><macro name=\\"author-short\\"><names variable=\\"author\\"><name form=\\"short\\" and=\\"symbol\\" delimiter=\\", \\" delimiter-precedes-last=\\"never\\" initialize-with=\\". \\"/><substitute><names variable=\\"editor\\"/><names variable=\\"translator\\"/><text macro=\\"anon\\"/></substitute></names></macro><macro name=\\"access\\"><choose><if variable=\\"URL\\"><text value=\\"Available at:\\" suffix=\\" \\"/><text variable=\\"URL\\"/><group prefix=\\" [\\" suffix=\\"]\\"><text term=\\"accessed\\" text-case=\\"capitalize-first\\" suffix=\\" \\"/><date variable=\\"accessed\\"><date-part name=\\"month\\" suffix=\\" \\"/><date-part name=\\"day\\" suffix=\\", \\"/><date-part name=\\"year\\"/></date></group></if></choose></macro><macro name=\\"title\\"><choose><if type=\\"bill book graphic legal_case legislation motion_picture report song thesis\\" match=\\"any\\"><text variable=\\"title\\" font-style=\\"italic\\"/></if><else><text variable=\\"title\\"/></else></choose></macro><macro name=\\"publisher\\"><group delimiter=\\": \\"><text variable=\\"publisher-place\\"/><text variable=\\"publisher\\"/></group></macro><macro name=\\"year-date\\"><choose><if variable=\\"issued\\"><date variable=\\"issued\\"><date-part name=\\"year\\"/></date></if><else><text term=\\"no date\\" form=\\"short\\"/></else></choose></macro><macro name=\\"edition\\"><choose><if is-numeric=\\"edition\\"><group delimiter=\\" \\"><number variable=\\"edition\\" form=\\"ordinal\\"/><text term=\\"edition\\" form=\\"short\\"/></group></if><else><text variable=\\"edition\\" suffix=\\".\\"/></else></choose></macro><macro name=\\"pages\\"><group><label variable=\\"page\\" form=\\"short\\" suffix=\\" \\"/><text variable=\\"page\\"/></group></macro><citation et-al-min=\\"3\\" et-al-use-first=\\"1\\" disambiguate-add-year-suffix=\\"true\\" disambiguate-add-names=\\"true\\" disambiguate-add-givenname=\\"true\\"><layout prefix=\\"(\\" suffix=\\")\\" delimiter=\\"; \\"><group delimiter=\\", \\"><group delimiter=\\" \\"><text macro=\\"author-short\\"/><text macro=\\"year-date\\"/></group><group><label variable=\\"locator\\" form=\\"short\\"/><text variable=\\"locator\\"/></group></group></layout></citation><bibliography hanging-indent=\\"true\\" et-al-min=\\"4\\" et-al-use-first=\\"1\\"><sort><key macro=\\"author\\"/><key variable=\\"title\\"/></sort><layout><text macro=\\"author\\" suffix=\\",\\"/><date variable=\\"issued\\" prefix=\\" \\" suffix=\\".\\"><date-part name=\\"year\\"/></date><choose><if type=\\"bill book graphic legal_case legislation motion_picture report song\\" match=\\"any\\"><group prefix=\\" \\" delimiter=\\" \\" suffix=\\",\\"><text macro=\\"title\\"/><text macro=\\"edition\\"/><text macro=\\"editor\\"/></group><text prefix=\\" \\" suffix=\\".\\" macro=\\"publisher\\"/></if><else-if type=\\"chapter paper-conference\\" match=\\"any\\"><text macro=\\"title\\" prefix=\\" \\" suffix=\\".\\"/><group prefix=\\" \\" delimiter=\\" \\"><text term=\\"in\\" text-case=\\"capitalize-first\\"/>\\n<text macro=\\"editor\\"/><text variable=\\"container-title\\" font-style=\\"italic\\" suffix=\\".\\"/><text variable=\\"collection-title\\" suffix=\\".\\"/><text variable=\\"event\\" suffix=\\".\\"/><group suffix=\\".\\" delimiter=\\", \\"><text macro=\\"publisher\\" prefix=\\" \\"/><text macro=\\"pages\\"/></group></group></else-if><else-if type=\\"thesis\\"><group prefix=\\" \\" suffix=\\".\\" delimiter=\\". \\"><text macro=\\"title\\"/><text variable=\\"genre\\"/><text macro=\\"publisher\\"/></group></else-if><else><group suffix=\\".\\"><text macro=\\"title\\" prefix=\\" \\"/><text macro=\\"editor\\" prefix=\\" \\"/></group><group prefix=\\" \\" suffix=\\".\\"><text variable=\\"container-title\\" font-style=\\"italic\\"/><group prefix=\\", \\"><text variable=\\"volume\\"/><text variable=\\"issue\\" prefix=\\"(\\" suffix=\\")\\"/></group><group prefix=\\", \\"><label variable=\\"page\\" form=\\"short\\"/><text variable=\\"page\\"/></group></group></else></choose><text prefix=\\" \\" macro=\\"access\\" suffix=\\".\\"/></layout></bibliography></style>"}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/metadata-entry-form/",(()=>{"use strict";var e={};n.r(e),n.d(e,{Express:()=>Ze,Mongo:()=>tt.g,Mysql:()=>et.W,Postgres:()=>Xe.a});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>lM,hasStandardBrowserEnv:()=>cM,hasStandardBrowserWebWorkerEnv:()=>dM});var r,i=n(1468),o=n(4840),a=n(8992),s=n(3104),l=n(9112),c=n(1276),u=n(4156),d=n(8776),p=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],h=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){(0,s.e)((function(t){var n=(0,l.WS)();if(!n)return t;var r=n.getIntegration(e);if(r){var i=n.getClient(),o=i?i.getOptions():{},a=r._mergeOptions(o);if(r._shouldDropEvent(t,a))return null}return t}))},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(c.Q.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,u.y_)(e)),!0):this._isIgnoredError(e,t)?(c.Q.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,u.y_)(e)),!0):this._isDeniedUrl(e,t)?(c.Q.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,u.y_)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isAllowedUrl(e,t)&&(c.Q.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,u.y_)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(n){return!1}},e.prototype._isIgnoredError=function(e,t){return!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some((function(e){return t.ignoreErrors.some((function(t){return(0,d.AU)(e,t)}))}))},e.prototype._isDeniedUrl=function(e,t){if(!t.denyUrls||!t.denyUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.denyUrls.some((function(e){return(0,d.AU)(n,e)}))},e.prototype._isAllowedUrl=function(e,t){if(!t.allowUrls||!t.allowUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.allowUrls.some((function(e){return(0,d.AU)(n,e)}))},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{allowUrls:(0,a.KQ)(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:(0,a.KQ)(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:(0,a.KQ)(this._options.ignoreErrors||[],e.ignoreErrors||[],p),ignoreInternal:"undefined"===typeof this._options.ignoreInternal||this._options.ignoreInternal}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,i=t.value,o=void 0===i?"":i;return[""+o,r+": "+o]}catch(a){return c.Q.error("Cannot extract message for event "+(0,u.y_)(e)),[]}return[]},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t&&t[t.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(r){return c.Q.error("Cannot extract url for event "+(0,u.y_)(e)),null}},e.id="InboundFilters",e}(),f=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){r=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return r.apply(n,e)}},e.id="FunctionToString",e}();var m=n(4756),g=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e});var v=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,g(r,n.prototype),r}return(0,a.ct)(t,e),t}(Error),b=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,y="Invalid Dsn",_=function(){function e(e){"string"===typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.host,r=t.path,i=t.pass,o=t.port,a=t.projectId;return t.protocol+"://"+t.user+(e&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r?r+"/":r)+a},e.prototype._fromString=function(e){var t=b.exec(e);if(!t)throw new v(y);var n=(0,a.o5)(t.slice(1),6),r=n[0],i=n[1],o=n[2],s=void 0===o?"":o,l=n[3],c=n[4],u=void 0===c?"":c,d="",p=n[5],h=p.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),p=h.pop()),p){var f=p.match(/^\d+/);f&&(p=f[0])}this._fromComponents({host:l,pass:s,path:d,projectId:p,port:u,protocol:r,user:i})},e.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach((function(t){if(!e[t])throw new v(y+": "+t+" missing")})),!this.projectId.match(/^\d+$/))throw new v(y+": Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new v(y+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new v(y+": Invalid port "+this.port)},e}(),x=n(5336),w=n(5044),E=n(4184),T=n(5980),C=[];function k(e){var t={};return function(e){var t=e.defaultIntegrations&&(0,a.KQ)(e.defaultIntegrations)||[],n=e.integrations,r=[];if(Array.isArray(n)){var i=n.map((function(e){return e.name})),o=[];t.forEach((function(e){-1===i.indexOf(e.name)&&-1===o.indexOf(e.name)&&(r.push(e),o.push(e.name))})),n.forEach((function(e){-1===o.indexOf(e.name)&&(r.push(e),o.push(e.name))}))}else"function"===typeof n?(r=n(t),r=Array.isArray(r)?r:[r]):r=(0,a.KQ)(t);var s=r.map((function(e){return e.name})),l="Debug";return-1!==s.indexOf(l)&&r.push.apply(r,(0,a.KQ)(r.splice(s.indexOf(l),1))),r}(e).forEach((function(e){t[e.name]=e,function(e){-1===C.indexOf(e.name)&&(e.setupOnce(s.e,l.WS),C.push(e.name),c.Q.log("Integration installed: "+e.name))}(e)})),t}var S,O=function(){function e(e,t){this._integrations={},this._processing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new _(t.dsn))}return e.prototype.captureException=function(e,t,n){var r=this,i=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then((function(e){return r._captureEvent(e,t,n)})).then((function(e){i=e}))),i},e.prototype.captureMessage=function(e,t,n,r){var i=this,o=n&&n.event_id,a=(0,x.od)(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(a.then((function(e){return i._captureEvent(e,n,r)})).then((function(e){o=e}))),o},e.prototype.captureEvent=function(e,t,n){var r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((function(e){r=e}))),r},e.prototype.captureSession=function(e){e.release?this._sendSession(e):c.Q.warn("Discarded session because of missing release")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientProcessing(e).then((function(n){return t._getBackend().getTransport().close(e).then((function(e){return n&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=k(this._options))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return c.Q.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var n,r,i,o=!1,s=!1,l=t.exception&&t.exception.values;if(l){s=!0;try{for(var c=(0,a.gR)(l),u=c.next();!u.done;u=c.next()){var d=u.value.mechanism;if(d&&!1===d.handled){o=!0;break}}}catch(g){n={error:g}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}var p=t.user;if(!e.userAgent){var h=t.request?t.request.headers:{};for(var f in h)if("user-agent"===f.toLowerCase()){i=h[f];break}}e.update((0,a.C3)((0,a.C3)({},o&&{status:m.G.Crashed}),{user:p,userAgent:i,errors:e.errors+Number(s||o)}))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientProcessing=function(e){var t=this;return new w.G((function(n){var r=0,i=setInterval((function(){0==t._processing?(clearInterval(i),n(!0)):(r+=1,e&&r>=e&&(clearInterval(i),n(!1)))}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this,i=this.getOptions().normalizeDepth,o=void 0===i?3:i,l=(0,a.C3)((0,a.C3)({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:(0,u.OW)()),timestamp:e.timestamp||(0,E.CG)()});this._applyClientOptions(l),this._applyIntegrationsMetadata(l);var c=t;n&&n.captureContext&&(c=s.k.clone(c).update(n.captureContext));var d=w.G.resolve(l);return c&&(d=c.applyToEvent(l,n)),d.then((function(e){return"number"===typeof o&&o>0?r._normalizeEvent(e,o):e}))},e.prototype._normalizeEvent=function(e,t){if(!e)return null;var n=(0,a.C3)((0,a.C3)((0,a.C3)((0,a.C3)((0,a.C3)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return(0,a.C3)((0,a.C3)({},e),e.data&&{data:(0,T.Cs)(e.data,t)})}))}),e.user&&{user:(0,T.Cs)(e.user,t)}),e.contexts&&{contexts:(0,T.Cs)(e.contexts,t)}),e.extra&&{extra:(0,T.Cs)(e.extra,t)});return e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace),n},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.environment,r=t.release,i=t.dist,o=t.maxValueLength,a=void 0===o?250:o;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,d.E3)(e.message,a));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=(0,d.E3)(s.value,a));var l=e.request;l&&l.url&&(l.url=(0,d.E3)(l.url,a))},e.prototype._applyIntegrationsMetadata=function(e){var t=e.sdk,n=Object.keys(this._integrations);t&&n.length>0&&(t.integrations=n)},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then((function(e){return e.event_id}),(function(e){c.Q.error(e)}))},e.prototype._processEvent=function(e,t,n){var r=this,i=this.getOptions(),o=i.beforeSend,a=i.sampleRate;if(!this._isEnabled())return w.G.reject(new v("SDK not enabled, will not send event."));var s="transaction"===e.type;return!s&&"number"===typeof a&&Math.random()>a?w.G.reject(new v("Discarding event because it's not included in the random sample (sampling rate = "+a+")")):this._prepareEvent(e,n,t).then((function(e){if(null===e)throw new v("An event processor returned null, will not send event.");if(t&&t.data&&!0===t.data.__sentry__||s||!o)return e;var n=o(e,t);if("undefined"===typeof n)throw new v("`beforeSend` method has to return `null` or a valid event.");return(0,x.Oe)(n)?n.then((function(e){return e}),(function(e){throw new v("beforeSend rejected with "+e)})):n})).then((function(e){if(null===e)throw new v("`beforeSend` returned `null`, will not send event.");var t=n&&n.getSession&&n.getSession();return!s&&t&&r._updateSessionFromEvent(t,e),r._sendEvent(e),e})).then(null,(function(e){if(e instanceof v)throw e;throw r.captureException(e,{data:{__sentry__:!0},originalException:e}),new v("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}))},e.prototype._process=function(e){var t=this;this._processing+=1,e.then((function(e){return t._processing-=1,e}),(function(e){return t._processing-=1,e}))},e}();!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(S||(S={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(S||(S={}));var A,j=function(){function e(){}return e.prototype.sendEvent=function(e){return w.G.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:S.Skipped})},e.prototype.close=function(e){return w.G.resolve(!0)},e}(),P=function(){function e(e){this._options=e,this._options.dsn||c.Q.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new v("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new v("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,(function(e){c.Q.error("Error while sending event: "+e)}))},e.prototype.sendSession=function(e){this._transport.sendSession?this._transport.sendSession(e).then(null,(function(e){c.Q.error("Error while sending session: "+e)})):c.Q.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new j},e}();!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(A||(A={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;default:return e.Log}}}(A||(A={}));var I=n(648),L="?",R=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,N=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,D=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,M=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,B=/\((\S*)(?::(\d+))(?::(\d+))\)/,Q=/Minified React error #\d+;/i;function U(e){var t=null,n=0;e&&("number"===typeof e.framesToPop?n=e.framesToPop:Q.test(e.message)&&(n=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=n.split("\n"),a=[],s=0;s<o.length;s+=2){var l=null;(t=r.exec(o[s]))?l={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=i.exec(o[s]))&&(l={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),l&&(!l.func&&l.line&&(l.func=L),a.push(l))}if(!a.length)return null;return{message:z(e),name:e.name,stack:a}}(e),t)return F(t,n)}catch(r){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,i=[],o=e.stack.split("\n"),a=0;a<o.length;++a){if(n=R.exec(o[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=B.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr(11):n[2],func:n[1]||L,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=D.exec(o[a]))r={url:n[2],func:n[1]||L,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=N.exec(o[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=M.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==a||n[5]||void 0===e.columnNumber||(i[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||L,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=L),i.push(r)}if(!i.length)return null;return{message:z(e),name:e.name,stack:i}}(e),t)return F(t,n)}catch(r){}return{message:z(e),name:e&&e.name,stack:[],failed:!0}}function F(e,t){try{return(0,a.C3)((0,a.C3)({},e),{stack:e.stack.slice(t)})}catch(n){return e}}function z(e){var t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}var q=50;function H(e){var t=G(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function W(e){return{exception:{values:[H(e)]}}}function G(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,q).map((function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}})).reverse()}function V(e,t,n){var r;if(void 0===n&&(n={}),(0,x.cz)(e)&&e.error)return r=W(U(e=e.error));if((0,x.Sc)(e)||(0,x.Qn)(e)){var i=e,o=i.name||((0,x.Sc)(i)?"DOMError":"DOMException"),s=i.message?o+": "+i.message:o;return r=$(s,t,n),(0,u.NP)(r,s),"code"in i&&(r.tags=(0,a.C3)((0,a.C3)({},r.tags),{"DOMException.code":""+i.code})),r}return(0,x.eU)(e)?r=W(U(e)):(0,x.oF)(e)||(0,x.SO)(e)?(r=function(e,t,n){var r={exception:{values:[{type:(0,x.SO)(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+(0,T.yq)(e)}]},extra:{__serialized__:(0,T.yY)(e)}};if(t){var i=G(U(t).stack);r.stacktrace={frames:i}}return r}(e,t,n.rejection),(0,u.qW)(r,{synthetic:!0}),r):(r=$(e,t,n),(0,u.NP)(r,""+e,void 0),(0,u.qW)(r,{synthetic:!0}),r)}function $(e,t,n){void 0===n&&(n={});var r={message:e};if(n.attachStacktrace&&t){var i=G(U(t).stack);r.stacktrace={frames:i}}return r}function K(e,t){return{body:JSON.stringify({sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(e),type:"session",url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function Y(e,t){var n=e.tags||{},r=n.__sentry_samplingMethod,i=n.__sentry_sampleRate,o=(0,a.sX)(n,["__sentry_samplingMethod","__sentry_sampleRate"]);e.tags=o;var s="transaction"===e.type,l={body:JSON.stringify(e),type:e.type||"event",url:s?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(s){var c=JSON.stringify({event_id:e.event_id,sent_at:(new Date).toISOString()})+"\n"+JSON.stringify({type:e.type,sample_rates:[{id:r,rate:i}]})+"\n"+l.body;l.body=c}return l}var Z=function(){function e(e){this.dsn=e,this._dsnObject=new _(e)}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.getBaseApiEndpoint=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var i in r.push("dsn="+t.toString()),e)if("dsn"!==i)if("user"===i){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return r.length?n+"?"+r.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(e){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+e+"/"},e.prototype._encodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:"7"};return(0,T.OW)(e)},e}(),J=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then((function(){return t.remove(e)})).then(null,(function(){return t.remove(e).then(null,(function(){}))})),e):w.G.reject(new v("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new w.G((function(n){var r=setTimeout((function(){e&&e>0&&n(!1)}),e);w.G.all(t._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},e}(),X=function(){function e(e){this.options=e,this._buffer=new J(30),this._rateLimits={},this._api=new Z(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new v("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,r=e.headers,i=e.resolve,o=e.reject,a=S.fromHttpCode(n.status);this._handleRateLimit(r)&&c.Q.warn("Too many requests, backing off until: "+this._disabledUntil(t)),a!==S.Success?o(n):i({status:a})},e.prototype._disabledUntil=function(e){return this._rateLimits[e]||this._rateLimits.all},e.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},e.prototype._handleRateLimit=function(e){var t,n,r,i,o=Date.now(),s=e["x-sentry-rate-limits"],l=e["retry-after"];if(s){try{for(var c=(0,a.gR)(s.trim().split(",")),d=c.next();!d.done;d=c.next()){var p=d.value.split(":",2),h=parseInt(p[0],10),f=1e3*(isNaN(h)?60:h);try{for(var m=(r=void 0,(0,a.gR)(p[1].split(";"))),g=m.next();!g.done;g=m.next()){var v=g.value;this._rateLimits[v||"all"]=new Date(o+f)}}catch(b){r={error:b}}finally{try{g&&!g.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}}}catch(y){t={error:y}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return!0}return!!l&&(this._rateLimits.all=new Date(o+(0,u.Mt)(o,l)),!0)},e}(),ee=(0,u.mm)(),te=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ct)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(Y(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(K(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;if(this._isRateLimited(e.type))return Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var r={body:e.body,method:"POST",referrerPolicy:(0,I.K4)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new w.G((function(t,i){ee.fetch(e.url,r).then((function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:e.type,response:r,headers:o,resolve:t,reject:i})})).catch(i)})))},t}(X),ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ct)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(Y(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(K(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;return this._isRateLimited(e.type)?Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429}):this._buffer.add(new w.G((function(t,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:e.type,response:i,headers:o,resolve:t,reject:r})}},i.open("POST",e.url),n.options.headers)n.options.headers.hasOwnProperty(o)&&i.setRequestHeader(o,n.options.headers[o]);i.send(e.body)})))},t}(X),re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ct)(t,e),t.prototype.eventFromException=function(e,t){return function(e,t,n){var r=V(t,n&&n.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return(0,u.qW)(r,{handled:!0,type:"generic"}),r.level=A.Error,n&&n.event_id&&(r.event_id=n.event_id),w.G.resolve(r)}(this._options,e,t)},t.prototype.eventFromMessage=function(e,t,n){return void 0===t&&(t=A.Info),function(e,t,n,r){void 0===n&&(n=A.Info);var i=$(t,r&&r.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),w.G.resolve(i)}(this._options,e,t,n)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=(0,a.C3)((0,a.C3)({},this._options.transportOptions),{dsn:this._options.dsn});return this._options.transport?new this._options.transport(t):(0,I.Gk)()?new te(t):new ne(t)},t}(P);function ie(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=(0,l.WS)();if(r&&r[e])return r[e].apply(r,(0,a.KQ)(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function oe(e,t){var n;try{throw new Error("Sentry syntheticException")}catch(e){n=e}return ie("captureException",e,{captureContext:t,originalException:e,syntheticException:n})}var ae=0;function se(){return ae>0}function le(e,t,n){if(void 0===t&&(t={}),"function"!==typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(o){return e}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);var i=r.map((function(e){return le(e,t)}));return e.handleEvent?e.handleEvent.apply(this,i):e.apply(this,i)}catch(o){throw ae+=1,setTimeout((function(){ae-=1})),ie("withScope",(function(e){e.addEventProcessor((function(e){var n=(0,a.C3)({},e);return t.mechanism&&((0,u.NP)(n,void 0,void 0),(0,u.qW)(n,t.mechanism)),n.extra=(0,a.C3)((0,a.C3)({},n.extra),{arguments:r}),n})),oe(o)})),o}};try{for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch(s){}e.prototype=e.prototype||{},r.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return e.name}})}catch(s){}return r}function ce(e){if(void 0===e&&(e={}),e.eventId)if(e.dsn){var t=document.createElement("script");t.async=!0,t.src=new Z(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad),(document.head||document.body).appendChild(t)}else c.Q.error("Missing dsn option in showReportDialog call");else c.Q.error("Missing eventId option in showReportDialog call")}var ue=n(3456),de=n(8972),pe=function(){function e(t){this.name=e.id,this._options=(0,a.C3)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&(0,l.WS)().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:(0,u.y_)(e)},{event:e})},e.prototype.setupOnce=function(){var e=this;this._options.console&&(0,ue.c)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._consoleBreadcrumb.apply(e,(0,a.KQ)(t))},type:"console"}),this._options.dom&&(0,ue.c)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._domBreadcrumb.apply(e,(0,a.KQ)(t))},type:"dom"}),this._options.xhr&&(0,ue.c)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._xhrBreadcrumb.apply(e,(0,a.KQ)(t))},type:"xhr"}),this._options.fetch&&(0,ue.c)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._fetchBreadcrumb.apply(e,(0,a.KQ)(t))},type:"fetch"}),this._options.history&&(0,ue.c)({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._historyBreadcrumb.apply(e,(0,a.KQ)(t))},type:"history"})},e.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:A.fromString(e.level),message:(0,d.Y9)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+((0,d.Y9)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}(0,l.WS)().addBreadcrumb(t,{input:e.args,level:e.level})},e.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?(0,de.I)(e.event.target):(0,de.I)(e.event)}catch(n){t="<unknown>"}0!==t.length&&(0,l.WS)().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name})},e.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},n=t.method,r=t.url,i=t.status_code,o=t.body;(0,l.WS)().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:e.xhr,input:o})}else;},e.prototype._fetchBreadcrumb=function(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?(0,l.WS)().addBreadcrumb({category:"fetch",data:e.fetchData,level:A.Error,type:"http"},{data:e.error,input:e.args}):(0,l.WS)().addBreadcrumb({category:"fetch",data:(0,a.C3)((0,a.C3)({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))},e.prototype._historyBreadcrumb=function(e){var t=(0,u.mm)(),n=e.from,r=e.to,i=(0,u.UX)(t.location.href),o=(0,u.UX)(n),a=(0,u.UX)(r);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),(0,l.WS)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},e.id="Breadcrumbs",e}(),he="5.30.0",fe=function(e){function t(t){return void 0===t&&(t={}),e.call(this,re,t)||this}return(0,a.ct)(t,e),t.prototype.showReportDialog=function(e){void 0===e&&(e={}),(0,u.mm)().document&&(this._isEnabled()?ce((0,a.C3)((0,a.C3)({},e),{dsn:e.dsn||this.getDsn()})):c.Q.error("Trying to call showReportDialog with Sentry Client disabled"))},t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",t.sdk=(0,a.C3)((0,a.C3)({},t.sdk),{name:"sentry.javascript.browser",packages:(0,a.KQ)(t.sdk&&t.sdk.packages||[],[{name:"npm:@sentry/browser",version:he}]),version:he}),e.prototype._prepareEvent.call(this,t,n,r)},t.prototype._sendEvent=function(t){var n=this.getIntegration(pe);n&&n.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(O),me=n(1496),ge=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],ve=function(){function e(t){this.name=e.id,this._options=(0,a.C3)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=(0,u.mm)();(this._options.setTimeout&&(0,T.ym)(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&(0,T.ym)(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&(0,T.ym)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&(0,T.ym)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:ge).forEach(this._wrapEventTarget.bind(this))},e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=le(r,{mechanism:{data:{function:(0,me.k)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e.call(this,le(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,me.k)(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=(0,u.mm)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,T.ym)(n,"addEventListener",(function(t){return function(n,r,i){try{"function"===typeof r.handleEvent&&(r.handleEvent=le(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:(0,me.k)(r),target:e},handled:!0,type:"instrument"}}))}catch(o){}return t.call(this,n,le(r,{mechanism:{data:{function:"addEventListener",handler:(0,me.k)(r),target:e},handled:!0,type:"instrument"}}),i)}})),(0,T.ym)(n,"removeEventListener",(function(e){return function(t,n,r){var i,o=n;try{var a=null===(i=o)||void 0===i?void 0:i.__sentry_wrapped__;a&&e.call(this,t,a,r)}catch(s){}return e.call(this,t,o,r)}})))},e.prototype._wrapXHR=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((function(e){e in r&&"function"===typeof r[e]&&(0,T.ym)(r,e,(function(t){var n={mechanism:{data:{function:e,handler:(0,me.k)(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(n.mechanism.data.handler=(0,me.k)(t.__sentry_original__)),le(t,n)}))})),e.apply(this,t)}},e.id="TryCatch",e}(),be=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=(0,a.C3)({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(c.Q.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(c.Q.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||((0,ue.c)({callback:function(n){var r=n.error,i=(0,l.WS)(),o=i.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(o&&!se()&&!a){var s=i.getClient(),c=(0,x.od)(r)?t._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):t._enhanceEventWithInitialFrame(V(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);(0,u.qW)(c,{handled:!1,type:"onerror"}),i.captureEvent(c,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||((0,ue.c)({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(d){}var i=(0,l.WS)(),o=i.getIntegration(e),a=r&&!0===r.__sentry_own_request__;if(!o||se()||a)return!0;var s=i.getClient(),c=(0,x.od)(r)?t._eventFromRejectionWithPrimitive(r):V(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});c.level=A.Error,(0,u.qW)(c,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(c,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(e,t,n,r){var i,o=(0,x.cz)(e)?e.message:e;if((0,x.ct)(o)){var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(i=a[1],o=a[2])}var s={exception:{values:[{type:i||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(s,t,n,r)},e.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,n,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,o=isNaN(parseInt(n,10))?void 0:n,a=(0,x.ct)(t)&&t.length>0?t:(0,u.s5)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:i,filename:a,function:"?",in_app:!0,lineno:o}),e},e.id="GlobalHandlers",e}(),ye=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){(0,s.e)((function(t,n){var r=(0,l.WS)().getIntegration(e);return r?r._handler(t,n):t}))},e.prototype._handler=function(e,t){if(!e.exception||!e.exception.values||!t||!(0,x.aG)(t.originalException,Error))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=(0,a.KQ)(n,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!(0,x.aG)(e[t],Error)||n.length+1>=this._limit)return n;var r=H(U(e[t]));return this._walkErrorTree(e[t],t,(0,a.KQ)([r],n))},e.id="LinkedErrors",e}(),_e=(0,u.mm)(),xe=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){(0,s.e)((function(t){var n,r,i;if((0,l.WS)().getIntegration(e)){if(!_e.navigator&&!_e.location&&!_e.document)return t;var o=(null===(n=t.request)||void 0===n?void 0:n.url)||(null===(r=_e.location)||void 0===r?void 0:r.href),s=(_e.document||{}).referrer,c=(_e.navigator||{}).userAgent,u=(0,a.C3)((0,a.C3)((0,a.C3)({},null===(i=t.request)||void 0===i?void 0:i.headers),s&&{Referer:s}),c&&{"User-Agent":c}),d=(0,a.C3)((0,a.C3)({},o&&{url:o}),{headers:u});return(0,a.C3)((0,a.C3)({},t),{request:d})}return t}))},e.id="UserAgent",e}(),we=[new h,new f,new ve,new pe,new be,new ye,new xe];var Ee=n(7090),Te=n(9916),Ce=n(8888),ke=n(6360),Se=(0,u.mm)();var Oe,Ae,je=function(e,t,n,r){var i;return function(){n&&t.isFinal&&n.disconnect(),t.value>=0&&(r||t.isFinal||"hidden"===document.visibilityState)&&(t.delta=t.value-(i||0),(t.delta||t.isFinal||void 0===i)&&(e(t),i=t.value))}},Pe=function(e,t){return void 0===t&&(t=-1),{name:e,value:t,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},Ie=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(r){}},Le=!1,Re=!1,Ne=function(e){Le=!e.persisted},De=function(e,t){void 0===t&&(t=!1),Re||(addEventListener("pagehide",Ne),addEventListener("beforeunload",(function(){})),Re=!0),addEventListener("visibilitychange",(function(t){var n=t.timeStamp;"hidden"===document.visibilityState&&e({timeStamp:n,isUnloading:Le})}),{capture:!0,once:t})},Me=function(){return void 0===Oe&&(Oe="hidden"===document.visibilityState?0:1/0,De((function(e){var t=e.timeStamp;return Oe=t}),!0)),{get timeStamp(){return Oe}}},Be=function(e,t){void 0===t&&(t=!1);var n,r=Pe("LCP"),i=Me(),o=function(e){var t=e.startTime;t<i.timeStamp?(r.value=t,r.entries.push(e)):r.isFinal=!0,n()},a=Ie("largest-contentful-paint",o);if(a){n=je(e,r,a,t);var s=function(){r.isFinal||(a.takeRecords().map(o),r.isFinal=!0,n())};(Ae||(Ae=new Promise((function(e){return["scroll","keydown","pointerdown"].map((function(t){addEventListener(t,e,{once:!0,passive:!0,capture:!0})}))}))),Ae).then(s),De(s,!0)}},Qe=(0,u.mm)(),Ue=function(e){var t,n=Pe("TTFB");t=function(){try{var t=Qe.performance.getEntriesByType("navigation")[0]||function(){var e=Qe.performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();n.value=n.delta=t.responseStart,n.entries=[t],e(n)}catch(gh){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("pageshow",t)},Fe=(0,u.mm)(),ze=function(){function e(){this._measurements={},this._performanceCursor=0,Fe&&Fe.performance&&(Fe.performance.mark&&Fe.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID(),this._trackTTFB())}return e.prototype.addPerformanceEntries=function(e){var t=this;if(Fe&&Fe.performance&&Fe.performance.getEntries&&E.W2){c.Q.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i,o=(0,ke.kV)(E.W2);if(Fe.document)for(var a=0;a<document.scripts.length;a++)if("true"===document.scripts[a].dataset.entry){n=document.scripts[a].src;break}if(Fe.performance.getEntries().slice(this._performanceCursor).forEach((function(a){var s=(0,ke.kV)(a.startTime),l=(0,ke.kV)(a.duration);if(!("navigation"===e.op&&o+s<e.startTimestamp))switch(a.entryType){case"navigation":!function(e,t,n){qe(e,t,"unloadEvent",n),qe(e,t,"redirect",n),qe(e,t,"domContentLoadedEvent",n),qe(e,t,"loadEvent",n),qe(e,t,"connect",n),qe(e,t,"secureConnection",n,"connectEnd"),qe(e,t,"fetch",n,"domainLookupStart"),qe(e,t,"domainLookup",n),function(e,t,n){He(e,{op:"browser",description:"request",startTimestamp:n+(0,ke.kV)(t.requestStart),endTimestamp:n+(0,ke.kV)(t.responseEnd)}),He(e,{op:"browser",description:"response",startTimestamp:n+(0,ke.kV)(t.responseStart),endTimestamp:n+(0,ke.kV)(t.responseEnd)})}(e,t,n)}(e,a,o);break;case"mark":case"paint":case"measure":var u=function(e,t,n,r,i){var o=i+n,a=o+r;return He(e,{description:t.name,endTimestamp:a,op:t.entryType,startTimestamp:o}),o}(e,a,s,l,o);void 0===i&&"sentry-tracing-init"===a.name&&(i=u);var d=Me(),p=a.startTime<d.timeStamp;"first-paint"===a.name&&p&&(c.Q.log("[Measurements] Adding FP"),t._measurements.fp={value:a.startTime},t._measurements["mark.fp"]={value:u}),"first-contentful-paint"===a.name&&p&&(c.Q.log("[Measurements] Adding FCP"),t._measurements.fcp={value:a.startTime},t._measurements["mark.fcp"]={value:u});break;case"resource":var h=a.name.replace(window.location.origin,""),f=function(e,t,n,r,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;var a={};"transferSize"in t&&(a["Transfer Size"]=t.transferSize);"encodedBodySize"in t&&(a["Encoded Body Size"]=t.encodedBodySize);"decodedBodySize"in t&&(a["Decoded Body Size"]=t.decodedBodySize);var s=o+r,l=s+i;return He(e,{description:n,endTimestamp:l,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:s,data:a}),l}(e,a,h,s,l,o);void 0===r&&(n||"").indexOf(h)>-1&&(r=f)}})),void 0!==r&&void 0!==i&&He(e,{description:"evaluation",endTimestamp:i,op:"script",startTimestamp:r}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),"pageload"===e.op){var s=(0,ke.kV)(E.W2);["fcp","fp","lcp","ttfb"].forEach((function(n){if(t._measurements[n]&&!(s>=e.startTimestamp)){var r=t._measurements[n].value,i=s+(0,ke.kV)(r),o=Math.abs(1e3*(i-e.startTimestamp)),a=o-r;c.Q.log("[Measurements] Normalized "+n+" from "+r+" to "+o+" ("+a+")"),t._measurements[n].value=o}})),this._measurements["mark.fid"]&&this._measurements.fid&&He(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+(0,ke.kV)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),e.setMeasurements(this._measurements)}}},e.prototype._trackCLS=function(){var e=this;!function(e,t){void 0===t&&(t=!1);var n,r=Pe("CLS",0),i=function(e){e.hadRecentInput||(r.value+=e.value,r.entries.push(e),n())},o=Ie("layout-shift",i);o&&(n=je(e,r,o,t),De((function(e){var t=e.isUnloading;o.takeRecords().map(i),t&&(r.isFinal=!0),n()})))}((function(t){t.entries.pop()&&(c.Q.log("[Measurements] Adding CLS"),e._measurements.cls={value:t.value})}))},e.prototype._trackNavigator=function(e){var t=Fe.navigator;if(t){var n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),We(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),We(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),We(t.deviceMemory)&&e.setTag("deviceMemory",String(t.deviceMemory)),We(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}},e.prototype._trackLCP=function(){var e=this;Be((function(t){var n=t.entries.pop();if(n){var r=(0,ke.kV)(performance.timeOrigin),i=(0,ke.kV)(n.startTime);c.Q.log("[Measurements] Adding LCP"),e._measurements.lcp={value:t.value},e._measurements["mark.lcp"]={value:r+i}}}))},e.prototype._trackFID=function(){var e=this;!function(e){var t=Pe("FID"),n=Me(),r=function(e){e.startTime<n.timeStamp&&(t.value=e.processingStart-e.startTime,t.entries.push(e),t.isFinal=!0,o())},i=Ie("first-input",r),o=je(e,t,i);i?De((function(){i.takeRecords().map(r),i.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(e,r){r.timeStamp<n.timeStamp&&(t.value=e,t.isFinal=!0,t.entries=[{entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+e}],o())}))}((function(t){var n=t.entries.pop();if(n){var r=(0,ke.kV)(performance.timeOrigin),i=(0,ke.kV)(n.startTime);c.Q.log("[Measurements] Adding FID"),e._measurements.fid={value:t.value},e._measurements["mark.fid"]={value:r+i}}}))},e.prototype._trackTTFB=function(){var e=this;Ue((function(t){var n,r=t.entries.pop();if(r){c.Q.log("[Measurements] Adding TTFB"),e._measurements.ttfb={value:t.value};var i=t.value-(n=t.entries[0],null!==n&&void 0!==n?n:r).requestStart;e._measurements["ttfb.requestTime"]={value:i}}}))},e}();function qe(e,t,n,r,i){var o=i?t[i]:t[n+"End"],a=t[n+"Start"];a&&o&&He(e,{op:"browser",description:n,startTimestamp:r+(0,ke.kV)(a),endTimestamp:r+(0,ke.kV)(o)})}function He(e,t){var n=t.startTimestamp,r=(0,a.sX)(t,["startTimestamp"]);return n&&e.startTimestamp>n&&(e.startTimestamp=n),e.startChild((0,a.C3)({startTimestamp:n},r))}function We(e){return"number"===typeof e&&isFinite(e)}var Ge={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function Ve(e){var t=(0,a.C3)((0,a.C3)({},Ge),e),n=t.traceFetch,r=t.traceXHR,i=t.tracingOrigins,o=t.shouldCreateSpanForRequest,s={},c=function(e){if(s[e])return s[e];var t=i;return s[e]=t.some((function(t){return(0,d.AU)(e,t)}))&&!(0,d.AU)(e,"sentry_key"),s[e]},u=c;"function"===typeof o&&(u=function(e){return c(e)&&o(e)});var p={};n&&(0,ue.c)({callback:function(e){!function(e,t,n){var r,i=null===(r=(0,l.WS)().getClient())||void 0===r?void 0:r.getOptions();if(!i||!(0,ke.KQ)(i)||!e.fetchData||!t(e.fetchData.url))return;if(e.endTimestamp&&e.fetchData.__span){if(c=n[e.fetchData.__span]){var o=e.response;o&&c.setHttpStatus(o.status),c.finish(),delete n[e.fetchData.__span]}return}var s=(0,ke.gB)();if(s){var c=s.startChild({data:(0,a.C3)((0,a.C3)({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http"});e.fetchData.__span=c.spanId,n[c.spanId]=c;var u=e.args[0]=e.args[0],d=e.args[1]=e.args[1]||{},p=d.headers;(0,x.aG)(u,Request)&&(p=u.headers),p?"function"===typeof p.append?p.append("sentry-trace",c.toTraceparent()):p=Array.isArray(p)?(0,a.KQ)(p,[["sentry-trace",c.toTraceparent()]]):(0,a.C3)((0,a.C3)({},p),{"sentry-trace":c.toTraceparent()}):p={"sentry-trace":c.toTraceparent()},d.headers=p}}(e,u,p)},type:"fetch"}),r&&(0,ue.c)({callback:function(e){!function(e,t,n){var r,i=null===(r=(0,l.WS)().getClient())||void 0===r?void 0:r.getOptions();if(!i||!(0,ke.KQ)(i)||!(e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url))||e.xhr.__sentry_own_request__)return;var o=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__){return void((c=n[e.xhr.__sentry_xhr_span_id__])&&(c.setHttpStatus(o.status_code),c.finish(),delete n[e.xhr.__sentry_xhr_span_id__]))}var s=(0,ke.gB)();if(s){var c=s.startChild({data:(0,a.C3)((0,a.C3)({},o.data),{type:"xhr",method:o.method,url:o.url}),description:o.method+" "+o.url,op:"http"});if(e.xhr.__sentry_xhr_span_id__=c.spanId,n[e.xhr.__sentry_xhr_span_id__]=c,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",c.toTraceparent())}catch(u){}}}(e,u,p)},type:"xhr"})}var $e=(0,u.mm)();var Ke=(0,a.C3)({idleTimeout:Te.Y1,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!0),$e&&$e.location){var r,i=$e.location.href;t&&(r=e({name:$e.location.pathname,op:"pageload"})),n&&(0,ue.c)({callback:function(t){var n=t.to,o=t.from;void 0===o&&i&&-1!==i.indexOf(n)?i=void 0:o!==n&&(i=void 0,r&&(c.Q.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=e({name:$e.location.pathname,op:"navigation"}))},type:"history"})}else c.Q.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},Ge),Ye=function(){function e(t){this.name=e.id,this._metrics=new ze,this._emitOptionsWarning=!1;var n=Ge.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&0!==t.tracingOrigins.length?n=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=(0,a.C3)((0,a.C3)((0,a.C3)({},Ke),t),{tracingOrigins:n})}return e.prototype.setupOnce=function(e,t){var n=this;this._getCurrentHub=t,this._emitOptionsWarning&&(c.Q.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),c.Q.warn("[Tracing] We added a reasonable default for you: "+Ge.tracingOrigins));var r=this.options,i=r.routingInstrumentation,o=r.startTransactionOnLocationChange,a=r.startTransactionOnPageLoad,s=r.markBackgroundTransactions,l=r.traceFetch,u=r.traceXHR,d=r.tracingOrigins,p=r.shouldCreateSpanForRequest;i((function(e){return n._createRouteTransaction(e)}),a,o),s&&(Se&&Se.document?Se.document.addEventListener("visibilitychange",(function(){var e=(0,ke.gB)();Se.document.hidden&&e&&(c.Q.log("[Tracing] Transaction: "+Ce.D.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(Ce.D.Cancelled),e.setTag("visibilitychange","document.hidden"),e.finish())})):c.Q.warn("[Tracing] Could not set up background tab detection due to lack of global document")),Ve({traceFetch:l,traceXHR:u,tracingOrigins:d,shouldCreateSpanForRequest:p})},e.prototype._createRouteTransaction=function(e){var t=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,o=n.maxTransactionDuration,s="pageload"===e.op?function(){var e=function(e){var t=document.querySelector("meta[name="+e+"]");return t?t.getAttribute("content"):null}("sentry-trace");if(e)return(0,ke.Cg)(e);return}():void 0,l=(0,a.C3)((0,a.C3)((0,a.C3)({},e),s),{trimEnd:!0}),u="function"===typeof r?r(l):l,d=void 0===u?(0,a.C3)((0,a.C3)({},l),{sampled:!1}):u;!1===d.sampled&&c.Q.log("[Tracing] Will not send "+d.op+" transaction because of beforeNavigate.");var p=this._getCurrentHub(),h=(0,Ee.Iz)(p,d,i,!0);return c.Q.log("[Tracing] Starting "+d.op+" transaction on scope"),h.registerBeforeFinishCallback((function(e,n){t._metrics.addPerformanceEntries(e),function(e,t,n){var r=n-t.startTimestamp,i=n&&(r>e||r<0);i&&(t.setStatus(Ce.D.DeadlineExceeded),t.setTag("maxTransactionDurationExceeded","true"))}((0,ke.GW)(o),e,n)})),h}c.Q.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.")},e.id="BrowserTracing",e}();var Ze=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}return e.prototype.setupOnce=function(){this._router?function(e,t){void 0===t&&(t=[]);t.forEach((function(t){return function(e,t){var n=e[t];return e[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n.call.apply(n,(0,a.KQ)([this],function(e,t){return e.map((function(e){return"function"===typeof e?Je(e,t):Array.isArray(e)?e.map((function(e){return"function"===typeof e?Je(e,t):e})):e}))}(e,t)))},e}(e,t)}))}(this._router,this._methods):c.Q.error("ExpressIntegration is missing an Express instance")},e.id="Express",e}();function Je(e,t){var n=e.length;switch(n){case 2:return function(n,r){var i=r.__sentry_transaction;if(i){var o=i.startChild({description:e.name,op:"middleware."+t});r.once("finish",(function(){o.finish()}))}return e.call(this,n,r)};case 3:return function(n,r,i){var o,s=null===(o=r.__sentry_transaction)||void 0===o?void 0:o.startChild({description:e.name,op:"middleware."+t});e.call(this,n,r,(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=s)||void 0===e||e.finish(),i.call.apply(i,(0,a.KQ)([this],t))}))};case 4:return function(n,r,i,o){var s,l=null===(s=i.__sentry_transaction)||void 0===s?void 0:s.startChild({description:e.name,op:"middleware."+t});e.call(this,n,r,i,(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=l)||void 0===e||e.finish(),o.call.apply(o,(0,a.KQ)([this],t))}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}var Xe=n(3160),et=n(6603),tt=n(7416),nt=(0,a.C3)((0,a.C3)({},e),{BrowserTracing:Ye});(0,Ee.Mh)();var rt=n(5776),it=n(2320),ot=n.n(it),at=n(5984);function st(e){return"/"===e.charAt(0)}function lt(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const ct=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&st(e),a=t&&st(t),s=o||a;if(e&&st(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var c=0,u=i.length;u>=0;u--){var d=i[u];"."===d?lt(i,u):".."===d?(lt(i,u),c++):c&&(lt(i,u),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&st(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function ut(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const dt=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=ut(t),i=ut(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1};var pt=!0,ht="Invariant failed";function ft(e,t){if(!e){if(pt)throw new Error(ht);var n="function"===typeof t?t():t,r=n?"".concat(ht,": ").concat(n):ht;throw new Error(r)}}function mt(e){return"/"===e.charAt(0)?e:"/"+e}function gt(e){return"/"===e.charAt(0)?e.substr(1):e}function vt(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function bt(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function yt(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function _t(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=(0,at.c)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=ct(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function xt(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var wt=!("undefined"===typeof window||!window.document||!window.document.createElement);function Et(e,t){t(window.confirm(e))}var Tt="popstate",Ct="hashchange";function kt(){try{return window.history.state||{}}catch(e){return{}}}function St(e){void 0===e&&{},wt||ft(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,a=void 0!==o&&o,s=i.getUserConfirmation,l=void 0===s?Et:s,c=i.keyLength,u=void 0===c?6:c,d=e.basename?bt(mt(e.basename)):"";function p(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return d&&vt(o,d),_t(o,r,n)}function h(){return Math.random().toString(36).substr(2,u)}var f=xt();function m(e){(0,at.c)(S,e),S.length=t.length,f.notifyListeners(S.location,S.action)}function g(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||y(p(e.state))}function v(){y(p(kt()))}var b=!1;function y(e){if(b)!1,m();else{f.confirmTransitionTo(e,"POP",l,(function(t){t?m({action:"POP",location:e}):function(e){var t=S.location,n=x.indexOf(t.key);-1===n&&0;var r=x.indexOf(e.key);-1===r&&0;var i=n-r;i&&(!0,E(i))}(e)}))}}var _=p(kt()),x=[_.key];function w(e){return d+yt(e)}function E(e){t.go(e)}var T=0;function C(e){1===(T+=e)&&1===e?(window.addEventListener(Tt,g),r&&window.addEventListener(Ct,v)):0===T&&(window.removeEventListener(Tt,g),r&&window.removeEventListener(Ct,v))}var k=!1;var S={length:t.length,action:"POP",location:_,createHref:w,push:function(e,r){var i="PUSH",o=_t(e,r,h(),S.location);f.confirmTransitionTo(o,i,l,(function(e){if(e){var r=w(o),s=o.key,l=o.state;if(n)if(t.pushState({key:s,state:l},null,r),a)window.location.href=r;else{var c=x.indexOf(S.location.key),u=x.slice(0,c+1);u.push(o.key),u,m({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=_t(e,r,h(),S.location);f.confirmTransitionTo(o,i,l,(function(e){if(e){var r=w(o),s=o.key,l=o.state;if(n)if(t.replaceState({key:s,state:l},null,r),a)window.location.replace(r);else{var c=x.indexOf(S.location.key);-1!==c&&(x[c]=o.key),m({action:i,location:o})}else window.location.replace(r)}}))},go:E,goBack:function(){E(-1)},goForward:function(){E(1)},block:function(e){void 0===e&&!1;var t=f.setPrompt(e);return k||(C(1),!0),function(){return k&&(!1,C(-1)),t()}},listen:function(e){var t=f.appendListener(e);return C(1),function(){C(-1),t()}}};return S}var Ot="hashchange",At={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+gt(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:gt,decodePath:mt},slash:{encodePath:mt,decodePath:mt}};function jt(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Pt(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function It(e){window.location.replace(jt(window.location.href)+"#"+e)}function Lt(e){void 0===e&&(e={}),wt||ft(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?Et:r,o=n.hashType,a=void 0===o?"slash":o,s=e.basename?bt(mt(e.basename)):"",l=At[a],c=l.encodePath,u=l.decodePath;function d(){var e=u(Pt());return s&&(e=vt(e,s)),_t(e)}var p=xt();function h(e){(0,at.c)(C,e),C.length=t.length,p.notifyListeners(C.location,C.action)}var f=!1,m=null;function g(){var e=Pt(),t=c(e);if(e!==t)It(t);else{var n=d(),r=C.location;if(!f&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(m===yt(n))return;m=null,function(e){if(f)f=!1,h();else{var t="POP";p.confirmTransitionTo(e,t,i,(function(n){n?h({action:t,location:e}):function(e){var t=C.location,n=_.lastIndexOf(yt(t));-1===n&&(n=0);var r=_.lastIndexOf(yt(e));-1===r&&(r=0);var i=n-r;i&&(f=!0,x(i))}(e)}))}}(n)}}var v=Pt(),b=c(v);v!==b&&It(b);var y=d(),_=[yt(y)];function x(e){t.go(e)}var w=0;function E(e){1===(w+=e)&&1===e?window.addEventListener(Ot,g):0===w&&window.removeEventListener(Ot,g)}var T=!1;var C={length:t.length,action:"POP",location:y,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=jt(window.location.href)),n+"#"+c(s+yt(e))},push:function(e,t){var n="PUSH",r=_t(e,void 0,void 0,C.location);p.confirmTransitionTo(r,n,i,(function(e){if(e){var t=yt(r),i=c(s+t);if(Pt()!==i){m=t,function(e){window.location.hash=e}(i);var o=_.lastIndexOf(yt(C.location)),a=_.slice(0,o+1);a.push(t),_=a,h({action:n,location:r})}else h()}}))},replace:function(e,t){var n="REPLACE",r=_t(e,void 0,void 0,C.location);p.confirmTransitionTo(r,n,i,(function(e){if(e){var t=yt(r),i=c(s+t);Pt()!==i&&(m=t,It(i));var o=_.indexOf(yt(C.location));-1!==o&&(_[o]=t),h({action:n,location:r})}}))},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(e){void 0===e&&(e=!1);var t=p.setPrompt(e);return T||(E(1),T=!0),function(){return T&&(T=!1,E(-1)),t()}},listen:function(e){var t=p.appendListener(e);return E(1),function(){E(-1),t()}}};return C}function Rt(e,t,n){return Math.min(Math.max(e,t),n)}var Nt=n(6412),Dt=n.n(Nt),Mt=(n(8e3),n(1632)),Bt=n(9996),Qt=n.n(Bt),Ut=1073741823,Ft="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var zt=i.createContext||function(e,t){var n,r,o="__create-react-context-"+function(){var e="__global_unique_id__";return Ft[e]=(Ft[e]||0)+1}()+"__",a=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}(0,rt.c)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):Ut,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(i.Component);a.childContextTypes=((n={})[o]=ot().object.isRequired,n);var s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}(0,rt.c)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?Ut:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?Ut:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i.Component);return s.contextTypes=((r={})[o]=ot().object,r),{Provider:a,Consumer:s}},qt=function(e){var t=zt();return t.displayName=e,t},Ht=qt("Router-History"),Wt=qt("Router"),Gt=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}(0,rt.c)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return i.createElement(Wt.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i.createElement(Ht.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i.Component);i.Component;var Vt=function(e){function t(){return e.apply(this,arguments)||this}(0,rt.c)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(i.Component);var $t={},Kt=1e4,Yt=0;function Zt(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if($t[e])return $t[e];var t=Dt().compile(e);return Yt<Kt&&($t[e]=t,Yt++),t}(e)(t,{pretty:!0})}function Jt(e){var t=e.computedMatch,n=e.to,r=e.push,o=void 0!==r&&r;return i.createElement(Wt.Consumer,null,(function(e){e||ft(!1);var r=e.history,a=e.staticContext,s=o?r.push:r.replace,l=_t(t?"string"===typeof n?Zt(n,t.params):(0,at.c)({},n,{pathname:Zt(n.pathname,t.params)}):n);return a?(s(l),null):i.createElement(Vt,{onMount:function(){s(l)},onUpdate:function(e,t){var n=_t(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&dt(e.state,t.state)})(n,(0,at.c)({},l,{key:n.key}))||s(l)},to:n})}))}var Xt={},en=1e4,tn=0;function nn(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Xt[n]||(Xt[n]={});if(r[e])return r[e];var i=[],o={regexp:Dt()(e,i,t),keys:i};return tn<en&&(r[e]=o,tn++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,l=i.exec(e);if(!l)return null;var u=l[0],d=l.slice(1),p=e===u;return o&&!p?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:p,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var rn=function(e){function t(){return e.apply(this,arguments)||this}return(0,rt.c)(t,e),t.prototype.render=function(){var e=this;return i.createElement(Wt.Consumer,null,(function(t){t||ft(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?nn(n.pathname,e.props):t.match,o=(0,at.c)({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,c=a.render;return Array.isArray(s)&&function(e){return 0===i.Children.count(e)}(s)&&(s=null),i.createElement(Wt.Provider,{value:o},o.match?s?"function"===typeof s?s(o):s:l?i.createElement(l,o):c?c(o):null:"function"===typeof s?s(o):null)}))},t}(i.Component);function on(e){return"/"===e.charAt(0)?e:"/"+e}function an(e,t){if(!e)return t;var n=on(e);return 0!==t.pathname.indexOf(n)?t:(0,at.c)({},t,{pathname:t.pathname.substr(n.length)})}function sn(e){return"string"===typeof e?e:yt(e)}function ln(e){return function(){ft(!1)}}function cn(){}i.Component;var un=function(e){function t(){return e.apply(this,arguments)||this}return(0,rt.c)(t,e),t.prototype.render=function(){var e=this;return i.createElement(Wt.Consumer,null,(function(t){t||ft(!1);var n,r,o=e.props.location||t.location;return i.Children.forEach(e.props.children,(function(e){if(null==r&&i.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?nn(o.pathname,(0,at.c)({},e.props,{path:a})):t.match}})),r?i.cloneElement(n,{location:o,computedMatch:r}):null}))},t}(i.Component);function dn(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=(0,Mt.c)(t,["wrappedComponentRef"]);return i.createElement(Wt.Consumer,null,(function(t){return t||ft(!1),i.createElement(e,(0,at.c)({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,Qt()(n,e)}var pn=i.useContext;function hn(){return pn(Ht)}function fn(){return pn(Wt).location}function mn(){var e=pn(Wt).match;return e?e.params:{}}i.Component;var gn=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Lt(t.props),t}return(0,rt.c)(t,e),t.prototype.render=function(){return i.createElement(Gt,{history:this.history,children:this.props.children})},t}(i.Component);var vn=function(e,t){return"function"===typeof e?e(t):e},bn=function(e,t){return"string"===typeof e?_t(e,null,null,t):e},yn=function(e){return e},_n=i.forwardRef;"undefined"===typeof _n&&(_n=yn);var xn=_n((function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,a=(0,Mt.c)(e,["innerRef","navigate","onClick"]),s=a.target,l=(0,at.c)({},a,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=yn!==_n&&t||n,i.createElement("a",l)}));var wn=_n((function(e,t){var n=e.component,r=void 0===n?xn:n,o=e.replace,a=e.to,s=e.innerRef,l=(0,Mt.c)(e,["component","replace","to","innerRef"]);return i.createElement(Wt.Consumer,null,(function(e){e||ft(!1);var n=e.history,c=bn(vn(a,e.location),e.location),u=c?n.createHref(c):"",d=(0,at.c)({},l,{href:u,navigate:function(){var t=vn(a,e.location),r=yt(e.location)===yt(bn(t));(o||r?n.replace:n.push)(t)}});return yn!==_n?d.ref=t||s:d.innerRef=s,i.createElement(r,d)}))})),En=function(e){return e},Tn=i.forwardRef;"undefined"===typeof Tn&&(Tn=En);Tn((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,o=e.activeClassName,a=void 0===o?"active":o,s=e.activeStyle,l=e.className,c=e.exact,u=e.isActive,d=e.location,p=e.sensitive,h=e.strict,f=e.style,m=e.to,g=e.innerRef,v=(0,Mt.c)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return i.createElement(Wt.Consumer,null,(function(e){e||ft(!1);var n=d||e.location,o=bn(vn(m,n),n),b=o.pathname,y=b&&b.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),_=y?nn(n.pathname,{path:y,exact:c,sensitive:p,strict:h}):null,x=!!(u?u(_,n):_),w="function"===typeof l?l(x):l,E="function"===typeof f?f(x):f;x&&(w=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(w,a),E=(0,at.c)({},E,s));var T=(0,at.c)({"aria-current":x&&r||null,className:w,style:E,to:o},v);return En!==Tn?T.ref=t||g:T.innerRef=g,i.createElement(wn,T)}))}));const Cn={pacific:{title:{en:"CIOOS Pacific",fr:"SIOOC Pacifique"},titleFrPossessive:"du SIOOC Pacifique",catalogueTitle:{fr:"Catalogue de donn\xe9es du SIOOC du Pacifique",en:"CIOOS Pacific Data Catalogue"},colors:{primary:"#006e90",secondary:"#ffc857"},email:"info@cioospacific.ca",catalogueURL:{fr:"https://catalogue.cioospacific.ca/fr/",en:"https://catalogue.cioospacific.ca/"},introPageText:{en:"CIOOS Pacific integrates data from Canada\u2019s west coast, from Dixon Entrance to the Strait of Juan de Fuca.",fr:"Le CIOOS Pacifique int\xe8gre les donn\xe9es de la c\xf4te ouest du Canada, de l'entr\xe9e Dixon au d\xe9troit de Juan de Fuca."},showInRegionSelector:!0},stlaurent:{title:{en:"St. Lawrence Global Observatory",fr:"Observatoire Global du Saint-Laurent (OGSL)"},titleFrPossessive:"de l'Observatoire Global du Saint-Laurent (OGSL)",catalogueTitle:{fr:"Catalogue de donn\xe9es de l'Observatoire global du Saint-Laurent (OGSL)",en:"St. Lawrence Global Observatory Data Catalogue (SLGO)"},colors:{primary:"#00adef",secondary:"#00aeef"},email:"info@ogsl.ca",catalogueURL:{fr:"https://catalogue.ogsl.ca/",en:"https://catalogue.ogsl.ca/en/"},introPageText:{en:"SLGO integrates data from the St. Lawrence, from the Great Lakes to the Gulf.",fr:"L'Observatoire global du Saint-Laurent int\xe8gre les donn\xe9es du Saint-Laurent, des Grands Lacs jusqu'au Golfe"},showInRegionSelector:!0},atlantic:{title:{en:"CIOOS Atlantic",fr:"SIOOC Atlantique"},titleFrPossessive:"du SIOOC Atlantique",catalogueTitle:{fr:"Catalogue de donn\xe9es du SIOOC du Atlantic",en:"CIOOS Atlantic Data Catalogue"},colors:{primary:"#19222b",secondary:"#e55162"},email:"info@cioosatlantic.ca",catalogueURL:{fr:"https://cioosatlantic.ca/ckan/fr/",en:"https://cioosatlantic.ca/ckan/"},introPageText:{en:"CIOOS Atlantic integrates data from Canada\u2019s east coast, from Labrador to Bay of Fundy.",fr:"Le CIOOS Atlantique int\xe8gre les donn\xe9es de la c\xf4te est du Canada, du Labrador \xe0 la baie de Fundy."},showInRegionSelector:!0},test:{title:{en:"Test",fr:"Test"},catalogueTitle:{fr:"Catalogue de donn\xe9es du Test",en:"Test Data Catalogue"},colors:{primary:"#fcba03",secondary:"#2518ad"},email:"data@hakai.org",catalogueURL:{fr:"https://example.com/",en:"https://example.com/"},introPageText:{en:"This is a test region",fr:""},showInRegionSelector:!1}};var kn=n(5504),Sn=n(3236),On=n(3376);const An=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Sn.c)(e,(0,at.c)({defaultTheme:On.c},t))};var jn=n(2200);function Pn(){return(0,jn.c)()||On.c}var In=n(5696);const Ln=(0,In.c)(i.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),Rn=(0,In.c)(i.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),Nn=(0,In.c)(i.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),Dn=(0,In.c)(i.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircle"),Mn=(0,In.c)(i.createElement("path",{d:"M19 5v14H5V5h14m1.1-2H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM11 7h6v2h-6V7zm0 4h6v2h-6v-2zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7z"}),"ListAlt"),Bn=(0,In.c)(i.createElement("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"}),"AssignmentTurnedIn"),Qn=(0,In.c)(i.createElement("path",{d:"M20 0H4v2h16V0zM4 24h16v-2H4v2zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-8 2.75c1.24 0 2.25 1.01 2.25 2.25s-1.01 2.25-2.25 2.25S9.75 10.24 9.75 9 10.76 6.75 12 6.75zM17 17H7v-1.5c0-1.67 3.33-2.5 5-2.5s5 .83 5 2.5V17z"}),"Contacts"),Un=(0,In.c)(i.createElement("path",{d:"M23 6H1v12h22V6zm-2 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2v8z"}),"StraightenSharp"),Fn=(0,In.c)(i.createElement("path",{d:"M20 21c-1.39 0-2.78-.47-4-1.32-2.44 1.71-5.56 1.71-8 0C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 2.52 1.29 5.48 1.29 8 0 1.26.65 2.62.99 4 .99h2v-2h-2zM3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l2.18-7.65-2.23-.73V4h-5V1H9v3H4v6.62l-2.23.73L3.95 19zM6 6h12v3.97L12 8 6 9.97V6z"}),"DirectionsBoatSharp"),zn=(0,In.c)(i.createElement("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-5 3c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm4 8h-8v-1c0-1.33 2.67-2 4-2s4 .67 4 2v1z"}),"FolderShared"),qn=(0,In.c)(i.createElement("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 14v-2.47l6.88-6.88c.2-.2.51-.2.71 0l1.77 1.77c.2.2.2.51 0 .71L8.47 14H6zm12 0h-7.5l2-2H18v2z"}),"RateReview"),Hn=(0,In.c)(i.createElement("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7C15.12 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5zM9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5C7.34 5 6 6.34 6 8s1.34 3 3 3zm7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75zM9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13z"}),"SupervisorAccount"),Wn=(0,In.c)(i.createElement("path",{d:"M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToApp");var Gn=n(1512),Vn={WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box"},$n=function(e){return(0,at.c)({color:e.palette.text.primary},e.typography.body2,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};const Kn=(0,Gn.c)((function(e){return{"@global":{html:Vn,"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,at.c)({margin:0},$n(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})}}}),{name:"MuiCssBaseline"})((function(e){var t=e.children,n=void 0===t?null:t;return e.classes,i.createElement(i.Fragment,null,n)}));var Yn=n(2540),Zn=n(3620),Jn=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.component,a=void 0===o?"div":o,s=e.square,l=void 0!==s&&s,c=e.elevation,u=void 0===c?1:c,d=e.variant,p=void 0===d?"elevation":d,h=(0,Yn.c)(e,["classes","className","component","square","elevation","variant"]);return i.createElement(a,(0,at.c)({className:(0,kn.c)(n.root,r,"outlined"===p?n.outlined:n["elevation".concat(u)],!l&&n.rounded),ref:t},h))}));const Xn=(0,Gn.c)((function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,at.c)({root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},rounded:{borderRadius:e.shape.borderRadius},outlined:{border:"1px solid ".concat(e.palette.divider)}},t)}),{name:"MuiPaper"})(Jn);var er=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.color,a=void 0===o?"primary":o,s=e.position,l=void 0===s?"fixed":s,c=(0,Yn.c)(e,["classes","className","color","position"]);return i.createElement(Xn,(0,at.c)({square:!0,component:"header",elevation:4,className:(0,kn.c)(n.root,n["position".concat((0,Zn.c)(l))],n["color".concat((0,Zn.c)(a))],r,"fixed"===l&&"mui-fixed"),ref:t},c))}));const tr=(0,Gn.c)((function(e){var t="light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900];return{root:{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",zIndex:e.zIndex.appBar,flexShrink:0},positionFixed:{position:"fixed",top:0,left:"auto",right:0,"@media print":{position:"absolute"}},positionAbsolute:{position:"absolute",top:0,left:"auto",right:0},positionSticky:{position:"sticky",top:0,left:"auto",right:0},positionStatic:{position:"static"},positionRelative:{position:"relative"},colorDefault:{backgroundColor:t,color:e.palette.getContrastText(t)},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorInherit:{color:"inherit"},colorTransparent:{backgroundColor:"transparent",color:"inherit"}}}),{name:"MuiAppBar"})(er);var nr=n(2312),rr=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.component,a=void 0===o?"div":o,s=e.disableGutters,l=void 0!==s&&s,c=e.variant,u=void 0===c?"regular":c,d=(0,Yn.c)(e,["classes","className","component","disableGutters","variant"]);return i.createElement(a,(0,at.c)({className:(0,kn.c)(n.root,n[u],r,!l&&n.gutters),ref:t},d))}));const ir=(0,Gn.c)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center"},gutters:(0,nr.c)({paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),regular:e.mixins.toolbar,dense:{minHeight:48}}}),{name:"MuiToolbar"})(rr);var or=n(9816),ar=n(576),sr=n(9568),lr=n(2880),cr=n(3188),ur=n(4316);const dr=i.createContext(null);function pr(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function hr(e,t,n){return null!=n[t]?n[t]:e.props[t]}function fr(e,t,n){var r=pr(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(o).forEach((function(a){var s=o[a];if((0,i.isValidElement)(s)){var l=a in t,c=a in r,u=t[a],d=(0,i.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,i.isValidElement)(u)&&(o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:u.props.in,exit:hr(s,"exit",e),enter:hr(s,"enter",e)})):o[a]=(0,i.cloneElement)(s,{in:!1}):o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:hr(s,"exit",e),enter:hr(s,"enter",e)})}})),o}var mr=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},gr=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,ur.c)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,rt.c)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,pr(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:hr(e,"appear",n),enter:hr(e,"enter",n),exit:hr(e,"exit",n)})}))):fr(e,o,a),firstRender:!1}},n.handleExited=function(e,t){var n=pr(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,at.c)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,Mt.c)(e,["component","childFactory"]),o=this.state.contextValue,a=mr(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(dr.Provider,{value:o},a):i.createElement(dr.Provider,{value:o},i.createElement(t,r,a))},t}(i.Component);gr.propTypes={},gr.defaultProps={component:"div",childFactory:function(e){return e}};const vr=gr;var br="undefined"===typeof window?i.useEffect:i.useLayoutEffect;const yr=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,o=e.rippleX,a=e.rippleY,s=e.rippleSize,l=e.in,c=e.onExited,u=void 0===c?function(){}:c,d=e.timeout,p=i.useState(!1),h=p[0],f=p[1],m=(0,kn.c)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),g={width:s,height:s,top:-s/2+a,left:-s/2+o},v=(0,kn.c)(t.child,h&&t.childLeaving,r&&t.childPulsate),b=(0,sr.c)(u);return br((function(){if(!l){f(!0);var e=setTimeout(b,d);return function(){clearTimeout(e)}}}),[b,l,d]),i.createElement("span",{className:m,style:g},i.createElement("span",{className:v}))};var _r=i.forwardRef((function(e,t){var n=e.center,r=void 0!==n&&n,o=e.classes,a=e.className,s=(0,Yn.c)(e,["center","classes","className"]),l=i.useState([]),c=l[0],u=l[1],d=i.useRef(0),p=i.useRef(null);i.useEffect((function(){p.current&&(p.current(),p.current=null)}),[c]);var h=i.useRef(!1),f=i.useRef(null),m=i.useRef(null),g=i.useRef(null);i.useEffect((function(){return function(){clearTimeout(f.current)}}),[]);var v=i.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,a=e.rippleSize,s=e.cb;u((function(e){return[].concat((0,cr.c)(e),[i.createElement(yr,{key:d.current,classes:o,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:a})])})),d.current+=1,p.current=s}),[o]),b=i.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=t.pulsate,o=void 0!==i&&i,a=t.center,s=void 0===a?r||t.pulsate:a,l=t.fakeElement,c=void 0!==l&&l;if("mousedown"===e.type&&h.current)h.current=!1;else{"touchstart"===e.type&&(h.current=!0);var u,d,p,b=c?null:g.current,y=b?b.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(y.width/2),d=Math.round(y.height/2);else{var _=e.touches?e.touches[0]:e,x=_.clientX,w=_.clientY;u=Math.round(x-y.left),d=Math.round(w-y.top)}if(s)(p=Math.sqrt((2*Math.pow(y.width,2)+Math.pow(y.height,2))/3))%2===0&&(p+=1);else{var E=2*Math.max(Math.abs((b?b.clientWidth:0)-u),u)+2,T=2*Math.max(Math.abs((b?b.clientHeight:0)-d),d)+2;p=Math.sqrt(Math.pow(E,2)+Math.pow(T,2))}e.touches?null===m.current&&(m.current=function(){v({pulsate:o,rippleX:u,rippleY:d,rippleSize:p,cb:n})},f.current=setTimeout((function(){m.current&&(m.current(),m.current=null)}),80)):v({pulsate:o,rippleX:u,rippleY:d,rippleSize:p,cb:n})}}),[r,v]),y=i.useCallback((function(){b({},{pulsate:!0})}),[b]),_=i.useCallback((function(e,t){if(clearTimeout(f.current),"touchend"===e.type&&m.current)return e.persist(),m.current(),m.current=null,void(f.current=setTimeout((function(){_(e,t)})));m.current=null,u((function(e){return e.length>0?e.slice(1):e})),p.current=t}),[]);return i.useImperativeHandle(t,(function(){return{pulsate:y,start:b,stop:_}}),[y,b,_]),i.createElement("span",(0,at.c)({className:(0,kn.c)(o.root,a),ref:g},s),i.createElement(vr,{component:null,exit:!0},c))}));const xr=(0,Gn.c)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(i.memo(_r));var wr=i.forwardRef((function(e,t){var n=e.action,r=e.buttonRef,a=e.centerRipple,s=void 0!==a&&a,l=e.children,c=e.classes,u=e.className,d=e.component,p=void 0===d?"button":d,h=e.disabled,f=void 0!==h&&h,m=e.disableRipple,g=void 0!==m&&m,v=e.disableTouchRipple,b=void 0!==v&&v,y=e.focusRipple,_=void 0!==y&&y,x=e.focusVisibleClassName,w=e.onBlur,E=e.onClick,T=e.onFocus,C=e.onFocusVisible,k=e.onKeyDown,S=e.onKeyUp,O=e.onMouseDown,A=e.onMouseLeave,j=e.onMouseUp,P=e.onTouchEnd,I=e.onTouchMove,L=e.onTouchStart,R=e.onDragLeave,N=e.tabIndex,D=void 0===N?0:N,M=e.TouchRippleProps,B=e.type,Q=void 0===B?"button":B,U=(0,Yn.c)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),F=i.useRef(null);var z=i.useRef(null),q=i.useState(!1),H=q[0],W=q[1];f&&H&&W(!1);var G=(0,lr.c)(),V=G.isFocusVisible,$=G.onBlurVisible,K=G.ref;function Y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;return(0,sr.c)((function(r){return t&&t(r),!n&&z.current&&z.current[e](r),!0}))}i.useImperativeHandle(n,(function(){return{focusVisible:function(){W(!0),F.current.focus()}}}),[]),i.useEffect((function(){H&&_&&!g&&z.current.pulsate()}),[g,_,H]);var Z=Y("start",O),J=Y("stop",R),X=Y("stop",j),ee=Y("stop",(function(e){H&&e.preventDefault(),A&&A(e)})),te=Y("start",L),ne=Y("stop",P),re=Y("stop",I),ie=Y("stop",(function(e){H&&($(e),W(!1)),w&&w(e)}),!1),oe=(0,sr.c)((function(e){F.current||(F.current=e.currentTarget),V(e)&&(W(!0),C&&C(e)),T&&T(e)})),ae=function(){var e=o.findDOMNode(F.current);return p&&"button"!==p&&!("A"===e.tagName&&e.href)},se=i.useRef(!1),le=(0,sr.c)((function(e){_&&!se.current&&H&&z.current&&" "===e.key&&(se.current=!0,e.persist(),z.current.stop(e,(function(){z.current.start(e)}))),e.target===e.currentTarget&&ae()&&" "===e.key&&e.preventDefault(),k&&k(e),e.target===e.currentTarget&&ae()&&"Enter"===e.key&&!f&&(e.preventDefault(),E&&E(e))})),ce=(0,sr.c)((function(e){_&&" "===e.key&&z.current&&H&&!e.defaultPrevented&&(se.current=!1,e.persist(),z.current.stop(e,(function(){z.current.pulsate(e)}))),S&&S(e),E&&e.target===e.currentTarget&&ae()&&" "===e.key&&!e.defaultPrevented&&E(e)})),ue=p;"button"===ue&&U.href&&(ue="a");var de={};"button"===ue?(de.type=Q,de.disabled=f):("a"===ue&&U.href||(de.role="button"),de["aria-disabled"]=f);var pe=(0,ar.c)(r,t),he=(0,ar.c)(K,F),fe=(0,ar.c)(pe,he),me=i.useState(!1),ge=me[0],ve=me[1];i.useEffect((function(){ve(!0)}),[]);var be=ge&&!g&&!f;return i.createElement(ue,(0,at.c)({className:(0,kn.c)(c.root,u,H&&[c.focusVisible,x],f&&c.disabled),onBlur:ie,onClick:E,onFocus:oe,onKeyDown:le,onKeyUp:ce,onMouseDown:Z,onMouseLeave:ee,onMouseUp:X,onDragLeave:J,onTouchEnd:ne,onTouchMove:re,onTouchStart:te,ref:fe,tabIndex:f?-1:D},de,U),l,be?i.createElement(xr,(0,at.c)({ref:z,center:s},M)):null)}));const Er=(0,Gn.c)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(wr);var Tr=i.forwardRef((function(e,t){var n=e.edge,r=void 0!==n&&n,o=e.children,a=e.classes,s=e.className,l=e.color,c=void 0===l?"default":l,u=e.disabled,d=void 0!==u&&u,p=e.disableFocusRipple,h=void 0!==p&&p,f=e.size,m=void 0===f?"medium":f,g=(0,Yn.c)(e,["edge","children","classes","className","color","disabled","disableFocusRipple","size"]);return i.createElement(Er,(0,at.c)({className:(0,kn.c)(a.root,s,"default"!==c&&a["color".concat((0,Zn.c)(c))],d&&a.disabled,"small"===m&&a["size".concat((0,Zn.c)(m))],{start:a.edgeStart,end:a.edgeEnd}[r]),centerRipple:!0,focusRipple:!h,disabled:d,ref:t},g),i.createElement("span",{className:a.label},o))}));const Cr=(0,Gn.c)((function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,or.W4)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{backgroundColor:"transparent",color:e.palette.action.disabled}},edgeStart:{marginLeft:-12,"$sizeSmall&":{marginLeft:-3}},edgeEnd:{marginRight:-12,"$sizeSmall&":{marginRight:-3}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,or.W4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,or.W4)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},sizeSmall:{padding:3,fontSize:e.typography.pxToRem(18)},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}}),{name:"MuiIconButton"})(Tr);var kr={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p"},Sr=i.forwardRef((function(e,t){var n=e.align,r=void 0===n?"inherit":n,o=e.classes,a=e.className,s=e.color,l=void 0===s?"initial":s,c=e.component,u=e.display,d=void 0===u?"initial":u,p=e.gutterBottom,h=void 0!==p&&p,f=e.noWrap,m=void 0!==f&&f,g=e.paragraph,v=void 0!==g&&g,b=e.variant,y=void 0===b?"body1":b,_=e.variantMapping,x=void 0===_?kr:_,w=(0,Yn.c)(e,["align","classes","className","color","component","display","gutterBottom","noWrap","paragraph","variant","variantMapping"]),E=c||(v?"p":x[y]||kr[y])||"span";return i.createElement(E,(0,at.c)({className:(0,kn.c)(o.root,a,"inherit"!==y&&o[y],"initial"!==l&&o["color".concat((0,Zn.c)(l))],m&&o.noWrap,h&&o.gutterBottom,v&&o.paragraph,"inherit"!==r&&o["align".concat((0,Zn.c)(r))],"initial"!==d&&o["display".concat((0,Zn.c)(d))]),ref:t},w))}));const Or=(0,Gn.c)((function(e){return{root:{margin:0},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},displayInline:{display:"inline"},displayBlock:{display:"block"}}}),{name:"MuiTypography"})(Sr);var Ar=n(4928),jr=n(5376),Pr=n(2784),Ir=n(1856),Lr=(n(52),n(7376)),Rr=n(664),Nr=n(6804),Dr=n(2656),Mr=n(4328),Br=n(9184);var Qr="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;const Ur=i.forwardRef((function(e,t){var n=e.children,r=e.container,a=e.disablePortal,s=void 0!==a&&a,l=e.onRendered,c=i.useState(null),u=c[0],d=c[1],p=(0,ar.c)(i.isValidElement(n)?n.ref:null,t);return Qr((function(){s||d(function(e){return e="function"===typeof e?e():e,o.findDOMNode(e)}(r)||document.body)}),[r,s]),Qr((function(){if(u&&!s)return(0,Br.c)(t,u),function(){(0,Br.c)(t,null)}}),[t,u,s]),Qr((function(){l&&(u||s)&&l()}),[l,u,s]),s?i.isValidElement(n)?i.cloneElement(n,{ref:p}):n:u?o.createPortal(n,u):u}));var Fr=n(8848);function zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var qr=n(4816);function Hr(){var e=document.createElement("div");e.style.width="99px",e.style.height="99px",e.style.position="absolute",e.style.top="-9999px",e.style.overflow="scroll",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}function Wr(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Gr(e){return parseInt(window.getComputedStyle(e)["padding-right"],10)||0}function Vr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,o=[t,n].concat((0,cr.c)(r)),a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){1===e.nodeType&&-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&Wr(e,i)}))}function $r(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function Kr(e,t){var n,r=[],i=[],o=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,Lr.c)(e);return t.body===e?(0,Nr.c)(t).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(o)){var a=Hr();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(Gr(o)+a,"px"),n=(0,Lr.c)(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(e){i.push(e.style.paddingRight),e.style.paddingRight="".concat(Gr(e)+a,"px")}))}var s=o.parentElement,l="HTML"===s.nodeName&&"scroll"===window.getComputedStyle(s)["overflow-y"]?s:o;r.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(e,t){i[t]?e.style.paddingRight=i[t]:e.style.removeProperty("padding-right")})),r.forEach((function(e){var t=e.value,n=e.el,r=e.key;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var Yr=function(){function e(){zr(this,e),this.modals=[],this.containers=[]}return(0,qr.c)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Wr(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){e.getAttribute&&"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Vr(t,e.mountNode,e.modalRef,r,!0);var i=$r(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(e,t){var n=$r(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=Kr(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=$r(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&Wr(e.modalRef,!0),Vr(r.container,e.mountNode,e.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&Wr(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();const Zr=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,a=e.disableEnforceFocus,s=void 0!==a&&a,l=e.disableRestoreFocus,c=void 0!==l&&l,u=e.getDoc,d=e.isEnabled,p=e.open,h=i.useRef(),f=i.useRef(null),m=i.useRef(null),g=i.useRef(),v=i.useRef(null),b=i.useCallback((function(e){v.current=o.findDOMNode(e)}),[]),y=(0,ar.c)(t.ref,b),_=i.useRef();return i.useEffect((function(){_.current=p}),[p]),!_.current&&p&&"undefined"!==typeof window&&(g.current=u().activeElement),i.useEffect((function(){if(p){var e=(0,Lr.c)(v.current);r||!v.current||v.current.contains(e.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex",-1),v.current.focus());var t=function(){null!==v.current&&(e.hasFocus()&&!s&&d()&&!h.current?v.current&&!v.current.contains(e.activeElement)&&v.current.focus():h.current=!1)},n=function(t){!s&&d()&&9===t.keyCode&&e.activeElement===v.current&&(h.current=!0,t.shiftKey?m.current.focus():f.current.focus())};e.addEventListener("focus",t,!0),e.addEventListener("keydown",n,!0);var i=setInterval((function(){t()}),50);return function(){clearInterval(i),e.removeEventListener("focus",t,!0),e.removeEventListener("keydown",n,!0),c||(g.current&&g.current.focus&&g.current.focus(),g.current=null)}}}),[r,s,c,d,p]),i.createElement(i.Fragment,null,i.createElement("div",{tabIndex:0,ref:f,"data-test":"sentinelStart"}),i.cloneElement(t,{ref:y}),i.createElement("div",{tabIndex:0,ref:m,"data-test":"sentinelEnd"}))};var Jr={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}};const Xr=i.forwardRef((function(e,t){var n=e.invisible,r=void 0!==n&&n,o=e.open,a=(0,Yn.c)(e,["invisible","open"]);return o?i.createElement("div",(0,at.c)({"aria-hidden":!0,ref:t},a,{style:(0,at.c)({},Jr.root,r?Jr.invisible:{},a.style)})):null}));var ei=new Yr;const ti=i.forwardRef((function(e,t){var n=(0,jn.c)(),r=(0,Mr.c)({name:"MuiModal",props:(0,at.c)({},e),theme:n}),a=r.BackdropComponent,s=void 0===a?Xr:a,l=r.BackdropProps,c=r.children,u=r.closeAfterTransition,d=void 0!==u&&u,p=r.container,h=r.disableAutoFocus,f=void 0!==h&&h,m=r.disableBackdropClick,g=void 0!==m&&m,v=r.disableEnforceFocus,b=void 0!==v&&v,y=r.disableEscapeKeyDown,_=void 0!==y&&y,x=r.disablePortal,w=void 0!==x&&x,E=r.disableRestoreFocus,T=void 0!==E&&E,C=r.disableScrollLock,k=void 0!==C&&C,S=r.hideBackdrop,O=void 0!==S&&S,A=r.keepMounted,j=void 0!==A&&A,P=r.manager,I=void 0===P?ei:P,L=r.onBackdropClick,R=r.onClose,N=r.onEscapeKeyDown,D=r.onRendered,M=r.open,B=(0,Yn.c)(r,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Q=i.useState(!0),U=Q[0],F=Q[1],z=i.useRef({}),q=i.useRef(null),H=i.useRef(null),W=(0,ar.c)(H,t),G=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(r),V=function(){return(0,Lr.c)(q.current)},$=function(){return z.current.modalRef=H.current,z.current.mountNode=q.current,z.current},K=function(){I.mount($(),{disableScrollLock:k}),H.current.scrollTop=0},Y=(0,sr.c)((function(){var e=function(e){return e="function"===typeof e?e():e,o.findDOMNode(e)}(p)||V().body;I.add($(),e),H.current&&K()})),Z=i.useCallback((function(){return I.isTopModal($())}),[I]),J=(0,sr.c)((function(e){q.current=e,e&&(D&&D(),M&&Z()?K():Wr(H.current,!0))})),X=i.useCallback((function(){I.remove($())}),[I]);if(i.useEffect((function(){return function(){X()}}),[X]),i.useEffect((function(){M?Y():G&&d||X()}),[M,X,G,d,Y]),!j&&!M&&(!G||U))return null;var ee=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:Fr.c}),te={};return void 0===c.props.tabIndex&&(te.tabIndex=c.props.tabIndex||"-1"),G&&(te.onEnter=(0,Dr.c)((function(){F(!1)}),c.props.onEnter),te.onExited=(0,Dr.c)((function(){F(!0),d&&X()}),c.props.onExited)),i.createElement(Ur,{ref:J,container:p,disablePortal:w},i.createElement("div",(0,at.c)({ref:W,onKeyDown:function(e){"Escape"===e.key&&Z()&&(N&&N(e),_||(e.stopPropagation(),R&&R(e,"escapeKeyDown")))},role:"presentation"},B,{style:(0,at.c)({},ee.root,!M&&U?ee.hidden:{},B.style)}),O?null:i.createElement(s,(0,at.c)({open:M,onClick:function(e){e.target===e.currentTarget&&(L&&L(e),!g&&R&&R(e,"backdropClick"))}},l)),i.createElement(Zr,{disableEnforceFocus:b,disableAutoFocus:f,disableRestoreFocus:T,getDoc:V,isEnabled:Z,open:M},i.cloneElement(c,te))))})),ni=!1;var ri=function(e){return e.scrollTop},ii="unmounted",oi="exited",ai="entering",si="entered",li="exiting",ci=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=oi,r.appearStatus=ai):i=si:i=t.unmountOnExit||t.mountOnEnter?ii:oi,r.state={status:i},r.nextCallback=null,r}(0,rt.c)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ii?{status:oi}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ai&&n!==si&&(t=ai):n!==ai&&n!==si||(t=li)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===ai){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this);n&&ri(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===oi&&this.setState({status:ii})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[o.findDOMNode(this),r],a=i[0],s=i[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||ni?this.safeSetState({status:si},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,s),this.safeSetState({status:ai},(function(){t.props.onEntering(a,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:si},(function(){t.props.onEntered(a,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:o.findDOMNode(this);t&&!ni?(this.props.onExit(r),this.safeSetState({status:li},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:oi},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:oi},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:o.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],s=i[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===ii)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,Mt.c)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(dr.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function ui(){}ci.contextType=dr,ci.propTypes={},ci.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ui,onEntering:ui,onEntered:ui,onExit:ui,onExiting:ui,onExited:ui},ci.UNMOUNTED=ii,ci.EXITED=oi,ci.ENTERING=ai,ci.ENTERED=si,ci.EXITING=li;const di=ci;var pi=function(e){return e.scrollTop};function hi(e,t){var n=e.timeout,r=e.style,i=void 0===r?{}:r;return{duration:i.transitionDuration||"number"===typeof n?n:n[t.mode]||0,delay:i.transitionDelay}}function fi(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var mi={entering:{opacity:1,transform:fi(1)},entered:{opacity:1,transform:"none"}},gi=i.forwardRef((function(e,t){var n=e.children,r=e.disableStrictModeCompat,o=void 0!==r&&r,a=e.in,s=e.onEnter,l=e.onEntered,c=e.onEntering,u=e.onExit,d=e.onExited,p=e.onExiting,h=e.style,f=e.timeout,m=void 0===f?"auto":f,g=e.TransitionComponent,v=void 0===g?di:g,b=(0,Yn.c)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),y=i.useRef(),_=i.useRef(),x=Pn(),w=x.unstable_strictMode&&!o,E=i.useRef(null),T=(0,ar.c)(n.ref,t),C=(0,ar.c)(w?E:void 0,T),k=function(e){return function(t,n){if(e){var r=w?[E.current,t]:[t,n],i=(0,jr.c)(r,2),o=i[0],a=i[1];void 0===a?e(o):e(o,a)}}},S=k(c),O=k((function(e,t){pi(e);var n,r=hi({style:h,timeout:m},{mode:"enter"}),i=r.duration,o=r.delay;"auto"===m?(n=x.transitions.getAutoHeightDuration(e.clientHeight),_.current=n):n=i,e.style.transition=[x.transitions.create("opacity",{duration:n,delay:o}),x.transitions.create("transform",{duration:.666*n,delay:o})].join(","),s&&s(e,t)})),A=k(l),j=k(p),P=k((function(e){var t,n=hi({style:h,timeout:m},{mode:"exit"}),r=n.duration,i=n.delay;"auto"===m?(t=x.transitions.getAutoHeightDuration(e.clientHeight),_.current=t):t=r,e.style.transition=[x.transitions.create("opacity",{duration:t,delay:i}),x.transitions.create("transform",{duration:.666*t,delay:i||.333*t})].join(","),e.style.opacity="0",e.style.transform=fi(.75),u&&u(e)})),I=k(d);return i.useEffect((function(){return function(){clearTimeout(y.current)}}),[]),i.createElement(v,(0,at.c)({appear:!0,in:a,nodeRef:w?E:void 0,onEnter:O,onEntered:A,onEntering:S,onExit:P,onExited:I,onExiting:j,addEndListener:function(e,t){var n=w?e:t;"auto"===m&&(y.current=setTimeout(n,_.current||0))},timeout:"auto"===m?null:m},b),(function(e,t){return i.cloneElement(n,(0,at.c)({style:(0,at.c)({opacity:0,transform:fi(.75),visibility:"exited"!==e||a?void 0:"hidden"},mi[e],h,n.props.style),ref:C},t))}))}));gi.muiSupportAuto=!0;const vi=gi;function bi(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function yi(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function _i(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function xi(e){return"function"===typeof e?e():e}var wi=i.forwardRef((function(e,t){var n=e.action,r=e.anchorEl,a=e.anchorOrigin,s=void 0===a?{vertical:"top",horizontal:"left"}:a,l=e.anchorPosition,c=e.anchorReference,u=void 0===c?"anchorEl":c,d=e.children,p=e.classes,h=e.className,f=e.container,m=e.elevation,g=void 0===m?8:m,v=e.getContentAnchorEl,b=e.marginThreshold,y=void 0===b?16:b,_=e.onEnter,x=e.onEntered,w=e.onEntering,E=e.onExit,T=e.onExited,C=e.onExiting,k=e.open,S=e.PaperProps,O=void 0===S?{}:S,A=e.transformOrigin,j=void 0===A?{vertical:"top",horizontal:"left"}:A,P=e.TransitionComponent,I=void 0===P?vi:P,L=e.transitionDuration,R=void 0===L?"auto":L,N=e.TransitionProps,D=void 0===N?{}:N,M=(0,Yn.c)(e,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),B=i.useRef(),Q=i.useCallback((function(e){if("anchorPosition"===u)return l;var t=xi(r),n=(t&&1===t.nodeType?t:(0,Lr.c)(B.current).body).getBoundingClientRect(),i=0===e?s.vertical:"center";return{top:n.top+bi(n,i),left:n.left+yi(n,s.horizontal)}}),[r,s.horizontal,s.vertical,l,u]),U=i.useCallback((function(e){var t=0;if(v&&"anchorEl"===u){var n=v(e);if(n&&e.contains(n)){var r=function(e,t){for(var n=t,r=0;n&&n!==e;)r+=(n=n.parentElement).scrollTop;return r}(e,n);t=n.offsetTop+n.clientHeight/2-r||0}0}return t}),[s.vertical,u,v]),F=i.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:bi(e,j.vertical)+t,horizontal:yi(e,j.horizontal)}}),[j.horizontal,j.vertical]),z=i.useCallback((function(e){var t=U(e),n={width:e.offsetWidth,height:e.offsetHeight},i=F(n,t);if("none"===u)return{top:null,left:null,transformOrigin:_i(i)};var o=Q(t),a=o.top-i.vertical,s=o.left-i.horizontal,l=a+n.height,c=s+n.width,d=(0,Nr.c)(xi(r)),p=d.innerHeight-y,h=d.innerWidth-y;if(a<y){var f=a-y;a-=f,i.vertical+=f}else if(l>p){var m=l-p;a-=m,i.vertical+=m}if(s<y){var g=s-y;s-=g,i.horizontal+=g}else if(c>h){var v=c-h;s-=v,i.horizontal+=v}return{top:"".concat(Math.round(a),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:_i(i)}}),[r,u,Q,U,F,y]),q=i.useCallback((function(){var e=B.current;if(e){var t=z(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[z]),H=i.useCallback((function(e){B.current=o.findDOMNode(e)}),[]);i.useEffect((function(){k&&q()})),i.useImperativeHandle(n,(function(){return k?{updatePosition:function(){q()}}:null}),[k,q]),i.useEffect((function(){if(k){var e=(0,Rr.c)((function(){q()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[k,q]);var W=R;"auto"!==R||I.muiSupportAuto||(W=void 0);var G=f||(r?(0,Lr.c)(xi(r)).body:void 0);return i.createElement(ti,(0,at.c)({container:G,open:k,ref:t,BackdropProps:{invisible:!0},className:(0,kn.c)(p.root,h)},M),i.createElement(I,(0,at.c)({appear:!0,in:k,onEnter:_,onEntered:x,onExit:E,onExited:T,onExiting:C,timeout:W},D,{onEntering:(0,Dr.c)((function(e,t){w&&w(e,t),q()}),D.onEntering)}),i.createElement(Xn,(0,at.c)({elevation:g,ref:H},O,{className:(0,kn.c)(p.paper,O.className)}),d)))}));const Ei=(0,Gn.c)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(wi);const Ti=i.createContext({});var Ci=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.component,s=void 0===a?"ul":a,l=e.dense,c=void 0!==l&&l,u=e.disablePadding,d=void 0!==u&&u,p=e.subheader,h=(0,Yn.c)(e,["children","classes","className","component","dense","disablePadding","subheader"]),f=i.useMemo((function(){return{dense:c}}),[c]);return i.createElement(Ti.Provider,{value:f},i.createElement(s,(0,at.c)({className:(0,kn.c)(r.root,o,c&&r.dense,!d&&r.padding,p&&r.subheader),ref:t},h),p,n))}));const ki=(0,Gn.c)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(Ci);function Si(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Oi(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Ai(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function ji(e,t,n,r,i,o){for(var a=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return;a=!0}var l=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Ai(s,o)&&!l)return void s.focus();s=i(e,s,n)}}var Pi="undefined"===typeof window?i.useEffect:i.useLayoutEffect,Ii=i.forwardRef((function(e,t){var n=e.actions,r=e.autoFocus,a=void 0!==r&&r,s=e.autoFocusItem,l=void 0!==s&&s,c=e.children,u=e.className,d=e.disabledItemsFocusable,p=void 0!==d&&d,h=e.disableListWrap,f=void 0!==h&&h,m=e.onKeyDown,g=e.variant,v=void 0===g?"selectedMenu":g,b=(0,Yn.c)(e,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),y=i.useRef(null),_=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Pi((function(){a&&y.current.focus()}),[a]),i.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!y.current.style.width;if(e.clientHeight<y.current.clientHeight&&n){var r="".concat(Hr(),"px");y.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,y.current.style.width="calc(100% + ".concat(r,")")}return y.current}}}),[]);var x=i.useCallback((function(e){y.current=o.findDOMNode(e)}),[]),w=(0,ar.c)(x,t),E=-1;i.Children.forEach(c,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===E)&&(E=t))}));var T=i.Children.map(c,(function(e,t){if(t===E){var n={};return l&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===v&&(n.tabIndex=0),i.cloneElement(e,n)}return e}));return i.createElement(ki,(0,at.c)({role:"menu",ref:w,className:u,onKeyDown:function(e){var t=y.current,n=e.key,r=(0,Lr.c)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),ji(t,r,f,p,Si);else if("ArrowUp"===n)e.preventDefault(),ji(t,r,f,p,Oi);else if("Home"===n)e.preventDefault(),ji(t,null,f,p,Si);else if("End"===n)e.preventDefault(),ji(t,null,f,p,Oi);else if(1===n.length){var i=_.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&Ai(r,i);i.previousKeyMatched&&(s||ji(t,r,!1,p,Si,i))?e.preventDefault():i.previousKeyMatched=!1}m&&m(e)},tabIndex:a?0:-1},b),T)}));const Li=Ii;var Ri={vertical:"top",horizontal:"right"},Ni={vertical:"top",horizontal:"left"},Di=i.forwardRef((function(e,t){var n=e.autoFocus,r=void 0===n||n,a=e.children,s=e.classes,l=e.disableAutoFocusItem,c=void 0!==l&&l,u=e.MenuListProps,d=void 0===u?{}:u,p=e.onClose,h=e.onEntering,f=e.open,m=e.PaperProps,g=void 0===m?{}:m,v=e.PopoverClasses,b=e.transitionDuration,y=void 0===b?"auto":b,_=e.TransitionProps,x=(_=void 0===_?{}:_).onEntering,w=(0,Yn.c)(_,["onEntering"]),E=e.variant,T=void 0===E?"selectedMenu":E,C=(0,Yn.c)(e,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"]),k=Pn(),S=r&&!c&&f,O=i.useRef(null),A=i.useRef(null),j=-1;i.Children.map(a,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("menu"!==T&&e.props.selected||-1===j)&&(j=t))}));var P=i.Children.map(a,(function(e,t){return t===j?i.cloneElement(e,{ref:function(t){A.current=o.findDOMNode(t),(0,Br.c)(e.ref,t)}}):e}));return i.createElement(Ei,(0,at.c)({getContentAnchorEl:function(){return A.current},classes:v,onClose:p,TransitionProps:(0,at.c)({onEntering:function(e,t){O.current&&O.current.adjustStyleForScrollbar(e,k),h&&h(e,t),x&&x(e,t)}},w),anchorOrigin:"rtl"===k.direction?Ri:Ni,transformOrigin:"rtl"===k.direction?Ri:Ni,PaperProps:(0,at.c)({},g,{classes:(0,at.c)({},g.classes,{root:s.paper})}),open:f,ref:t,transitionDuration:y},C),i.createElement(Li,(0,at.c)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),p&&p(e,"tabKeyDown"))},actions:O,autoFocus:r&&(-1===j||c),autoFocusItem:S,variant:T},d,{className:(0,kn.c)(s.list,d.className)}),P))}));const Mi=(0,Gn.c)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(Di);function Bi(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Qi(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(Bi(e.value)&&""!==e.value||t&&Bi(e.defaultValue)&&""!==e.defaultValue)}var Ui=n(6960);function Fi(e,t){return"object"===(0,Pr.c)(t)&&null!==t?e===t:String(e)===String(t)}var zi=i.forwardRef((function(e,t){var n=e["aria-label"],r=e.autoFocus,o=e.autoWidth,a=e.children,s=e.classes,l=e.className,c=e.defaultValue,u=e.disabled,d=e.displayEmpty,p=e.IconComponent,h=e.inputRef,f=e.labelId,m=e.MenuProps,g=void 0===m?{}:m,v=e.multiple,b=e.name,y=e.onBlur,_=e.onChange,x=e.onClose,w=e.onFocus,E=e.onOpen,T=e.open,C=e.readOnly,k=e.renderValue,S=e.SelectDisplayProps,O=void 0===S?{}:S,A=e.tabIndex,j=(e.type,e.value),P=e.variant,I=void 0===P?"standard":P,L=(0,Yn.c)(e,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),R=(0,Ui.c)({controlled:j,default:c,name:"Select"}),N=(0,jr.c)(R,2),D=N[0],M=N[1],B=i.useRef(null),Q=i.useState(null),U=Q[0],F=Q[1],z=i.useRef(null!=T).current,q=i.useState(),H=q[0],W=q[1],G=i.useState(!1),V=G[0],$=G[1],K=(0,ar.c)(t,h);i.useImperativeHandle(K,(function(){return{focus:function(){U.focus()},node:B.current,value:D}}),[U,D]),i.useEffect((function(){r&&U&&U.focus()}),[r,U]),i.useEffect((function(){if(U){var e=(0,Lr.c)(U).getElementById(f);if(e){var t=function(){getSelection().isCollapsed&&U.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[f,U]);var Y,Z,J=function(e,t){e?E&&E(t):x&&x(t),z||(W(o?null:U.clientWidth),$(e))},X=i.Children.toArray(a),ee=function(e){return function(t){var n;if(v||J(!1,t),v){n=Array.isArray(D)?D.slice():[];var r=D.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;e.props.onClick&&e.props.onClick(t),D!==n&&(M(n),_&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:n,name:b}}),_(t,e)))}},te=null!==U&&(z?T:V);delete L["aria-invalid"];var ne=[],re=!1;(Qi({value:D})||d)&&(k?Y=k(D):re=!0);var ie=X.map((function(e){if(!i.isValidElement(e))return null;var t;if(v){if(!Array.isArray(D))throw new Error((0,Ir.c)(2));(t=D.some((function(t){return Fi(t,e.props.value)})))&&re&&ne.push(e.props.children)}else(t=Fi(D,e.props.value))&&re&&(Z=e.props.children);return t&&!0,i.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ee(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));re&&(Y=v?ne.join(", "):Z);var oe,ae=H;!o&&z&&U&&(ae=U.clientWidth),oe="undefined"!==typeof A?A:u?null:0;var se=O.id||(b?"mui-component-select-".concat(b):void 0);return i.createElement(i.Fragment,null,i.createElement("div",(0,at.c)({className:(0,kn.c)(s.root,s.select,s.selectMenu,s[I],l,u&&s.disabled),ref:F,tabIndex:oe,role:"button","aria-disabled":u?"true":void 0,"aria-expanded":te?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[f,se].filter(Boolean).join(" ")||void 0,onKeyDown:function(e){if(!C){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),J(!0,e))}},onMouseDown:u||C?null:function(e){0===e.button&&(e.preventDefault(),U.focus(),J(!0,e))},onBlur:function(e){!te&&y&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:D,name:b}}),y(e))},onFocus:w},O,{id:se}),function(e){return null==e||"string"===typeof e&&!e.trim()}(Y)?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):Y),i.createElement("input",(0,at.c)({value:Array.isArray(D)?D.join(","):D,name:b,ref:B,"aria-hidden":!0,onChange:function(e){var t=X.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=X[t];M(n.props.value),_&&_(e,n)}},tabIndex:-1,className:s.nativeInput,autoFocus:r},L)),i.createElement(p,{className:(0,kn.c)(s.icon,s["icon".concat((0,Zn.c)(I))],te&&s.iconOpen,u&&s.disabled)}),i.createElement(Mi,(0,at.c)({id:"menu-".concat(b||""),anchorEl:U,open:te,onClose:function(e){J(!1,e)}},g,{MenuListProps:(0,at.c)({"aria-labelledby":f,role:"listbox",disableListWrap:!0},g.MenuListProps),PaperProps:(0,at.c)({},g.PaperProps,{style:(0,at.c)({minWidth:ae},null!=g.PaperProps?g.PaperProps.style:null)})}),ie))}));const qi=zi;function Hi(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var Wi=i.createContext();function Gi(){return i.useContext(Wi)}const Vi=Wi;function $i(){return i.useContext(Vi)}const Ki=(0,In.c)(i.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function Yi(e,t){return parseInt(e[t],10)||0}var Zi="undefined"!==typeof window?i.useLayoutEffect:i.useEffect,Ji={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},Xi=i.forwardRef((function(e,t){var n=e.onChange,r=e.rows,o=e.rowsMax,a=e.rowsMin,s=e.maxRows,l=e.minRows,c=void 0===l?1:l,u=e.style,d=e.value,p=(0,Yn.c)(e,["onChange","rows","rowsMax","rowsMin","maxRows","minRows","style","value"]),h=s||o,f=r||a||c,m=i.useRef(null!=d).current,g=i.useRef(null),v=(0,ar.c)(t,g),b=i.useRef(null),y=i.useRef(0),_=i.useState({}),x=_[0],w=_[1],E=i.useCallback((function(){var t=g.current,n=window.getComputedStyle(t),r=b.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],o=Yi(n,"padding-bottom")+Yi(n,"padding-top"),a=Yi(n,"border-bottom-width")+Yi(n,"border-top-width"),s=r.scrollHeight-o;r.value="x";var l=r.scrollHeight-o,c=s;f&&(c=Math.max(Number(f)*l,c)),h&&(c=Math.min(Number(h)*l,c));var u=(c=Math.max(c,l))+("border-box"===i?o+a:0),d=Math.abs(c-s)<=1;w((function(e){return y.current<20&&(u>0&&Math.abs((e.outerHeightStyle||0)-u)>1||e.overflow!==d)?(y.current+=1,{overflow:d,outerHeightStyle:u}):e}))}),[h,f,e.placeholder]);i.useEffect((function(){var e=(0,Rr.c)((function(){y.current=0,E()}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[E]),Zi((function(){E()})),i.useEffect((function(){y.current=0}),[d]);return i.createElement(i.Fragment,null,i.createElement("textarea",(0,at.c)({value:d,onChange:function(e){y.current=0,m||E(),n&&n(e)},ref:v,rows:f,style:(0,at.c)({height:x.outerHeightStyle,overflow:x.overflow?"hidden":null},u)},p)),i.createElement("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:b,tabIndex:-1,style:(0,at.c)({},Ji,u)}))}));const eo=Xi;var to="undefined"===typeof window?i.useEffect:i.useLayoutEffect,no=i.forwardRef((function(e,t){var n=e["aria-describedby"],r=e.autoComplete,o=e.autoFocus,a=e.classes,s=e.className,l=(e.color,e.defaultValue),c=e.disabled,u=e.endAdornment,d=(e.error,e.fullWidth),p=void 0!==d&&d,h=e.id,f=e.inputComponent,m=void 0===f?"input":f,g=e.inputProps,v=void 0===g?{}:g,b=e.inputRef,y=(e.margin,e.multiline),_=void 0!==y&&y,x=e.name,w=e.onBlur,E=e.onChange,T=e.onClick,C=e.onFocus,k=e.onKeyDown,S=e.onKeyUp,O=e.placeholder,A=e.readOnly,j=e.renderSuffix,P=e.rows,I=e.rowsMax,L=e.rowsMin,R=e.maxRows,N=e.minRows,D=e.startAdornment,M=e.type,B=void 0===M?"text":M,Q=e.value,U=(0,Yn.c)(e,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","maxRows","minRows","startAdornment","type","value"]),F=null!=v.value?v.value:Q,z=i.useRef(null!=F).current,q=i.useRef(),H=i.useCallback((function(e){0}),[]),W=(0,ar.c)(v.ref,H),G=(0,ar.c)(b,W),V=(0,ar.c)(q,G),$=i.useState(!1),K=$[0],Y=$[1],Z=Gi();var J=Hi({props:e,muiFormControl:Z,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});J.focused=Z?Z.focused:K,i.useEffect((function(){!Z&&c&&K&&(Y(!1),w&&w())}),[Z,c,K,w]);var X=Z&&Z.onFilled,ee=Z&&Z.onEmpty,te=i.useCallback((function(e){Qi(e)?X&&X():ee&&ee()}),[X,ee]);to((function(){z&&te({value:F})}),[F,te,z]);i.useEffect((function(){te(q.current)}),[]);var ne=m,re=(0,at.c)({},v,{ref:V});"string"!==typeof ne?re=(0,at.c)({inputRef:V,type:B},re,{ref:null}):_?!P||R||N||I||L?(re=(0,at.c)({minRows:P||N,rowsMax:I,maxRows:R},re),ne=eo):ne="textarea":re=(0,at.c)({type:B},re);return i.useEffect((function(){Z&&Z.setAdornedStart(Boolean(D))}),[Z,D]),i.createElement("div",(0,at.c)({className:(0,kn.c)(a.root,a["color".concat((0,Zn.c)(J.color||"primary"))],s,J.disabled&&a.disabled,J.error&&a.error,p&&a.fullWidth,J.focused&&a.focused,Z&&a.formControl,_&&a.multiline,D&&a.adornedStart,u&&a.adornedEnd,"dense"===J.margin&&a.marginDense),onClick:function(e){q.current&&e.currentTarget===e.target&&q.current.focus(),T&&T(e)},ref:t},U),D,i.createElement(Vi.Provider,{value:null},i.createElement(ne,(0,at.c)({"aria-invalid":J.error,"aria-describedby":n,autoComplete:r,autoFocus:o,defaultValue:l,disabled:J.disabled,id:h,onAnimationStart:function(e){te("mui-auto-fill-cancel"===e.animationName?q.current:{value:"x"})},name:x,placeholder:O,readOnly:A,required:J.required,rows:P,value:F,onKeyDown:k,onKeyUp:S},re,{className:(0,kn.c)(a.input,v.className,J.disabled&&a.disabled,_&&a.inputMultiline,J.hiddenLabel&&a.inputHiddenLabel,D&&a.inputAdornedStart,u&&a.inputAdornedEnd,"search"===B&&a.inputTypeSearch,"dense"===J.margin&&a.inputMarginDense),onBlur:function(e){w&&w(e),v.onBlur&&v.onBlur(e),Z&&Z.onBlur?Z.onBlur(e):Y(!1)},onChange:function(e){if(!z){var t=e.target||q.current;if(null==t)throw new Error((0,Ir.c)(1));te({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];v.onChange&&v.onChange.apply(v,[e].concat(r)),E&&E.apply(void 0,[e].concat(r))},onFocus:function(e){J.disabled?e.stopPropagation():(C&&C(e),v.onFocus&&v.onFocus(e),Z&&Z.onFocus?Z.onFocus(e):Y(!0))}}))),u,j?j((0,at.c)({},J,{startAdornment:D})):null)}));const ro=(0,Gn.c)((function(e){var t="light"===e.palette.type,n={color:"currentColor",opacity:t?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i={opacity:t?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:(0,at.c)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:e.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(no);var io=i.forwardRef((function(e,t){var n=e.disableUnderline,r=e.classes,o=e.fullWidth,a=void 0!==o&&o,s=e.inputComponent,l=void 0===s?"input":s,c=e.multiline,u=void 0!==c&&c,d=e.type,p=void 0===d?"text":d,h=(0,Yn.c)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return i.createElement(ro,(0,at.c)({classes:(0,at.c)({},r,{root:(0,kn.c)(r.root,!n&&r.underline),underline:null}),fullWidth:a,inputComponent:l,multiline:u,ref:t,type:p},h))}));io.muiName="Input";const oo=(0,Gn.c)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(t),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(e.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(t)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(io);var ao=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.disabled,a=e.IconComponent,s=e.inputRef,l=e.variant,c=void 0===l?"standard":l,u=(0,Yn.c)(e,["classes","className","disabled","IconComponent","inputRef","variant"]);return i.createElement(i.Fragment,null,i.createElement("select",(0,at.c)({className:(0,kn.c)(n.root,n.select,n[c],r,o&&n.disabled),disabled:o,ref:s||t},u)),e.multiple?null:i.createElement(a,{className:(0,kn.c)(n.icon,n["icon".concat((0,Zn.c)(c))],o&&n.disabled)}))}));const so=ao;var lo=function(e){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===e.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:e.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:e.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:e.palette.action.active,"&$disabled":{color:e.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},co=i.createElement(oo,null),uo=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.IconComponent,a=void 0===o?Ki:o,s=e.input,l=void 0===s?co:s,c=e.inputProps,u=(e.variant,(0,Yn.c)(e,["children","classes","IconComponent","input","inputProps","variant"])),d=Hi({props:e,muiFormControl:$i(),states:["variant"]});return i.cloneElement(l,(0,at.c)({inputComponent:so,inputProps:(0,at.c)({children:n,classes:r,IconComponent:a,variant:d.variant,type:void 0},c,l?l.props.inputProps:{}),ref:t},u))}));uo.muiName="Select";(0,Gn.c)(lo,{name:"MuiNativeSelect"})(uo);var po=i.forwardRef((function(e,t){var n=e.disableUnderline,r=e.classes,o=e.fullWidth,a=void 0!==o&&o,s=e.inputComponent,l=void 0===s?"input":s,c=e.multiline,u=void 0!==c&&c,d=e.type,p=void 0===d?"text":d,h=(0,Yn.c)(e,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return i.createElement(ro,(0,at.c)({classes:(0,at.c)({},r,{root:(0,kn.c)(r.root,!n&&r.underline),underline:null}),fullWidth:a,inputComponent:l,multiline:u,ref:t,type:p},h))}));po.muiName="Input";const ho=(0,Gn.c)((function(e){var t="light"===e.palette.type,n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:t?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:e.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(e.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(e.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(po);var fo=i.forwardRef((function(e,t){e.children;var n=e.classes,r=e.className,o=e.label,a=e.labelWidth,s=e.notched,l=e.style,c=(0,Yn.c)(e,["children","classes","className","label","labelWidth","notched","style"]),u="rtl"===Pn().direction?"right":"left";if(void 0!==o)return i.createElement("fieldset",(0,at.c)({"aria-hidden":!0,className:(0,kn.c)(n.root,r),ref:t,style:l},c),i.createElement("legend",{className:(0,kn.c)(n.legendLabelled,s&&n.legendNotched)},o?i.createElement("span",null,o):i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var d=a>0?.75*a+8:.01;return i.createElement("fieldset",(0,at.c)({"aria-hidden":!0,style:(0,at.c)((0,nr.c)({},"padding".concat((0,Zn.c)(u)),8),l),className:(0,kn.c)(n.root,r),ref:t},c),i.createElement("legend",{className:n.legend,style:{width:s?d:.01}},i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))}));const mo=(0,Gn.c)((function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(fo);var go=i.forwardRef((function(e,t){var n=e.classes,r=e.fullWidth,o=void 0!==r&&r,a=e.inputComponent,s=void 0===a?"input":a,l=e.label,c=e.labelWidth,u=void 0===c?0:c,d=e.multiline,p=void 0!==d&&d,h=e.notched,f=e.type,m=void 0===f?"text":f,g=(0,Yn.c)(e,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return i.createElement(ro,(0,at.c)({renderSuffix:function(e){return i.createElement(mo,{className:n.notchedOutline,label:l,labelWidth:u,notched:"undefined"!==typeof h?h:Boolean(e.startAdornment||e.filled||e.focused)})},classes:(0,at.c)({},n,{root:(0,kn.c)(n.root,n.underline),notchedOutline:null}),fullWidth:o,inputComponent:s,multiline:p,ref:t,type:m},g))}));go.muiName="Input";const vo=(0,Gn.c)((function(e){var t="light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:e.shape.borderRadius,"&:hover $notchedOutline":{borderColor:e.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:t}},"&$focused $notchedOutline":{borderColor:e.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:e.palette.error.main},"&$disabled $notchedOutline":{borderColor:e.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:e.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:t},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.type?null:"#fff",caretColor:"light"===e.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(go);var bo=lo,yo=i.createElement(oo,null),_o=i.createElement(ho,null),xo=i.forwardRef((function e(t,n){var r=t.autoWidth,o=void 0!==r&&r,a=t.children,s=t.classes,l=t.displayEmpty,c=void 0!==l&&l,u=t.IconComponent,d=void 0===u?Ki:u,p=t.id,h=t.input,f=t.inputProps,m=t.label,g=t.labelId,v=t.labelWidth,b=void 0===v?0:v,y=t.MenuProps,_=t.multiple,x=void 0!==_&&_,w=t.native,E=void 0!==w&&w,T=t.onClose,C=t.onOpen,k=t.open,S=t.renderValue,O=t.SelectDisplayProps,A=t.variant,j=void 0===A?"standard":A,P=(0,Yn.c)(t,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),I=E?so:qi,L=Hi({props:t,muiFormControl:$i(),states:["variant"]}).variant||j,R=h||{standard:yo,outlined:i.createElement(vo,{label:m,labelWidth:b}),filled:_o}[L];return i.cloneElement(R,(0,at.c)({inputComponent:I,inputProps:(0,at.c)({children:a,IconComponent:d,variant:L,type:void 0,multiple:x},E?{id:p}:{autoWidth:o,displayEmpty:c,labelId:g,MenuProps:y,onClose:T,onOpen:C,open:k,renderValue:S,SelectDisplayProps:(0,at.c)({id:p},O)},f,{classes:f?(0,Ar.c)({baseClasses:s,newClasses:f.classes,Component:e}):s},h?h.props.inputProps:{}),ref:n},P))}));xo.muiName="Select";const wo=(0,Gn.c)(bo,{name:"MuiSelect"})(xo);var Eo=n(168),To="undefined"===typeof window?i.useEffect:i.useLayoutEffect,Co=i.forwardRef((function(e,t){var n=e.alignItems,r=void 0===n?"center":n,a=e.autoFocus,s=void 0!==a&&a,l=e.button,c=void 0!==l&&l,u=e.children,d=e.classes,p=e.className,h=e.component,f=e.ContainerComponent,m=void 0===f?"li":f,g=e.ContainerProps,v=(g=void 0===g?{}:g).className,b=(0,Yn.c)(g,["className"]),y=e.dense,_=void 0!==y&&y,x=e.disabled,w=void 0!==x&&x,E=e.disableGutters,T=void 0!==E&&E,C=e.divider,k=void 0!==C&&C,S=e.focusVisibleClassName,O=e.selected,A=void 0!==O&&O,j=(0,Yn.c)(e,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),P=i.useContext(Ti),I={dense:_||P.dense||!1,alignItems:r},L=i.useRef(null);To((function(){s&&L.current&&L.current.focus()}),[s]);var R=i.Children.toArray(u),N=R.length&&(0,Eo.c)(R[R.length-1],["ListItemSecondaryAction"]),D=i.useCallback((function(e){L.current=o.findDOMNode(e)}),[]),M=(0,ar.c)(D,t),B=(0,at.c)({className:(0,kn.c)(d.root,p,I.dense&&d.dense,!T&&d.gutters,k&&d.divider,w&&d.disabled,c&&d.button,"center"!==r&&d.alignItemsFlexStart,N&&d.secondaryAction,A&&d.selected),disabled:w},j),Q=h||"li";return c&&(B.component=h||"div",B.focusVisibleClassName=(0,kn.c)(d.focusVisible,S),Q=Er),N?(Q=B.component||h?Q:"div","li"===m&&("li"===Q?Q="div":"li"===B.component&&(B.component="div")),i.createElement(Ti.Provider,{value:I},i.createElement(m,(0,at.c)({className:(0,kn.c)(d.container,v),ref:M},b),i.createElement(Q,B,R),R.pop()))):i.createElement(Ti.Provider,{value:I},i.createElement(Q,(0,at.c)({ref:M},B),R))}));const ko=(0,Gn.c)((function(e){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:e.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:e.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(e.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(Co);var So=i.forwardRef((function(e,t){var n,r=e.classes,o=e.className,a=e.component,s=void 0===a?"li":a,l=e.disableGutters,c=void 0!==l&&l,u=e.ListItemClasses,d=e.role,p=void 0===d?"menuitem":d,h=e.selected,f=e.tabIndex,m=(0,Yn.c)(e,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return e.disabled||(n=void 0!==f?f:-1),i.createElement(ko,(0,at.c)({button:!0,role:p,tabIndex:n,component:s,selected:h,disableGutters:c,classes:(0,at.c)({dense:r.dense},u),className:(0,kn.c)(r.root,o,h&&r.selected,!c&&r.gutters),ref:t},m))}));const Oo=(0,Gn.c)((function(e){return{root:(0,at.c)({},e.typography.body1,(0,nr.c)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},e.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:(0,at.c)({},e.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(So);var Ao=n(4880),jo={entering:{opacity:1},entered:{opacity:1}},Po={enter:Ao.rV.enteringScreen,exit:Ao.rV.leavingScreen},Io=i.forwardRef((function(e,t){var n=e.children,r=e.disableStrictModeCompat,o=void 0!==r&&r,a=e.in,s=e.onEnter,l=e.onEntered,c=e.onEntering,u=e.onExit,d=e.onExited,p=e.onExiting,h=e.style,f=e.TransitionComponent,m=void 0===f?di:f,g=e.timeout,v=void 0===g?Po:g,b=(0,Yn.c)(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),y=Pn(),_=y.unstable_strictMode&&!o,x=i.useRef(null),w=(0,ar.c)(n.ref,t),E=(0,ar.c)(_?x:void 0,w),T=function(e){return function(t,n){if(e){var r=_?[x.current,t]:[t,n],i=(0,jr.c)(r,2),o=i[0],a=i[1];void 0===a?e(o):e(o,a)}}},C=T(c),k=T((function(e,t){pi(e);var n=hi({style:h,timeout:v},{mode:"enter"});e.style.webkitTransition=y.transitions.create("opacity",n),e.style.transition=y.transitions.create("opacity",n),s&&s(e,t)})),S=T(l),O=T(p),A=T((function(e){var t=hi({style:h,timeout:v},{mode:"exit"});e.style.webkitTransition=y.transitions.create("opacity",t),e.style.transition=y.transitions.create("opacity",t),u&&u(e)})),j=T(d);return i.createElement(m,(0,at.c)({appear:!0,in:a,nodeRef:_?x:void 0,onEnter:k,onEntered:S,onEntering:C,onExit:A,onExited:j,onExiting:O,timeout:v},b),(function(e,t){return i.cloneElement(n,(0,at.c)({style:(0,at.c)({opacity:0,visibility:"exited"!==e||a?void 0:"hidden"},jo[e],h,n.props.style),ref:E},t))}))}));const Lo=Io;var Ro=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.invisible,s=void 0!==a&&a,l=e.open,c=e.transitionDuration,u=e.TransitionComponent,d=void 0===u?Lo:u,p=(0,Yn.c)(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return i.createElement(d,(0,at.c)({in:l,timeout:c},p),i.createElement("div",{className:(0,kn.c)(r.root,o,s&&r.invisible),"aria-hidden":!0,ref:t},n))}));const No=(0,Gn.c)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(Ro);function Do(e,t){var n=function(e,t){var n,r=t.getBoundingClientRect();if(t.fakeTransform)n=t.fakeTransform;else{var i=window.getComputedStyle(t);n=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform")}var o=0,a=0;if(n&&"none"!==n&&"string"===typeof n){var s=n.split("(")[1].split(")")[0].split(",");o=parseInt(s[4],10),a=parseInt(s[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(").concat(o-r.left,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-o,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(").concat(a-r.top,"px)"):"translateY(-".concat(r.top+r.height-a,"px)")}(e,t);n&&(t.style.webkitTransform=n,t.style.transform=n)}var Mo={enter:Ao.rV.enteringScreen,exit:Ao.rV.leavingScreen},Bo=i.forwardRef((function(e,t){var n=e.children,r=e.direction,a=void 0===r?"down":r,s=e.in,l=e.onEnter,c=e.onEntered,u=e.onEntering,d=e.onExit,p=e.onExited,h=e.onExiting,f=e.style,m=e.timeout,g=void 0===m?Mo:m,v=e.TransitionComponent,b=void 0===v?di:v,y=(0,Yn.c)(e,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),_=Pn(),x=i.useRef(null),w=i.useCallback((function(e){x.current=o.findDOMNode(e)}),[]),E=(0,ar.c)(n.ref,w),T=(0,ar.c)(E,t),C=function(e){return function(t){e&&(void 0===t?e(x.current):e(x.current,t))}},k=C((function(e,t){Do(a,e),pi(e),l&&l(e,t)})),S=C((function(e,t){var n=hi({timeout:g,style:f},{mode:"enter"});e.style.webkitTransition=_.transitions.create("-webkit-transform",(0,at.c)({},n,{easing:_.transitions.easing.easeOut})),e.style.transition=_.transitions.create("transform",(0,at.c)({},n,{easing:_.transitions.easing.easeOut})),e.style.webkitTransform="none",e.style.transform="none",u&&u(e,t)})),O=C(c),A=C(h),j=C((function(e){var t=hi({timeout:g,style:f},{mode:"exit"});e.style.webkitTransition=_.transitions.create("-webkit-transform",(0,at.c)({},t,{easing:_.transitions.easing.sharp})),e.style.transition=_.transitions.create("transform",(0,at.c)({},t,{easing:_.transitions.easing.sharp})),Do(a,e),d&&d(e)})),P=C((function(e){e.style.webkitTransition="",e.style.transition="",p&&p(e)})),I=i.useCallback((function(){x.current&&Do(a,x.current)}),[a]);return i.useEffect((function(){if(!s&&"down"!==a&&"right"!==a){var e=(0,Rr.c)((function(){x.current&&Do(a,x.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[a,s]),i.useEffect((function(){s||I()}),[s,I]),i.createElement(b,(0,at.c)({nodeRef:x,onEnter:k,onEntered:O,onEntering:S,onExit:j,onExited:P,onExiting:A,appear:!0,in:s,timeout:g},y),(function(e,t){return i.cloneElement(n,(0,at.c)({ref:T,style:(0,at.c)({visibility:"exited"!==e||s?void 0:"hidden"},f,n.props.style)},t))}))}));const Qo=Bo;var Uo={left:"right",right:"left",top:"down",bottom:"up"};var Fo={enter:Ao.rV.enteringScreen,exit:Ao.rV.leavingScreen},zo=i.forwardRef((function(e,t){var n=e.anchor,r=void 0===n?"left":n,o=e.BackdropProps,a=e.children,s=e.classes,l=e.className,c=e.elevation,u=void 0===c?16:c,d=e.ModalProps,p=(d=void 0===d?{}:d).BackdropProps,h=(0,Yn.c)(d,["BackdropProps"]),f=e.onClose,m=e.open,g=void 0!==m&&m,v=e.PaperProps,b=void 0===v?{}:v,y=e.SlideProps,_=e.TransitionComponent,x=void 0===_?Qo:_,w=e.transitionDuration,E=void 0===w?Fo:w,T=e.variant,C=void 0===T?"temporary":T,k=(0,Yn.c)(e,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),S=Pn(),O=i.useRef(!1);i.useEffect((function(){O.current=!0}),[]);var A=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?Uo[t]:t}(S,r),j=i.createElement(Xn,(0,at.c)({elevation:"temporary"===C?u:0,square:!0},b,{className:(0,kn.c)(s.paper,s["paperAnchor".concat((0,Zn.c)(A))],b.className,"temporary"!==C&&s["paperAnchorDocked".concat((0,Zn.c)(A))])}),a);if("permanent"===C)return i.createElement("div",(0,at.c)({className:(0,kn.c)(s.root,s.docked,l),ref:t},k),j);var P=i.createElement(x,(0,at.c)({in:g,direction:Uo[A],timeout:E,appear:O.current},y),j);return"persistent"===C?i.createElement("div",(0,at.c)({className:(0,kn.c)(s.root,s.docked,l),ref:t},k),P):i.createElement(ti,(0,at.c)({BackdropProps:(0,at.c)({},o,p,{transitionDuration:E}),BackdropComponent:No,className:(0,kn.c)(s.root,s.modal,l),open:g,onClose:f,ref:t},k,h),P)}));const qo=(0,Gn.c)((function(e){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:e.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(e.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(e.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(e.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(e.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(zo);var Ho=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=(0,Yn.c)(e,["classes","className"]),a=i.useContext(Ti);return i.createElement("div",(0,at.c)({className:(0,kn.c)(n.root,r,"flex-start"===a.alignItems&&n.alignItemsFlexStart),ref:t},o))}));const Wo=(0,Gn.c)((function(e){return{root:{minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(Ho),Go=(0,In.c)(i.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var Vo=i.forwardRef((function(e,t){var n=e.alt,r=e.children,o=e.classes,a=e.className,s=e.component,l=void 0===s?"div":s,c=e.imgProps,u=e.sizes,d=e.src,p=e.srcSet,h=e.variant,f=void 0===h?"circular":h,m=(0,Yn.c)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),g=null,v=function(e){var t=e.src,n=e.srcSet,r=i.useState(!1),o=r[0],a=r[1];return i.useEffect((function(){if(t||n){a(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&a("loaded")},r.onerror=function(){e&&a("error")},function(){e=!1}}}),[t,n]),o}({src:d,srcSet:p}),b=d||p,y=b&&"error"!==v;return g=y?i.createElement("img",(0,at.c)({alt:n,src:d,srcSet:p,sizes:u,className:o.img},c)):null!=r?r:b&&n?n[0]:i.createElement(Go,{className:o.fallback}),i.createElement(l,(0,at.c)({className:(0,kn.c)(o.root,o.system,o[f],a,!y&&o.colorDefault),ref:t},m),g)}));const $o=(0,Gn.c)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(Vo);var Ko=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.disableTypography,s=void 0!==a&&a,l=e.inset,c=void 0!==l&&l,u=e.primary,d=e.primaryTypographyProps,p=e.secondary,h=e.secondaryTypographyProps,f=(0,Yn.c)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),m=i.useContext(Ti).dense,g=null!=u?u:n;null==g||g.type===Or||s||(g=i.createElement(Or,(0,at.c)({variant:m?"body2":"body1",className:r.primary,component:"span",display:"block"},d),g));var v=p;return null==v||v.type===Or||s||(v=i.createElement(Or,(0,at.c)({variant:"body2",className:r.secondary,color:"textSecondary",display:"block"},h),v)),i.createElement("div",(0,at.c)({className:(0,kn.c)(r.root,o,m&&r.dense,c&&r.inset,g&&v&&r.multiline),ref:t},f),g,v)}));const Yo=(0,Gn.c)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(Ko);var Zo=i.forwardRef((function(e,t){var n=e.absolute,r=void 0!==n&&n,o=e.classes,a=e.className,s=e.component,l=void 0===s?"hr":s,c=e.flexItem,u=void 0!==c&&c,d=e.light,p=void 0!==d&&d,h=e.orientation,f=void 0===h?"horizontal":h,m=e.role,g=void 0===m?"hr"!==l?"separator":void 0:m,v=e.variant,b=void 0===v?"fullWidth":v,y=(0,Yn.c)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return i.createElement(l,(0,at.c)({className:(0,kn.c)(o.root,a,"fullWidth"!==b&&o[b],r&&o.absolute,u&&o.flexItem,p&&o.light,"vertical"===f&&o.vertical),role:g,ref:t},y))}));const Jo=(0,Gn.c)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:(0,or.W4)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(Zo);var Xo=n(8384),ea="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,ta=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(ea&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var na=ea&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),ta))}};function ra(e){return e&&"[object Function]"==={}.toString.call(e)}function ia(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function oa(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function aa(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=ia(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(n+i+r)?e:aa(oa(e))}function sa(e){return e&&e.referenceNode?e.referenceNode:e}var la=ea&&!(!window.MSInputMethodContext||!document.documentMode),ca=ea&&/MSIE 10/.test(navigator.userAgent);function ua(e){return 11===e?la:10===e?ca:la||ca}function da(e){if(!e)return document.documentElement;for(var t=ua(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===ia(n,"position")?da(n):n:e?e.ownerDocument.documentElement:document.documentElement}function pa(e){return null!==e.parentNode?pa(e.parentNode):e}function ha(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a=o.commonAncestorContainer;if(e!==a&&t!==a||r.contains(i))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||da(e.firstElementChild)===e)}(a)?a:da(a);var s=pa(e);return s.host?ha(s.host,t):ha(e,pa(t).host)}function fa(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function ma(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function ga(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],ua(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function va(e){var t=e.body,n=e.documentElement,r=ua(10)&&getComputedStyle(n);return{height:ga("Height",t,n,r),width:ga("Width",t,n,r)}}var ba=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),ya=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},_a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function xa(e){return _a({},e,{right:e.left+e.width,bottom:e.top+e.height})}function wa(e){var t={};try{if(ua(10)){t=e.getBoundingClientRect();var n=fa(e,"top"),r=fa(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(d){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?va(e.ownerDocument):{},a=o.width||e.clientWidth||i.width,s=o.height||e.clientHeight||i.height,l=e.offsetWidth-a,c=e.offsetHeight-s;if(l||c){var u=ia(e);l-=ma(u,"x"),c-=ma(u,"y"),i.width-=l,i.height-=c}return xa(i)}function Ea(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ua(10),i="HTML"===t.nodeName,o=wa(e),a=wa(t),s=aa(e),l=ia(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var d=xa({top:o.top-a.top-c,left:o.left-a.left-u,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!r&&i){var p=parseFloat(l.marginTop),h=parseFloat(l.marginLeft);d.top-=c-p,d.bottom-=c-p,d.left-=u-h,d.right-=u-h,d.marginTop=p,d.marginLeft=h}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=fa(t,"top"),i=fa(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=i*o,e.right+=i*o,e}(d,t)),d}function Ta(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===ia(e,"position"))return!0;var n=oa(e);return!!n&&Ta(n)}function Ca(e){if(!e||!e.parentElement||ua())return document.documentElement;for(var t=e.parentElement;t&&"none"===ia(t,"transform");)t=t.parentElement;return t||document.documentElement}function ka(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?Ca(e):ha(e,sa(t));if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=Ea(e,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:fa(n),s=t?0:fa(n,"left");return xa({top:a-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:i,height:o})}(a,i);else{var s=void 0;"scrollParent"===r?"BODY"===(s=aa(oa(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===r?e.ownerDocument.documentElement:r;var l=Ea(s,a,i);if("HTML"!==s.nodeName||Ta(a))o=l;else{var c=va(e.ownerDocument),u=c.height,d=c.width;o.top+=l.top-l.marginTop,o.bottom=u+l.top,o.left+=l.left-l.marginLeft,o.right=d+l.left}}var p="number"===typeof(n=n||0);return o.left+=p?n:n.left||0,o.top+=p?n:n.top||0,o.right-=p?n:n.right||0,o.bottom-=p?n:n.bottom||0,o}function Sa(e){return e.width*e.height}function Oa(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=ka(n,r,o,i),s={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},l=Object.keys(s).map((function(e){return _a({key:e},s[e],{area:Sa(s[e])})})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function Aa(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ea(n,r?Ca(t):ha(t,sa(n)),r)}function ja(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function Pa(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function Ia(e,t,n){n=n.split("-")[0];var r=ja(e),i={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return i[a]=t[a]+t[l]/2-r[l]/2,i[s]=n===s?t[s]-r[c]:t[Pa(s)],i}function La(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Ra(e,t,n){var r=void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=La(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n));return r.forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&ra(n)&&(t.offsets.popper=xa(t.offsets.popper),t.offsets.reference=xa(t.offsets.reference),t=n(t,e))})),t}function Na(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=Aa(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=Oa(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Ia(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Ra(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Da(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function Ma(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var i=t[r],o=i?""+i+n:e;if("undefined"!==typeof document.body.style[o])return o}return null}function Ba(){return this.state.isDestroyed=!0,Da(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Ma("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Qa(e){var t=e.ownerDocument;return t?t.defaultView:window}function Ua(e,t,n,r){var i="BODY"===e.nodeName,o=i?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),i||Ua(aa(o.parentNode),t,n,r),r.push(o)}function Fa(e,t,n,r){n.updateBound=r,Qa(e).addEventListener("resize",n.updateBound,{passive:!0});var i=aa(e);return Ua(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function za(){this.state.eventsEnabled||(this.state=Fa(this.reference,this.options,this.state,this.scheduleUpdate))}function qa(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Qa(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Ha(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Wa(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Ha(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var Ga=ea&&/Firefox/i.test(navigator.userAgent);function Va(e,t,n){var r=La(e,(function(e){return e.name===t})),i=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!i){var o="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return i}var $a=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Ka=$a.slice(3);function Ya(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ka.indexOf(e),r=Ka.slice(n+1).concat(Ka.slice(0,n));return t?r.reverse():r}var Za="flip",Ja="clockwise",Xa="counterclockwise";function es(e,t,n,r){var i=[0,0],o=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=a.indexOf(La(a,(function(e){return-1!==e.search(/,|\s/)})));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return c=c.map((function(e,r){var i=(1===r?!o:o)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+i[1],a=i[2];if(!o)return e;if(0===a.indexOf("%")){return xa("%p"===a?n:r)[t]/100*o}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,i,t,n)}))})),c.forEach((function(e,t){e.forEach((function(n,r){Ha(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))}))})),i}var ts={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets,o=i.reference,a=i.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:ya({},l,o[l]),end:ya({},l,o[l]+o[c]-a[c])};e.offsets.popper=_a({},a,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,o=i.popper,a=i.reference,s=r.split("-")[0],l=void 0;return l=Ha(+n)?[+n,0]:es(n,o,a,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||da(e.instance.popper);e.instance.reference===n&&(n=da(n));var r=Ma("transform"),i=e.instance.popper.style,o=i.top,a=i.left,s=i[r];i.top="",i.left="",i[r]="";var l=ka(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);i.top=o,i.left=a,i[r]=s,t.boundaries=l;var c=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),ya({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),ya({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=_a({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,i=e.placement.split("-")[0],o=Math.floor,a=-1!==["top","bottom"].indexOf(i),s=a?"right":"bottom",l=a?"left":"top",c=a?"width":"height";return n[s]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-n[c]),n[l]>o(r[s])&&(e.offsets.popper[l]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Va(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],o=e.offsets,a=o.popper,s=o.reference,l=-1!==["left","right"].indexOf(i),c=l?"height":"width",u=l?"Top":"Left",d=u.toLowerCase(),p=l?"left":"top",h=l?"bottom":"right",f=ja(r)[c];s[h]-f<a[d]&&(e.offsets.popper[d]-=a[d]-(s[h]-f)),s[d]+f>a[h]&&(e.offsets.popper[d]+=s[d]+f-a[h]),e.offsets.popper=xa(e.offsets.popper);var m=s[d]+s[c]/2-f/2,g=ia(e.instance.popper),v=parseFloat(g["margin"+u]),b=parseFloat(g["border"+u+"Width"]),y=m-e.offsets.popper[d]-v-b;return y=Math.max(Math.min(a[c]-f,y),0),e.arrowElement=r,e.offsets.arrow=(ya(n={},d,Math.round(y)),ya(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Da(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=ka(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],i=Pa(r),o=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case Za:a=[r,i];break;case Ja:a=Ya(r);break;case Xa:a=Ya(r,!0);break;default:a=t.behavior}return a.forEach((function(s,l){if(r!==s||a.length===l+1)return e;r=e.placement.split("-")[0],i=Pa(r);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===r&&d(c.right)>d(u.left)||"right"===r&&d(c.left)<d(u.right)||"top"===r&&d(c.bottom)>d(u.top)||"bottom"===r&&d(c.top)<d(u.bottom),h=d(c.left)<d(n.left),f=d(c.right)>d(n.right),m=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),v="left"===r&&h||"right"===r&&f||"top"===r&&m||"bottom"===r&&g,b=-1!==["top","bottom"].indexOf(r),y=!!t.flipVariations&&(b&&"start"===o&&h||b&&"end"===o&&f||!b&&"start"===o&&m||!b&&"end"===o&&g),_=!!t.flipVariationsByContent&&(b&&"start"===o&&f||b&&"end"===o&&h||!b&&"start"===o&&g||!b&&"end"===o&&m),x=y||_;(p||v||x)&&(e.flipped=!0,(p||v)&&(r=a[l+1]),x&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=_a({},e.offsets.popper,Ia(e.instance.popper,e.offsets.reference,e.placement)),e=Ra(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,i=r.popper,o=r.reference,a=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[a?"left":"top"]=o[n]-(s?i[a?"width":"height"]:0),e.placement=Pa(t),e.offsets.popper=xa(i),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Va(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=La(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,i=e.offsets.popper,o=La(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==o?o:t.gpuAcceleration,s=da(e.instance.popper),l=wa(s),c={position:i.position},u=function(e,t){var n=e.offsets,r=n.popper,i=n.reference,o=Math.round,a=Math.floor,s=function(e){return e},l=o(i.width),c=o(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?u||d||l%2===c%2?o:a:s,h=t?o:s;return{left:p(l%2===1&&c%2===1&&!d&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:p(r.right)}}(e,window.devicePixelRatio<2||!Ga),d="bottom"===n?"top":"bottom",p="right"===r?"left":"right",h=Ma("transform"),f=void 0,m=void 0;if(m="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,f="right"===p?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,a&&h)c[h]="translate3d("+f+"px, "+m+"px, 0)",c[d]=0,c[p]=0,c.willChange="transform";else{var g="bottom"===d?-1:1,v="right"===p?-1:1;c[d]=m*g,c[p]=f*v,c.willChange=d+", "+p}var b={"x-placement":e.placement};return e.attributes=_a({},b,e.attributes),e.styles=_a({},c,e.styles),e.arrowStyles=_a({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Wa(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Wa(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,i){var o=Aa(i,t,e,n.positionFixed),a=Oa(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),Wa(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},ns={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:ts},rs=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=na(this.update.bind(this)),this.options=_a({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(_a({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=_a({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return _a({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&ra(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return ba(e,[{key:"update",value:function(){return Na.call(this)}},{key:"destroy",value:function(){return Ba.call(this)}},{key:"enableEventListeners",value:function(){return za.call(this)}},{key:"disableEventListeners",value:function(){return qa.call(this)}}]),e}();rs.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,rs.placements=$a,rs.Defaults=ns;const is=rs;function os(e){return"function"===typeof e?e():e}var as="undefined"!==typeof window?i.useLayoutEffect:i.useEffect,ss={},ls=i.forwardRef((function(e,t){var n=e.anchorEl,r=e.children,o=e.container,a=e.disablePortal,s=void 0!==a&&a,l=e.keepMounted,c=void 0!==l&&l,u=e.modifiers,d=e.open,p=e.placement,h=void 0===p?"bottom":p,f=e.popperOptions,m=void 0===f?ss:f,g=e.popperRef,v=e.style,b=e.transition,y=void 0!==b&&b,_=(0,Yn.c)(e,["anchorEl","children","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"]),x=i.useRef(null),w=(0,ar.c)(x,t),E=i.useRef(null),T=(0,ar.c)(E,g),C=i.useRef(T);as((function(){C.current=T}),[T]),i.useImperativeHandle(g,(function(){return E.current}),[]);var k=i.useState(!0),S=k[0],O=k[1],A=function(e,t){if("ltr"===(t&&t.direction||"ltr"))return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(h,(0,jn.c)()),j=i.useState(A),P=j[0],I=j[1];i.useEffect((function(){E.current&&E.current.update()}));var L=i.useCallback((function(){if(x.current&&n&&d){E.current&&(E.current.destroy(),C.current(null));var e=function(e){I(e.placement)},t=(os(n),new is(os(n),x.current,(0,at.c)({placement:A},m,{modifiers:(0,at.c)({},s?{}:{preventOverflow:{boundariesElement:"window"}},u,m.modifiers),onCreate:(0,Dr.c)(e,m.onCreate),onUpdate:(0,Dr.c)(e,m.onUpdate)})));C.current(t)}}),[n,s,u,d,A,m]),R=i.useCallback((function(e){(0,Br.c)(w,e),L()}),[w,L]),N=function(){E.current&&(E.current.destroy(),C.current(null))};if(i.useEffect((function(){return function(){N()}}),[]),i.useEffect((function(){d||y||N()}),[d,y]),!c&&!d&&(!y||S))return null;var D={placement:P};return y&&(D.TransitionProps={in:d,onEnter:function(){O(!1)},onExited:function(){O(!0),N()}}),i.createElement(Ur,{disablePortal:s,container:o},i.createElement("div",(0,at.c)({ref:R,role:"tooltip"},_,{style:(0,at.c)({position:"fixed",top:0,left:0,display:d||!c||y?null:"none"},v)}),"function"===typeof r?r(D):r))}));const cs=ls;var us=n(5064);function ds(e){return Math.round(1e5*e)/1e5}var ps=!1,hs=null;var fs=i.forwardRef((function(e,t){var n=e.arrow,r=void 0!==n&&n,a=e.children,s=e.classes,l=e.disableFocusListener,c=void 0!==l&&l,u=e.disableHoverListener,d=void 0!==u&&u,p=e.disableTouchListener,h=void 0!==p&&p,f=e.enterDelay,m=void 0===f?100:f,g=e.enterNextDelay,v=void 0===g?0:g,b=e.enterTouchDelay,y=void 0===b?700:b,_=e.id,x=e.interactive,w=void 0!==x&&x,E=e.leaveDelay,T=void 0===E?0:E,C=e.leaveTouchDelay,k=void 0===C?1500:C,S=e.onClose,O=e.onOpen,A=e.open,j=e.placement,P=void 0===j?"bottom":j,I=e.PopperComponent,L=void 0===I?cs:I,R=e.PopperProps,N=e.title,D=e.TransitionComponent,M=void 0===D?vi:D,B=e.TransitionProps,Q=(0,Yn.c)(e,["arrow","children","classes","disableFocusListener","disableHoverListener","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","id","interactive","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"]),U=Pn(),F=i.useState(),z=F[0],q=F[1],H=i.useState(null),W=H[0],G=H[1],V=i.useRef(!1),$=i.useRef(),K=i.useRef(),Y=i.useRef(),Z=i.useRef(),J=(0,Ui.c)({controlled:A,default:!1,name:"Tooltip",state:"open"}),X=(0,jr.c)(J,2),ee=X[0],te=X[1],ne=ee,re=(0,us.c)(_);i.useEffect((function(){return function(){clearTimeout($.current),clearTimeout(K.current),clearTimeout(Y.current),clearTimeout(Z.current)}}),[]);var ie=function(e){clearTimeout(hs),ps=!0,te(!0),O&&O(e)},oe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=a.props;"mouseover"===t.type&&n.onMouseOver&&e&&n.onMouseOver(t),V.current&&"touchstart"!==t.type||(z&&z.removeAttribute("title"),clearTimeout(K.current),clearTimeout(Y.current),m||ps&&v?(t.persist(),K.current=setTimeout((function(){ie(t)}),ps?v:m)):ie(t))}},ae=(0,lr.c)(),se=ae.isFocusVisible,le=ae.onBlurVisible,ce=ae.ref,ue=i.useState(!1),de=ue[0],pe=ue[1],he=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){z||q(t.currentTarget),se(t)&&(pe(!0),oe()(t));var n=a.props;n.onFocus&&e&&n.onFocus(t)}},fe=function(e){clearTimeout(hs),hs=setTimeout((function(){ps=!1}),800+T),te(!1),S&&S(e),clearTimeout($.current),$.current=setTimeout((function(){V.current=!1}),U.transitions.duration.shortest)},me=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t){var n=a.props;"blur"===t.type&&(n.onBlur&&e&&n.onBlur(t),de&&(pe(!1),le())),"mouseleave"===t.type&&n.onMouseLeave&&t.currentTarget===z&&n.onMouseLeave(t),clearTimeout(K.current),clearTimeout(Y.current),t.persist(),Y.current=setTimeout((function(){fe(t)}),T)}},ge=function(e){V.current=!0;var t=a.props;t.onTouchStart&&t.onTouchStart(e)},ve=(0,ar.c)(q,t),be=(0,ar.c)(ce,ve),ye=i.useCallback((function(e){(0,Br.c)(be,o.findDOMNode(e))}),[be]),_e=(0,ar.c)(a.ref,ye);""===N&&(ne=!1);var xe=!ne&&!d,we=(0,at.c)({"aria-describedby":ne?re:null,title:xe&&"string"===typeof N?N:null},Q,a.props,{className:(0,kn.c)(Q.className,a.props.className),onTouchStart:ge,ref:_e}),Ee={};h||(we.onTouchStart=function(e){ge(e),clearTimeout(Y.current),clearTimeout($.current),clearTimeout(Z.current),e.persist(),Z.current=setTimeout((function(){oe()(e)}),y)},we.onTouchEnd=function(e){a.props.onTouchEnd&&a.props.onTouchEnd(e),clearTimeout(Z.current),clearTimeout(Y.current),e.persist(),Y.current=setTimeout((function(){fe(e)}),k)}),d||(we.onMouseOver=oe(),we.onMouseLeave=me(),w&&(Ee.onMouseOver=oe(!1),Ee.onMouseLeave=me(!1))),c||(we.onFocus=he(),we.onBlur=me(),w&&(Ee.onFocus=he(!1),Ee.onBlur=me(!1)));var Te=i.useMemo((function(){return(0,Xo.c)({popperOptions:{modifiers:{arrow:{enabled:Boolean(W),element:W}}}},R)}),[W,R]);return i.createElement(i.Fragment,null,i.cloneElement(a,we),i.createElement(L,(0,at.c)({className:(0,kn.c)(s.popper,w&&s.popperInteractive,r&&s.popperArrow),placement:P,anchorEl:z,open:!!z&&ne,id:we["aria-describedby"],transition:!0},Ee,Te),(function(e){var t=e.placement,n=e.TransitionProps;return i.createElement(M,(0,at.c)({timeout:U.transitions.duration.shorter},n,B),i.createElement("div",{className:(0,kn.c)(s.tooltip,s["tooltipPlacement".concat((0,Zn.c)(t.split("-")[0]))],V.current&&s.touch,r&&s.tooltipArrow)},N,r?i.createElement("span",{className:s.arrow,ref:G}):null))})))}));const ms=(0,Gn.c)((function(e){return{popper:{zIndex:e.zIndex.tooltip,pointerEvents:"none"},popperInteractive:{pointerEvents:"auto"},popperArrow:{'&[x-placement*="bottom"] $arrow':{top:0,left:0,marginTop:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"0 100%"}},'&[x-placement*="top"] $arrow':{bottom:0,left:0,marginBottom:"-0.71em",marginLeft:4,marginRight:4,"&::before":{transformOrigin:"100% 0"}},'&[x-placement*="right"] $arrow':{left:0,marginLeft:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"100% 100%"}},'&[x-placement*="left"] $arrow':{right:0,marginRight:"-0.71em",height:"1em",width:"0.71em",marginTop:4,marginBottom:4,"&::before":{transformOrigin:"0 0"}}},tooltip:{backgroundColor:(0,or.W4)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat(ds(1.4),"em"),maxWidth:300,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},tooltipArrow:{position:"relative",margin:"0"},arrow:{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,or.W4)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}},touch:{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat(ds(16/14),"em"),fontWeight:e.typography.fontWeightRegular},tooltipPlacementLeft:(0,nr.c)({transformOrigin:"right center",margin:"0 24px "},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementRight:(0,nr.c)({transformOrigin:"left center",margin:"0 24px"},e.breakpoints.up("sm"),{margin:"0 14px"}),tooltipPlacementTop:(0,nr.c)({transformOrigin:"center bottom",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"}),tooltipPlacementBottom:(0,nr.c)({transformOrigin:"center top",margin:"24px 0"},e.breakpoints.up("sm"),{margin:"14px 0"})}}),{name:"MuiTooltip",flip:!1})(fs),gs=!1,vs=!1,bs="${JSCORE_VERSION}",ys=function(e,t){if(!e)throw _s(t)},_s=function(e){return new Error("Firebase Database ("+bs+") INTERNAL ASSERT FAILED: "+e)},xs=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ws={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,p=63&l;s||(p=64,o||(d=64)),r.push(n[c],n[u],n[d],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xs(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new Es;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Es extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ts=function(e){const t=xs(e);return ws.encodeByteArray(t,!0)},Cs=function(e){return Ts(e).replace(/\./g,"")},ks=function(e){try{return ws.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ss(e){return Os(void 0,e)}function Os(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&As(n)&&(e[n]=Os(e[n],t[n]));return e}function As(e){return"__proto__"!==e}const js=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ps=()=>{try{return js()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/metadata-entry-form",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLOUD_API_KEY:"AIzaSyBz4kb3hJHXw0voYZgHZuAgmqGosxntMHM",REACT_APP_GOOGLE_CLOUD_API_KEY_DEV:"AIzaSyADkNENzpoqj3O7uGPsRA_4s1zQdbH708c"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&ks(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Is=e=>{var t,n;return null===(n=null===(t=Ps())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ls=e=>{const t=Is(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Rs=()=>{var e;return null===(e=Ps())||void 0===e?void 0:e.config},Ns=e=>{var t;return null===(t=Ps())||void 0===t?void 0:t["_".concat(e)]};class Ds{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ms(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Bs(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ms())}function Qs(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Us(){return!0===gs||!0===vs}class Fs extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zs.prototype.create)}}class zs{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(qs,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Fs(n,o,t)}}const qs=/\{\$([^}]+)}/g;function Hs(e){return JSON.parse(e)}function Ws(e){return JSON.stringify(e)}const Gs=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=Hs(ks(o[0])||""),n=Hs(ks(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Vs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $s(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Ks(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ys(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Zs(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Js(n)&&Js(o)){if(!Zs(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Js(e){return null!==e&&"object"===typeof e}function Xs(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function el(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function tl(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class nl{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],a=this.chain_[1],s=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^a&(s^l),i=1518500249):(r=a^s^l,i=1859775393):u<60?(r=a&s|l&(a|s),i=2400959708):(r=a^s^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=s,s=4294967295&(a<<30|a>>>2),a=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class rl{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=il),void 0===r.error&&(r.error=il),void 0===r.complete&&(r.complete=il);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function il(){}function ol(e,t){return"".concat(e," failed: ").concat(t," argument ")}const al=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function sl(e){return e&&e._delegate?e._delegate:e}class ll{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const cl="[DEFAULT]";class ul{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ds;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:cl})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===cl?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(o){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cl;return this.component?this.component.multipleInstances?e:cl:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class dl{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ul(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const pl=[];var hl;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(hl||(hl={}));const fl={debug:hl.DEBUG,verbose:hl.VERBOSE,info:hl.INFO,warn:hl.WARN,error:hl.ERROR,silent:hl.SILENT},ml=hl.INFO,gl={[hl.DEBUG]:"log",[hl.VERBOSE]:"log",[hl.INFO]:"info",[hl.WARN]:"warn",[hl.ERROR]:"error"},vl=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=gl[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class bl{constructor(e){this.name=e,this._logLevel=ml,this._logHandler=vl,this._userLogHandler=null,pl.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in hl))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?fl[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,hl.DEBUG,...t),this._logHandler(this,hl.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,hl.VERBOSE,...t),this._logHandler(this,hl.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,hl.INFO,...t),this._logHandler(this,hl.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,hl.WARN,...t),this._logHandler(this,hl.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,hl.ERROR,...t),this._logHandler(this,hl.ERROR,...t)}}const yl=(e,t)=>t.some((t=>e instanceof t));let _l,xl;const wl=new WeakMap,El=new WeakMap,Tl=new WeakMap,Cl=new WeakMap,kl=new WeakMap;let Sl={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return El.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Tl.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jl(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ol(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(xl||(xl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Pl(this),n),jl(wl.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return jl(e.apply(Pl(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Pl(this),t,...r);return Tl.set(o,t.sort?t.sort():[t]),jl(o)}}function Al(e){return"function"===typeof e?Ol(e):(e instanceof IDBTransaction&&function(e){if(El.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));El.set(e,t)}(e),yl(e,_l||(_l=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Sl):e)}function jl(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(jl(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&wl.set(t,e)})).catch((()=>{})),kl.set(t,e),t}(e);if(Cl.has(e))return Cl.get(e);const t=Al(e);return t!==e&&(Cl.set(e,t),kl.set(t,e)),t}const Pl=e=>kl.get(e);const Il=["get","getKey","getAll","getAllKeys","count"],Ll=["put","add","delete","clear"],Rl=new Map;function Nl(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Rl.get(t))return Rl.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ll.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Il.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(o=o.index(s.shift())),(await Promise.all([o[n](...s),i&&t.done]))[0]};return Rl.set(t,o),o}Sl=(e=>({...e,get:(t,n,r)=>Nl(t,n)||e.get(t,n,r),has:(t,n)=>!!Nl(t,n)||e.has(t,n)}))(Sl);class Dl{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Ml="@firebase/app",Bl="0.9.27",Ql=new bl("@firebase/app"),Ul="[DEFAULT]",Fl={[Ml]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zl=new Map,ql=new Map;function Hl(e,t){try{e.container.addComponent(t)}catch(n){Ql.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Wl(e){const t=e.name;if(ql.has(t))return Ql.debug("There were multiple attempts to register component ".concat(t,".")),!1;ql.set(t,e);for(const n of zl.values())Hl(n,e);return!0}function Gl(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Vl=new zs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $l{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ll("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vl.create("app-deleted",{appName:this._name})}}const Kl="10.8.0";function Yl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ul,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Vl.create("bad-app-name",{appName:String(i)});if(n||(n=Rs()),!n)throw Vl.create("no-options");const o=zl.get(i);if(o){if(Zs(n,o.options)&&Zs(r,o.config))return o;throw Vl.create("duplicate-app",{appName:i})}const a=new dl(i);for(const l of ql.values())a.addComponent(l);const s=new $l(n,r,a);return zl.set(i,s),s}function Zl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul;const t=zl.get(e);if(!t&&e===Ul&&Rs())return Yl();if(!t)throw Vl.create("no-app",{appName:e});return t}function Jl(e,t,n){var r;let i=null!==(r=Fl[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ql.warn(e.join(" "))}Wl(new ll("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Xl="firebase-heartbeat-database",ec=1,tc="firebase-heartbeat-store";let nc=null;function rc(){return nc||(nc=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=jl(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(jl(a.result),e.oldVersion,e.newVersion,jl(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}(Xl,ec,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(tc)}catch(n){console.warn(n)}}}).catch((e=>{throw Vl.create("idb-open",{originalErrorMessage:e.message})}))),nc}async function ic(e,t){try{const n=(await rc()).transaction(tc,"readwrite"),r=n.objectStore(tc);await r.put(t,oc(e)),await n.done}catch(n){if(n instanceof Fs)Ql.warn(n.message);else{const e=Vl.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Ql.warn(e.message)}}}function oc(e){return"".concat(e.name,"!").concat(e.options.appId)}class ac{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lc(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=sc();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=sc(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),cc(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cc(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Cs(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function sc(){return(new Date).toISOString().substring(0,10)}class lc{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(gh){t(gh)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await rc()).transaction(tc),n=await t.objectStore(tc).get(oc(e));return await t.done,n}catch(t){if(t instanceof Fs)Ql.warn(t.message);else{const e=Vl.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Ql.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ic(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ic(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function cc(e){return Cs(JSON.stringify({version:2,heartbeats:e})).length}var uc;uc="",Wl(new ll("platform-logger",(e=>new Dl(e)),"PRIVATE")),Wl(new ll("heartbeat",(e=>new ac(e)),"PRIVATE")),Jl(Ml,Bl,uc),Jl(Ml,Bl,"esm2017"),Jl("fire-js","");function dc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function pc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hc=pc,fc=new zs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mc=new bl("@firebase/auth");function gc(e){if(mc.logLevel<=hl.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mc.error("Auth (".concat(Kl,"): ").concat(e),...n)}}function vc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw xc(e,...n)}function bc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xc(e,...n)}function yc(e,t,n){const r=Object.assign(Object.assign({},hc()),{[t]:n});return new zs("auth","Firebase",r).create(t,{appName:e.name})}function _c(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&vc(e,"argument-error"),yc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function xc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return fc.create(e,...n)}function wc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw xc(t,...r)}}function Ec(e){const t="INTERNAL ASSERTION FAILED: "+e;throw gc(t),new Error(t)}function Tc(e,t){e||Ec(t)}function Cc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function kc(){return"http:"===Sc()||"https:"===Sc()}function Sc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Oc(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(kc()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ac{constructor(e,t){this.shortDelay=e,this.longDelay=t,Tc(t>e,"Short delay should be less than long delay!"),this.isMobile=Bs()||Qs()}get(){return Oc()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jc(e,t){Tc(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Pc{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ec("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ec("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ec("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ic={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Lc=new Ac(3e4,6e4);function Rc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Nc(e,t,n,r){return Dc(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=Xs(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode),Pc.fetch()(Bc(e,e.config.apiHost,n,a),Object.assign({method:t,headers:s,referrerPolicy:"no-referrer"},i))}))}async function Dc(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ic),t);try{const t=new Uc(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Fc(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Fc(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Fc(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Fc(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw yc(e,s,a);vc(e,s)}}catch(i){if(i instanceof Fs)throw i;vc(e,"network-request-failed",{message:String(i)})}}async function Mc(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await Nc(e,t,n,r,i);return"mfaPendingCredential"in o&&vc(e,"multi-factor-auth-required",{_serverResponse:o}),o}function Bc(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?jc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Qc(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Uc{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(bc(this.auth,"network-request-failed"))),Lc.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bc(e,t,r);return i.customData._tokenResponse=n,i}function zc(e){return void 0!==e&&void 0!==e.enterprise}class qc{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Qc(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Hc(e,t){return Nc(e,"GET","/v2/recaptchaConfig",Rc(e,t))}function Wc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Gc(e){return 1e3*Number(e)}function Vc(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const e=ks(n);return e?JSON.parse(e):(gc("Failed to decode base64 JWT payload"),null)}catch(i){return gc("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function $c(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Fs&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Kc{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Yc{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wc(this.lastLoginAt),this.creationTime=Wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Zc(e){var t;const n=e.auth,r=await e.getIdToken(),i=await $c(e,async function(e,t){return Nc(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));wc(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=dc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const s=function(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}(e.providerData,a),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),u=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Yc(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}class Jc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){wc(e.idToken,"internal-error"),wc("undefined"!==typeof e.idToken,"internal-error"),wc("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Vc(e);return wc(t,"internal-error"),wc("undefined"!==typeof t.exp,"internal-error"),wc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return wc(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Dc(e,{},(async()=>{const n=Xs({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=Bc(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Pc.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Jc;return n&&(wc("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(wc("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(wc("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jc,this.toJSON())}_performRefresh(){return Ec("not implemented")}}function Xc(e,t){wc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class eu{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=dc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kc(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Yc(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await $c(this,this.stsTokenManager.getToken(this.auth,e));return wc(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=sl(e),r=await n.getIdToken(t),i=Vc(r);wc(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,a=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Wc(Gc(i.auth_time)),issuedAtTime:Wc(Gc(i.iat)),expirationTime:Wc(Gc(i.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=sl(e);await Zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(wc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new eu(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){wc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Zc(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await $c(this,async function(e,t){return Nc(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,h=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:y,isAnonymous:_,providerData:x,stsTokenManager:w}=t;wc(b&&w,e,"internal-error");const E=Jc.fromJSON(this.name,w);wc("string"===typeof b,e,"internal-error"),Xc(u,e.name),Xc(d,e.name),wc("boolean"===typeof y,e,"internal-error"),wc("boolean"===typeof _,e,"internal-error"),Xc(p,e.name),Xc(h,e.name),Xc(f,e.name),Xc(m,e.name),Xc(g,e.name),Xc(v,e.name);const T=new eu({uid:b,auth:e,email:d,emailVerified:y,displayName:u,isAnonymous:_,photoURL:h,phoneNumber:p,tenantId:f,stsTokenManager:E,createdAt:g,lastLoginAt:v});return x&&Array.isArray(x)&&(T.providerData=x.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Jc;r.updateFromServerResponse(t);const i=new eu({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Zc(i),i}}const tu=new Map;function nu(e){Tc(e instanceof Function,"Expected a class definition");let t=tu.get(e);return t?(Tc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tu.set(e,t),t)}class ru{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ru.type="NONE";const iu=ru;function ou(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class au{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ou(this.userKey,r.apiKey,i),this.fullPersistenceKey=ou("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?eu._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new au(nu(iu),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||nu(iu);const o=ou(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(o);if(t){const n=eu._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new au(i,e,n)):new au(i,e,n)}}function su(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(du(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hu(t))return"Blackberry";if(fu(t))return"Webos";if(cu(t))return"Safari";if((t.includes("chrome/")||uu(t))&&!t.includes("edge/"))return"Chrome";if(pu(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function lu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ms();return/firefox\//i.test(e)}function cu(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ms()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ms();return/crios\//i.test(e)}function du(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ms();return/iemobile/i.test(e)}function pu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ms();return/android/i.test(e)}function hu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ms();return/blackberry/i.test(e)}function fu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ms();return/webos/i.test(e)}function mu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ms();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function gu(){return function(){const e=Ms();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function vu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ms();return mu(e)||pu(e)||fu(e)||hu(e)||/windows phone/i.test(e)||du(e)}function bu(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=su(Ms());break;case"Worker":t="".concat(su(Ms()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Kl,"/").concat(r)}class yu{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class _u{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class xu{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eu(this),this.idTokenSubscription=new Eu(this),this.beforeStateQueue=new yu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=nu(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await au.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return wc(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?sl(e):null;return t&&wc(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&wc(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(nu(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Nc(e,"GET","/v2/passwordPolicy",Rc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new _u(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zs("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Nc(e,"POST","/v2/accounts:revokeToken",Rc(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&nu(e)||this._popupRedirectResolver;wc(t,this,"argument-error"),this.redirectPersistenceManager=await au.create(this,[nu(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(wc(a,this,"internal-error"),a.then((()=>{o||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return wc(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(mc.logLevel<=hl.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mc.warn("Auth (".concat(Kl,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function wu(e){return sl(e)}class Eu{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new rl(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return wc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Tu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cu(e){return Tu.loadJS(e)}function ku(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Su{constructor(e){this.type="recaptcha-enterprise",this.auth=wu(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;zc(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Hc(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new qc(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&zc(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Tu.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Cu(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Ou(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Su(e);let o;try{o=await i.verify(n)}catch(gh){o=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Au(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ou(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Ou(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function ju(e,t,n){const r=wu(e);wc(r._canInitEmulator,r,"emulator-config-failed"),wc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Pu(t),{host:a,port:s}=function(e){const t=Pu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Iu(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Iu(t)}}}(t),l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(o,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Pu(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Iu(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Lu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ec("not implemented")}_getIdTokenResponse(e){return Ec("not implemented")}_linkToIdToken(e,t){return Ec("not implemented")}_getReauthenticationResolver(e){return Ec("not implemented")}}async function Ru(e,t){return Nc(e,"POST","/v1/accounts:signUp",t)}async function Nu(e,t){return Mc(e,"POST","/v1/accounts:signInWithPassword",Rc(e,t))}class Du extends Lu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Du(e,t,"password")}static _fromEmailAndCode(e,t){return new Du(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Au(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Nu);case"emailLink":return async function(e,t){return Mc(e,"POST","/v1/accounts:signInWithEmailLink",Rc(e,t))}(e,{email:this._email,oobCode:this._password});default:vc(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Au(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ru);case"emailLink":return async function(e,t){return Mc(e,"POST","/v1/accounts:signInWithEmailLink",Rc(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:vc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Mu(e,t){return Mc(e,"POST","/v1/accounts:signInWithIdp",Rc(e,t))}class Bu extends Lu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vc("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=dc(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Bu(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Mu(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Mu(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Mu(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Xs(t)}return e}}const Qu={USER_NOT_FOUND:"user-not-found"};class Uu extends Lu{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Uu({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Uu({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Mc(e,"POST","/v1/accounts:signInWithPhoneNumber",Rc(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Mc(e,"POST","/v1/accounts:signInWithPhoneNumber",Rc(e,t));if(n.temporaryProof)throw Fc(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Mc(e,"POST","/v1/accounts:signInWithPhoneNumber",Rc(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Qu)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Uu({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Fu{constructor(e){var t,n,r,i,o,a;const s=el(tl(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);wc(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=el(tl(e)).link,n=t?el(tl(t)).deep_link_id:null,r=el(tl(e)).deep_link_id;return(r?el(tl(r)).link:null)||r||n||t||e}(e);try{return new Fu(t)}catch(n){return null}}}class zu{constructor(){this.providerId=zu.PROVIDER_ID}static credential(e,t){return Du._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Fu.parseLink(t);return wc(n,"argument-error"),Du._fromEmailAndCode(e,n.code,n.tenantId)}}zu.PROVIDER_ID="password",zu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",zu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class qu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Hu extends qu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wu extends Hu{constructor(){super("facebook.com")}static credential(e){return Bu._fromParams({providerId:Wu.PROVIDER_ID,signInMethod:Wu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wu.credentialFromTaggedObject(e)}static credentialFromError(e){return Wu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Wu.credential(t.oauthAccessToken)}catch(n){return null}}}Wu.FACEBOOK_SIGN_IN_METHOD="facebook.com",Wu.PROVIDER_ID="facebook.com";class Gu extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bu._fromParams({providerId:Gu.PROVIDER_ID,signInMethod:Gu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Gu.credentialFromTaggedObject(e)}static credentialFromError(e){return Gu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Gu.credential(n,r)}catch(i){return null}}}Gu.GOOGLE_SIGN_IN_METHOD="google.com",Gu.PROVIDER_ID="google.com";class Vu extends Hu{constructor(){super("github.com")}static credential(e){return Bu._fromParams({providerId:Vu.PROVIDER_ID,signInMethod:Vu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vu.credentialFromTaggedObject(e)}static credentialFromError(e){return Vu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Vu.credential(t.oauthAccessToken)}catch(n){return null}}}Vu.GITHUB_SIGN_IN_METHOD="github.com",Vu.PROVIDER_ID="github.com";class $u extends Hu{constructor(){super("twitter.com")}static credential(e,t){return Bu._fromParams({providerId:$u.PROVIDER_ID,signInMethod:$u.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $u.credentialFromTaggedObject(e)}static credentialFromError(e){return $u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return $u.credential(n,r)}catch(i){return null}}}$u.TWITTER_SIGN_IN_METHOD="twitter.com",$u.PROVIDER_ID="twitter.com";class Ku{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await eu._fromIdTokenResponse(e,n,r),o=Yu(n);return new Ku({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Yu(n);return new Ku({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Yu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Zu extends Fs{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Zu.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Zu(e,t,n,r)}}function Ju(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Zu._fromErrorAndOperation(e,n,t,r);throw n}))}async function Xu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await $c(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ku._forOperation(e,"link",r)}async function ed(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await $c(e,Ju(r,i,t,e),n);wc(o.idToken,r,"internal-error");const a=Vc(o.idToken);wc(a,r,"internal-error");const{sub:s}=a;return wc(e.uid===s,r,"user-mismatch"),Ku._forOperation(e,i,o)}catch(o){throw(null===o||void 0===o?void 0:o.code)==="auth/".concat("user-not-found")&&vc(r,"user-mismatch"),o}}async function td(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Ju(e,r,t),o=await Ku._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}function nd(e,t,n,r){return sl(e).onAuthStateChanged(t,n,r)}new WeakMap;const rd="__sak";class id{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class od extends id{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ms();return cu(e)||mu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=vu(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);gu()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}od.type="LOCAL";const ad=od;class sd extends id{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}sd.type="SESSION";const ld=sd;class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new cd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ud(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}cd.receivers=[];class dd{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const l=ud("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function pd(){return window}function hd(){return"undefined"!==typeof pd().WorkerGlobalScope&&"function"===typeof pd().importScripts}const fd="firebaseLocalStorageDb",md="firebaseLocalStorage",gd="fbase_key";class vd{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function bd(e,t){return e.transaction([md],t?"readwrite":"readonly").objectStore(md)}function yd(){const e=indexedDB.open(fd,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(md,{keyPath:gd})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(md)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(fd);return new vd(e).toPromise()}(),t(await yd()))}))}))}async function _d(e,t,n){const r=bd(e,!0).put({[gd]:t,value:n});return new vd(r).toPromise()}function xd(e,t){const n=bd(e,!0).delete(t);return new vd(n).toPromise()}class wd{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await yd()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hd()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(hd()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new dd(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yd();return await _d(e,rd,"1"),await xd(e,rd),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>_d(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=bd(e,!1).get(t),r=await new vd(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>xd(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=bd(e,!1).getAll();return new vd(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}wd.type="LOCAL";const Ed=wd;ku("rcb"),new Ac(3e4,6e4);const Td="recaptcha";async function Cd(e,t,n){var r;const i=await n.verify();try{let o;if(wc("string"===typeof i,e,"argument-error"),wc(n.type===Td,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){wc("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Nc(e,"POST","/v2/accounts/mfaEnrollment:start",Rc(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{wc("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;wc(n,e,"missing-multi-factor-info");const a=await function(e,t){return Nc(e,"POST","/v2/accounts/mfaSignIn:start",Rc(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Nc(e,"POST","/v1/accounts:sendVerificationCode",Rc(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class kd{constructor(e){this.providerId=kd.PROVIDER_ID,this.auth=wu(e)}verifyPhoneNumber(e,t){return Cd(this.auth,e,sl(t))}static credential(e,t){return Uu._fromVerification(e,t)}static credentialFromResult(e){const t=e;return kd.credentialFromTaggedObject(t)}static credentialFromError(e){return kd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Uu._fromTokenResponse(n,r):null}}function Sd(e,t){return t?nu(t):(wc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}kd.PROVIDER_ID="phone",kd.PHONE_SIGN_IN_METHOD="phone";class Od extends Lu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mu(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Mu(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Mu(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ad(e){return td(e.auth,new Od(e),e.bypassAuthState)}function jd(e){const{auth:t,user:n}=e;return wc(n,t,"internal-error"),ed(n,new Od(e),e.bypassAuthState)}async function Pd(e){const{auth:t,user:n}=e;return wc(n,t,"internal-error"),Xu(n,new Od(e),e.bypassAuthState)}class Id{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ad;case"linkViaPopup":case"linkViaRedirect":return Pd;case"reauthViaPopup":case"reauthViaRedirect":return jd;default:vc(this.auth,"internal-error")}}resolve(e){Tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ld=new Ac(2e3,1e4);class Rd extends Id{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Rd.currentPopupAction&&Rd.currentPopupAction.cancel(),Rd.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return wc(e,this.auth,"internal-error"),e}async onExecution(){Tc(1===this.filter.length,"Popup operations only handle one event");const e=ud();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(bc(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(bc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rd.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(bc(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ld.get())};e()}}Rd.currentPopupAction=null;const Nd="pendingRedirect",Dd=new Map;class Md extends Id{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Dd.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ud(t),r=Qd(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Dd.set(this.auth._key(),e)}return this.bypassAuthState||Dd.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Bd(e,t){Dd.set(e._key(),t)}function Qd(e){return nu(e._redirectPersistence)}function Ud(e){return ou(Nd,e.config.apiKey,e.name)}async function Fd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=wu(e),i=Sd(r,t),o=new Md(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class zd{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hd(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Hd(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(bc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qd(e))}saveEventToCache(e){this.cachedEventUids.add(qd(e)),this.lastProcessedEventTime=Date.now()}}function qd(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Hd(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Wd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gd=/^https?/;async function Vd(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Nc(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if($d(r))return}catch(n){}vc(e,"unauthorized-domain")}function $d(e){const t=Cc(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Gd.test(n))return!1;if(Wd.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Kd=new Ac(3e4,6e4);function Yd(){const e=pd().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Zd(e){return new Promise(((t,n)=>{var r,i,o;function a(){Yd(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yd(),n(bc(e,"network-request-failed"))},timeout:Kd.get()})}if(null===(i=null===(r=pd().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=pd().gapi)||void 0===o?void 0:o.load)){const t=ku("iframefcb");return pd()[t]=()=>{gapi.load?a():n(bc(e,"network-request-failed"))},Cu("".concat(Tu.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw Jd=null,e}))}let Jd=null;const Xd=new Ac(5e3,15e3),ep="__/auth/iframe",tp="emulator/auth/iframe",np={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ip(e){const t=e.config;wc(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?jc(t,tp):"https://".concat(e.config.authDomain,"/").concat(ep),r={apiKey:t.apiKey,appName:e.name,v:Kl},i=rp.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(Xs(r).slice(1))}async function op(e){const t=await function(e){return Jd=Jd||Zd(e),Jd}(e),n=pd().gapi;return wc(n,e,"internal-error"),t.open({where:document.body,url:ip(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:np,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=bc(e,"network-request-failed"),o=pd().setTimeout((()=>{r(i)}),Xd.get());function a(){pd().clearTimeout(o),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const ap={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function lp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},ap),{width:r.toString(),height:i.toString(),top:o,left:a}),c=Ms().toLowerCase();n&&(s=uu(c)?"_blank":n),lu(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return mu(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ms())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new sp(null);const d=window.open(t||"",s,u);wc(d,e,"popup-blocked");try{d.focus()}catch(p){}return new sp(d)}const cp="__/auth/handler",up="emulator/auth/handler",dp=encodeURIComponent("fac");async function pp(e,t,n,r,i,o){wc(e.config.authDomain,e,"auth-domain-config-required"),wc(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Kl,eventId:i};if(t instanceof qu){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",Ks(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))a[e]=t}if(t instanceof Hu){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?"#".concat(dp,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(cp);return jc(t,up)}(e),"?").concat(Xs(s).slice(1)).concat(c)}const hp="webStorageSupport";const fp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ld,this._completeRedirectFn=Fd,this._overrideRedirectResult=Bd}async _openPopup(e,t,n,r){var i;Tc(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return lp(e,await pp(e,t,n,Cc(),r),ud())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){pd().location.href=e}(await pp(e,t,n,Cc(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Tc(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await op(e),n=new zd(e);return t.register("authEvent",(t=>{wc(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hp,{type:hp},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[hp];void 0!==i&&t(!!i),vc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Vd(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vu()||cu()||mu()}};var mp="@firebase/auth",gp="1.6.0";class vp{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){wc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const bp=Ns("authIdTokenMaxAge")||300;let yp=null;function _p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zl();const t=Gl(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Gl(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Zs(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;vc(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:fp,persistence:[Ed,ad,ld]}),r=Ns("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>bp)return;const r=null===t||void 0===t?void 0:t.token;yp!==r&&(yp=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){sl(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){sl(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}var i;const o=Is("auth");return o&&ju(n,"http://".concat(o)),n}var xp,wp;xp={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=bc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Tu=xp,wp="Browser",Wl(new ll("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;wc(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:wp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bu(wp)},c=new xu(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nu);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Wl(new ll("auth-internal",(e=>(e=>new vp(e))(wu(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Jl(mp,gp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(wp)),Jl(mp,gp,"esm2017");Jl("firebase","10.8.0","app");const Ep={NODE_ENV:"production",PUBLIC_URL:"/metadata-entry-form",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLOUD_API_KEY:"AIzaSyBz4kb3hJHXw0voYZgHZuAgmqGosxntMHM",REACT_APP_GOOGLE_CLOUD_API_KEY_DEV:"AIzaSyADkNENzpoqj3O7uGPsRA_4s1zQdbH708c"}.REACT_APP_DEV_DEPLOYMENT,Tp=Ep?{apiKey:"AIzaSyADkNENzpoqj3O7uGPsRA_4s1zQdbH708c",authDomain:"cioos-metadata-form-dev.firebaseapp.com",databaseURL:"https://cioos-metadata-form-dev-default-rtdb.firebaseio.com/",projectId:"cioos-metadata-form-dev",storageBucket:"cioos-metadata-form-dev.appspot.com",messagingSenderId:"392401521083",appId:"1:392401521083:web:45d1539f9d284f446d5c9e"}:{apiKey:"AIzaSyBz4kb3hJHXw0voYZgHZuAgmqGosxntMHM",authDomain:"cioos-metadata-form.firebaseapp.com",databaseURL:"https://cioos-metadata-form.firebaseio.com",projectId:"cioos-metadata-form",storageBucket:"cioos-metadata-form.appspot.com",messagingSenderId:"646114203434",appId:"1:646114203434:web:bccceadc5144270f98f053"};"localhost"===window.location.hostname&&Ep&&(Tp.databaseURL="http://localhost:9001?ns=cioos-metadata-form");const Cp=Yl(Tp),kp=new Gu;kp.setCustomParameters({promt:"select_account"});const Sp=_p(Cp),Op=()=>async function(e,t,n){const r=wu(e);_c(e,t,qu);const i=Sd(r,n);return new Rd(r,"signInViaPopup",t,i).executeNotNull()}(Sp,kp);var Ap=n(492);const jp=e=>t=>{let{children:n}=t;const{language:r}=mn();return r===e&&(0,Ap.jsx)(Ap.Fragment,{children:n})},Pp=jp("en"),Ip=jp("fr"),Lp=e=>{const{en:t,fr:n,children:r}=e,{language:i="en"}=mn();return t||n?t&&n?"en"===i?t:n:(console.error("Tag missing french or english!"),null):(Array.isArray(r)&&2!==r.length&&console.error(e,"Tag missing french or english!"),r)},Rp="type.googleapis.com/google.protobuf.Int64Value",Np="type.googleapis.com/google.protobuf.UInt64Value";function Dp(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function Mp(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((e=>Mp(e)));if("function"===typeof e||"object"===typeof e)return Dp(e,(e=>Mp(e)));throw new Error("Data cannot be encoded in JSON: "+e)}function Bp(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case Rp:case Np:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((e=>Bp(e))):"function"===typeof e||"object"===typeof e?Dp(e,(e=>Bp(e))):e}const Qp="functions",Up={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fp extends Fs{constructor(e,t,n){super("".concat(Qp,"/").concat(e),t||""),this.details=n}}class zp{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((e=>this.auth=e),(()=>{})),this.messaging||t.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||n.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const qp="us-central1";class Hp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qp,o=arguments.length>5?arguments[5]:void 0;this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new zp(t,n,r),this.cancelAllRequests=new Promise((e=>{this.deleteService=()=>Promise.resolve(e())}));try{const e=new URL(i);this.customDomain=e.origin,this.region=qp}catch(a){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}function Wp(e,t,n){return r=>function(e,t,n,r){const i=e._url(t);return Vp(e,i,n,r)}(e,t,r,n||{})}async function Gp(e,t,n,r){let i;n["Content-Type"]="application/json";try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch(a){return{status:0,json:null}}let o=null;try{o=await i.json()}catch(a){}return{status:i.status,json:o}}async function Vp(e,t,n,r){const i={data:n=Mp(n)},o={},a=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);a.authToken&&(o.Authorization="Bearer "+a.authToken),a.messagingToken&&(o["Firebase-Instance-ID-Token"]=a.messagingToken),null!==a.appCheckToken&&(o["X-Firebase-AppCheck"]=a.appCheckToken);const s=function(e){let t=null;return{promise:new Promise(((n,r)=>{t=setTimeout((()=>{r(new Fp("deadline-exceeded","deadline-exceeded"))}),e)})),cancel:()=>{t&&clearTimeout(t)}}}(r.timeout||7e4),l=await Promise.race([Gp(t,i,o,e.fetchImpl),s.promise,e.cancelAllRequests]);if(s.cancel(),!l)throw new Fp("cancelled","Firebase Functions instance was deleted.");const c=function(e,t){let n,r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r;try{const e=t&&t.error;if(e){const t=e.status;if("string"===typeof t){if(!Up[t])return new Fp("internal","internal");r=Up[t],i=t}const o=e.message;"string"===typeof o&&(i=o),n=e.details,void 0!==n&&(n=Bp(n))}}catch(o){}return"ok"===r?null:new Fp(r,i,n)}(l.status,l.json);if(c)throw c;if(!l.json)throw new Fp("internal","Response is not valid JSON object.");let u=l.json.data;if("undefined"===typeof u&&(u=l.json.result),"undefined"===typeof u)throw new Fp("internal","Response is missing data field.");return{data:Bp(u)}}const $p="@firebase/functions",Kp="0.11.1";function Yp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zl(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qp;const n=Gl(sl(e),Qp).getImmediate({identifier:t}),r=Ls("functions");return r&&function(e,t,n){!function(e,t,n){e.emulatorOrigin="http://".concat(t,":").concat(n)}(sl(e),t,n)}(n,...r),n}function Zp(e,t,n){return Wp(sl(e),t,n)}!function(e,t){Wl(new ll(Qp,((t,n)=>{let{instanceIdentifier:r}=n;const i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("messaging-internal"),s=t.getProvider("app-check-internal");return new Hp(i,o,a,s,r,e)}),"PUBLIC").setMultipleInstances(!0)),Jl($p,Kp,t),Jl($p,Kp,"esm2017")}(fetch.bind(self));const Jp="@firebase/database",Xp="1.0.3";let eh="";function th(e){eh=e}class nh{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ws(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Hs(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class rh{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Vs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const ih=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new nh(t)}}catch(t){}return new rh},oh=ih("localStorage"),ah=ih("sessionStorage"),sh=new bl("@firebase/database"),lh=function(){let e=1;return function(){return e++}}(),ch=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,ys(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new nl;n.update(t);const r=n.digest();return ws.encodeByteArray(r)},uh=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=uh.apply(null,n):e+="object"===typeof n?Ws(n):n,e+=" "}return e};let dh=null,ph=!0;const hh=function(e,t){ys(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(sh.logLevel=hl.VERBOSE,dh=sh.log.bind(sh),t&&ah.set("logging_enabled",!0)):"function"===typeof e?dh=e:(dh=null,ah.remove("logging_enabled"))},fh=function(){if(!0===ph&&(ph=!1,null===dh&&!0===ah.get("logging_enabled")&&hh(!0)),dh){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=uh.apply(null,t);dh(r)}},mh=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];fh(e,...n)}},gh=function(){const e="FIREBASE INTERNAL ERROR: "+uh(...arguments);sh.error(e)},vh=function(){const e="FIREBASE FATAL ERROR: ".concat(uh(...arguments));throw sh.error(e),new Error(e)},bh=function(){const e="FIREBASE WARNING: "+uh(...arguments);sh.warn(e)},yh=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},_h="[MIN_NAME]",xh="[MAX_NAME]",wh=function(e,t){if(e===t)return 0;if(e===_h||t===xh)return-1;if(t===_h||e===xh)return 1;{const n=jh(e),r=jh(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Eh=function(e,t){return e===t?0:e<t?-1:1},Th=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ws(t))},Ch=function(e){if("object"!==typeof e||null===e)return Ws(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Ws(t[r]),n+=":",n+=Ch(e[t[r]]);return n+="}",n},kh=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Sh(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Oh=function(e){ys(!yh(e),"Invalid JSON number");const t=1023;let n,r,i,o,a;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const s=[];for(a=52;a;a-=1)s.push(i%2?1:0),i=Math.floor(i/2);for(a=11;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);s.push(n?1:0),s.reverse();const l=s.join("");let c="";for(a=0;a<64;a+=8){let e=parseInt(l.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Ah=new RegExp("^-?(0*)\\d{1,10}$"),jh=function(e){if(Ah.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Ph=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw bh("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Ih=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Lh{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){bh('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Rh{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(fh("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bh(e)}}class Nh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Nh.OWNER="owner";const Dh="5",Mh=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Bh="ac",Qh="websocket",Uh="long_polling";class Fh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=oh.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&oh.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function zh(e,t,n){let r;if(ys("string"===typeof t,"typeof type must == string"),ys("object"===typeof n,"typeof params must == object"),t===Qh)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Uh)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Sh(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class qh{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Vs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Ss(this.counters_)}}const Hh={},Wh={};function Gh(e){const t=e.toString();return Hh[t]||(Hh[t]=new qh),Hh[t]}class Vh{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Ph((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const $h="start";class Kh{constructor(e,t,n,r,i,o,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mh(e),this.stats_=Gh(t),this.urlFn=e=>(this.appCheckToken&&(e[Bh]=this.appCheckToken),zh(t,Uh,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Vh(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Us()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Yh((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,a,s,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===$h)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[$h]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Dh,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Bh]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Mh.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Kh.forceAllow_=!0}static forceDisallow(){Kh.forceDisallow_=!0}static isAvailable(){return!Us()&&(!!Kh.forceAllow_||!Kh.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Ws(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Ts(t),r=kh(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Us())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Ws(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Yh{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Us())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=lh(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Yh.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){fh("frame writing exception"),i.stack&&fh(i.stack),fh(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||fh("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){Us()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{fh("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let Zh=null;"undefined"!==typeof MozWebSocket?Zh=MozWebSocket:"undefined"!==typeof WebSocket&&(Zh=WebSocket);class Jh{constructor(e,t,n,r,i,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mh(this.connId),this.stats_=Gh(t),this.connURL=Jh.connectionURL_(t,o,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=Dh,!Us()&&"undefined"!==typeof location&&location.hostname&&Mh.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[Bh]=r),i&&(o.p=i),zh(e,Qh,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,oh.set("previous_websocket_failure",!0);try{let e;if(Us()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Dh,"/").concat(eh,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/metadata-entry-form",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLOUD_API_KEY:"AIzaSyBz4kb3hJHXw0voYZgHZuAgmqGosxntMHM",REACT_APP_GOOGLE_CLOUD_API_KEY_DEV:"AIzaSyADkNENzpoqj3O7uGPsRA_4s1zQdbH708c"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Zh(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Jh.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Zh&&!Jh.forceDisallow_}static previouslyFailed(){return oh.isInMemoryStorage||!0===oh.get("previous_websocket_failure")}markConnectionHealthy(){oh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Hs(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ys(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Ws(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=kh(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Jh.responsesRequiredToBeHealthy=2,Jh.healthyTimeout=3e4;class Xh{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Kh,Jh]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Jh&&Jh.isAvailable();let n=t&&!Jh.previouslyFailed();if(e.webSocketOnly&&(t||bh("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Jh];else{const e=this.transports_=[];for(const t of Xh.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Xh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xh.globalTransportInitialized_=!1;class ef{constructor(e,t,n,r,i,o,a,s,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mh("c:"+this.id+":"),this.transportManager_=new Xh(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ih((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Th("t",e),n=Th("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Th("t",e),n=Th("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Th("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?gh("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gh("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Dh!==n&&bh("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Ih((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ih((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(oh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class tf{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class nf{constructor(e){this.allowedEvents_=e,this.listeners_={},ys(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){ys(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class rf extends nf{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Bs()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new rf}getInitialEvent(e){return ys("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const of=32,af=768;class sf{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function lf(){return new sf("")}function cf(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function uf(e){return e.pieces_.length-e.pieceNum_}function df(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new sf(e.pieces_,t)}function pf(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function hf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function ff(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new sf(t,0)}function mf(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof sf)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new sf(n,0)}function gf(e){return e.pieceNum_>=e.pieces_.length}function vf(e,t){const n=cf(e),r=cf(t);if(null===n)return t;if(n===r)return vf(df(e),df(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function bf(e,t){const n=hf(e,0),r=hf(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=wh(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function yf(e,t){if(uf(e)!==uf(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function _f(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(uf(e)>uf(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class xf{constructor(e,t){this.errorPrefix_=t,this.parts_=hf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=al(this.parts_[n]);wf(this)}}function wf(e){if(e.byteLength_>af)throw new Error(e.errorPrefix_+"has a key path longer than "+af+" bytes ("+e.byteLength_+").");if(e.parts_.length>of)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+of+") or object contains a cycle "+Ef(e))}function Ef(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Tf extends nf{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Tf}getInitialEvent(e){return ys("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Cf=1e3;class kf extends tf{constructor(e,t,n,r,i,o,a,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=s,this.id=kf.nextPersistentConnectionId_++,this.log_=mh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Cf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s&&!Us())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tf.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&rf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Ws(i)),ys(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Ds,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),ys(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ys(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,a=i.s;kf.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Vs(e,"w")){const n=$s(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();bh("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Gs(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Gs(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ys(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ws(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):gh("Unrecognized action received from server: "+Ws(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ys(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cf,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Cf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Cf),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+kf.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const s=function(){a?a.close():(o=!0,n())},l=function(e){ys(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:s,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?fh("getToken() completed but was canceled"):(fh("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=l&&l.token,a=new ef(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{bh(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(gh){this.log_("Failed to get token: "+gh),o||(this.repoInfo_.nodeAdmin&&bh(gh),s())}}}interrupt(e){fh("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){fh("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ks(this.interruptReasons_)&&(this.reconnectDelay_=Cf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Ch(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new sf(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){fh("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){fh("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Us()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+eh.replace(/\./g,"-")]=1,Bs()?e["framework.cordova"]=1:Qs()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=rf.getInstance().currentlyOnline();return Ks(this.interruptReasons_)&&e}}kf.nextPersistentConnectionId_=0,kf.nextConnectionId_=0;class Sf{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Sf(e,t)}}class Of{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Sf(_h,e),r=new Sf(_h,t);return 0!==this.compare(n,r)}minPost(){return Sf.MIN}}let Af;class jf extends Of{static get __EMPTY_NODE(){return Af}static set __EMPTY_NODE(e){Af=e}compare(e,t){return wh(e.name,t.name)}isDefinedOn(e){throw _s("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Sf.MIN}maxPost(){return new Sf(xh,Af)}makePost(e,t){return ys("string"===typeof e,"KeyIndex indexValue must always be a string."),new Sf(e,Af)}toString(){return".key"}}const Pf=new jf;class If{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Lf{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Lf.RED,this.left=null!=r?r:Rf.EMPTY_NODE,this.right=null!=i?i:Rf.EMPTY_NODE}copy(e,t,n,r,i){return new Lf(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rf.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Rf.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Lf.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Lf.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Lf.RED=!0,Lf.BLACK=!1;class Rf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rf.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Rf(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Lf.BLACK,null,null))}remove(e){return new Rf(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Lf.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new If(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new If(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new If(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new If(this.root_,null,this.comparator_,!0,e)}}function Nf(e,t){return wh(e.name,t.name)}function Df(e,t){return wh(e,t)}let Mf;Rf.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Lf(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Bf=function(e){return"number"===typeof e?"number:"+Oh(e):"string:"+e},Qf=function(e){if(e.isLeafNode()){const t=e.val();ys("string"===typeof t||"number"===typeof t||"object"===typeof t&&Vs(t,".sv"),"Priority must be a string or number.")}else ys(e===Mf||e.isEmpty(),"priority of unexpected type.");ys(e===Mf||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Uf,Ff,zf;class qf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qf.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,ys(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Qf(this.priorityNode_)}static set __childrenNodeConstructor(e){Uf=e}static get __childrenNodeConstructor(){return Uf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qf(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:qf.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gf(e)?this:".priority"===cf(e)?this.priorityNode_:qf.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:qf.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=cf(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(ys(".priority"!==n||1===uf(e),".priority must be the last token in a path"),this.updateImmediateChild(n,qf.__childrenNodeConstructor.EMPTY_NODE.updateChild(df(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Bf(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Oh(this.value_):this.value_,this.lazyHash_=ch(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qf.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qf.__childrenNodeConstructor?-1:(ys(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=qf.VALUE_TYPE_ORDER.indexOf(t),i=qf.VALUE_TYPE_ORDER.indexOf(n);return ys(r>=0,"Unknown leaf type: "+t),ys(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}qf.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Hf=new class extends Of{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?wh(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Sf.MIN}maxPost(){return new Sf(xh,new qf("[PRIORITY-POST]",zf))}makePost(e,t){const n=Ff(e);return new Sf(t,new qf("[PRIORITY-POST]",n))}toString(){return".priority"}},Wf=Math.log(2);class Gf{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Wf,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Vf=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let a,s;if(0===o)return null;if(1===o)return a=e[t],s=n?n(a):a,new Lf(s,a.node,Lf.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return a=e[l],s=n?n(a):a,new Lf(s,a.node,Lf.BLACK,c,u)}},o=function(t){let r=null,o=null,a=e.length;const s=function(t,r){const o=a-t,s=a;a-=t;const c=i(o+1,s),u=e[o],d=n?n(u):u;l(new Lf(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,Lf.BLACK):(s(r,Lf.BLACK),s(r,Lf.RED))}return o}(new Gf(e.length));return new Rf(r||t,o)};let $f;const Kf={};class Yf{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return ys(Kf&&Hf,"ChildrenNode.ts has not been loaded"),$f=$f||new Yf({".priority":Kf},{".priority":Hf}),$f}get(e){const t=$s(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Rf?t:null}hasIndex(e){return Vs(this.indexSet_,e.toString())}addIndex(e,t){ys(e!==Pf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Sf.Wrap);let o,a=i.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=i.getNext();o=r?Vf(n,e.getCompare()):Kf;const s=e.toString(),l=Object.assign({},this.indexSet_);l[s]=e;const c=Object.assign({},this.indexes_);return c[s]=o,new Yf(c,l)}addToIndexes(e,t){const n=Ys(this.indexes_,((n,r)=>{const i=$s(this.indexSet_,r);if(ys(i,"Missing index implementation for "+r),n===Kf){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Sf.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Vf(n,i.getCompare())}return Kf}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Sf(e.name,r))),i.insert(e,e.node)}}));return new Yf(n,this.indexSet_)}removeFromIndexes(e,t){const n=Ys(this.indexes_,(n=>{if(n===Kf)return n;{const r=t.get(e.name);return r?n.remove(new Sf(e.name,r)):n}}));return new Yf(n,this.indexSet_)}}let Zf;class Jf{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Qf(this.priorityNode_),this.children_.isEmpty()&&ys(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Zf||(Zf=new Jf(new Rf(Df),null,Yf.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zf}updatePriority(e){return this.children_.isEmpty()?this:new Jf(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Zf:t}}getChild(e){const t=cf(e);return null===t?this:this.getImmediateChild(t).getChild(df(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(ys(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Sf(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Zf:this.priorityNode_;return new Jf(r,o,i)}}updateChild(e,t){const n=cf(e);if(null===n)return t;{ys(".priority"!==cf(e)||1===uf(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(df(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Hf,((o,a)=>{t[o]=a.val(e),n++,i&&Jf.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Bf(this.getPriority().val())+":"),this.forEachChild(Hf,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":ch(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Sf(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Sf(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Sf(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Sf.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Sf.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Xf?-1:0}withIndex(e){if(e===Pf||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Jf(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Pf||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Hf),n=t.getIterator(Hf);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Pf?null:this.indexMap_.get(e.toString())}}Jf.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Xf=new class extends Jf{constructor(){super(new Rf(Df),Jf.EMPTY_NODE,Yf.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Jf.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Sf,{MIN:{value:new Sf(_h,Jf.EMPTY_NODE)},MAX:{value:new Sf(xh,Xf)}}),jf.__EMPTY_NODE=Jf.EMPTY_NODE,qf.__childrenNodeConstructor=Jf,Mf=Xf,function(e){zf=e}(Xf);const em=!0;function tm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Jf.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ys(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new qf(e,tm(t))}if(e instanceof Array||!em){let n=Jf.EMPTY_NODE;return Sh(e,((t,r)=>{if(Vs(e,t)&&"."!==t.substring(0,1)){const e=tm(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(tm(t))}{const n=[];let r=!1;if(Sh(e,((e,t)=>{if("."!==e.substring(0,1)){const i=tm(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Sf(e,i)))}})),0===n.length)return Jf.EMPTY_NODE;const i=Vf(n,Nf,(e=>e.name),Df);if(r){const e=Vf(n,Hf.getCompare());return new Jf(i,tm(t),new Yf({".priority":e},{".priority":Hf}))}return new Jf(i,tm(t),Yf.Default)}}!function(e){Ff=e}(tm);class nm extends Of{constructor(e){super(),this.indexPath_=e,ys(!gf(e)&&".priority"!==cf(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?wh(e.name,t.name):i}makePost(e,t){const n=tm(e),r=Jf.EMPTY_NODE.updateChild(this.indexPath_,n);return new Sf(t,r)}maxPost(){const e=Jf.EMPTY_NODE.updateChild(this.indexPath_,Xf);return new Sf(xh,e)}toString(){return hf(this.indexPath_,0).join("/")}}const rm=new class extends Of{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?wh(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Sf.MIN}maxPost(){return Sf.MAX}makePost(e,t){const n=tm(e);return new Sf(t,n)}toString(){return".value"}};function im(e){return{type:"value",snapshotNode:e}}function om(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function am(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function sm(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class lm{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){ys(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(am(t,a)):ys(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(om(t,n)):o.trackChildChange(sm(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Hf,((e,r)=>{t.hasChild(e)||n.trackChildChange(am(e,r))})),t.isLeafNode()||t.forEachChild(Hf,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(sm(t,r,i))}else n.trackChildChange(om(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Jf.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class cm{constructor(e){this.indexedFilter_=new lm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=cm.getStartPost_(e),this.endPost_=cm.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new Sf(t,n))||(n=Jf.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Jf.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Jf.EMPTY_NODE);const i=this;return t.forEachChild(Hf,((e,t)=>{i.matches(new Sf(e,t))||(r=r.updateImmediateChild(e,Jf.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class um{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new cm(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Sf(t,n))||(n=Jf.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Jf.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Jf.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Jf.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Jf.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const a=e;ys(a.numChildren()===this.limit_,"");const s=new Sf(t,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(a.hasChild(t)){const e=a.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||a.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,s);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(sm(t,n,e)),a.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(am(t,e));const n=a.updateImmediateChild(t,Jf.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(om(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,s)>=0?(null!=i&&(i.trackChildChange(am(l.name,l.node)),i.trackChildChange(om(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(l.name,Jf.EMPTY_NODE)):e}}class dm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Hf}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return ys(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ys(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:_h}hasEnd(){return this.endSet_}getIndexEndValue(){return ys(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ys(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return ys(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Hf}copy(){const e=new dm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pm(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Hf?n="$priority":e.index_===rm?n="$value":e.index_===Pf?n="$key":(ys(e.index_ instanceof nm,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ws(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Ws(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Ws(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Ws(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Ws(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function hm(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Hf&&(t.i=e.index_.toString()),t}class fm extends tf{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=mh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(ys(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=fm.getListenId_(e,n),a={};this.listens_[o]=a;const s=pm(e._queryParams);this.restRequest_(i+".json",s,((e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(i,s,!1,n),$s(this.listens_,o)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=fm.getListenId_(e,t);delete this.listens_[n]}get(e){const t=pm(e._queryParams),n=e._path.toString(),r=new Ds;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Xs(t);this.log_("Sending REST request for "+a);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);let t=null;if(s.status>=200&&s.status<300){try{t=Hs(s.responseText)}catch(e){bh("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&bh("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()}))}}class mm{constructor(){this.rootNode_=Jf.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function gm(){return{value:null,children:new Map}}function vm(e,t,n){if(gf(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=cf(t);e.children.has(r)||e.children.set(r,gm());vm(e.children.get(r),t=df(t),n)}}function bm(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{bm(r,new sf(t.toString()+"/"+e),n)}))}class ym{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Sh(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class _m{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new ym(e);const n=1e4+2e4*Math.random();Ih(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Sh(e,((e,r)=>{r>0&&Vs(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Ih(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var xm;function wm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(xm||(xm={}));class Em{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=xm.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(gf(this.path)){if(null!=this.affectedTree.value)return ys(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new sf(e));return new Em(lf(),t,this.revert)}}return ys(cf(this.path)===e,"operationForChild called for unrelated child."),new Em(df(this.path),this.affectedTree,this.revert)}}class Tm{constructor(e,t){this.source=e,this.path=t,this.type=xm.LISTEN_COMPLETE}operationForChild(e){return gf(this.path)?new Tm(this.source,lf()):new Tm(this.source,df(this.path))}}class Cm{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=xm.OVERWRITE}operationForChild(e){return gf(this.path)?new Cm(this.source,lf(),this.snap.getImmediateChild(e)):new Cm(this.source,df(this.path),this.snap)}}class km{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=xm.MERGE}operationForChild(e){if(gf(this.path)){const t=this.children.subtree(new sf(e));return t.isEmpty()?null:t.value?new Cm(this.source,lf(),t.value):new km(this.source,lf(),t)}return ys(cf(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new km(this.source,df(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Sm{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(gf(e))return this.isFullyInitialized()&&!this.filtered_;const t=cf(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Om{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Am(e,t,n,r,i,o){const a=r.filter((e=>e.type===n));a.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw _s("Should only compare child_ events.");const r=new Sf(t.childName,t.snapshotNode),i=new Sf(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),a.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function jm(e,t){return{eventCache:e,serverCache:t}}function Pm(e,t,n,r){return jm(new Sm(t,n,r),e.serverCache)}function Im(e,t,n,r){return jm(e.eventCache,new Sm(t,n,r))}function Lm(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Rm(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Nm;class Dm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Nm||(Nm=new Rf(Eh)),Nm);this.value=e,this.children=t}static fromObject(e){let t=new Dm(null);return Sh(e,((e,n)=>{t=t.set(new sf(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:lf(),value:this.value};if(gf(e))return null;{const n=cf(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(df(e),t);if(null!=i){return{path:mf(new sf(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(gf(e))return this;{const t=cf(e),n=this.children.get(t);return null!==n?n.subtree(df(e)):new Dm(null)}}set(e,t){if(gf(e))return new Dm(t,this.children);{const n=cf(e),r=(this.children.get(n)||new Dm(null)).set(df(e),t),i=this.children.insert(n,r);return new Dm(this.value,i)}}remove(e){if(gf(e))return this.children.isEmpty()?new Dm(null):new Dm(null,this.children);{const t=cf(e),n=this.children.get(t);if(n){const r=n.remove(df(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Dm(null):new Dm(this.value,i)}return this}}get(e){if(gf(e))return this.value;{const t=cf(e),n=this.children.get(t);return n?n.get(df(e)):null}}setTree(e,t){if(gf(e))return t;{const n=cf(e),r=(this.children.get(n)||new Dm(null)).setTree(df(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Dm(this.value,i)}}fold(e){return this.fold_(lf(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(mf(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,lf(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(gf(e))return null;{const r=cf(e),i=this.children.get(r);return i?i.findOnPath_(df(e),mf(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,lf(),t)}foreachOnPath_(e,t,n){if(gf(e))return this;{this.value&&n(t,this.value);const r=cf(e),i=this.children.get(r);return i?i.foreachOnPath_(df(e),mf(t,r),n):new Dm(null)}}foreach(e){this.foreach_(lf(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(mf(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class Mm{constructor(e){this.writeTree_=e}static empty(){return new Mm(new Dm(null))}}function Bm(e,t,n){if(gf(t))return new Mm(new Dm(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const a=vf(i,t);return o=o.updateChild(a,n),new Mm(e.writeTree_.set(i,o))}{const r=new Dm(n),i=e.writeTree_.setTree(t,r);return new Mm(i)}}}function Qm(e,t,n){let r=e;return Sh(n,((e,n)=>{r=Bm(r,mf(t,e),n)})),r}function Um(e,t){if(gf(t))return Mm.empty();{const n=e.writeTree_.setTree(t,new Dm(null));return new Mm(n)}}function Fm(e,t){return null!=zm(e,t)}function zm(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(vf(n.path,t)):null}function qm(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Hf,((e,n)=>{t.push(new Sf(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Sf(e,n.value))})),t}function Hm(e,t){if(gf(t))return e;{const n=zm(e,t);return new Mm(null!=n?new Dm(n):e.writeTree_.subtree(t))}}function Wm(e){return e.writeTree_.isEmpty()}function Gm(e,t){return Vm(lf(),e.writeTree_,t)}function Vm(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(ys(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Vm(mf(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(mf(e,".priority"),r)),n}}function $m(e,t){return sg(t,e)}function Km(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));ys(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,a=e.allWrites.length-1;for(;i&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&Ym(t,r.path)?i=!1:_f(r.path,t.path)&&(o=!0)),a--}if(i){if(o)return function(e){e.visibleWrites=Jm(e.allWrites,Zm,lf()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Um(e.visibleWrites,r.path);else{Sh(r.children,(t=>{e.visibleWrites=Um(e.visibleWrites,mf(r.path,t))}))}return!0}return!1}function Ym(e,t){if(e.snap)return _f(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&_f(mf(e.path,n),t))return!0;return!1}function Zm(e){return e.visible}function Jm(e,t,n){let r=Mm.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)_f(n,e)?(t=vf(n,e),r=Bm(r,t,o.snap)):_f(e,n)&&(t=vf(e,n),r=Bm(r,lf(),o.snap.getChild(t)));else{if(!o.children)throw _s("WriteRecord should have .snap or .children");if(_f(n,e))t=vf(n,e),r=Qm(r,t,o.children);else if(_f(e,n))if(t=vf(e,n),gf(t))r=Qm(r,lf(),o.children);else{const e=$s(o.children,cf(t));if(e){const n=e.getChild(df(t));r=Bm(r,lf(),n)}}}}}return r}function Xm(e,t,n,r,i){if(r||i){const o=Hm(e.visibleWrites,t);if(!i&&Wm(o))return n;if(i||null!=n||Fm(o,lf())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(_f(e.path,t)||_f(t,e.path))};return Gm(Jm(e.allWrites,o,t),n||Jf.EMPTY_NODE)}return null}{const r=zm(e.visibleWrites,t);if(null!=r)return r;{const r=Hm(e.visibleWrites,t);if(Wm(r))return n;if(null!=n||Fm(r,lf())){return Gm(r,n||Jf.EMPTY_NODE)}return null}}}function eg(e,t,n,r){return Xm(e.writeTree,e.treePath,t,n,r)}function tg(e,t){return function(e,t,n){let r=Jf.EMPTY_NODE;const i=zm(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Hf,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=Hm(e.visibleWrites,t);return n.forEachChild(Hf,((e,t)=>{const n=Gm(Hm(i,new sf(e)),t);r=r.updateImmediateChild(e,n)})),qm(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return qm(Hm(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function ng(e,t,n,r){return function(e,t,n,r,i){ys(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=mf(t,n);if(Fm(e.visibleWrites,o))return null;{const t=Hm(e.visibleWrites,o);return Wm(t)?i.getChild(n):Gm(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function rg(e,t){return function(e,t){return zm(e.visibleWrites,t)}(e.writeTree,mf(e.treePath,t))}function ig(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){let s;const l=Hm(e.visibleWrites,t),c=zm(l,lf());if(null!=c)s=c;else{if(null==n)return[];s=Gm(l,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=a.getCompare(),n=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function og(e,t,n){return function(e,t,n,r){const i=mf(t,n),o=zm(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return Gm(Hm(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function ag(e,t){return sg(mf(e.treePath,t),e.writeTree)}function sg(e,t){return{treePath:e,writeTree:t}}class lg{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;ys("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ys(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,sm(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,am(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,om(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw _s("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,sm(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const cg=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class ug{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Sm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return og(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Rm(this.viewCache_),i=ig(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function dg(e,t,n,r,i){const o=new lg;let a,s;if(n.type===xm.OVERWRITE){const l=n;l.source.fromUser?a=fg(e,t,l.path,l.snap,r,i,o):(ys(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!gf(l.path),a=hg(e,t,l.path,l.snap,r,i,s,o))}else if(n.type===xm.MERGE){const l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){let s=t;return r.foreach(((r,l)=>{const c=mf(n,r);mg(t,cf(c))&&(s=fg(e,s,c,l,i,o,a))})),r.foreach(((r,l)=>{const c=mf(n,r);mg(t,cf(c))||(s=fg(e,s,c,l,i,o,a))})),s}(e,t,l.path,l.children,r,i,o):(ys(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=vg(e,t,l.path,l.children,r,i,s,o))}else if(n.type===xm.ACK_USER_WRITE){const s=n;a=s.revert?function(e,t,n,r,i,o){let a;if(null!=rg(r,n))return t;{const s=new ug(r,t,i),l=t.eventCache.getNode();let c;if(gf(n)||".priority"===cf(n)){let n;if(t.serverCache.isFullyInitialized())n=eg(r,Rm(t));else{const e=t.serverCache.getNode();ys(e instanceof Jf,"serverChildren would be complete if leaf node"),n=tg(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=cf(n);let u=og(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,df(n),s,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Jf.EMPTY_NODE,df(n),s,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=eg(r,Rm(t)),a.isLeafNode()&&(c=e.filter.updateFullNode(c,a,o)))}return a=t.serverCache.isFullyInitialized()||null!=rg(r,lf()),Pm(t,c,a,e.filter.filtersNodes())}}(e,t,s.path,r,i,o):function(e,t,n,r,i,o,a){if(null!=rg(i,n))return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(gf(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return hg(e,t,n,l.getNode().getChild(n),i,o,s,a);if(gf(n)){let r=new Dm(null);return l.getNode().forEachChild(Pf,((e,t)=>{r=r.set(new sf(e),t)})),vg(e,t,n,r,i,o,s,a)}return t}{let c=new Dm(null);return r.foreach(((e,t)=>{const r=mf(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),vg(e,t,n,c,i,o,s,a)}}(e,t,s.path,s.affectedTree,r,i,o)}else{if(n.type!==xm.LISTEN_COMPLETE)throw _s("Unknown operation type: "+n.type);a=function(e,t,n,r,i){const o=t.serverCache,a=Im(t,o.getNode(),o.isFullyInitialized()||gf(n),o.isFiltered());return pg(e,a,n,r,cg,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Lm(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(im(Lm(t)))}}(t,a,l),{viewCache:a,changes:l}}function pg(e,t,n,r,i,o){const a=t.eventCache;if(null!=rg(r,n))return t;{let s,l;if(gf(n))if(ys(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Rm(t),i=tg(r,n instanceof Jf?n:Jf.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=eg(r,Rm(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=cf(n);if(".priority"===c){ys(1===uf(n),"Can't have a priority with additional path components");const i=a.getNode();l=t.serverCache.getNode();const o=ng(r,n,i,l);s=null!=o?e.filter.updatePriority(i,o):a.getNode()}else{const u=df(n);let d;if(a.isCompleteForChild(c)){l=t.serverCache.getNode();const e=ng(r,n,a.getNode(),l);d=null!=e?a.getNode().getImmediateChild(c).updateChild(u,e):a.getNode().getImmediateChild(c)}else d=og(r,c,t.serverCache);s=null!=d?e.filter.updateChild(a.getNode(),c,d,u,i,o):a.getNode()}}return Pm(t,s,a.isFullyInitialized()||gf(n),e.filter.filtersNodes())}}function hg(e,t,n,r,i,o,a,s){const l=t.serverCache;let c;const u=a?e.filter:e.filter.getIndexedFilter();if(gf(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=cf(n);if(!l.isCompleteForPath(n)&&uf(n)>1)return t;const i=df(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,cg,null)}const d=Im(t,c,l.isFullyInitialized()||gf(n),u.filtersNodes());return pg(e,d,n,i,new ug(i,d,o),s)}function fg(e,t,n,r,i,o,a){const s=t.eventCache;let l,c;const u=new ug(i,t,o);if(gf(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=Pm(t,c,!0,e.filter.filtersNodes());else{const i=cf(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Pm(t,c,s.isFullyInitialized(),s.isFiltered());else{const o=df(n),c=s.getNode().getImmediateChild(i);let d;if(gf(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===pf(o)&&e.getChild(ff(o)).isEmpty()?e:e.updateChild(o,r):Jf.EMPTY_NODE}if(c.equals(d))l=t;else{l=Pm(t,e.filter.updateChild(s.getNode(),i,d,o,u,a),s.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function mg(e,t){return e.eventCache.isCompleteForChild(t)}function gg(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function vg(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=gf(n)?r:new Dm(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=gg(0,t.serverCache.getNode().getImmediateChild(n),r);c=hg(e,c,new sf(n),l,i,o,a,s)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=gg(0,t.serverCache.getNode().getImmediateChild(n),r);c=hg(e,c,new sf(n),l,i,o,a,s)}})),c}class bg{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new lm(n.getIndex()),i=(o=n).loadsAllData()?new lm(o.getIndex()):o.hasLimit()?new um(o):new cm(o);var o;this.processor_=function(e){return{filter:e}}(i);const a=t.serverCache,s=t.eventCache,l=r.updateFullNode(Jf.EMPTY_NODE,a.getNode(),null),c=i.updateFullNode(Jf.EMPTY_NODE,s.getNode(),null),u=new Sm(l,a.isFullyInitialized(),r.filtersNodes()),d=new Sm(c,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=jm(d,u),this.eventGenerator_=new Om(this.query_)}get query(){return this.query_}}function yg(e,t){const n=Rm(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!gf(t)&&!n.getImmediateChild(cf(t)).isEmpty())?n.getChild(t):null}function _g(e){return 0===e.eventRegistrations_.length}function xg(e,t,n){const r=[];if(n){ys(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function wg(e,t,n,r){t.type===xm.MERGE&&null!==t.source.queryId&&(ys(Rm(e.viewCache_),"We should always have a full cache before handling merges"),ys(Lm(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=dg(e.processor_,i,t,n,r);var a,s;return a=e.processor_,s=o.viewCache,ys(s.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),ys(s.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),ys(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,Eg(e,o.changes,o.viewCache.eventCache.getNode(),null)}function Eg(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Am(e,i,"child_removed",t,r,n),Am(e,i,"child_added",t,r,n),Am(e,i,"child_moved",o,r,n),Am(e,i,"child_changed",t,r,n),Am(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Tg,Cg;class kg{constructor(){this.views=new Map}}function Sg(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return ys(null!=o,"SyncTree gave us an op for an invalid query."),wg(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(wg(o,t,n,r));return i}}function Og(e,t,n,r,i){const o=t._queryIdentifier,a=e.views.get(o);if(!a){let e=eg(n,i?r:null),o=!1;e?o=!0:r instanceof Jf?(e=tg(n,r),o=!1):(e=Jf.EMPTY_NODE,o=!1);const a=jm(new Sm(e,o,!1),new Sm(r,i,!1));return new bg(t,a)}return a}function Ag(e,t,n,r,i,o){const a=Og(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Hf,((e,t)=>{r.push(om(e,t))}));return n.isFullyInitialized()&&r.push(im(n.getNode())),Eg(e,r,n.getNode(),t)}(a,n)}function jg(e,t,n,r){const i=t._queryIdentifier,o=[];let a=[];const s=Ng(e);if("default"===i)for(const[l,c]of e.views.entries())a=a.concat(xg(c,n,r)),_g(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(i);t&&(a=a.concat(xg(t,n,r)),_g(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return s&&!Ng(e)&&o.push(new(ys(Tg,"Reference.ts has not been loaded"),Tg)(t._repo,t._path)),{removed:o,events:a}}function Pg(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ig(e,t){let n=null;for(const r of e.views.values())n=n||yg(r,t);return n}function Lg(e,t){if(t._queryParams.loadsAllData())return Dg(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Rg(e,t){return null!=Lg(e,t)}function Ng(e){return null!=Dg(e)}function Dg(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Mg=1;class Bg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Dm(null),this.pendingWriteTree_={visibleWrites:Mm.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Qg(e,t,n,r,i){return function(e,t,n,r,i){ys(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Bm(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?$g(e,new Cm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ug(e,t,n,r){!function(e,t,n,r){ys(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Qm(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=Dm.fromObject(n);return $g(e,new km({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function Fg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Km(e.pendingWriteTree_,t)){let t=new Dm(null);return null!=r.snap?t=t.set(lf(),!0):Sh(r.children,(e=>{t=t.set(new sf(e),!0)})),$g(e,new Em(r.path,t,n))}return[]}function zg(e,t,n){return $g(e,new Cm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function qg(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,a=e.syncPointTree_.get(o);let s=[];if(a&&("default"===t._queryIdentifier||Rg(a,t))){const l=jg(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(s=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>Ng(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Ng(t)){return[Dg(t)]}{let e=[];return t&&(e=Pg(t)),Sh(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Zg(e,r);e.listenProvider_.startListening(rv(i),Jg(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(rv(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(Xg(t));e.listenProvider_.stopListening(rv(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Xg(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return s}function Hg(e,t,n,r){const i=ev(e,r);if(null!=i){const r=tv(i),o=r.path,a=r.queryId,s=vf(o,t);return nv(e,o,new Cm(wm(a),s,n))}return[]}function Wg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,a=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=vf(e,i);o=o||Ig(t,n),a=a||Ng(t)}));let s,l=e.syncPointTree_.get(i);if(l?(a=a||Ng(l),o=o||Ig(l,lf())):(l=new kg,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)s=!0;else{s=!1,o=Jf.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=Ig(t,lf());n&&(o=o.updateImmediateChild(e,n))}))}const c=Rg(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Xg(t);ys(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=Mg++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=Ag(l,t,n,$m(e.pendingWriteTree_,i),o,s);if(!c&&!a&&!r){const n=Lg(l,t);u=u.concat(function(e,t,n){const r=t._path,i=Jg(e,t),o=Zg(e,n),a=e.listenProvider_.startListening(rv(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)ys(!Ng(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold(((e,t,n)=>{if(!gf(e)&&t&&Ng(t))return[Dg(t).query];{let e=[];return t&&(e=e.concat(Pg(t).map((e=>e.query)))),Sh(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(rv(r),Jg(e,r))}}return a}(e,t,n))}return u}function Gg(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=Ig(n,vf(e,t));if(r)return r}));return Xm(r,t,i,n,!0)}function Vg(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=vf(e,n);r=r||Ig(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||Ig(i,lf()):(i=new kg,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,a=o?new Sm(r,!0,!1):null;return function(e){return Lm(e.viewCache_)}(Og(i,t,$m(e.pendingWriteTree_,t._path),o?a.getNode():Jf.EMPTY_NODE,o))}function $g(e,t){return Kg(t,e.syncPointTree_,null,$m(e.pendingWriteTree_,lf()))}function Kg(e,t,n,r){if(gf(e.path))return Yg(e,t,n,r);{const i=t.get(lf());null==n&&null!=i&&(n=Ig(i,lf()));let o=[];const a=cf(e.path),s=e.operationForChild(a),l=t.children.get(a);if(l&&s){const e=n?n.getImmediateChild(a):null,t=ag(r,a);o=o.concat(Kg(s,l,e,t))}return i&&(o=o.concat(Sg(i,e,r,n))),o}}function Yg(e,t,n,r){const i=t.get(lf());null==n&&null!=i&&(n=Ig(i,lf()));let o=[];return t.children.inorderTraversal(((t,i)=>{const a=n?n.getImmediateChild(t):null,s=ag(r,t),l=e.operationForChild(t);l&&(o=o.concat(Yg(l,i,a,s)))})),i&&(o=o.concat(Sg(i,e,r,n))),o}function Zg(e,t){const n=t.query,r=Jg(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Jf.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=ev(e,n);if(r){const n=tv(r),i=n.path,o=n.queryId,a=vf(i,t);return nv(e,i,new Tm(wm(o),a))}return[]}(e,n._path,r):function(e,t){return $g(e,new Tm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return qg(e,n,null,r)}}}}function Jg(e,t){const n=Xg(t);return e.queryToTagMap.get(n)}function Xg(e){return e._path.toString()+"$"+e._queryIdentifier}function ev(e,t){return e.tagToQueryMap.get(t)}function tv(e){const t=e.indexOf("$");return ys(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new sf(e.substr(0,t))}}function nv(e,t,n){const r=e.syncPointTree_.get(t);ys(r,"Missing sync point for query tag that we're tracking");return Sg(r,n,$m(e.pendingWriteTree_,t),null)}function rv(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ys(Cg,"Reference.ts has not been loaded"),Cg)(e._repo,e._path):e}class iv{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new iv(t)}node(){return this.node_}}class ov{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=mf(this.path_,e);return new ov(this.syncTree_,t)}node(){return Gg(this.syncTree_,this.path_)}}const av=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},sv=function(e,t,n){return e&&"object"===typeof e?(ys(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?lv(e[".sv"],t,n):"object"===typeof e[".sv"]?cv(e[".sv"],t):void ys(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},lv=function(e,t,n){if("timestamp"===e)return n.timestamp;ys(!1,"Unexpected server value: "+e)},cv=function(e,t,n){e.hasOwnProperty("increment")||ys(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&ys(!1,"Unexpected increment value: "+r);const i=t.node();if(ys(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},uv=function(e,t,n,r){return pv(t,new ov(n,e),r)},dv=function(e,t,n){return pv(e,new iv(t),n)};function pv(e,t,n){const r=e.getPriority().val(),i=sv(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=sv(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new qf(o,tm(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new qf(i))),r.forEachChild(Hf,((e,r)=>{const i=pv(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class hv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function fv(e,t){let n=t instanceof sf?t:new sf(t),r=e,i=cf(n);for(;null!==i;){const e=$s(r.node.children,i)||{children:{},childCount:0};r=new hv(i,r,e),n=df(n),i=cf(n)}return r}function mv(e){return e.node.value}function gv(e,t){e.node.value=t,xv(e)}function vv(e){return e.node.childCount>0}function bv(e,t){Sh(e.node.children,((n,r)=>{t(new hv(n,e,r))}))}function yv(e,t,n,r){n&&!r&&t(e),bv(e,(e=>{yv(e,t,!0,r)})),n&&r&&t(e)}function _v(e){return new sf(null===e.parent?e.name:_v(e.parent)+"/"+e.name)}function xv(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===mv(e)&&!vv(e)}(n),i=Vs(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,xv(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,xv(e))}(e.parent,e.name,e)}const wv=/[\[\].#$\/\u0000-\u001F\u007F]/,Ev=/[\[\].#$\u0000-\u001F\u007F]/,Tv=10485760,Cv=function(e){return"string"===typeof e&&0!==e.length&&!wv.test(e)},kv=function(e){return"string"===typeof e&&0!==e.length&&!Ev.test(e)},Sv=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!yh(e)||e&&"object"===typeof e&&Vs(e,".sv")},Ov=function(e,t,n,r){r&&void 0===t||Av(ol(e,"value"),t,n)},Av=function(e,t,n){const r=n instanceof sf?new xf(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Ef(r));if("function"===typeof t)throw new Error(e+"contains a function "+Ef(r)+" with contents = "+t.toString());if(yh(t))throw new Error(e+"contains "+t.toString()+" "+Ef(r));if("string"===typeof t&&t.length>Tv/3&&al(t)>Tv)throw new Error(e+"contains a string greater than "+Tv+" utf8 bytes "+Ef(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(Sh(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Cv(t)))throw new Error(e+" contains an invalid key ("+t+") "+Ef(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=al(t),wf(e)}(r,t),Av(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=al(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+Ef(r)+" in addition to actual children.")}},jv=function(e,t,n,r){if(r&&void 0===t)return;const i=ol(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];Sh(t,((e,t)=>{const r=new sf(e);if(Av(i,t,mf(n,r)),".priority"===pf(r)&&!Sv(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)})),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=hf(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!Cv(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(bf);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&_f(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},Pv=function(e,t,n,r){if((!r||void 0!==n)&&!kv(n))throw new Error(ol(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Iv=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Pv(e,t,n,r)},Lv=function(e,t){if(".info"===cf(t))throw new Error(e+" failed = Can't modify data under /.info/")},Rv=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Cv(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),kv(e)}(n))throw new Error(ol(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Nv{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Dv(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||yf(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Mv(e,t,n){Dv(e,n),Qv(e,(e=>yf(e,t)))}function Bv(e,t,n){Dv(e,n),Qv(e,(e=>_f(e,t)||_f(t,e)))}function Qv(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Uv(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Uv(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();dh&&fh("event: "+n.toString()),Ph(r)}}}const Fv="repo_interrupt",zv=25;class qv{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Nv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gm(),this.transactionQueueTree_=new hv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Hv(e,t,n){if(e.stats_=Gh(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new fm(e.repoInfo_,((t,n,r,i)=>{Vv(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>$v(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ws(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new kf(e.repoInfo_,t,((t,n,r,i)=>{Vv(e,t,n,r,i)}),(t=>{$v(e,t)}),(t=>{!function(e,t){Sh(t,((t,n)=>{Kv(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Wh[n]||(Wh[n]=t()),Wh[n]}(e.repoInfo_,(()=>new _m(e.stats_,e.server_))),e.infoData_=new mm,e.infoSyncTree_=new Bg({startListening:(t,n,r,i)=>{let o=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=zg(e.infoSyncTree_,t._path,a),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),Kv(e,"connected",!1),e.serverSyncTree_=new Bg({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);Bv(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Wv(e){const t=e.infoData_.getNode(new sf(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Gv(e){return av({timestamp:Wv(e)})}function Vv(e,t,n,r,i){e.dataUpdateCount++;const o=new sf(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i)if(r){const t=Ys(n,(e=>tm(e)));a=function(e,t,n,r){const i=ev(e,r);if(i){const r=tv(i),o=r.path,a=r.queryId,s=vf(o,t),l=Dm.fromObject(n);return nv(e,o,new km(wm(a),s,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=tm(n);a=Hg(e.serverSyncTree_,o,t,i)}else if(r){const t=Ys(n,(e=>tm(e)));a=function(e,t,n){const r=Dm.fromObject(n);return $g(e,new km({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=tm(n);a=zg(e.serverSyncTree_,o,t)}let s=o;a.length>0&&(s=ib(e,o)),Bv(e.eventQueue_,s,a)}function $v(e,t){Kv(e,"connected",t),!1===t&&function(e){eb(e,"onDisconnectEvents");const t=Gv(e),n=gm();bm(e.onDisconnect_,lf(),((r,i)=>{const o=uv(r,i,e.serverSyncTree_,t);vm(n,r,o)}));let r=[];bm(n,lf(),((t,n)=>{r=r.concat(zg(e.serverSyncTree_,t,n));const i=cb(e,t);ib(e,i)})),e.onDisconnect_=gm(),Bv(e.eventQueue_,lf(),r)}(e)}function Kv(e,t,n){const r=new sf("/.info/"+t),i=tm(n);e.infoData_.updateSnapshot(r,i);const o=zg(e.infoSyncTree_,r,i);Bv(e.eventQueue_,r,o)}function Yv(e){return e.nextWriteId_++}function Zv(e,t,n,r,i){eb(e,"set",{path:t.toString(),value:n,priority:r});const o=Gv(e),a=tm(n,r),s=Gg(e.serverSyncTree_,t),l=dv(a,s,o),c=Yv(e),u=Qg(e.serverSyncTree_,t,l,c,!0);Dv(e.eventQueue_,u),e.server_.put(t.toString(),a.val(!0),((n,r)=>{const o="ok"===n;o||bh("set at "+t+" failed: "+n);const a=Fg(e.serverSyncTree_,c,!o);Bv(e.eventQueue_,t,a),tb(e,i,n,r)}));const d=cb(e,t);ib(e,d),Bv(e.eventQueue_,d,[])}function Jv(e,t,n){let r;r=".info"===cf(t._path)?qg(e.infoSyncTree_,t,n):qg(e.serverSyncTree_,t,n),Mv(e.eventQueue_,t._path,r)}function Xv(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Fv)}function eb(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];fh(t,...r)}function tb(e,t,n,r){t&&Ph((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}}))}function nb(e,t,n){return Gg(e.serverSyncTree_,t,n)||Jf.EMPTY_NODE}function rb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||lb(e,t),mv(t)){const n=ab(e,t);ys(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=nb(e,t,r);let o=i;const a=i.hash();for(let c=0;c<n.length;c++){const e=n[c];ys(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=vf(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const s=o.val(!0),l=t;e.server_.put(l.toString(),s,(r=>{eb(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Fg(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();lb(e,fv(e.transactionQueueTree_,t)),rb(e,e.transactionQueueTree_),Bv(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Ph(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{bh("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}ib(e,t)}}),a)}(e,_v(t),n)}else vv(t)&&bv(t,(t=>{rb(e,t)}))}function ib(e,t){const n=ob(e,t),r=_v(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),a=o.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const o=t[l],c=vf(n,o.path);let u,d=!1;if(ys(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)d=!0,u=o.abortReason,i=i.concat(Fg(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=zv)d=!0,u="maxretry",i=i.concat(Fg(e.serverSyncTree_,o.currentWriteId,!0));else{const n=nb(e,o.path,a);o.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){Av("transaction failed: Data returned ",r,o.path);let t=tm(r);"object"===typeof r&&null!=r&&Vs(r,".priority")||(t=t.updatePriority(n.getPriority()));const s=o.currentWriteId,l=Gv(e),c=dv(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=Yv(e),a.splice(a.indexOf(s),1),i=i.concat(Qg(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(Fg(e.serverSyncTree_,s,!0))}else d=!0,u="nodata",i=i.concat(Fg(e.serverSyncTree_,o.currentWriteId,!0))}Bv(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,s=t[l].unwatcher,setTimeout(s,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var s;lb(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Ph(r[l]);rb(e,e.transactionQueueTree_)}(e,ab(e,n),r),r}function ob(e,t){let n,r=e.transactionQueueTree_;for(n=cf(t);null!==n&&void 0===mv(r);)r=fv(r,n),n=cf(t=df(t));return r}function ab(e,t){const n=[];return sb(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function sb(e,t,n){const r=mv(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);bv(t,(t=>{sb(e,t,n)}))}function lb(e,t){const n=mv(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,gv(t,n.length>0?n:void 0)}bv(t,(t=>{lb(e,t)}))}function cb(e,t){const n=_v(ob(e,t)),r=fv(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{ub(e,t)})),ub(e,r),yv(r,(t=>{ub(e,t)})),n}function ub(e,t){const n=mv(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(ys(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(ys(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Fg(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?gv(t,void 0):n.length=o+1,Bv(e.eventQueue_,_v(t),i);for(let e=0;e<r.length;e++)Ph(r[e])}}const db=function(e,t){const n=pb(e),r=n.namespace;"firebase.com"===n.domain&&vh(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||vh("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&bh("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Fh(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new sf(n.pathString)}},pb=function(e){let t="",n="",r="",i="",o="",a=!0,s="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,d)));const p=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):bh("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(a="https"===s||"wss"===s,l=parseInt(t.substring(c+1),10)):c=t.length;const h=t.slice(0,c);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in p&&(o=p.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},hb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fb=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=hb.charAt(n%64),n=Math.floor(n/64);ys(0===n,"Cannot push at time == 0");let a=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)a+=hb.charAt(t[i]);return ys(20===a.length,"nextPushId: Length should be 20."),a}}();class mb{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ws(this.snapshot.exportVal())}}class gb{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class vb{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return ys(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class bb{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return gf(this._path)?null:pf(this._path)}get ref(){return new yb(this._repo,this._path)}get _queryIdentifier(){const e=hm(this._queryParams),t=Ch(e);return"{}"===t?"default":t}get _queryObject(){return hm(this._queryParams)}isEqual(e){if(!((e=sl(e))instanceof bb))return!1;const t=this._repo===e._repo,n=yf(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class yb extends bb{constructor(e,t){super(e,t,new dm,!1)}get parent(){const e=ff(this._path);return null===e?null:new yb(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class _b{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new sf(e),n=wb(this.ref,e);return new _b(this._node.getChild(t),n,Hf)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new _b(n,wb(this.ref,t),Hf))))}hasChild(e){const t=new sf(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xb(e,t){return(e=sl(e))._checkNotDeleted("ref"),void 0!==t?wb(e._root,t):e._root}function wb(e,t){return null===cf((e=sl(e))._path)?Iv("child","path",t,!1):Pv("child","path",t,!1),new yb(e._repo,mf(e._path,t))}function Eb(e,t){e=sl(e),Lv("push",e._path),Ov("push",t,e._path,!0);const n=Wv(e._repo),r=fb(n),i=wb(e,r),o=wb(e,r);let a;return a=null!=t?Cb(o,t).then((()=>o)):Promise.resolve(o),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function Tb(e){return Lv("remove",e._path),Cb(e,null)}function Cb(e,t){e=sl(e),Lv("set",e._path),Ov("set",t,e._path,!1);const n=new Ds;return Zv(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function kb(e,t){jv("update",t,e._path,!1);const n=new Ds;return function(e,t,n,r){eb(e,"update",{path:t.toString(),value:n});let i=!0;const o=Gv(e),a={};if(Sh(n,((n,r)=>{i=!1,a[n]=uv(mf(t,n),tm(r),e.serverSyncTree_,o)})),i)fh("update() called with empty data.  Don't do anything."),tb(0,r,"ok",void 0);else{const i=Yv(e),o=Ug(e.serverSyncTree_,t,a,i);Dv(e.eventQueue_,o),e.server_.merge(t.toString(),n,((n,o)=>{const a="ok"===n;a||bh("update at "+t+" failed: "+n);const s=Fg(e.serverSyncTree_,i,!a),l=s.length>0?ib(e,t):t;Bv(e.eventQueue_,l,s),tb(0,r,n,o)})),Sh(n,(n=>{const r=cb(e,mf(t,n));ib(e,r)})),Bv(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((()=>{}))),n.promise}function Sb(e){e=sl(e);const t=new vb((()=>{})),n=new Ob(t);return function(e,t,n){const r=Vg(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=tm(r).withIndex(t._queryParams.getIndex());let o;if(Wg(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())o=zg(e.serverSyncTree_,t._path,i);else{const n=Jg(e.serverSyncTree_,t);o=Hg(e.serverSyncTree_,t._path,i,n)}return Bv(e.eventQueue_,t._path,o),qg(e.serverSyncTree_,t,n,null,!0),i}),(n=>(eb(e,"get for query "+Ws(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new _b(t,new yb(e._repo,e._path),e._queryParams.getIndex())))}class Ob{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new mb("value",this,new _b(e.snapshotNode,new yb(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new gb(this,e,t):null}matches(e){return e instanceof Ob&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ab{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new gb(this,e,t):null}createEvent(e,t){ys(null!=e.childName,"Child events should have a childName.");const n=wb(new yb(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new mb(e.type,this,new _b(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ab&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function jb(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Jv(e._repo,e,s),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const a=new vb(n,o||void 0),s="value"===t?new Ob(a):new Ab(t,a);return function(e,t,n){let r;r=".info"===cf(t._path)?Wg(e.infoSyncTree_,t,n):Wg(e.serverSyncTree_,t,n),Mv(e.eventQueue_,t._path,r)}(e._repo,e,s),()=>Jv(e._repo,e,s)}function Pb(e,t,n,r){return jb(e,"value",t,n,r)}function Ib(e,t,n){let r=null;const i=n?new vb(n):null;"value"===t?r=new Ob(i):t&&(r=new Ab(t,i)),Jv(e._repo,e,r)}!function(e){ys(!Tg,"__referenceConstructor has already been defined"),Tg=e}(yb),function(e){ys(!Cg,"__referenceConstructor has already been defined"),Cg=e}(yb);const Lb="FIREBASE_DATABASE_EMULATOR_HOST",Rb={};let Nb=!1;function Db(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||vh("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fh("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let a,s,l=db(o,i),c=l.repoInfo;"undefined"!==typeof process&&(s={NODE_ENV:"production",PUBLIC_URL:"/metadata-entry-form",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLOUD_API_KEY:"AIzaSyBz4kb3hJHXw0voYZgHZuAgmqGosxntMHM",REACT_APP_GOOGLE_CLOUD_API_KEY_DEV:"AIzaSyADkNENzpoqj3O7uGPsRA_4s1zQdbH708c"}[Lb]),s?(a=!0,o="http://".concat(s,"?ns=").concat(c.namespace),l=db(o,i),c=l.repoInfo):a=!l.repoInfo.secure;const u=i&&a?new Nh(Nh.OWNER):new Rh(e.name,e.options,t);Rv("Invalid Firebase Database URL",l),gf(l.path)||vh("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=Rb[t.name];i||(i={},Rb[t.name]=i);let o=i[e.toURLString()];o&&vh("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new qv(e,Nb,n,r),i[e.toURLString()]=o,o}(c,e,u,new Lh(e.name,n));return new Mb(d,e)}class Mb{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Hv(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new yb(this._repo,lf())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Rb[t];n&&n[e.key]===e||vh("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Xv(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&vh("Cannot call "+e+" on a deleted database.")}}function Bb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zl(),t=arguments.length>1?arguments[1]:void 0;const n=Gl(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Ls("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=sl(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&vh("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&vh('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Nh(Nh.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Cs(JSON.stringify({alg:"none",type:"JWT"})),Cs(JSON.stringify(o)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new Nh(t)}!function(e,t,n,r){e.repoInfo_=new Fh("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...e)}return n}kf.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},kf.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){th(Kl),Wl(new ll("database",((e,t)=>{let{instanceIdentifier:n}=t;return Db(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Jl(Jp,Xp,e),Jl(Jp,Xp,"esm2017")}();class Qb extends i.Component{constructor(){super(),this.listenerRefs=[]}componentDidUpdate(e){const{match:t}=this.props;t.params.region!==e.match.params.region&&(this.unsubscribeAndCloseListeners(),this.componentDidMount())}componentWillUnmount(){this.unsubscribeAndCloseListeners()}unsubscribeAndCloseListeners(){this.unsubscribe&&this.unsubscribe(),this.listenerRefs.length&&this.listenerRefs.forEach((e=>Ib(e)))}}const Ub=Qb,Fb=(0,i.createContext)({user:null,authIsLoading:!1});const zb=dn(class extends Ub{constructor(e){super(e),this.componentDidMount=()=>{const{match:e}=this.props,{region:t}=e.params;this.setState({authIsLoading:!0}),this.unsubscribe=nd(_p(Cp),(e=>{if(e){const{displayName:n,email:r,uid:i}=e;this.setState({user:e,authIsLoading:!1,loggedIn:!0}),function(e){ie("configureScope",e)}((e=>{e.setUser({email:r,username:r})}));Zp(Yp(),"getDatacitePrefix")(t).then((e=>{this.setState({datacitePrefix:null===e||void 0===e?void 0:e.data})}));const o=Bb(Cp);kb(xb(o,"".concat(t,"/users/").concat(i,"/userinfo")),{displayName:n,email:r});const a=xb(o,"admin/".concat(t,"/permissions"));Pb(a,(e=>{const t=e.toJSON(),n=(null===t||void 0===t?void 0:t.admins)||"",i=(null===t||void 0===t?void 0:t.reviewers)||"",o=n.includes(r),a=i.includes(r);this.setState({admins:n,reviewers:i,isAdmin:o,isReviewer:a})})),this.listenerRefs.push(a);const s=xb(o,"".concat(t,"/shares/").concat(i));Pb(s,(e=>{const t=e.exists();this.setState({hasSharedRecords:t,authIsLoading:!1})})),this.listenerRefs.push(s)}else this.setState({loggedIn:!1,authIsLoading:!1});this.setState({user:e,authIsLoading:!1})}))},this.state={user:null,authIsLoading:!1,admins:[],reviewers:[],isReviewer:!1,loggedIn:!1,hasSharedRecords:!1}}render(){const{children:e}=this.props,t=Yp(),n=Zp(t,"translate"),r=Zp(t,"regenerateXMLforRecord"),i=Zp(t,"downloadRecord"),o=Zp(t,"createDraftDoi"),a=Zp(t,"updateDraftDoi"),s=Zp(t,"deleteDraftDoi"),l=Zp(t,"getDoiStatus"),c=Zp(t,"checkURLActive"),u=Zp(t,"getCredentialsStored"),d=Zp(t,"getDatacitePrefix");return(0,Ap.jsx)(Fb.Provider,{value:{...this.state,translate:n,regenerateXMLforRecord:r,downloadRecord:i,createDraftDoi:o,updateDraftDoi:a,deleteDraftDoi:s,getDoiStatus:l,checkURLActive:c,getCredentialsStored:u,getDatacitePrefix:d},children:e})}}),qb=240,Hb=An((e=>({root:{display:"flex",flexGrow:1},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:qb,width:"calc(100% - ".concat(qb,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},languageSelector:{"&:before":{borderColor:"white"},"&:hover:not(.Mui-disabled):before":{borderColor:"white"},color:"white",borderColor:"white",marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:qb,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:qb,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1,[e.breakpoints.up("sm")]:{width:e.spacing(9)+1}},toolbar:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1),...e.mixins.toolbar},content:{flexGrow:1,padding:e.spacing(3)}})));function Wb(e){let{children:t}=e;const n=hn(),r=Hb(),o=Pn(),{user:a,isReviewer:s,isAdmin:l,authIsLoading:c,hasSharedRecords:u}=(0,i.useContext)(Fb);let{language:d="en",region:p="region-select"}=mn();["en","fr"].includes(d)||(d="en"),Object.keys(Cn).includes(p)||(p="");const{pathname:h}=fn(),f=h.split("/").map((e=>e)).slice(2).join("/"),m="/".concat(d,"/").concat(p),[g,v]=i.useState(Boolean(p)),b={home:(0,Ap.jsx)(Lp,{en:"Home",fr:"Accueil"}),new:(0,Ap.jsx)(Lp,{en:"Metadata Editor",fr:"\xc9diteur de m\xe9ta-donn\xe9es"}),contacts:(0,Ap.jsx)(Lp,{en:"Contacts",fr:"Contacts"}),instruments:(0,Ap.jsx)(Lp,{en:"Instruments",fr:"Instruments"}),platforms:(0,Ap.jsx)(Lp,{en:"Platforms",fr:"Plateformes"}),saved:(0,Ap.jsx)(Lp,{en:"My Records",fr:"Enregistrements"}),published:(0,Ap.jsx)(Lp,{en:"Published Records",fr:"Dossiers publi\xe9s"}),review:(0,Ap.jsx)(Lp,{en:"Review submissions",fr:"Examen des soumissions"}),admin:(0,Ap.jsx)(Lp,{en:"Admin",fr:"Admin"}),signIn:(0,Ap.jsx)(Lp,{en:"Sign in",fr:"Se Connecter"}),logout:(0,Ap.jsx)(Lp,{en:"Logout",fr:"D\xe9connexion"}),sharedWithMe:(0,Ap.jsx)(Lp,{en:"Shared with me",fr:"Partag\xe9 avec moi"})},y=p?Cn[p].colors.primary:"#52a79b",_={NODE_ENV:"production",PUBLIC_URL:"/metadata-entry-form",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLOUD_API_KEY:"AIzaSyBz4kb3hJHXw0voYZgHZuAgmqGosxntMHM",REACT_APP_GOOGLE_CLOUD_API_KEY_DEV:"AIzaSyADkNENzpoqj3O7uGPsRA_4s1zQdbH708c"}.REACT_APP_DEV_DEPLOYMENT||!1;return(0,Ap.jsxs)("div",{className:r.root,children:[(0,Ap.jsx)(Kn,{}),(0,Ap.jsx)(tr,{position:"fixed",className:(0,kn.c)(r.appBar,{[r.appBarShift]:g}),children:(0,Ap.jsxs)(ir,{style:{backgroundColor:y,alignItems:"end"},children:[p&&(0,Ap.jsx)(Cr,{"aria-label":"open drawer",onClick:()=>{v(!0)},edge:"start",className:(0,kn.c)(r.menuButton,{[r.hide]:g}),children:(0,Ap.jsx)(Ln,{})}),(0,Ap.jsx)(Or,{variant:"h5",noWrap:!0,style:{marginLeft:"10px",marginBottom:"10px",flex:1,color:"white"},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Metadata Entry Tool"}),(0,Ap.jsx)(Ip,{children:"Outil de saisie de m\xe9tadonn\xe9es"})]})}),(0,Ap.jsxs)("div",{style:{marginLeft:"auto"},children:[(0,Ap.jsx)("img",{src:"".concat("/metadata-entry-form","/cioos_website_top_banner_").concat(d,".png"),alt:"CIOOS/SIOOC",width:350,style:{verticalAlign:"bottom",paddingRight:"15px"}}),(0,Ap.jsxs)(wo,{color:"primary",className:r.languageSelector,value:d,onChange:e=>n.push("/".concat(e.target.value,"/").concat(f)),children:[(0,Ap.jsx)(Oo,{value:"en",children:"EN"}),(0,Ap.jsx)(Oo,{value:"fr",children:"FR"})]})]})]})}),p&&(0,Ap.jsxs)(qo,{variant:"permanent",className:(0,kn.c)(r.drawer,{[r.drawerOpen]:g,[r.drawerClose]:!g}),classes:{paper:(0,kn.c)({[r.drawerOpen]:g,[r.drawerClose]:!g})},children:[(0,Ap.jsx)("div",{className:r.toolbar,children:(0,Ap.jsx)(Cr,{onClick:()=>{v(!1)},children:"rtl"===o.direction?(0,Ap.jsx)(Rn,{}):(0,Ap.jsx)(Nn,{})})}),a&&(0,Ap.jsxs)(ko,{children:[(0,Ap.jsx)(Wo,{children:(0,Ap.jsx)($o,{src:a.photoURL})}),(0,Ap.jsx)(Yo,{primary:a.displayName})]},"userInfo"),(0,Ap.jsx)(Jo,{}),(0,Ap.jsxs)(ki,{children:[!a&&p&&(0,Ap.jsx)(ms,{placement:"right-start",title:g?"":b.signIn,children:(0,Ap.jsxs)(ko,{disabled:c,button:!0,onClick:async()=>{try{await Op(),n.push(h)}catch(gh){if("auth/cancelled-popup-request"!==gh.code)throw gh}},children:[(0,Ap.jsx)(Wo,{children:(0,Ap.jsx)(Dn,{})}),(0,Ap.jsx)(Yo,{primary:b.signIn})]},"Sign in")}),a&&p&&(0,Ap.jsxs)(Ap.Fragment,{children:[(0,Ap.jsx)(ms,{placement:"right-start",title:g?"":b.saved,children:(0,Ap.jsxs)(ko,{button:!0,onClick:()=>n.push("".concat(m,"/submissions")),children:[(0,Ap.jsx)(Wo,{children:(0,Ap.jsx)(Mn,{})}),(0,Ap.jsx)(Yo,{primary:b.saved})]},"My Records")}),(0,Ap.jsx)(ms,{placement:"right-start",title:g?"":b.saved,children:(0,Ap.jsxs)(ko,{button:!0,onClick:()=>n.push("".concat(m,"/published")),children:[(0,Ap.jsx)(Wo,{children:(0,Ap.jsx)(Bn,{})}),(0,Ap.jsx)(Yo,{primary:b.published})]},"Region's Published Records")}),(0,Ap.jsx)(ms,{placement:"right-start",title:g?"":b.contacts,children:(0,Ap.jsxs)(ko,{button:!0,onClick:()=>n.push("".concat(m,"/contacts")),children:[(0,Ap.jsx)(Wo,{disabled:!0,children:(0,Ap.jsx)(Qn,{})}),(0,Ap.jsx)(Yo,{primary:b.contacts})]},"Contacts")}),(0,Ap.jsx)(ms,{placement:"right-start",title:g?"":b.instruments,children:(0,Ap.jsxs)(ko,{button:!0,onClick:()=>n.push("".concat(m,"/instruments")),children:[(0,Ap.jsx)(Wo,{disabled:!0,children:(0,Ap.jsx)(Un,{})}),(0,Ap.jsx)(Yo,{primary:b.instruments})]},"instruments")}),(0,Ap.jsx)(ms,{placement:"right-start",title:g?"":b.instruments,children:(0,Ap.jsxs)(ko,{button:!0,onClick:()=>n.push("".concat(m,"/platforms")),children:[(0,Ap.jsx)(Wo,{disabled:!0,children:(0,Ap.jsx)(Fn,{})}),(0,Ap.jsx)(Yo,{primary:b.platforms})]},"Platforms")}),u&&(0,Ap.jsx)(ms,{placement:"right-start",title:g?"":b.sharedWithMe,children:(0,Ap.jsxs)(ko,{button:!0,onClick:()=>n.push("".concat(m,"/shared")),children:[(0,Ap.jsx)(Wo,{children:(0,Ap.jsx)(zn,{})}),(0,Ap.jsx)(Yo,{primary:b.sharedWithMe})]},"SharedWithMe")}),s&&(0,Ap.jsx)(ms,{placement:"right-start",title:g?"":b.review,children:(0,Ap.jsxs)(ko,{button:!0,onClick:()=>n.push("".concat(m,"/reviewer")),children:[(0,Ap.jsx)(Wo,{children:(0,Ap.jsx)(qn,{})}),(0,Ap.jsx)(Yo,{primary:b.review})]},"Review")}),l&&(0,Ap.jsx)(ms,{placement:"right-start",title:g?"":b.admin,children:(0,Ap.jsxs)(ko,{button:!0,onClick:()=>n.push("".concat(m,"/admin")),children:[(0,Ap.jsx)(Wo,{children:(0,Ap.jsx)(Hn,{})}),(0,Ap.jsx)(Yo,{primary:b.admin})]},"Admin")})]}),a&&(0,Ap.jsx)(ms,{placement:"right-start",title:g?"":b.logout,children:(0,Ap.jsxs)(ko,{button:!0,onClick:()=>Sp.signOut().then((()=>n.push(m))),children:[(0,Ap.jsx)(Wo,{children:(0,Ap.jsx)(Wn,{})}),(0,Ap.jsx)(Yo,{primary:b.logout})]},"Logout")})]}),(0,Ap.jsx)(Jo,{}),_&&(0,Ap.jsx)("h5",{children:"Connected to development database"})]}),(0,Ap.jsxs)("main",{className:r.content,children:[(0,Ap.jsx)("div",{className:r.toolbar}),t]})]})}var Gb=n(3460),Vb=n.n(Gb),$b=n(7920),Kb=n.n($b),Yb=n(4697),Zb=n.n(Yb),Jb="bodyAttributes",Xb="htmlAttributes",ey="titleAttributes",ty={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},ny=(Object.keys(ty).map((function(e){return ty[e]})),"charset"),ry="cssText",iy="href",oy="http-equiv",ay="innerHTML",sy="itemprop",ly="name",cy="property",uy="rel",dy="src",py="target",hy={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},fy="defaultTitle",my="defer",gy="encodeSpecialCharacters",vy="onChangeClientState",by="titleTemplate",yy=Object.keys(hy).reduce((function(e,t){return e[hy[t]]=t,e}),{}),_y=[ty.NOSCRIPT,ty.SCRIPT,ty.STYLE],xy="data-react-helmet",wy="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ty=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cy=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},ky=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Sy=function(e){var t=Iy(e,ty.TITLE),n=Iy(e,by);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var r=Iy(e,fy);return t||r||void 0},Oy=function(e){return Iy(e,vy)||function(){}},Ay=function(e,t){return t.filter((function(t){return"undefined"!==typeof t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return Ty({},e,t)}),{})},jy=function(e,t){return t.filter((function(e){return"undefined"!==typeof e[ty.BASE]})).map((function(e){return e[ty.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=r[i].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}return t}),[])},Py=function(e,t,n){var r={};return n.filter((function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&My("Helmet: "+e+' should be of type "Array". Instead found type "'+wy(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,n){var i={};n.filter((function(e){for(var n=void 0,o=Object.keys(e),a=0;a<o.length;a++){var s=o[a],l=s.toLowerCase();-1===t.indexOf(l)||n===uy&&"canonical"===e[n].toLowerCase()||l===uy&&"stylesheet"===e[l].toLowerCase()||(n=l),-1===t.indexOf(s)||s!==ay&&s!==ry&&s!==sy||(n=s)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][c]&&(i[n][c]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var o=Object.keys(i),a=0;a<o.length;a++){var s=o[a],l=Zb()({},r[s],i[s]);r[s]=l}return e}),[]).reverse()},Iy=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},Ly=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout((function(){Ly(t)}),0)}}(),Ry=function(e){return clearTimeout(e)},Ny="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Ly:n.g.requestAnimationFrame||Ly,Dy="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Ry:n.g.cancelAnimationFrame||Ry,My=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},By=null,Qy=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,l=e.onChangeClientState,c=e.scriptTags,u=e.styleTags,d=e.title,p=e.titleAttributes;zy(ty.BODY,r),zy(ty.HTML,i),Fy(d,p);var h={baseTag:qy(ty.BASE,n),linkTags:qy(ty.LINK,o),metaTags:qy(ty.META,a),noscriptTags:qy(ty.NOSCRIPT,s),scriptTags:qy(ty.SCRIPT,c),styleTags:qy(ty.STYLE,u)},f={},m={};Object.keys(h).forEach((function(e){var t=h[e],n=t.newTags,r=t.oldTags;n.length&&(f[e]=n),r.length&&(m[e]=h[e].oldTags)})),t&&t(),l(e,f,m)},Uy=function(e){return Array.isArray(e)?e.join(""):e},Fy=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=Uy(e)),zy(ty.TITLE,t)},zy=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(xy),i=r?r.split(","):[],o=[].concat(i),a=Object.keys(t),s=0;s<a.length;s++){var l=a[s],c=t[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),-1===i.indexOf(l)&&i.push(l);var u=o.indexOf(l);-1!==u&&o.splice(u,1)}for(var d=o.length-1;d>=0;d--)n.removeAttribute(o[d]);i.length===o.length?n.removeAttribute(xy):n.getAttribute(xy)!==a.join(",")&&n.setAttribute(xy,a.join(","))}},qy=function(e,t){var n=document.head||document.querySelector(ty.HEAD),r=n.querySelectorAll(e+"["+xy+"]"),i=Array.prototype.slice.call(r),o=[],a=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===ay)n.innerHTML=t.innerHTML;else if(r===ry)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var s="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,s)}n.setAttribute(xy,"true"),i.some((function(e,t){return a=t,n.isEqualNode(e)}))?i.splice(a,1):o.push(n)})),i.forEach((function(e){return e.parentNode.removeChild(e)})),o.forEach((function(e){return n.appendChild(e)})),{oldTags:i,newTags:o}},Hy=function(e){return Object.keys(e).reduce((function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r}),"")},Wy=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[hy[n]||n]=e[n],t}),t)},Gy=function(e,t,n){switch(e){case ty.TITLE:return{toComponent:function(){return function(e,t,n){var r,o=((r={key:t})[xy]=!0,r),a=Wy(n,o);return[i.createElement(ty.TITLE,a,t)]}(0,t.title,t.titleAttributes)},toString:function(){return function(e,t,n,r){var i=Hy(n),o=Uy(t);return i?"<"+e+" "+xy+'="true" '+i+">"+ky(o,r)+"</"+e+">":"<"+e+" "+xy+'="true">'+ky(o,r)+"</"+e+">"}(e,t.title,t.titleAttributes,n)}};case Jb:case Xb:return{toComponent:function(){return Wy(t)},toString:function(){return Hy(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,n){var r,o=((r={key:n})[xy]=!0,r);return Object.keys(t).forEach((function(e){var n=hy[e]||e;if(n===ay||n===ry){var r=t.innerHTML||t.cssText;o.dangerouslySetInnerHTML={__html:r}}else o[n]=t[e]})),i.createElement(e,o)}))}(e,t)},toString:function(){return function(e,t,n){return t.reduce((function(t,r){var i=Object.keys(r).filter((function(e){return!(e===ay||e===ry)})).reduce((function(e,t){var i="undefined"===typeof r[t]?t:t+'="'+ky(r[t],n)+'"';return e?e+" "+i:i}),""),o=r.innerHTML||r.cssText||"",a=-1===_y.indexOf(e);return t+"<"+e+" "+xy+'="true" '+i+(a?"/>":">"+o+"</"+e+">")}),"")}(e,t,n)}}}},Vy=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,o=e.linkTags,a=e.metaTags,s=e.noscriptTags,l=e.scriptTags,c=e.styleTags,u=e.title,d=void 0===u?"":u,p=e.titleAttributes;return{base:Gy(ty.BASE,t,r),bodyAttributes:Gy(Jb,n,r),htmlAttributes:Gy(Xb,i,r),link:Gy(ty.LINK,o,r),meta:Gy(ty.META,a,r),noscript:Gy(ty.NOSCRIPT,s,r),script:Gy(ty.SCRIPT,l,r),style:Gy(ty.STYLE,c,r),title:Gy(ty.TITLE,{title:d,titleAttributes:p},r)}},$y=function(e){var t,n;return n=t=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,t.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.shouldComponentUpdate=function(e){return!Kb()(this.props,e)},n.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case ty.SCRIPT:case ty.NOSCRIPT:return{innerHTML:t};case ty.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,o=e.nestedChildren;return Ty({},r,((t={})[n.type]=[].concat(r[n.type]||[],[Ty({},i,this.mapNestedChildrenToProps(n,o))]),t))},n.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,o=e.newChildProps,a=e.nestedChildren;switch(r.type){case ty.TITLE:return Ty({},i,((t={})[r.type]=a,t.titleAttributes=Ty({},o),t));case ty.BODY:return Ty({},i,{bodyAttributes:Ty({},o)});case ty.HTML:return Ty({},i,{htmlAttributes:Ty({},o)})}return Ty({},i,((n={})[r.type]=Ty({},o),n))},n.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=Ty({},t);return Object.keys(e).forEach((function(t){var r;n=Ty({},n,((r={})[t]=e[t],r))})),n},n.prototype.warnOnInvalidChildren=function(e,t){return!0},n.prototype.mapChildrenToProps=function(e,t){var n=this,r={};return i.Children.forEach(e,(function(e){if(e&&e.props){var i=e.props,o=i.children,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[yy[n]||n]=e[n],t}),t)}(Cy(i,["children"]));switch(n.warnOnInvalidChildren(e,o),e.type){case ty.LINK:case ty.META:case ty.NOSCRIPT:case ty.SCRIPT:case ty.STYLE:r=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:r,newChildProps:a,nestedChildren:o});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:a,nestedChildren:o})}}})),t=this.mapArrayTypeChildrenToProps(r,t)},n.prototype.render=function(){var t=this.props,n=t.children,r=Cy(t,["children"]),o=Ty({},r);return n&&(o=this.mapChildrenToProps(n,o)),i.createElement(e,o)},Ey(n,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),n}(i.Component),t.propTypes={base:ot().object,bodyAttributes:ot().object,children:ot().oneOfType([ot().arrayOf(ot().node),ot().node]),defaultTitle:ot().string,defer:ot().bool,encodeSpecialCharacters:ot().bool,htmlAttributes:ot().object,link:ot().arrayOf(ot().object),meta:ot().arrayOf(ot().object),noscript:ot().arrayOf(ot().object),onChangeClientState:ot().func,script:ot().arrayOf(ot().object),style:ot().arrayOf(ot().object),title:ot().string,titleAttributes:ot().object,titleTemplate:ot().string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var t=e.rewind();return t||(t=Vy({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},n}(Vb()((function(e){return{baseTag:jy([iy,py],e),bodyAttributes:Ay(Jb,e),defer:Iy(e,my),encode:Iy(e,gy),htmlAttributes:Ay(Xb,e),linkTags:Py(ty.LINK,[uy,iy],e),metaTags:Py(ty.META,[ly,ny,oy,cy,sy],e),noscriptTags:Py(ty.NOSCRIPT,[ay],e),onChangeClientState:Oy(e),scriptTags:Py(ty.SCRIPT,[dy,ay],e),styleTags:Py(ty.STYLE,[ry],e),title:Sy(e),titleAttributes:Ay(ey,e)}}),(function(e){By&&Dy(By),e.defer?By=Ny((function(){Qy(e,(function(){By=null}))})):(Qy(e),By=null)}),Vy)((function(){return null})));$y.renderStatic=$y.rewind;var Ky=[0,1,2,3,4,5,6,7,8,9,10],Yy=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function Zy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=parseFloat(e);return"".concat(n/t).concat(String(e).replace(String(n),"")||"px")}var Jy=i.forwardRef((function(e,t){var n=e.alignContent,r=void 0===n?"stretch":n,o=e.alignItems,a=void 0===o?"stretch":o,s=e.classes,l=e.className,c=e.component,u=void 0===c?"div":c,d=e.container,p=void 0!==d&&d,h=e.direction,f=void 0===h?"row":h,m=e.item,g=void 0!==m&&m,v=e.justify,b=e.justifyContent,y=void 0===b?"flex-start":b,_=e.lg,x=void 0!==_&&_,w=e.md,E=void 0!==w&&w,T=e.sm,C=void 0!==T&&T,k=e.spacing,S=void 0===k?0:k,O=e.wrap,A=void 0===O?"wrap":O,j=e.xl,P=void 0!==j&&j,I=e.xs,L=void 0!==I&&I,R=e.zeroMinWidth,N=void 0!==R&&R,D=(0,Yn.c)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","justifyContent","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),M=(0,kn.c)(s.root,l,p&&[s.container,0!==S&&s["spacing-xs-".concat(String(S))]],g&&s.item,N&&s.zeroMinWidth,"row"!==f&&s["direction-xs-".concat(String(f))],"wrap"!==A&&s["wrap-xs-".concat(String(A))],"stretch"!==a&&s["align-items-xs-".concat(String(a))],"stretch"!==r&&s["align-content-xs-".concat(String(r))],"flex-start"!==(v||y)&&s["justify-content-xs-".concat(String(v||y))],!1!==L&&s["grid-xs-".concat(String(L))],!1!==C&&s["grid-sm-".concat(String(C))],!1!==E&&s["grid-md-".concat(String(E))],!1!==x&&s["grid-lg-".concat(String(x))],!1!==P&&s["grid-xl-".concat(String(P))]);return i.createElement(u,(0,at.c)({className:M,ref:t},D))})),Xy=(0,Gn.c)((function(e){return(0,at.c)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-content-xs-center":{justifyContent:"center"},"justify-content-xs-flex-end":{justifyContent:"flex-end"},"justify-content-xs-space-between":{justifyContent:"space-between"},"justify-content-xs-space-around":{justifyContent:"space-around"},"justify-content-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var n={};return Ky.forEach((function(r){var i=e.spacing(r);0!==i&&(n["spacing-".concat(t,"-").concat(r)]={margin:"-".concat(Zy(i,2)),width:"calc(100% + ".concat(Zy(i),")"),"& > $item":{padding:Zy(i,2)}})})),n}(e,"xs"),e.breakpoints.keys.reduce((function(t,n){return function(e,t,n){var r={};Yy.forEach((function(e){var t="grid-".concat(n,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");r[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else r[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else r[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===n?(0,at.c)(e,r):e[t.breakpoints.up(n)]=r}(t,e,n),t}),{}))}),{name:"MuiGrid"})(Jy);const e_=Xy;var t_=44,n_=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.color,a=void 0===o?"primary":o,s=e.disableShrink,l=void 0!==s&&s,c=e.size,u=void 0===c?40:c,d=e.style,p=e.thickness,h=void 0===p?3.6:p,f=e.value,m=void 0===f?0:f,g=e.variant,v=void 0===g?"indeterminate":g,b=(0,Yn.c)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),y={},_={},x={};if("determinate"===v||"static"===v){var w=2*Math.PI*((t_-h)/2);y.strokeDasharray=w.toFixed(3),x["aria-valuenow"]=Math.round(m),y.strokeDashoffset="".concat(((100-m)/100*w).toFixed(3),"px"),_.transform="rotate(-90deg)"}return i.createElement("div",(0,at.c)({className:(0,kn.c)(n.root,r,"inherit"!==a&&n["color".concat((0,Zn.c)(a))],{determinate:n.determinate,indeterminate:n.indeterminate,static:n.static}[v]),style:(0,at.c)({width:u,height:u},_,d),ref:t,role:"progressbar"},x,b),i.createElement("svg",{className:n.svg,viewBox:"".concat(22," ").concat(22," ").concat(t_," ").concat(t_)},i.createElement("circle",{className:(0,kn.c)(n.circle,l&&n.circleDisableShrink,{determinate:n.circleDeterminate,indeterminate:n.circleIndeterminate,static:n.circleStatic}[v]),style:y,cx:t_,cy:t_,r:(t_-h)/2,fill:"none",strokeWidth:h})))}));const r_=(0,Gn.c)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(n_);var i_=n(78),o_=n(7792),a_=n(9928);const s_=function(e){var t=e.children,n=e.theme,r=(0,jn.c)(),o=i.useMemo((function(){var e=null===r?n:function(e,t){return"function"===typeof t?t(e):(0,at.c)({},e,t)}(r,n);return null!=e&&(e[a_.c]=null!==r),e}),[n,r]);return i.createElement(o_.c.Provider,{value:o},t)};var l_=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.color,s=void 0===a?"default":a,l=e.component,c=void 0===l?"button":l,u=e.disabled,d=void 0!==u&&u,p=e.disableElevation,h=void 0!==p&&p,f=e.disableFocusRipple,m=void 0!==f&&f,g=e.endIcon,v=e.focusVisibleClassName,b=e.fullWidth,y=void 0!==b&&b,_=e.size,x=void 0===_?"medium":_,w=e.startIcon,E=e.type,T=void 0===E?"button":E,C=e.variant,k=void 0===C?"text":C,S=(0,Yn.c)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),O=w&&i.createElement("span",{className:(0,kn.c)(r.startIcon,r["iconSize".concat((0,Zn.c)(x))])},w),A=g&&i.createElement("span",{className:(0,kn.c)(r.endIcon,r["iconSize".concat((0,Zn.c)(x))])},g);return i.createElement(Er,(0,at.c)({className:(0,kn.c)(r.root,r[k],o,"inherit"===s?r.colorInherit:"default"!==s&&r["".concat(k).concat((0,Zn.c)(s))],"medium"!==x&&[r["".concat(k,"Size").concat((0,Zn.c)(x))],r["size".concat((0,Zn.c)(x))]],h&&r.disableElevation,d&&r.disabled,y&&r.fullWidth),component:c,disabled:d,focusRipple:!m,focusVisibleClassName:(0,kn.c)(r.focusVisible,v),ref:t,type:T},S),i.createElement("span",{className:r.label},O,n,A))}));const c_=(0,Gn.c)((function(e){return{root:(0,at.c)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,or.W4)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,or.W4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,or.W4)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,or.W4)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,or.W4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,or.W4)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,or.W4)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(l_),u_=(0,In.c)(i.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");var d_,p_=new Uint8Array(16);function h_(){if(!d_&&!(d_="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d_(p_)}const f_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const m_=function(e){return"string"===typeof e&&f_.test(e)};for(var g_=[],v_=0;v_<256;++v_)g_.push((v_+256).toString(16).substr(1));const b_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(g_[e[t+0]]+g_[e[t+1]]+g_[e[t+2]]+g_[e[t+3]]+"-"+g_[e[t+4]]+g_[e[t+5]]+"-"+g_[e[t+6]]+g_[e[t+7]]+"-"+g_[e[t+8]]+g_[e[t+9]]+"-"+g_[e[t+10]]+g_[e[t+11]]+g_[e[t+12]]+g_[e[t+13]]+g_[e[t+14]]+g_[e[t+15]]).toLowerCase();if(!m_(n))throw TypeError("Stringified UUID is invalid");return n};const y_=function(e,t,n){var r=(e=e||{}).random||(e.rng||h_)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return b_(r)};function __(e){return JSON.parse(JSON.stringify(e))}function x_(e,t){return JSON.stringify(e)===JSON.stringify(t)}function w_(e){if("object"===typeof e&&"0"===Object.keys(e)[0]){const t=Object.entries(e).map((e=>{let[,t]=e;return Object.keys(t).forEach((e=>{try{t[e]=w_(t[e])}catch(gh){if(gh instanceof TypeError)return t[e]}return t[e]})),t}));return t}return e}function E_(e){if(!e)return null;const t=__(e);return Object.keys(t).forEach((n=>{t[n]=w_(t[n]),e.keywords&&(t.keywords={en:Object.values(e.keywords.en||{}),fr:Object.values(e.keywords.fr||{})})})),t.contacts&&Object.values(t.contacts).forEach((e=>{e.role&&(e.role=Object.values(e.role))})),t}const T_=(e,t)=>"string"===typeof t?t.trim():t;function C_(e){return"".concat(e.title[e.language].slice(0,30),"_").concat(e.identifier.slice(0,5)).trim().toLowerCase().replace(/[^a-zA-Z0-9]/g,"_")}const k_=e=>[...new Set(e)],S_={title:{en:"",fr:""},abstract:{en:"",fr:""},keywords:{en:[],fr:[]},eov:[],progress:"",distribution:[],dateStart:null,dateEnd:null,map:{north:"",south:"",east:"",west:"",polygon:""},verticalExtentMin:"",verticalExtentMax:"",datePublished:null,dateRevised:null,edition:"",recordID:"",instruments:[],platforms:[],language:"",license:"",contacts:[],status:"",comment:"",limitations:"",lastEditedBy:{},category:"",verticalExtentDirection:"",datasetIdentifier:"",doiCreationStatus:"",noPlatform:!1,filename:"",organization:"",timeFirstPublished:"",history:[],associated_resources:[]};function O_(){const e=__(S_);return e.identifier=y_(),e.created=(new Date).toISOString(),e}const A_={role:[],orgName:"",orgEmail:"",orgURL:"",orgAdress:"",orgCity:"",orgCountry:"",orgRor:"",indPosition:"",indEmail:"",indOrcid:"",givenNames:"",lastName:"",inCitation:!0};function j_(){return __(A_)}const P_={id:"",manufacturer:"",version:"",type:{en:"",fr:""},description:{en:"",fr:""}};function I_(){return __(P_)}const L_={type:"",id:"",description:{en:"",fr:""}};function R_(){return __(L_)}async function N_(e,t,n,r){const i=Bb(Cp),o=xb(i,"".concat(r,"/users/").concat(t,"/records")),a=(await Sb(wb(o,e))).val();a.recordID="",a.status="",a.lastEditedBy={},a.created=(new Date).toISOString(),a.filename="",a.timeFirstPublished="",a.title.en&&(a.title.en="".concat(a.title.en," (Copy)")),a.title.fr&&(a.title.fr="".concat(a.title.fr," (Copte)")),a.identifier=y_(),a.created=(new Date).toISOString();Eb(xb(i,"".concat(r,"/users/").concat(n,"/records")),a)}function D_(e){return{...j_(),...e}}function M_(e,t,n,r){const i={...O_(),...e};return r&&(i.recordID=r),t&&n&&(i.userinfo={...null===t||void 0===t?void 0:t.userinfo,userID:n}),i.contacts=i.contacts.map(D_),i}function B_(e,t){const n=e.toJSON(),r=[];return Object.entries(n).forEach((e=>{let[n,i]=e;i.records&&Object.entries(i.records).forEach((e=>{let[o,a]=e;t.includes(a.status)&&r.push(M_(E_(a),i,n,o))}))})),r}async function Q_(e,t,n,r,i){const o=xb(Bb(Cp),"".concat(e,"/users/").concat(t,"/records/").concat(n));if(await Cb(wb(o,"status"),r),"published"===r&&await Cb(wb(o,"timeFirstPublished"),(new Date).toISOString()),i&&!i.filename){const e=C_(i);await Cb(wb(o,"filename"),e)}}function U_(e,t,n){return Tb(xb(Bb(Cp),"".concat(e,"/users/").concat(t,"/records/").concat(n)))}async function F_(e){const t=Bb(Cp);return Object.values((await Sb(xb(t,"admin/".concat(e,"/projects")))).toJSON()||{})}const z_=e=>Object.entries(e||{}).reduce(((e,t)=>{let[n,r]=t;return e[n]=M_(E_(__(r))),e}),{});async function q_(e,t,n,r,i){const o=xb(Bb(Cp),"".concat(r,"/shares/").concat(e,"/").concat(n,"/").concat(t));i?await Cb(o,{shared:!0}).catch((t=>{throw new Error("Error sharing record by author ".concat(n," with user ").concat(e,": ").concat(t))})):await Tb(o).catch((t=>{throw new Error("Error unsharing record by author ".concat(n," with user ").concat(e,": ").concat(t))}))}function H_(){return Math.round(20*Math.random())-10}function W_(){const e=50+H_(),t=50+H_();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}const G_=An((e=>({paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})));function V_(e){let{open:t,onClose:n,onAccept:r,modalQuestion:o}=e;const a=G_(),[s]=i.useState(W_);return(0,Ap.jsx)("div",{children:(0,Ap.jsx)(ti,{open:t,onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",onKeyPress:e=>{"y"===e.key&&(n(),r())},children:(0,Ap.jsxs)("div",{style:s,className:a.paper,children:[(0,Ap.jsx)("h2",{id:"simple-modal-title",children:o||(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Are you sure?"}),(0,Ap.jsx)(Ip,{children:"Vous \xeates s\xfbr ?"})]})}),(0,Ap.jsx)("button",{type:"button",onClick:()=>{n(),r()},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Yes"}),(0,Ap.jsx)(Ip,{children:"Oui"})]})}),(0,Ap.jsx)("button",{type:"button",onClick:()=>n(),children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"No"}),(0,Ap.jsx)(Ip,{children:"Non"})]})})]})})})}var $_=n(3948),K_=n.n($_),Y_=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=(0,Yn.c)(e,["classes","className"]),a=i.useContext(Ti);return i.createElement("div",(0,at.c)({className:(0,kn.c)(n.root,r,"flex-start"===a.alignItems&&n.alignItemsFlexStart),ref:t},o))}));const Z_=(0,Gn.c)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(Y_);var J_=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=(0,Yn.c)(e,["classes","className"]);return i.createElement("div",(0,at.c)({className:(0,kn.c)(n.root,r),ref:t},o))}));J_.muiName="ListItemSecondaryAction";const X_=(0,Gn.c)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(J_),ex=(0,In.c)(i.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility"),tx=(0,In.c)(i.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit"),nx=(0,In.c)(i.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),rx=(0,In.c)(i.createElement("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish"),ix=(0,In.c)(i.createElement("path",{d:"M5 17h14v2H5zm7-12L5.33 15h13.34z"}),"Eject"),ox=(0,In.c)(i.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}),"FileCopy"),ax=(0,In.c)(i.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z"}),"CloudDownload"),sx=(0,In.c)(i.createElement("path",{d:"M16.49 15.5v-1.75L14 16.25l2.49 2.5V17H22v-1.5zm3.02 4.25H14v1.5h5.51V23L22 20.5 19.51 18zM9.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM5.75 8.9L3 23h2.1l1.75-8L9 17v6h2v-7.55L8.95 13.4l.6-3C10.85 12 12.8 13 15 13v-2c-1.85 0-3.45-1-4.35-2.45l-.95-1.6C9.35 6.35 8.7 6 8 6c-.25 0-.5.05-.75.15L2 8.3V13h2V9.65l1.75-.75"}),"TransferWithinAStation"),lx=(0,In.c)(i.createElement("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNew"),cx=n.p+"static/media/emlTemplate.c7cac6e90d63ddf2962e.j2",ux=n.p+"static/media/emlCoverage.ba6b51994dacf1f20971.j2";var dx=n(3616),px=n.n(dx);function hx(e,t,n){const{title:r,datasetIdentifier:i="",created:o,contacts:a=[],datePublished:s,dateRevised:l,metadataScope:c}=e,u=a.filter((e=>e.inCitation&&e.role.includes("publisher"))).map((e=>e.orgName)),d=[{title:r[t],author:a.filter((e=>!(e.role.includes("publisher")&&1===e.role.length))).filter((e=>{var t,n,r;return e.inCitation&&((null===(t=e.givenNames)||void 0===t?void 0:t.length)>1&&(null===(n=e.lastName)||void 0===n?void 0:n.length)>1||(null===(r=e.orgName)||void 0===r?void 0:r.length)>1)})).map((e=>{var t,n;return(null===(t=e.givenNames)||void 0===t?void 0:t.length)>1&&(null===(n=e.lastName)||void 0===n?void 0:n.length)>1?{given:e.givenNames,family:e.lastName}:{family:e.orgName}})),issued:{"date-parts":[[l||s||o]]},publisher:u.join(", "),DOI:i.replace(/https?:\/\/doi\.org\//,""),version:"v".concat(e.edition),type:c}];try{const e=px()(d);return e.format("bibliography",{format:n,template:"apa",lang:"en-US"})}catch(p){return""}}function fx(e){let{record:t,language:n}=e;const r=hx(t,n,"html");return(0,Ap.jsx)("div",{children:(0,Ap.jsx)("div",{dangerouslySetInnerHTML:{__html:r},style:{padding:"5px"}})})}const mx=n(6411);function gx(e,t){return e.some((e=>t.includes(e)))}function vx(e){return e}const bx={creator:["author","originator"],metadataProvider:["distributor","custodian"],associatedParty:["principalInvestigator","editor"]};const yx=async function(e){mx.configure(window.location.origin,{autoescape:!0,web:!0});let t=await fetch(cx).then((e=>e.text()));const n=await fetch(ux).then((e=>e.text()));return t=t.replace("{% include 'emlCoverage.j2' %}",n),mx.renderString(t,{record:e,translateRole:vx,arrayOverlap:gx,citation:hx(e,e.language,"text"),roleMapping:bx,roleMappingKeys:Object.keys(bx)})};var _x=n(5740),xx=n.n(_x);const wx={"CC-BY-4.0":{title:{en:"Creative Commons Attribution 4.0 Attribution"},url:"https://creativecommons.org/licenses/by/4.0",code:"CC-BY-4.0"},"CC-BY-SA-4.0":{title:{en:"Creative Commons Attribution 4.0 Attribution-ShareAlike"},url:"https://creativecommons.org/licenses/by-sa/4.0/",code:"CC-BY-SA-4.0"},"CC-BY-ND-4.0":{title:{en:"Creative Commons Attribution 4.0 Attribution-NoDerivs"},url:"https://creativecommons.org/licenses/by-nd/4.0/",code:"CC-BY-ND-4.0"},"CC-BY-NC-4.0":{title:{en:"Creative Commons Attribution 4.0 Attribution-NonCommercial"},url:"https://creativecommons.org/licenses/by-nc/4.0/",code:"CC-BY-NC-4.0"},"CC-BY-NC-SA-4.0":{title:{en:"Creative Commons Attribution 4.0 Attribution-NonCommercial-ShareAlike"},url:"https://creativecommons.org/licenses/by-nc-sa/4.0/",code:"CC-BY-NC-SA-4.0"},"CC-BY-NC-ND-4.0":{title:{en:"Creative Commons Attribution 4.0 Attribution-NonCommercial-NoDerivs"},url:"https://creativecommons.org/licenses/by-nc-nd/4.0/",code:"CC-BY-NC-ND-4.0"},CC0:{title:{en:"Creative Commons 0"},url:"https://creativecommons.org/share-your-work/public-domain/cc0",code:"CC0"},"government-open-license-canada":{title:{en:"Open Government Licence - Canada",fr:"Licence du gouvernement ouvert \u2013 Canada "},url:"https://open.canada.ca/en/open-government-licence-canada",code:"government-open-license-canada"},"government-open-license-nova-scotia":{title:{en:"Open Government Licence - Nova Scotia"},url:"https://novascotia.ca/opendata/licence.asp",code:"government-open-license-nova-scotia"},"OGL-NB":{title:{en:"Open Government Licence \u2013 New Brunswick"},url:"http://www.snb.ca/e/2000/data-E.html",code:"OGL-NB"},"OGL-BC":{title:{en:"Open Government Licence - British Columbia"},url:"https://www2.gov.bc.ca/gov/content/data/open-data/open-government-licence-bc",code:"OGL-BC"},"government-open-license-newfoundland":{title:{en:"Open Government Licence - Newfoundland and Labrador"},url:"https://opendata.gov.nl.ca/public/opendata/page/?page-id=licence",code:"government-open-license-newfoundland"},"Apache-2.0":{title:{en:"Apache License, Version 2.0"},url:"https://www.apache.org/licenses/LICENSE-2.0",code:"Apache-2.0"},"No License":{title:{en:"No License",fr:"Aucune licence"},url:"https://choosealicense.com/no-permission/",code:"None"},"ca-eccc-odl":{title:{en:"Environment and Climate Change Canada Data Servers End-use Licence",fr:"Licence d\u2019utilisation finale pour les serveurs de donn\xe9es d\u2019Environnement et Changement climatique Canada"},url:"https://eccc-msc.github.io/open-data/licence/readme_en/",code:"ca-eccc-odl"}};function Ex(e,t){return e.some((e=>t.includes(e)))}const Tx=function(e){var t,n,r,i,o,a;const{contacts:s,language:l}=e,c=s.find((e=>Ex(e.role,["publisher","custodian"]))),u=s.find((e=>Ex(e.role,["orginator","owner"]))),d={citation:hx(e,e.language,"text"),creator_email:null===u||void 0===u?void 0:u.indEmail,creator_name:null===u||void 0===u?void 0:u.indName,creator_url:null===u||void 0===u?void 0:u.orgURL,creator_institution:null===u||void 0===u?void 0:u.orgName,publisher_email:null===c||void 0===c?void 0:c.indEmail,publisher_institution:null===c||void 0===c?void 0:c.orgName,publisher_url:null===c||void 0===c?void 0:c.orgURL,publisher_name:null===c||void 0===c?void 0:c.indName,date_created:(p=e.created,p.slice(0,10)),geospatial_lat_max:null===(t=e.map)||void 0===t?void 0:t.north,geospatial_lat_min:null===(n=e.map)||void 0===n?void 0:n.south,geospatial_lon_max:null===(r=e.map)||void 0===r?void 0:r.east,geospatial_lon_min:null===(i=e.map)||void 0===i?void 0:i.west,geospatial_vertical_min:e.verticalExtentMin,geospatial_vertical_max:e.verticalExtentMax,institution:s.map((e=>e.orgName)).filter((e=>e)).join(),project:null===(o=e.projects)||void 0===o?void 0:o.join(),product_version:e.edition,license:(null===(a=wx[e.license])||void 0===a?void 0:a.url)||e.license,instrument:e.instruments.map((e=>[e.manufacturer,e.id,e.version].join(" - "))).filter((e=>e)).join(),id:e.identifier,naming_authority:"ca.cioos",references:"https://doi.org/".concat(e.datasetIdentifier),keywords:e.keywords[l],platform:e.platform,platform_vocabulary:e.platform&&"http://vocab.nerc.ac.uk/collection/L06/current/",summary:e.abstract[l],title:e.title[l]};var p;const h=Object.entries(d).filter((e=>{let[,t]=e;return t})).map((e=>{let[t,n]=e;return'  <att name="'.concat(t,'">').concat(xx()(String(n)),"</att>")})).join("\n");return"\n<iso19115File>/your/waf/".concat(e.filename||C_(e),".xml</iso19115File>\n<addAttributes>\n").concat(h,"\n</addAttributes>")};var Cx=n(7152),kx=n.n(Cx);const Sx=e=>!e||kx().isEmail(e),Ox=e=>!e||kx().isURL(e),Ax=Zp(Yp(),"checkURLActive"),jx=/^(https:\/\/doi.org\/)?10\.\d{4,9}\/[-._;()/:A-Z0-9]+$/i;const Px=e=>!e||jx.test(e)&&function(e){let t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol}(e),Ix=e=>e>=-90&&e<=90,Lx=e=>e>=-360&&e<=360,Rx=e=>{const t=e.split(" ").map((e=>e.split(",")));return!(t.length<2)&&(n=t[0],r=t[t.length-1],!!JSON.parse(JSON.stringify(n)===JSON.stringify(r))&&t.filter((e=>{let[t,n]=e;return Lx(parseFloat(n))&&Ix(parseFloat(t))})).length===t.length);var n,r},Nx=e=>Boolean(e.role&&e.role.length&&(e.orgName||e.givenNames||e.lastName)),Dx={title:{validation:e=>e&&e.en&&e.fr,tab:"start",error:{en:"Missing title in French or English",fr:"Titre manquant en fran\xe7ais ou en anglais"}},resourceType:{validation:e=>e,tab:"start",error:{en:"Please select a theme for this record",fr:"Veuillez s\xe9lectionner un th\xe8me pour cet enregistrement"}},abstract:{validation:e=>e&&e.en&&e.fr,tab:"dataID",error:{en:"Missing abstract in French or English",fr:"Abr\xe9g\xe9 manquant en fran\xe7ais ou en anglais"}},keywords:{validation:e=>e&&(e.en.length||e.fr.length),tab:"dataID",error:{en:"At least one keyword is required",fr:"Au moins un mot cl\xe9 est requis"}},eov:{validation:e=>e&&e.length,tab:"dataID",error:{en:"At least one EOV is required",fr:"Au moins un variable essentielle oc\xe9anique est requise"}},datasetIdentifier:{validation:Px,optional:!0,tab:"start",error:{en:"Invalid DOI",fr:"DOI non valide"}},metadataScope:{tab:"start",validation:e=>e,error:{en:"Please select a resource type",fr:"Veuillez s\xe9lectionner un type de ressources"}},progress:{tab:"dataID",validation:e=>e,error:{en:"Please select a dataset status",fr:"L'information spatiale est manquante"}},language:{tab:"dataID",validation:e=>e,error:{en:"Language field is missing",fr:"Le champ de langue est vide"}},license:{tab:"dataID",validation:e=>e,error:{en:"Please select a license for the dataset",fr:"Veuillez s\xe9lectionner une licence pour le jeu de donn\xe9es"}},map:{error:{en:"Spatial information is missing",fr:"L'information g\xe9ographique est manquante"},tab:"spatial",validation:(e,t)=>{if(!e)return!1;const n=parseFloat(e.north),r=parseFloat(e.south),i=parseFloat(e.east),o=parseFloat(e.west),{polygon:a,description:s}=e;return n&&r&&i&&o&&n>=r&&i>=o&&Ix(n)&&Ix(r)&&Lx(i)&&Lx(o)||a&&Rx(a)||!t.resourceType||Array.isArray(t.resourceType)&&t.resourceType.includes("biological")&&s}},verticalExtentMin:{tab:"spatial",validation:(e,t)=>e||t.noVerticalExtent,error:{en:"Missing Vertical Extent Min",fr:"\xc9tendue verticale manquante Min"}},verticalExtentMax:{tab:"spatial",validation:(e,t)=>e||t.noVerticalExtent,error:{en:"Missing Vertical Extent Max",fr:"\xc9tendue verticale manquante Max"}},verticalExtentDirection:{tab:"spatial",validation:(e,t)=>e||t.noVerticalExtent,error:{en:"Missing Vertical Extent Direction",fr:"Direction de l'\xe9tendue verticale manquante"}},contacts:{tab:"contacts",validation:e=>e&&e.every(Nx)&&e.every((e=>Sx(e.indEmail)&&Sx(e.orgEmail)&&Ox(e.orgURL)))&&e.filter(Nx).find((e=>e.role.includes("custodian")))&&e.filter(Nx).find((e=>e.role.includes("owner")))&&e.filter(Nx).find((e=>e.inCitation)),error:{en:"Every contact must have at least one role checked, and 'Data Owner' or 'Metadata Custodian' must be added to at least one contact. One contact can occupy multiple roles. Email addresses must be in the form of user@example.com and URLs must be valid.  At least one contact must be selected to appear in the citation.",fr:"Chaque contact doit avoir au moins un r\xf4le coch\xe9, et \xab Propri\xe9taire des donn\xe9es \xbb ou \xab D\xe9positaire des m\xe9tadonn\xe9es \xbb doit \xeatre ajout\xe9 \xe0 au moins un contact. Un contact peut occuper plusieurs r\xf4les. Les adresses e-mail doivent \xeatre au format user@example.com et les URL doivent \xeatre valides. Au moins un contact doit \xeatre s\xe9lectionn\xe9 pour appara\xeetre dans la citation."}},distribution:{tab:"resources",validation:e=>Array.isArray(e)&&e.filter((e=>e.name&&e.url&&kx().isURL(e.url))).length,error:{en:"Must have at least one resource. If a URL is included it must be valid.",fr:"Doit avoir au moins une ressource. V\xe9rifiez si votre URL est valide."}},associated_resources:{tab:"relatedworks",validation:e=>!e||e&&e.every((e=>e.title&&e.title.en&&e.title.fr&&e.authority&&e.code&&e.association_type)),error:{en:"Related works must contain a Title, Identifier, Identifier Type, and a Relation Type to be valid.",fr:"Les \u0153uvres connexes doivent contenir un titre, un identifiant, un type d'identifiant et un type de relation pour \xeatre valides."}},history:{tab:"lineage",validation:e=>!e||Array.isArray(e)&&e.every((e=>!e.processingStep||e.processingStep&&e.processingStep.every((e=>e.title&&e.description))))&&e.every((e=>!e.source||e.source&&e.source.every((e=>e.title&&e.description))))&&e.every((e=>"collectionSession"!==e.scope||"collectionSession"===e.scope&&e.statement.en&&e.statement.fr)),error:{en:"Lineage must contain a title and description for each processing step and source. If lineage scope is set to 'data collection' then lineage statement is required",fr:"Le lignage doit contenir un titre et une description pour chaque \xe9tape de traitement. Si la port\xe9e du lignage est d\xe9finie sur \xab collecte de donn\xe9es \xbb, alors une d\xe9claration de lignage est requise"}},platforms:{tab:"platform",validation:(e,t)=>t.noPlatform||e.every((e=>e.type&&e.id))||!t.metadataScope||"model"===t.metadataScope,error:{en:"Missing platform type or ID",fr:"Type ou ID de plateforme manquant"}},instruments:{tab:"platformInstruments",validation:e=>e.every((e=>e.id)),error:{en:"Instrument ID is required",fr:"L'identifiant de l'instrument est requis"}},taxa:{tab:"taxa",validation:(e,t)=>t.noTaxa||e,error:{en:"Missing Taxonomic Coverage",fr:"Couverture taxonomique manquante"}}},Mx=(e,t)=>{const n=e[t],r=Dx[t]&&Dx[t].validation||(()=>!0);return r&&r(n,e)},Bx={distribution:{tab:"resources",validation:async e=>{const t=await Promise.all(e.map((async e=>{const t=await Ax(e.url);return{...e,status:t.data}}))),n=t.filter((e=>!e.status));return n.length},error:{en:"Resource URL is not accessible. This could be because it has not been created yet or is otherwise unreachable",fr:"L'URL de la ressource n'est pas accessible. Cela peut \xeatre d\xfb au fait qu'il n'a pas encore \xe9t\xe9 cr\xe9\xe9 ou qu'il est autrement inaccessible."}}},Qx=e=>{const t=Object.keys(Dx),n=t.filter((e=>!Dx[e].optional)).length;return t.filter((t=>!Dx[t].optional&&Mx(e,t))).length/n},Ux=e=>{const t=Object.entries(Dx).filter((e=>{let[,t]=e;return t.optional})).every((t=>{let[n]=t;return Mx(e,n)}));return 1===Qx(e)&&t};const Fx=function(e,t,n,r){const i=e.contacts?e.contacts.reduce(((e,t)=>{let n;if(t.inCitation&&!t.role.includes("publisher")){const{givenNames:e,lastName:r,orgName:i,indOrcid:o,orgRor:a}=t;e&&(n={name:"".concat(r,", ").concat(e),nameType:"Personal",givenName:e,familyName:r,affiliation:i?[{name:i,schemeUri:"https://ror.org",affiliationIdentifier:a,affiliationIdentifierScheme:"ROR"}]:[]},o&&(n.nameIdentifiers=[{schemeUri:"https://orcid.org",nameIdentifier:o,nameIdentifierScheme:"ORCID"}]))}return n&&e.push(n),e}),[]):[],o=e.contacts.find((e=>e.role.includes("publisher"))),a=e.contacts.filter((e=>e.role.includes("funder")));let s;if(e.dateRevised){const t=parseInt(e.dateRevised.slice(0,4),10);s=Number.isNaN(t)?void 0:t}else if(e.datePublished){const t=parseInt(e.datePublished.slice(0,4),10);s=Number.isNaN(t)?void 0:t}else s=void 0;const l=e.keywords?Object.entries(e.keywords).flatMap((e=>{let[t,n]=e;return n.map((e=>({lang:t,subject:e})))})):void 0,c=[];e.dateStart&&c.push({date:e.dateStart,dateType:"Collected",dateInformation:"Start date when data was first collected"}),e.dateEnd&&c.push({date:e.dateEnd,dateType:"Collected",dateInformation:"End date when data was last collected"}),e.dateRevised&&c.push({date:e.dateRevised,dateType:"Updated",dateInformation:"Date when the data was last revised"});const u=wx[e.license],d=u&&u.title?[{rights:u.title.en,rightsUri:u.url,schemeUri:"https://spdx.org/licenses/",rightsIdentifier:u.code,rightsIdentifierScheme:"SPDX"}]:[];let{east:p,north:h,south:f,west:m}=e.map?e.map:{};p=Number.isNaN(p)?void 0:p,h=Number.isNaN(h)?void 0:h,f=Number.isNaN(f)?void 0:f,m=Number.isNaN(m)?void 0:m;const g=e.map&&p&&h&&f&&m?[{geoLocationBox:{eastBoundLongitude:parseFloat(p),northBoundLatitude:parseFloat(h),southBoundLatitude:parseFloat(f),westBoundLongitude:parseFloat(m)}}]:[],v={data:{type:"dois",attributes:{prefix:r,creators:i,titles:[]}}};return e.title.en&&v.data.attributes.titles.push({lang:"en",title:e.title.en}),e.title.fr&&v.data.attributes.titles.push({lang:"fr",title:e.title.fr}),o&&(v.data.attributes.publisher=o.orgName||o.indName),a&&a.length>0&&(v.data.attributes.fundingReferences=a.map((e=>{const t={funderName:e.orgName};return e.orgRor&&(t.funderIdentifier=e.orgRor,t.funderIdentifierType="ROR"),t}))),e.datePublished&&(v.data.attributes.publicationYear=s),e.keywords&&(v.data.attributes.subjects=l),e.edition&&(v.data.attributes.version=e.edition),c.length>0&&(v.data.attributes.dates=c),v.data.attributes.rightsList=d,delete e.abstract.translations,v.data.attributes.descriptions=Object.entries(e.abstract).map((e=>{let[t,n]=e;return{lang:t,description:n,descriptionType:"Abstract"}})),e.map&&(v.data.attributes.geoLocations=g),v.data.attributes.types={resourceTypeGeneral:e.metadataScope||"Dataset"},e.associated_resources&&(v.data.attributes.relatedIdentifiers=[...e.associated_resources.map((e=>{let{authority:t,code:n,association_type:r}=e;return{relatedIdentifier:n,relatedIdentifierType:t,relationType:r}}))]),e.history&&(v.data.attributes.relatedIdentifiers=[...v.data.attributes.relatedIdentifiers,...e.history.flatMap((e=>{let{source:t,processingStep:n,additionalDocumentation:r}=e;return[...(null===t||void 0===t?void 0:t.map((e=>{let{authority:t,code:n}=e;return{relatedIdentifier:n,relatedIdentifierType:t,relationType:"isDerivedFrom"}})))||[],...(null===n||void 0===n?void 0:n.map((e=>{let{authority:t,code:n}=e;return{relatedIdentifier:n,relatedIdentifierType:t,relationType:"IsDocumentedBy"}})))||[],...(null===r||void 0===r?void 0:r.map((e=>{let{authority:t,code:n}=e;return{relatedIdentifier:n,relatedIdentifierType:t,relationType:"IsDocumentedBy"}})))||[]]}))]),v.data.attributes.relatedIdentifiers&&(v.data.attributes.relatedIdentifiers=v.data.attributes.relatedIdentifiers.filter((e=>e.relatedIdentifier&&e.relatedIdentifierType))),v.data.attributes.url="".concat(Cn[n].catalogueURL[t],"dataset/ca-cioos_").concat(e.identifier),v};var zx="en",qx={},Hx={};function Wx(){return zx}function Gx(e){return qx[e]?e:Hx[e.toLowerCase()]?Hx[e.toLowerCase()]:void 0}function Vx(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).localeMatcher||"lookup";switch(t){case"lookup":case"best fit":return $x(e);default:throw new RangeError('Invalid "localeMatcher" option: '.concat(t))}}function $x(e){var t=Gx(e);if(t)return t;for(var n=e.split("-");e.length>1;){n.pop();var r=Gx(e=n.join("-"));if(r)return r}}var Kx={af:function(e){return 1==e?"one":"other"},am:function(e){return e>=0&&e<=1?"one":"other"},ar:function(e){var t=String(e).split("."),n=Number(t[0])==e&&t[0].slice(-2);return 0==e?"zero":1==e?"one":2==e?"two":n>=3&&n<=10?"few":n>=11&&n<=99?"many":"other"},ast:function(e){var t=!String(e).split(".")[1];return 1==e&&t?"one":"other"},be:function(e){var t=String(e).split("."),n=Number(t[0])==e,r=n&&t[0].slice(-1),i=n&&t[0].slice(-2);return 1==r&&11!=i?"one":r>=2&&r<=4&&(i<12||i>14)?"few":n&&0==r||r>=5&&r<=9||i>=11&&i<=14?"many":"other"},br:function(e){var t=String(e).split("."),n=Number(t[0])==e,r=n&&t[0].slice(-1),i=n&&t[0].slice(-2),o=n&&t[0].slice(-6);return 1==r&&11!=i&&71!=i&&91!=i?"one":2==r&&12!=i&&72!=i&&92!=i?"two":(3==r||4==r||9==r)&&(i<10||i>19)&&(i<70||i>79)&&(i<90||i>99)?"few":0!=e&&n&&0==o?"many":"other"},bs:function(e){var t=String(e).split("."),n=t[0],r=t[1]||"",i=!t[1],o=n.slice(-1),a=n.slice(-2),s=r.slice(-1),l=r.slice(-2);return i&&1==o&&11!=a||1==s&&11!=l?"one":i&&o>=2&&o<=4&&(a<12||a>14)||s>=2&&s<=4&&(l<12||l>14)?"few":"other"},ca:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-6);return 1==e&&r?"one":0!=n&&0==i&&r?"many":"other"},ceb:function(e){var t=String(e).split("."),n=t[0],r=t[1]||"",i=!t[1],o=n.slice(-1),a=r.slice(-1);return i&&(1==n||2==n||3==n)||i&&4!=o&&6!=o&&9!=o||!i&&4!=a&&6!=a&&9!=a?"one":"other"},cs:function(e){var t=String(e).split("."),n=t[0],r=!t[1];return 1==e&&r?"one":n>=2&&n<=4&&r?"few":r?"other":"many"},cy:function(e){return 0==e?"zero":1==e?"one":2==e?"two":3==e?"few":6==e?"many":"other"},da:function(e){var t=String(e).split("."),n=t[0],r=Number(t[0])==e;return 1!=e&&(r||0!=n&&1!=n)?"other":"one"},dsb:function(e){var t=String(e).split("."),n=t[0],r=t[1]||"",i=!t[1],o=n.slice(-2),a=r.slice(-2);return i&&1==o||1==a?"one":i&&2==o||2==a?"two":i&&(3==o||4==o)||3==a||4==a?"few":"other"},dz:function(e){return"other"},es:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-6);return 1==e?"one":0!=n&&0==i&&r?"many":"other"},ff:function(e){return e>=0&&e<2?"one":"other"},fr:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-6);return e>=0&&e<2?"one":0!=n&&0==i&&r?"many":"other"},ga:function(e){var t=String(e).split("."),n=Number(t[0])==e;return 1==e?"one":2==e?"two":n&&e>=3&&e<=6?"few":n&&e>=7&&e<=10?"many":"other"},gd:function(e){var t=String(e).split("."),n=Number(t[0])==e;return 1==e||11==e?"one":2==e||12==e?"two":n&&e>=3&&e<=10||n&&e>=13&&e<=19?"few":"other"},he:function(e){var t=String(e).split("."),n=t[0],r=!t[1];return 1==n&&r||0==n&&!r?"one":2==n&&r?"two":"other"},is:function(e){var t=String(e).split("."),n=t[0],r=(t[1]||"").replace(/0+$/,""),i=Number(t[0])==e,o=n.slice(-1),a=n.slice(-2);return i&&1==o&&11!=a||r%10==1&&r%100!=11?"one":"other"},ksh:function(e){return 0==e?"zero":1==e?"one":"other"},lt:function(e){var t=String(e).split("."),n=t[1]||"",r=Number(t[0])==e,i=r&&t[0].slice(-1),o=r&&t[0].slice(-2);return 1==i&&(o<11||o>19)?"one":i>=2&&i<=9&&(o<11||o>19)?"few":0!=n?"many":"other"},lv:function(e){var t=String(e).split("."),n=t[1]||"",r=n.length,i=Number(t[0])==e,o=i&&t[0].slice(-1),a=i&&t[0].slice(-2),s=n.slice(-2),l=n.slice(-1);return i&&0==o||a>=11&&a<=19||2==r&&s>=11&&s<=19?"zero":1==o&&11!=a||2==r&&1==l&&11!=s||2!=r&&1==l?"one":"other"},mk:function(e){var t=String(e).split("."),n=t[0],r=t[1]||"",i=!t[1],o=n.slice(-1),a=n.slice(-2),s=r.slice(-1),l=r.slice(-2);return i&&1==o&&11!=a||1==s&&11!=l?"one":"other"},mt:function(e){var t=String(e).split("."),n=Number(t[0])==e&&t[0].slice(-2);return 1==e?"one":2==e?"two":0==e||n>=3&&n<=10?"few":n>=11&&n<=19?"many":"other"},pa:function(e){return 0==e||1==e?"one":"other"},pl:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-1),o=n.slice(-2);return 1==e&&r?"one":r&&i>=2&&i<=4&&(o<12||o>14)?"few":r&&1!=n&&(0==i||1==i)||r&&i>=5&&i<=9||r&&o>=12&&o<=14?"many":"other"},pt:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-6);return 0==n||1==n?"one":0!=n&&0==i&&r?"many":"other"},ro:function(e){var t=String(e).split("."),n=!t[1],r=Number(t[0])==e&&t[0].slice(-2);return 1==e&&n?"one":!n||0==e||1!=e&&r>=1&&r<=19?"few":"other"},ru:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-1),o=n.slice(-2);return r&&1==i&&11!=o?"one":r&&i>=2&&i<=4&&(o<12||o>14)?"few":r&&0==i||r&&i>=5&&i<=9||r&&o>=11&&o<=14?"many":"other"},se:function(e){return 1==e?"one":2==e?"two":"other"},si:function(e){var t=String(e).split("."),n=t[0],r=t[1]||"";return 0==e||1==e||0==n&&1==r?"one":"other"},sl:function(e){var t=String(e).split("."),n=t[0],r=!t[1],i=n.slice(-2);return r&&1==i?"one":r&&2==i?"two":r&&(3==i||4==i)||!r?"few":"other"}};Kx.as=Kx.am,Kx.az=Kx.af,Kx.bg=Kx.af,Kx.bn=Kx.am,Kx.brx=Kx.af,Kx.ce=Kx.af,Kx.chr=Kx.af,Kx.de=Kx.ast,Kx.ee=Kx.af,Kx.el=Kx.af,Kx.en=Kx.ast,Kx.et=Kx.ast,Kx.eu=Kx.af,Kx.fa=Kx.am,Kx.fi=Kx.ast,Kx.fil=Kx.ceb,Kx.fo=Kx.af,Kx.fur=Kx.af,Kx.fy=Kx.ast,Kx.gl=Kx.ast,Kx.gu=Kx.am,Kx.ha=Kx.af,Kx.hi=Kx.am,Kx.hr=Kx.bs,Kx.hsb=Kx.dsb,Kx.hu=Kx.af,Kx.hy=Kx.ff,Kx.ia=Kx.ast,Kx.id=Kx.dz,Kx.ig=Kx.dz,Kx.it=Kx.ca,Kx.ja=Kx.dz,Kx.jgo=Kx.af,Kx.jv=Kx.dz,Kx.ka=Kx.af,Kx.kea=Kx.dz,Kx.kk=Kx.af,Kx.kl=Kx.af,Kx.km=Kx.dz,Kx.kn=Kx.am,Kx.ko=Kx.dz,Kx.ks=Kx.af,Kx.ku=Kx.af,Kx.ky=Kx.af,Kx.lb=Kx.af,Kx.lkt=Kx.dz,Kx.lo=Kx.dz,Kx.ml=Kx.af,Kx.mn=Kx.af,Kx.mr=Kx.af,Kx.ms=Kx.dz,Kx.my=Kx.dz,Kx.nb=Kx.af,Kx.ne=Kx.af,Kx.nl=Kx.ast,Kx.nn=Kx.af,Kx.no=Kx.af,Kx.or=Kx.af,Kx.pcm=Kx.am,Kx.ps=Kx.af,Kx.rm=Kx.af,Kx.sah=Kx.dz,Kx.sc=Kx.ast,Kx.sd=Kx.af,Kx.sk=Kx.cs,Kx.so=Kx.af,Kx.sq=Kx.af,Kx.sr=Kx.bs,Kx.su=Kx.dz,Kx.sv=Kx.ast,Kx.sw=Kx.ast,Kx.ta=Kx.af,Kx.te=Kx.af,Kx.th=Kx.dz,Kx.ti=Kx.pa,Kx.tk=Kx.af,Kx.to=Kx.dz,Kx.tr=Kx.af,Kx.ug=Kx.af,Kx.uk=Kx.ru,Kx.ur=Kx.ast,Kx.uz=Kx.af,Kx.vi=Kx.dz,Kx.wae=Kx.af,Kx.wo=Kx.dz,Kx.xh=Kx.af,Kx.yi=Kx.ast,Kx.yo=Kx.dz,Kx.yue=Kx.dz,Kx.zh=Kx.dz,Kx.zu=Kx.am;const Yx=Kx;function Zx(e){return"pt-PT"===e?e:function(e){var t=e.match(Jx);if(!t)throw new TypeError("Invalid locale: ".concat(e));return t[1]}(e)}var Jx=/^([a-z0-9]+)/i;function Xx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ew=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=e.supportedLocalesOf(t);if(0===r.length)throw new RangeError("Unsupported locale: "+t);if(n&&"cardinal"!==n.type)throw new RangeError('Only "cardinal" "type" is supported');this.$=Yx[Zx(r[0])]}var t,n,r;return t=e,r=[{key:"supportedLocalesOf",value:function(e){return"string"===typeof e&&(e=[e]),e.filter((function(e){return Yx[Zx(e)]}))}}],(n=[{key:"select",value:function(e){return this.$(e)}}])&&Xx(t.prototype,n),r&&Xx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function tw(e){return tw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tw(e)}function nw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nw(Object(n),!0).forEach((function(t){iw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ow(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return aw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lw=["second","minute","hour","day","week","month","quarter","year"],cw=["auto","always"],uw=["long","short","narrow"],dw=["lookup","best fit"],pw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n.numeric,i=n.style,o=n.localeMatcher;if(this.numeric="always",this.style="long",this.localeMatcher="lookup",void 0!==r){if(cw.indexOf(r)<0)throw new RangeError('Invalid "numeric" option: '.concat(r));this.numeric=r}if(void 0!==i){if(uw.indexOf(i)<0)throw new RangeError('Invalid "style" option: '.concat(i));this.style=i}if(void 0!==o){if(dw.indexOf(o)<0)throw new RangeError('Invalid "localeMatcher" option: '.concat(o));this.localeMatcher=o}if("string"===typeof t&&(t=[t]),t.push(Wx()),this.locale=e.supportedLocalesOf(t,{localeMatcher:this.localeMatcher})[0],!this.locale)throw new Error("No supported locale was found");ew.supportedLocalesOf(this.locale).length>0?this.pluralRules=new ew(this.locale):console.warn('"'.concat(this.locale,'" locale is not supported')),"undefined"!==typeof Intl&&Intl.NumberFormat?(this.numberFormat=new Intl.NumberFormat(this.locale),this.numberingSystem=this.numberFormat.resolvedOptions().numberingSystem):this.numberingSystem="latn",this.locale=Vx(this.locale,{localeMatcher:this.localeMatcher})}var t,n,r;return t=e,n=[{key:"format",value:function(){var e=ow(vw(arguments),2),t=e[0],n=e[1];return this.getRule(t,n).replace("{0}",this.formatNumber(Math.abs(t)))}},{key:"formatToParts",value:function(){var e=ow(vw(arguments),2),t=e[0],n=e[1],r=this.getRule(t,n),i=r.indexOf("{0}");if(i<0)return[{type:"literal",value:r}];var o=[];return i>0&&o.push({type:"literal",value:r.slice(0,i)}),o=o.concat(this.formatNumberToParts(Math.abs(t)).map((function(e){return rw(rw({},e),{},{unit:n})}))),i+3<r.length-1&&o.push({type:"literal",value:r.slice(i+3)}),o}},{key:"getRule",value:function(e,t){var n=function(e){return qx[e]}(this.locale)[this.style][t];if("string"===typeof n)return n;if("auto"===this.numeric)if(-2===e||-1===e){var r=n["previous".concat(-1===e?"":"-"+Math.abs(e))];if(r)return r}else if(1===e||2===e){var i=n["next".concat(1===e?"":"-"+Math.abs(e))];if(i)return i}else if(0===e&&n.current)return n.current;var o,a=n[(o=e,o<0||0===o&&function(e){return 1/e===-1/0}(o)?"past":"future")];return"string"===typeof a?a:a[this.pluralRules&&this.pluralRules.select(Math.abs(e))||"other"]||a.other}},{key:"formatNumber",value:function(e){return this.numberFormat?this.numberFormat.format(e):String(e)}},{key:"formatNumberToParts",value:function(e){return this.numberFormat&&this.numberFormat.formatToParts?this.numberFormat.formatToParts(e):[{type:"integer",value:this.formatNumber(e)}]}},{key:"resolvedOptions",value:function(){return{locale:this.locale,style:this.style,numeric:this.numeric,numberingSystem:this.numberingSystem}}}],n&&sw(t.prototype,n),r&&sw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();pw.supportedLocalesOf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"===typeof e)e=[e];else if(!Array.isArray(e))throw new TypeError('Invalid "locales" argument');return e.filter((function(e){return Vx(e,t)}))},pw.addLocale=function(e){if(!e)throw new Error("No locale data passed");qx[e.locale]=e,Hx[e.locale.toLowerCase()]=e.locale},pw.setDefaultLocale=function(e){zx=e},pw.getDefaultLocale=Wx,pw.PluralRules=ew;var hw='Invalid "unit" argument';function fw(e){if("symbol"===tw(e))throw new TypeError(hw);if("string"!==typeof e)throw new RangeError("".concat(hw,": ").concat(e));if("s"===e[e.length-1]&&(e=e.slice(0,e.length-1)),lw.indexOf(e)<0)throw new RangeError("".concat(hw,": ").concat(e));return e}var mw='Invalid "number" argument';function gw(e){if(e=Number(e),Number.isFinite&&!Number.isFinite(e))throw new RangeError("".concat(mw,": ").concat(e));return e}function vw(e){if(e.length<2)throw new TypeError('"unit" argument is required');return[gw(e[0]),fw(e[1])]}function bw(e){return bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bw(e)}function yw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cache={}}var t,n,r;return t=e,n=[{key:"get",value:function(){for(var e=this.cache,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if("object"!==bw(e))return;e=e[a]}return e}},{key:"put",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.pop(),i=t.pop(),o=this.cache,a=0,s=t;a<s.length;a++){var l=s[a];"object"!==bw(o[l])&&(o[l]={}),o=o[l]}return o[i]=r}}],n&&yw(t.prototype,n),r&&yw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function xw(e){return xw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xw(e)}function ww(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Ew(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ew(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ew(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tw(){return"object"===("undefined"===typeof Intl?"undefined":xw(Intl))&&"function"===typeof Intl.DateTimeFormat}function Cw(e){return Cw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cw(e)}function kw(e){return function(e){return void 0!==Cw(e)&&null!==e&&e.constructor===Sw}(e)&&(Array.isArray(e.steps)||Array.isArray(e.gradation)||Array.isArray(e.flavour)||"string"===typeof e.flavour||Array.isArray(e.labels)||"string"===typeof e.labels||Array.isArray(e.units)||"function"===typeof e.custom)}var Sw={}.constructor;var Ow=60,Aw=60*Ow,jw=24*Aw,Pw=7*jw,Iw=30.44*jw,Lw=365.2425*jw;function Rw(e){switch(e){case"second":return 1;case"minute":return Ow;case"hour":return Aw;case"day":return jw;case"week":return Pw;case"month":return Iw;case"year":return Lw}}function Nw(e){return void 0!==e.factor?e.factor:Rw(e.unit||e.formatAs)||1}function Dw(e){return"floor"===e?Math.floor:Math.round}function Mw(e){return"floor"===e?1:.5}function Bw(e){return Bw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bw(e)}function Qw(e,t){var n,r=t.prevStep,i=t.timestamp,o=t.now,a=t.future,s=t.round;return r&&(r.id||r.unit)&&(n=e["threshold_for_".concat(r.id||r.unit)]),void 0===n&&void 0!==e.threshold&&"function"===typeof(n=e.threshold)&&(n=n(o,a)),void 0===n&&(n=e.minTime),"object"===Bw(n)&&(n=r&&r.id&&void 0!==n[r.id]?n[r.id]:n.default),"function"===typeof n&&(n=n(i,{future:a,getMinTimeForUnit:function(e,t){return Uw(e,t||r&&r.formatAs,{round:s})}})),void 0===n&&e.test&&(n=e.test(i,{now:o,future:a})?0:9007199254740991),void 0===n&&(r?e.formatAs&&r.formatAs&&(n=Uw(e.formatAs,r.formatAs,{round:s})):n=0),void 0===n&&console.warn("[javascript-time-ago] A step should specify `minTime`:\n"+JSON.stringify(e,null,2)),n}function Uw(e,t,n){var r,i=n.round,o=Rw(e);if(r=Rw("now"===t?e:t),void 0!==o&&void 0!==r)return o-r*(1-Mw(i))}function Fw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qw(e,t,n){var r=n.now,i=n.future,o=n.round,a=n.units,s=n.getNextStep;e=function(e,t){return e.filter((function(e){var n=e.unit,r=e.formatAs;return!(n=n||r)||t.indexOf(n)>=0}))}(e,a);var l=function(e,t,n){var r=n.now,i=n.future,o=n.round;if(0===e.length)return;var a=Hw(e,t,{now:r,future:i||t<0,round:o});if(-1===a)return;var s=e[a];if(s.granularity){if(0===Dw(o)(Math.abs(t)/Nw(s)/s.granularity)*s.granularity&&a>0)return e[a-1]}return s}(e,t,{now:r,future:i,round:o});return s?l?[e[e.indexOf(l)-1],l,e[e.indexOf(l)+1]]:[void 0,void 0,e[0]]:l}function Hw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=Qw(e[r],function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fw(Object(n),!0).forEach((function(t){zw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({prevStep:e[r-1],timestamp:n.now-1e3*t},n));return void 0===i||Math.abs(t)<i?r-1:r===e.length-1?r:Hw(e,t,n,r+1)}function Ww(e,t,n){var r=n.now,i=n.round;if(Rw(e)){var o=1e3*Rw(e),a=t>r,s=Math.abs(t-r),l=Dw(i)(s/o)*o;return a?l>0?s-l+function(e,t){return(1-Mw(e))*t+1}(i,o):s-l+1:-(s-l)+function(e,t){return Mw(e)*t}(i,o)}}var Gw=31536e9;function Vw(e,t,n){var r=n.prevStep,i=n.nextStep,o=n.now,a=n.future,s=n.round,l=e.getTime?e.getTime():e,c=function(e){return Ww(e,l,{now:o,round:s})},u=function(e,t,n){var r=n.now,i=n.future,o=n.round,a=n.prevStep;if(e){var s=function(e,t,n){var r=n.now,i=n.future,o=n.round,a=n.prevStep,s=Qw(e,{timestamp:t,now:r,future:i,round:o,prevStep:a});if(void 0===s)return;return i?t-1e3*s+1:0===s&&t===r?Gw:t+1e3*s}(e,t,{now:r,future:i,round:o,prevStep:a});if(void 0===s)return;return s-r}return i?t-r+1:Gw}(a?t:i,l,{future:a,now:o,round:s,prevStep:a?r:t});if(void 0!==u){var d;if(t&&(t.getTimeToNextUpdate&&(d=t.getTimeToNextUpdate(l,{getTimeToNextUpdateForUnit:c,getRoundFunction:Dw,now:o,future:a,round:s})),void 0===d)){var p=t.unit||t.formatAs;p&&(d=c(p))}return void 0===d?u:Math.min(d,u)}}var $w={};function Kw(e){return $w[e]}function Yw(e){if(!e)throw new Error("[javascript-time-ago] No locale data passed.");$w[e.locale]=e}const Zw={steps:[{formatAs:"now"},{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"}],labels:"long"};function Jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jw(Object(n),!0).forEach((function(t){eE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const tE=Xw(Xw({},Zw),{},{steps:Zw.steps.filter((function(e){return"second"!==e.formatAs}))}),nE=[{factor:1,unit:"now"},{threshold:1,threshold_for_now:45.5,factor:1,unit:"second"},{threshold:45.5,factor:Ow,unit:"minute"},{threshold:2.5*Ow,granularity:5,factor:Ow,unit:"minute"},{threshold:22.5*Ow,factor:.5*Aw,unit:"half-hour"},{threshold:42.5*Ow,threshold_for_minute:52.5*Ow,factor:Aw,unit:"hour"},{threshold:20.5/24*jw,factor:jw,unit:"day"},{threshold:5.5*jw,factor:Pw,unit:"week"},{threshold:3.5*Pw,factor:Iw,unit:"month"},{threshold:10.5*Iw,factor:Lw,unit:"year"}],rE={gradation:nE,flavour:"long",units:["now","minute","hour","day","week","month","year"]},iE={gradation:nE,flavour:"long-time",units:["now","minute","hour","day","week","month","year"]};function oE(e){return e instanceof Date?e:new Date(e)}var aE=[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"}],sE={},lE={minTime:function(e,t){t.future;return(0,t.getMinTimeForUnit)("day")},format:function(e,t){return sE[t]||(sE[t]={}),sE[t].dayMonth||(sE[t].dayMonth=new Intl.DateTimeFormat(t,{month:"short",day:"numeric"})),sE[t].dayMonth.format(oE(e))}},cE={minTime:function(e,t){return t.future?(e-(new Date(new Date(e).getFullYear(),0).getTime()-1))/1e3:(new Date(new Date(e).getFullYear()+1,0).getTime()-e)/1e3},format:function(e,t){return sE[t]||(sE[t]={}),sE[t].dayMonthYear||(sE[t].dayMonthYear=new Intl.DateTimeFormat(t,{year:"numeric",month:"short",day:"numeric"})),sE[t].dayMonthYear.format(oE(e))}};Tw()?aE.push(lE,cE):aE.push({formatAs:"day"},{formatAs:"week"},{formatAs:"month"},{formatAs:"year"});const uE={steps:aE,labels:["mini","short-time","narrow","short"]};function dE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dE(Object(n),!0).forEach((function(t){hE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fE=pE(pE({},uE),{},{steps:[{formatAs:"now"}].concat(uE.steps)});function mE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mE(Object(n),!0).forEach((function(t){vE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const bE=gE(gE({},uE),{},{steps:uE.steps.filter((function(e){return"second"!==e.formatAs}))});function yE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yE(Object(n),!0).forEach((function(t){xE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const wE=_E(_E({},bE),{},{steps:[{formatAs:"now"}].concat(bE.steps)});function EE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EE(Object(n),!0).forEach((function(t){CE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const kE=TE(TE({},uE),{},{steps:uE.steps.filter((function(e){return"second"!==e.formatAs})).map((function(e){return"minute"===e.formatAs?TE(TE({},e),{},{minTime:Ow}):e}))}),SE={steps:[{formatAs:"second"},{formatAs:"minute"},{formatAs:"hour"},{formatAs:"day"},{formatAs:"month"},{formatAs:"year"}],labels:["mini","short-time","narrow","short"]};function OE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OE(Object(n),!0).forEach((function(t){jE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const PE=AE(AE({},SE),{},{steps:[{formatAs:"now"}].concat(SE.steps)});function IE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IE(Object(n),!0).forEach((function(t){RE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const NE=LE(LE({},SE),{},{steps:SE.steps.filter((function(e){return"second"!==e.formatAs}))});function DE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ME(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DE(Object(n),!0).forEach((function(t){BE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const QE=ME(ME({},NE),{},{steps:[{formatAs:"now"}].concat(NE.steps)});function UE(e){return UE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UE(e)}function FE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||zE(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zE(e,t){if(e){if("string"===typeof e)return qE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qE(e,t):void 0}}function qE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var WE,GE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).polyfill;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"===typeof t&&(t=[t]),this.locale=function(e,t){for(var n,r=ww(e);!(n=r()).done;){var i=n.value;if(t(i))return i;for(var o=i.split("-");o.length>1;)if(o.pop(),t(i=o.join("-")))return i}throw new Error("No locale data has been registered for any of the locales: ".concat(e.join(", ")))}(t.concat(e.getDefaultLocale()),Kw),"undefined"!==typeof Intl&&Intl.NumberFormat&&(this.numberFormat=new Intl.NumberFormat(this.locale)),!1===n?(this.IntlRelativeTimeFormat=Intl.RelativeTimeFormat,this.IntlPluralRules=Intl.PluralRules):(this.IntlRelativeTimeFormat=pw,this.IntlPluralRules=pw.PluralRules),this.relativeTimeFormatCache=new _w,this.pluralRulesCache=new _w}var t,n,r;return t=e,n=[{key:"format",value:function(e,t,n){var r;n||(t&&"string"!==typeof(r=t)&&!kw(r)?(n=t,t=void 0):n={}),t||(t=tE),"string"===typeof t&&(t=function(e){switch(e){case"default":case"round":return Zw;case"round-minute":return tE;case"approximate":default:return rE;case"time":case"approximate-time":return iE;case"mini":return SE;case"mini-now":return PE;case"mini-minute":return NE;case"mini-minute-now":return QE;case"twitter":return uE;case"twitter-now":return fE;case"twitter-minute":return bE;case"twitter-minute-now":return wE;case"twitter-first-minute":return kE}}(t));var i,o=function(e){if(e.constructor===Date||function(e){return"object"===UE(e)&&"function"===typeof e.getTime}(e))return e.getTime();if("number"===typeof e)return e;throw new Error("Unsupported relative time formatter input: ".concat(UE(e),", ").concat(e))}(e),a=this.getLabels(t.flavour||t.labels),s=a.labels,l=a.labelsType;void 0!==t.now&&(i=t.now),void 0===i&&void 0!==n.now&&(i=n.now),void 0===i&&(i=Date.now());var c=(i-o)/1e3,u=n.future||c<0,d=function(e,t,n,r){var i=e.now||t&&t.now;return i?"string"===typeof i?i:r?i.future:i.past:n&&n.second&&n.second.current?n.second.current:void 0}(s,Kw(this.locale).now,Kw(this.locale).long,u);if(t.custom){var p=t.custom({now:i,date:new Date(o),time:o,elapsed:c,locale:this.locale});if(void 0!==p)return p}var h=function(e,t,n){var r=Object.keys(t);return n&&r.push("now"),e&&(r=e.filter((function(e){return"now"===e||r.indexOf(e)>=0}))),r}(t.units,s,d),f=n.round||t.round,m=FE(qw(t.gradation||t.steps||tE.steps,c,{now:i,units:h,round:f,future:u,getNextStep:!0}),3),g=m[0],v=m[1],b=m[2],y=this.formatDateForStep(o,v,c,{labels:s,labelsType:l,nowLabel:d,now:i,future:u,round:f})||"";return n.getTimeToNextUpdate?[y,Vw(o,v,{nextStep:b,prevStep:g,now:i,future:u,round:f})]:y}},{key:"formatDateForStep",value:function(e,t,n,r){var i=this,o=r.labels,a=r.labelsType,s=r.nowLabel,l=r.now,c=r.future,u=r.round;if(t){if(t.format)return t.format(e,this.locale,{formatAs:function(e,t){return i.formatValue(t,e,{labels:o,future:c})},now:l,future:c});var d=t.unit||t.formatAs;if(!d)throw new Error("[javascript-time-ago] Each step must define either `formatAs` or `format()`. Step: ".concat(JSON.stringify(t)));if("now"===d)return s;var p=Math.abs(n)/Nw(t);t.granularity&&(p=Dw(u)(p/t.granularity)*t.granularity);var h=-1*Math.sign(n)*Dw(u)(p);switch(0===h&&(h=c?0:-0),a){case"long":case"short":case"narrow":return this.getFormatter(a).format(h,d);default:return this.formatValue(h,d,{labels:o,future:c})}}}},{key:"formatValue",value:function(e,t,n){var r=n.labels,i=n.future;return this.getFormattingRule(r,t,e,{future:i}).replace("{0}",this.formatNumber(Math.abs(e)))}},{key:"getFormattingRule",value:function(e,t,n,r){var i=r.future;if(this.locale,"string"===typeof(e=e[t]))return e;var o=e[0===n?i?"future":"past":n<0?"past":"future"]||e;return"string"===typeof o?o:o[this.getPluralRules().select(Math.abs(n))]||o.other}},{key:"formatNumber",value:function(e){return this.numberFormat?this.numberFormat.format(e):String(e)}},{key:"getFormatter",value:function(e){return this.relativeTimeFormatCache.get(this.locale,e)||this.relativeTimeFormatCache.put(this.locale,e,new this.IntlRelativeTimeFormat(this.locale,{style:e}))}},{key:"getPluralRules",value:function(){return this.pluralRulesCache.get(this.locale)||this.pluralRulesCache.put(this.locale,new this.IntlPluralRules(this.locale))}},{key:"getLabels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];"string"===typeof e&&(e=[e]),e=(e=e.map((function(e){switch(e){case"tiny":case"mini-time":return"mini";default:return e}}))).concat("long");for(var t,n=Kw(this.locale),r=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=zE(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(t=r()).done;){var i=t.value;if(n[i])return{labelsType:i,labels:n[i]}}}}],n&&HE(t.prototype,n),r&&HE(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),VE="en";GE.getDefaultLocale=function(){return VE},GE.setDefaultLocale=function(e){return VE=e},GE.addDefaultLocale=function(e){if(WE)return console.error("[javascript-time-ago] `TimeAgo.addDefaultLocale()` can only be called once. To add other locales, use `TimeAgo.addLocale()`.");WE=!0,GE.setDefaultLocale(e.locale),GE.addLocale(e)},GE.addLocale=function(e){Yw(e),pw.addLocale(e)},GE.locale=GE.addLocale,GE.addLabels=function(e,t,n){var r=Kw(e);r||(Yw({locale:e}),r=Kw(e)),r[t]=n};const $E={locale:"en",long:{year:{previous:"last year",current:"this year",next:"next year",past:{one:"{0} year ago",other:"{0} years ago"},future:{one:"in {0} year",other:"in {0} years"}},quarter:{previous:"last quarter",current:"this quarter",next:"next quarter",past:{one:"{0} quarter ago",other:"{0} quarters ago"},future:{one:"in {0} quarter",other:"in {0} quarters"}},month:{previous:"last month",current:"this month",next:"next month",past:{one:"{0} month ago",other:"{0} months ago"},future:{one:"in {0} month",other:"in {0} months"}},week:{previous:"last week",current:"this week",next:"next week",past:{one:"{0} week ago",other:"{0} weeks ago"},future:{one:"in {0} week",other:"in {0} weeks"}},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:{one:"{0} hour ago",other:"{0} hours ago"},future:{one:"in {0} hour",other:"in {0} hours"}},minute:{current:"this minute",past:{one:"{0} minute ago",other:"{0} minutes ago"},future:{one:"in {0} minute",other:"in {0} minutes"}},second:{current:"now",past:{one:"{0} second ago",other:"{0} seconds ago"},future:{one:"in {0} second",other:"in {0} seconds"}}},short:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0} yr. ago",future:"in {0} yr."},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:{one:"{0} qtr. ago",other:"{0} qtrs. ago"},future:{one:"in {0} qtr.",other:"in {0} qtrs."}},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0} mo. ago",future:"in {0} mo."},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0} wk. ago",future:"in {0} wk."},day:{previous:"yesterday",current:"today",next:"tomorrow",past:{one:"{0} day ago",other:"{0} days ago"},future:{one:"in {0} day",other:"in {0} days"}},hour:{current:"this hour",past:"{0} hr. ago",future:"in {0} hr."},minute:{current:"this minute",past:"{0} min. ago",future:"in {0} min."},second:{current:"now",past:"{0} sec. ago",future:"in {0} sec."}},narrow:{year:{previous:"last yr.",current:"this yr.",next:"next yr.",past:"{0}y ago",future:"in {0}y"},quarter:{previous:"last qtr.",current:"this qtr.",next:"next qtr.",past:"{0}q ago",future:"in {0}q"},month:{previous:"last mo.",current:"this mo.",next:"next mo.",past:"{0}mo ago",future:"in {0}mo"},week:{previous:"last wk.",current:"this wk.",next:"next wk.",past:"{0}w ago",future:"in {0}w"},day:{previous:"yesterday",current:"today",next:"tomorrow",past:"{0}d ago",future:"in {0}d"},hour:{current:"this hour",past:"{0}h ago",future:"in {0}h"},minute:{current:"this minute",past:"{0}m ago",future:"in {0}m"},second:{current:"now",past:"{0}s ago",future:"in {0}s"}},now:{now:{current:"now",future:"in a moment",past:"just now"}},mini:{year:"{0}yr",month:"{0}mo",week:"{0}wk",day:"{0}d",hour:"{0}h",minute:"{0}m",second:"{0}s",now:"now"},"short-time":{year:"{0} yr.",month:"{0} mo.",week:"{0} wk.",day:{one:"{0} day",other:"{0} days"},hour:"{0} hr.",minute:"{0} min.",second:"{0} sec."},"long-time":{year:{one:"{0} year",other:"{0} years"},month:{one:"{0} month",other:"{0} months"},week:{one:"{0} week",other:"{0} weeks"},day:{one:"{0} day",other:"{0} days"},hour:{one:"{0} hour",other:"{0} hours"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} second",other:"{0} seconds"}}},KE={locale:"fr",long:{year:{previous:"l\u2019ann\xe9e derni\xe8re",current:"cette ann\xe9e",next:"l\u2019ann\xe9e prochaine",past:{one:"il y a {0} an",other:"il y a {0} ans"},future:{one:"dans {0} an",other:"dans {0} ans"}},quarter:{previous:"le trimestre dernier",current:"ce trimestre",next:"le trimestre prochain",past:{one:"il y a {0} trimestre",other:"il y a {0} trimestres"},future:{one:"dans {0} trimestre",other:"dans {0} trimestres"}},month:{previous:"le mois dernier",current:"ce mois-ci",next:"le mois prochain",past:"il y a {0} mois",future:"dans {0} mois"},week:{previous:"la semaine derni\xe8re",current:"cette semaine",next:"la semaine prochaine",past:{one:"il y a {0} semaine",other:"il y a {0} semaines"},future:{one:"dans {0} semaine",other:"dans {0} semaines"}},day:{previous:"hier","previous-2":"avant-hier",current:"aujourd\u2019hui",next:"demain","next-2":"apr\xe8s-demain",past:{one:"il y a {0} jour",other:"il y a {0} jours"},future:{one:"dans {0} jour",other:"dans {0} jours"}},hour:{current:"cette heure-ci",past:{one:"il y a {0} heure",other:"il y a {0} heures"},future:{one:"dans {0} heure",other:"dans {0} heures"}},minute:{current:"cette minute-ci",past:{one:"il y a {0} minute",other:"il y a {0} minutes"},future:{one:"dans {0} minute",other:"dans {0} minutes"}},second:{current:"maintenant",past:{one:"il y a {0} seconde",other:"il y a {0} secondes"},future:{one:"dans {0} seconde",other:"dans {0} secondes"}}},short:{year:{previous:"l\u2019ann\xe9e derni\xe8re",current:"cette ann\xe9e",next:"l\u2019ann\xe9e prochaine",past:"il y a {0} a",future:"dans {0} a"},quarter:{previous:"le trimestre dernier",current:"ce trimestre",next:"le trimestre prochain",past:"il y a {0} trim.",future:"dans {0} trim."},month:{previous:"le mois dernier",current:"ce mois-ci",next:"le mois prochain",past:"il y a {0} m.",future:"dans {0} m."},week:{previous:"la semaine derni\xe8re",current:"cette semaine",next:"la semaine prochaine",past:"il y a {0} sem.",future:"dans {0} sem."},day:{previous:"hier","previous-2":"avant-hier",current:"aujourd\u2019hui",next:"demain","next-2":"apr\xe8s-demain",past:"il y a {0}\xa0j",future:"dans {0}\xa0j"},hour:{current:"cette heure-ci",past:"il y a {0}\xa0h",future:"dans {0}\xa0h"},minute:{current:"cette minute-ci",past:"il y a {0}\xa0min",future:"dans {0}\xa0min"},second:{current:"maintenant",past:"il y a {0}\xa0s",future:"dans {0}\xa0s"}},narrow:{year:{previous:"l\u2019ann\xe9e derni\xe8re",current:"cette ann\xe9e",next:"l\u2019ann\xe9e prochaine",past:"-{0} a",future:"+{0} a"},quarter:{previous:"le trimestre dernier",current:"ce trimestre",next:"le trimestre prochain",past:"-{0} trim.",future:"+{0} trim."},month:{previous:"le mois dernier",current:"ce mois-ci",next:"le mois prochain",past:"-{0} m.",future:"+{0} m."},week:{previous:"la semaine derni\xe8re",current:"cette semaine",next:"la semaine prochaine",past:"-{0} sem.",future:"+{0} sem."},day:{previous:"hier","previous-2":"avant-hier",current:"aujourd\u2019hui",next:"demain","next-2":"apr\xe8s-demain",past:"-{0} j",future:"+{0} j"},hour:{current:"cette heure-ci",past:"-{0} h",future:"+{0} h"},minute:{current:"cette minute-ci",past:"-{0} min",future:"+{0} min"},second:{current:"maintenant",past:"-{0} s",future:"+{0} s"}},now:{now:{current:"maintenant",future:"dans un instant",past:"\xe0 l'instant"}},mini:{year:{one:"{0} an",other:"{0} ans"},month:"{0} mois",week:"{0} sem.",day:{one:"{0} jour",other:"{0} jours"},hour:"{0} h",minute:"{0} min.",second:"{0} sec.",now:"maintenant"},"long-time":{year:{one:"{0} an",other:"{0} ans"},month:{one:"{0} mois",other:"{0} mois"},week:{one:"{0} semaine",other:"{0} semaines"},day:{one:"{0} jour",other:"{0} jours"},hour:{one:"{0} heure",other:"{0} heures"},minute:{one:"{0} minute",other:"{0} minutes"},second:{one:"{0} seconde",other:"{0} secondes"}}},YE=e=>{let{dateStr:t}=e;const{language:n}=mn();if(!t)return null;let r;return"en"===n?(GE.addLocale($E),r=new GE("en-US")):(GE.addLocale(KE),r=new GE("fr-FR")),(0,Ap.jsxs)("span",{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Last edited"}),(0,Ap.jsx)(Ip,{children:"Derni\xe8re modification"})]})," ",r.format(new Date(t)),". "]})},ZE=(0,In.c)(i.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}),"Description"),JE=(0,In.c)(i.createElement("path",{d:"M21.99 8c0-.72-.37-1.35-.94-1.7L12 1 2.95 6.3C2.38 6.65 2 7.28 2 8v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2l-.01-10zM12 13L3.74 7.84 12 3l8.26 4.84L12 13z"}),"Drafts"),XE=e=>{let{status:t}=e;return"published"===t?(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Published",fr:"Publi\xe9"}),children:(0,Ap.jsx)(Bn,{color:"primary"})}):"submitted"===t?(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Submitted",fr:"Soumis"}),children:(0,Ap.jsx)(ZE,{color:"secondary"})}):""===t?(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Draft",fr:"Brouillon"}),children:(0,Ap.jsx)(JE,{color:"action"})}):null},eT=e=>{var t,n,r;let{record:o,onViewEditClick:a,onDeleteClick:s,onCloneClick:l,onSubmitClick:c,showAuthor:u,showDeleteAction:d,showSubmitAction:p,showPublishAction:h,showUnPublishAction:f,showUnSubmitAction:m,showViewAction:g,showEditAction:v,showPercentComplete:b,showCloneAction:y,onUnSubmitClick:_,onUnPublishClick:x,showDownloadButton:w=!0,showTransferButton:E,onTransferClick:T}=e;const{language:C,region:k}=mn(),S="published"===o.status,{downloadRecord:O,datacitePrefix:A}=(0,i.useContext)(Fb),[j,P]=(0,i.useState)({downloadXML:!1}),I="".concat(Cn[k].catalogueURL[C],"dataset/ca-cioos_").concat(o.identifier),[L,R]=i.useState(null),N=Boolean(L),D=()=>{R(null)};if(!o.title)return console.log(o),(0,Ap.jsx)(Ap.Fragment,{});const M=(p||w)&&Ux(o),B=b&&Math.round(100*Qx(o));async function Q(e){const t={erddap:"_erddap.txt",xml:".xml",yaml:".yaml",eml:"_eml.xml",json:".json"};P({downloadXML:!0});try{let n;if("eml"===e){n=[await yx(o)]}else if("erddap"===e)n=[Tx(o)];else if("json"===e)n=await([JSON.stringify(Fx(o,C,k,A),null,2)]);else{const t=await O({record:o,fileType:e,region:k});n=Object.values(t.data.message)}const r=new Blob(n,{type:"".concat({xml:"application/xml",yaml:"application/x-yaml",eml:"application/xml",erddap:"application/xml",json:"application/json"}[e],";charset=utf-8")});K_().saveAs(r,"".concat(C_(o)).concat(t[e])),P({downloadXML:!1})}catch(n){console.log(n),P({downloadXML:!1})}}return(0,Ap.jsxs)(ko,{children:[(0,Ap.jsx)(Z_,{children:(0,Ap.jsx)(Cr,{onClick:a,children:(0,Ap.jsx)($o,{children:(0,Ap.jsx)(XE,{status:o.status})})})}),(0,Ap.jsx)(Yo,{primary:(0,Ap.jsx)("div",{style:{width:"80%"},children:null===(t=o.title)||void 0===t?void 0:t[C]}),secondaryTypographyProps:{variant:"body2"},secondary:(0,Ap.jsxs)("span",{children:[u&&(0,Ap.jsxs)("span",{children:[(0,Ap.jsx)(Lp,{en:"Author",fr:"Auteur"}),": ",null===(n=o.userinfo)||void 0===n?void 0:n.displayName," ",null===(r=o.userinfo)||void 0===r?void 0:r.email]}),(0,Ap.jsxs)("span",{style:{display:"block"},children:[(0,Ap.jsx)(YE,{dateStr:o.created}),b&&(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:[B,"% complete"]}),(0,Ap.jsxs)(Ip,{children:[B,"% Achev\xe9e"]})]})]}),(0,Ap.jsxs)("span",{style:{display:"block"},children:["UUID: ",o.identifier]})]})}),(0,Ap.jsxs)(X_,{children:[g&&(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"View",fr:"Vue"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:a,edge:"end","aria-label":"view record",children:(0,Ap.jsx)(ex,{})})})}),v&&(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Edit record",fr:"\xc9diter un enregistrement"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>a(),edge:"end","aria-label":"Edit record",children:(0,Ap.jsx)(tx,{})})})}),d&&(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Delete",fr:"Supprimer"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>s(),edge:"end","aria-label":"delete",children:(0,Ap.jsx)(nx,{})})})}),h&&(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Publish",fr:"Publier"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>c(),edge:"end","aria-label":"delete",children:(0,Ap.jsx)(rx,{})})})}),p&&(""===o.status?(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Ap.Fragment,{children:M?(0,Ap.jsx)(Lp,{en:"Submit for review",fr:"Soumettre pour examen"}):(0,Ap.jsx)(Lp,{en:"Can't submit incomplete or invalid record",fr:"Impossible de soumettre un enregistrement incomplet ou non valide"})}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>c(),edge:"end","aria-label":"submit",disabled:!M,children:(0,Ap.jsx)(rx,{})})})}):(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Return record to draft for editing",fr:"Retourner l'enregistrement au brouillon pour modification"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>c(),edge:"end","aria-label":"delete",children:(0,Ap.jsx)(ix,{})})})})),f&&(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Un-publish",fr:"De-Publier"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>x(),edge:"end","aria-label":"delete",children:(0,Ap.jsx)(ix,{})})})}),y&&(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Clone",fr:"Cloner"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>l(),edge:"end","aria-label":"clone",children:(0,Ap.jsx)(ox,{})})})}),m&&(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Return to draft",fr:"Revenir au brouillon"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>_(),edge:"end","aria-label":"delete",children:(0,Ap.jsx)(ix,{})})})}),w&&(0,Ap.jsx)(ms,{disableHoverListener:N,title:(0,Ap.jsx)(Lp,{en:"Download",fr:"Download"}),children:(0,Ap.jsxs)("span",{children:[(0,Ap.jsx)(Cr,{"aria-label":"more",id:"long-button","aria-controls":"long-menu","aria-expanded":N?"true":void 0,"aria-haspopup":"true",onClick:e=>{R(e.currentTarget)},disabled:!M,children:j.downloadXML?(0,Ap.jsx)(r_,{}):(0,Ap.jsx)(ax,{})}),(0,Ap.jsxs)(Mi,{id:"long-menu",MenuListProps:{"aria-labelledby":"long-button"},anchorEl:L,open:N,onClose:D,PaperProps:{style:{width:"20ch"}},children:[(0,Ap.jsx)(Oo,{onClick:()=>{Q("xml"),D()},children:"ISO 19115 XML"},"xml"),(0,Ap.jsx)(Oo,{onClick:()=>{Q("yaml"),D()},children:"YAML"},"yaml"),(0,Ap.jsx)(Oo,{onClick:()=>{Q("erddap"),D()},children:"ERDDAP snippet"},"erddap"),(0,Ap.jsx)(Oo,{onClick:()=>{Q("eml"),D()},children:"EML for OBIS IPT"},"eml"),(0,Ap.jsx)(Oo,{onClick:()=>{Q("json"),D()},children:"DATACITE JSON"},"json")]})]})}),E&&(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Transfer to user",fr:"Transfert vers l'utilisateur"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:T,edge:"end","aria-label":"transfer",children:(0,Ap.jsx)(sx,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Open catalogue entry in new window",fr:"Ouvrir l'entr\xe9e dans le catalogue dans une nouvelle fen\xeatre"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{disabled:!S,onClick:()=>{window.open(I,"_blank").focus()},edge:"end","aria-label":"transfer",children:(0,Ap.jsx)(lx,{})})})})]})]},o.recordID)};const tT=class extends Ub{constructor(e){super(e),this.state={records:{},deleteModalOpen:!1,submitModalOpen:!1,withdrawModalOpen:!1,modalKey:"",modalRecord:null,loading:!1}}async loadRecords(){this.setState({loading:!0});const{match:e}=this.props,{region:t}=e.params;this.unsubscribe=nd(_p(Cp),(e=>{if(e){const n=xb(Bb(Cp),"".concat(t,"/users/").concat(e.uid,"/records"));Pb(n,(e=>{const t=e.toJSON();this.setState({records:z_(t),loading:!1})})),this.listenerRefs.push(n)}}))}componentWillUnmount(){this.unsubscribeAndCloseListeners()}unsubscribeAndCloseListeners(){this.unsubscribe&&this.unsubscribe(),this.listenerRefs.length&&this.listenerRefs.forEach((e=>Ib(e)))}async componentDidMount(){this.loadRecords()}editRecord(e){const{match:t,history:n}=this.props,{language:r,region:i}=t.params,{currentUser:o}=Sp;n.push("/".concat(r,"/").concat(i,"/").concat(o.uid,"/").concat(e))}handleSubmitRecord(e){const{match:t}=this.props,{region:n}=t.params;return!(!Sp.currentUser||!e)&&Q_(n,Sp.currentUser.uid,e,"submitted")}withdrawRecord(e){const{match:t}=this.props,{region:n}=t.params;return!(!Sp.currentUser||!e)&&function(e,t,n){return Cb(xb(Bb(Cp),"".concat(e,")/users/").concat(t,"/records/").concat(n,"/status")),"")}(n,Sp.currentUser.uid,e)}cloneRecord(e){const{match:t}=this.props,{region:n}=t.params;Sp.currentUser&&N_(e,Sp.currentUser.uid,Sp.currentUser.uid,n)}deleteRecord(e){const{match:t}=this.props,{region:n}=t.params;return!!Sp.currentUser&&U_(n,Sp.currentUser.uid,e)}toggleModal(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.setState({modalKey:n,[e]:t,modalRecord:r})}render(){const{match:e,history:t}=this.props,{language:n,region:r}=e.params,{deleteModalOpen:i,withdrawModalOpen:o,modalKey:a,modalRecord:s,submitModalOpen:l,records:c,loading:u}=this.state;return(0,Ap.jsxs)("div",{children:[(0,Ap.jsx)(V_,{open:i,onClose:()=>this.toggleModal("deleteModalOpen",!1),onAccept:()=>this.deleteRecord(a),"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),(0,Ap.jsx)(V_,{open:l,onClose:()=>this.toggleModal("submitModalOpen",!1),onAccept:()=>this.handleSubmitRecord(a,s),"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),(0,Ap.jsx)(V_,{open:o,onClose:()=>this.toggleModal("withdrawModalOpen",!1),onAccept:()=>this.withdrawRecord(a),"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),(0,Ap.jsx)(Or,{variant:"h5",children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"My Records"}),(0,Ap.jsx)(Ip,{children:"Mes dossiers"})]})}),u?(0,Ap.jsx)(r_,{}):(0,Ap.jsxs)("span",{children:[(0,Ap.jsxs)("div",{children:[(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:['To start a new record, click on "New Record" and begin adding information. To continue working on a record, select it from the list below. Once your record is completed and information has been provided for all mandatory fields, you can submit your record for review by clicking the "Submit for review" icon to the right of your record title. The record will not be published until it is reviewed and approved by ',Cn[r].title[n]," staff."]}),(0,Ap.jsxs)(Ip,{children:["Afin de soumettre vos m\xe9tadonn\xe9es, cliquez sur \xab Nouvel enregistrement \xbb et ajoutez-y les informations demand\xe9es. Si vous d\xe9sirez reprendre la saisie d\u2019un formulaire d\xe9j\xe0 entam\xe9, s\xe9lectionnez-le dans la liste ci-dessous. Lorsque les informations sont saisies pour tous les champs obligatoires, vous pouvez soumettre vos m\xe9tadonn\xe9es pour validation en cliquant sur l\u2019ic\xf4ne \xab soumettre pour validation \xbb. Vos m\xe9tadonn\xe9es seront publi\xe9es lorsqu\u2019elles auront \xe9t\xe9 valid\xe9es et approuv\xe9es par un professionel du"," ",Cn[r].title[n],"."]})]})}),(0,Ap.jsx)("div",{style:{marginTop:"10px"},children:(0,Ap.jsx)(c_,{startIcon:(0,Ap.jsx)(u_,{}),onClick:()=>t.push("/".concat(n,"/").concat(r,"/new")),children:(0,Ap.jsx)(Lp,{en:"New Record",fr:"Nouvel enregistrement"})})}),(0,Ap.jsx)(ki,{children:Object.entries(c||{}).sort(((e,t)=>new Date(t[1].created)-new Date(e[1].created))).map((e=>{let[t,n]=e;const{status:r,title:i}=n;return null!==i&&void 0!==i&&i.en||null===i||void 0===i||!i.fr?(0,Ap.jsx)(eT,{record:n,showCloneAction:!0,onCloneClick:()=>this.cloneRecord(t),showDeleteAction:!0,onDeleteClick:()=>this.toggleModal("deleteModalOpen",!0,t),showEditAction:!0,showPercentComplete:!0,onViewEditClick:()=>this.editRecord(t),showSubmitAction:!0,onSubmitClick:()=>{""===r?this.toggleModal("submitModalOpen",!0,t,n):this.toggleModal("withdrawModalOpen",!0,t)}},t):null}))})]}),!c&&(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"You don't have any records."}),(0,Ap.jsx)(Ip,{children:"Vous n'avez pas d'historique de saisie."})]})})]})]})}};const nT=class extends Ub{constructor(e){super(e),this.state={records:{},deleteModalOpen:!1,submitModalOpen:!1,withdrawModalOpen:!1,modalKey:"",modalRecord:null,loading:!1}}async loadRecords(){this.setState({loading:!0});const{match:e}=this.props,{region:t}=e.params;this.unsubscribe=nd(_p(Cp),(async e=>{if(e){const e=xb(Bb(Cp),"".concat(t,"/users"));Pb(e,(e=>{const t=B_(e,["published"]);this.setState({records:t,loading:!1})})),this.listenerRefs.push(e)}}))}async componentDidMount(){this.loadRecords()}editRecord(e,t){const{match:n,history:r}=this.props,{language:i,region:o}=n.params;r.push("/".concat(i,"/").concat(o,"/").concat(t,"/").concat(e))}handleCloneRecord(e,t){const{match:n}=this.props,{region:r}=n.params;Sp.currentUser&&N_(e,t,Sp.currentUser.uid,r)}render(){const{match:e}=this.props,{region:t}=e.params,{records:n,loading:r}=this.state;return(0,Ap.jsxs)("div",{children:[(0,Ap.jsx)(Or,{variant:"h5",children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Published Records"}),(0,Ap.jsx)(Ip,{children:"Dossiers publi\xe9s"})]})}),r?(0,Ap.jsx)(r_,{}):(0,Ap.jsxs)("span",{children:[(0,Ap.jsxs)("div",{children:[(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"These are the published records in your region."}),(0,Ap.jsx)(Ip,{children:"Il s'agit des enregistrements publi\xe9s dans votre r\xe9gion."})]})}),(0,Ap.jsx)(ki,{children:n&&n.length?n.sort(((e,t)=>new Date(t.created)-new Date(e.created))).filter((e=>"published"===e.status)).map((e=>{const{title:n}=e;return null!==n&&void 0!==n&&n.en||null===n||void 0===n||!n.fr?(0,Ap.jsx)(eT,{record:e,onViewEditClick:()=>{var t;return this.editRecord(e.recordID,null===(t=e.userinfo)||void 0===t?void 0:t.userID)},showDeleteAction:!1,showUnSubmitAction:!1,showCloneAction:!0,showAuthor:!0,showViewAction:!0,onCloneClick:()=>{var n;return this.handleCloneRecord(e.recordID,null===(n=e.userinfo)||void 0===n?void 0:n.userID,t)}},e.recordID):null})):""})]}),!n&&(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"There are no published records."}),(0,Ap.jsx)(Ip,{children:"Il n'y a pas de documents publi\xe9s."})]})})]})]})}},rT=(0,In.c)(i.createElement("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1v1z"}),"PermContactCalendar");const iT=function(e){return function(e){const{orgName:t,givenNames:n,lastName:r}=e;return[[r,n].filter((e=>e)).join(", "),t].filter((e=>e)).map((e=>e.trim())).filter((e=>e)).join(" - ")}(e)||(0,Ap.jsx)(Lp,{en:"New contact",fr:"Nouveau contact"})};const oT=class extends Ub{constructor(e){super(e),this.state={contacts:{},modalOpen:!1,modalKey:"",loading:!1}}async componentDidMount(){this.setState({loading:!0});const{match:e}=this.props,{region:t}=e.params;this.unsubscribe=nd(_p(Cp),(e=>{if(e){const n=xb(Bb(Cp),"".concat(t,"/users/").concat(e.uid,"/contacts"));Pb(n,(e=>this.setState({contacts:e.toJSON(),loading:!1}))),this.listenerRefs.push(n)}}))}handleDeleteContact(e){const{match:t}=this.props,{region:n}=t.params;Sp.currentUser&&function(e,t,n){Tb(xb(Bb(Cp),"".concat(e,"/users/").concat(t,"/contacts/").concat(n)))}(n,Sp.currentUser.uid,e)}handleCloneContact(e){const{match:t}=this.props,{region:n}=t.params;return!!Sp.currentUser&&async function(e,t,n){const r=xb(Bb(Cp),"".concat(e,"/users/").concat(t,"/contacts")),i=(await Sb(wb(r,n))).val();i.lastName?i.lastName+=" (Copy)":i.orgName+=" (Copy)",Eb(r,i)}(n,Sp.currentUser.uid,e)}addContact(){const{history:e,match:t}=this.props,{language:n,region:r}=t.params;Sp.currentUser&&async function(e,t){const n=Bb(Cp);return(await Eb(xb(n,"".concat(e,"/users/").concat(t,"/contacts")),{})).key}(r,Sp.currentUser.uid).then((t=>{e.push("/".concat(n,"/").concat(r,"/contacts/").concat(t))}))}editContact(e){const{history:t,match:n}=this.props,{language:r,region:i}=n.params;t.push("/".concat(r,"/").concat(i,"/contacts/").concat(e))}toggleModal(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.setState({modalKey:t,modalOpen:e})}render(){const{modalOpen:e,modalKey:t,loading:n,contacts:r}=this.state;return(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:3,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(V_,{open:e,onClose:()=>this.toggleModal(!1),onAccept:()=>this.handleDeleteContact(t),"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),(0,Ap.jsx)(Or,{variant:"h5",children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Contacts"}),(0,Ap.jsx)(Ip,{children:"Contacts"})]})})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Create contacts here that you can reuse in multiple metadata records."}),(0,Ap.jsx)(Ip,{children:"Ajoutez ici les personnes ressources que vous d\xe9sirez r\xe9utiliser pour la saisie d\u2019autres m\xe9tadonn\xe9es."})]})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(c_,{startIcon:(0,Ap.jsx)(u_,{}),onClick:()=>this.addContact(),children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Add contact"}),(0,Ap.jsx)(Ip,{children:"ajouter un contact"})]})})}),n?(0,Ap.jsx)(r_,{}):(0,Ap.jsx)(Ap.Fragment,{children:(0,Ap.jsx)(e_,{item:!0,xs:!0,children:r&&Object.keys(r).length?(0,Ap.jsxs)("div",{children:[(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"These are your contacts"}),(0,Ap.jsx)(Ip,{children:"Ce sont vos contacts"})]})}),(0,Ap.jsx)(ki,{children:Object.entries(r).map((e=>{let[t,n]=e;return(0,Ap.jsxs)(ko,{button:!0,onClick:()=>this.editContact(t),children:[(0,Ap.jsx)(Z_,{children:(0,Ap.jsx)($o,{children:(0,Ap.jsx)(rT,{})})}),(0,Ap.jsx)(Yo,{primary:iT(n)}),(0,Ap.jsxs)(X_,{children:[(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Edit",fr:"\xc9diter"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>this.editContact(t),children:(0,Ap.jsx)(tx,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Clone",fr:"Clone"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>this.handleCloneContact(t),children:(0,Ap.jsx)(ox,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Delete",fr:"Supprimer"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>this.toggleModal(!0,t),children:(0,Ap.jsx)(nx,{})})})})]})]},t)}))})]}):(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"No contacts submitted yet"}),(0,Ap.jsx)(Ip,{children:"Aucun contacts n'a encore \xe9t\xe9 soumis"})]})})})})]})}};const aT=function(e){let{instrument:t}=e;return function(e){const{id:t,manufacturer:n}=e;return[n,t].filter((e=>e)).map((e=>e.trim())).filter((e=>e)).join(" - ")}(t)||(0,Ap.jsx)(Lp,{en:"New instrument",fr:"Nouvel instrument"})};const sT=class extends Ub{constructor(e){super(e),this.state={instruments:{},modalOpen:!1,modalKey:"",loading:!1}}async componentDidMount(){this.setState({loading:!0});const{match:e}=this.props,{region:t}=e.params;this.unsubscribe=Sp.onAuthStateChanged((e=>{if(e){const n=xb(Bb(Cp),"".concat(t,"/users/").concat(e.uid,"/instruments"));Pb(n,(e=>this.setState({instruments:e.toJSON(),loading:!1}))),this.listenerRefs.push(n)}}))}handleDeleteInstrument(e){const{match:t}=this.props,{region:n}=t.params;Sp.currentUser&&function(e,t,n){Tb(xb(Bb(Cp),"".concat(e,"/users/").concat(t,"/instruments/").concat(n)))}(n,Sp.currentUser.uid,e)}handleCloneInstrument(e){const{match:t}=this.props,{region:n}=t.params;return!!Sp.currentUser&&async function(e,t,n){const r=xb(Bb(Cp),"".concat(e,"/users/").concat(t,"/instruments/")),i=(await Sb(wb(r,n))).val();i.id&&(i.id+=" (Copy)"),Eb(r,i)}(n,Sp.currentUser.uid,e)}addInstrument(){const{history:e,match:t}=this.props,{language:n,region:r}=t.params;Sp.currentUser&&async function(e,t){const n=Bb(Cp);return(await Eb(xb(n,"".concat(e,"/users/").concat(t,"/instruments/")),{})).key}(r,Sp.currentUser.uid).then((t=>{e.push("/".concat(n,"/").concat(r,"/instruments/").concat(t))}))}editInstrument(e){const{history:t,match:n}=this.props,{language:r,region:i}=n.params;t.push("/".concat(r,"/").concat(i,"/instruments/").concat(e))}toggleModal(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.setState({modalKey:t,modalOpen:e})}render(){const{modalOpen:e,modalKey:t,loading:n,instruments:r}=this.state;return(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:3,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(V_,{open:e,onClose:()=>this.toggleModal(!1),onAccept:()=>this.handleDeleteInstrument(t),"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),(0,Ap.jsx)(Or,{variant:"h5",children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Instruments"}),(0,Ap.jsx)(Ip,{children:"Instruments"})]})})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Create instruments here that you can reuse in multiple metadata records."}),(0,Ap.jsx)(Ip,{children:"Ajoutez ici les personnes ressources que vous d\xe9sirez r\xe9utiliser pour la saisie d\u2019autres m\xe9tadonn\xe9es."})]})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(c_,{startIcon:(0,Ap.jsx)(u_,{}),onClick:()=>this.addInstrument(),children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Add instrument"}),(0,Ap.jsx)(Ip,{children:"ajouter un instrument"})]})})}),n?(0,Ap.jsx)(r_,{}):(0,Ap.jsx)(Ap.Fragment,{children:(0,Ap.jsx)(e_,{item:!0,xs:!0,children:r&&Object.keys(r).length?(0,Ap.jsxs)("div",{children:[(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"These are your instruments"}),(0,Ap.jsx)(Ip,{children:"Ce sont vos instruments"})]})}),(0,Ap.jsx)(ki,{children:Object.entries(r).map((e=>{let[t,n]=e;return(0,Ap.jsxs)(ko,{button:!0,onClick:()=>this.editInstrument(t),children:[(0,Ap.jsx)(Z_,{children:(0,Ap.jsx)($o,{children:(0,Ap.jsx)(rT,{})})}),(0,Ap.jsx)(Yo,{primary:aT({instrument:n})}),(0,Ap.jsxs)(X_,{children:[(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Edit",fr:"\xc9diter"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>this.editInstrument(t),children:(0,Ap.jsx)(tx,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Clone",fr:"Clone"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>this.handleCloneInstrument(t),children:(0,Ap.jsx)(ox,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Delete",fr:"Supprimer"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>this.toggleModal(!0,t),children:(0,Ap.jsx)(nx,{})})})})]})]},t)}))})]}):(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"No instruments submitted yet"}),(0,Ap.jsx)(Ip,{children:"Aucun instruments n'a encore \xe9t\xe9 soumis"})]})})})})]})}};const lT=class extends Ub{constructor(e){super(e),this.state={sharedRecords:{},loading:!1},this.unsubscribe=null,this.listenerRefs=[],this.handleCloneRecord=this.handleCloneRecord.bind(this)}async loadSharedRecords(){this.setState({loading:!0});const{match:e}=this.props,{region:t}=e.params,n=Bb();this.unsubscribe=nd(_p(Cp),(async e=>{if(e){const r=xb(n,"".concat(t,"/shares/").concat(e.uid));this.listenerRefs.push(r),Pb(r,(async e=>{const r=e.val(),i=[];Object.entries(r||{}).forEach((e=>{let[r,o]=e;Object.keys(o||{}).forEach((e=>{const o="".concat(t,"/users/").concat(r,"/records/").concat(e),a=Sb(xb(n,o)).then((t=>{const n=t.val();if(n)return{...n,recordID:e};throw new Error("No details found for record ".concat(e," by author ").concat(r))}));i.push(a)}))}));const o=(await Promise.all(i)).reduce(((e,t)=>(e[t.recordID]=t,e)),{});this.setState({sharedRecords:z_(o),loading:!1})})),this.listenerRefs.push(r)}}))}componentWillUnmount(){this.unsubscribeAndCloseListeners()}unsubscribeAndCloseListeners(){this.unsubscribe&&this.unsubscribe(),this.listenerRefs.length&&this.listenerRefs.forEach((e=>Ib(e)))}async componentDidMount(){this.loadSharedRecords()}editRecord(e,t){const{match:n,history:r}=this.props,{language:i,region:o}=n.params;r.push("/".concat(i,"/").concat(o,"/").concat(t,"/").concat(e))}handleCloneRecord(e,t){const{region:n}=this.props.match.params,{currentUser:r}=_p(Cp);r&&N_(e,t,r.uid,n)}render(){const{sharedRecords:e,loading:t}=this.state;return(0,Ap.jsxs)("div",{children:[(0,Ap.jsx)(Or,{variant:"h5",children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Shared with me"}),(0,Ap.jsx)(Ip,{children:"Partag\xe9 avec moi"})]})}),t?(0,Ap.jsx)(r_,{}):(0,Ap.jsxs)("span",{children:[(0,Ap.jsxs)("div",{children:[(0,Ap.jsx)(Or,{style:{marginTop:"20px"},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"The following records have been shared with you for editing."}),(0,Ap.jsx)(Ip,{children:"Les enregistrements suivants ont \xe9t\xe9 partag\xe9s avec vous pour modification."})]})}),(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"You can edit them, but you cannot submit or delete."}),(0,Ap.jsx)(Ip,{children:"Vous pouvez les modifier, mais vous ne pouvez pas les soumettre ou les supprimer."})]})}),(0,Ap.jsx)(ki,{children:Object.entries(e||{}).sort(((e,t)=>new Date(t[1].created)-new Date(e[1].created))).map((e=>{let[t,n]=e;const{title:r}=n;return null!==r&&void 0!==r&&r.en||null===r||void 0===r||!r.fr?(0,Ap.jsx)(eT,{record:n,showCloneAction:!0,onCloneClick:()=>this.handleCloneRecord(t,n.userID),showEditAction:!0,showPercentComplete:!0,onViewEditClick:()=>this.editRecord(t,n.userID)},t):null}))})]}),!e&&(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"You don't have any records shared with you."}),(0,Ap.jsx)(Ip,{children:"Vous n'avez aucun enregistrement partag\xe9 avec vous."})]})})]})]})}},cT=()=>(0,Ap.jsx)("div",{children:(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Please sign in to access your metadata records. You will need a Google account to login."}),(0,Ap.jsx)(Ip,{children:"Connectez-vous pour acc\xe9der \xe0 l'historique de saisie de vos m\xe9tadonn\xe9es. Vous aurez besoin d'un compte Google pour vous connecter."})]})})});var uT=n(208);function dT(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}function pT(e){var t=function(t){var n=e(t);return t.css?(0,at.c)({},(0,uT.c)(n,e((0,at.c)({theme:t.theme},t.css))),dT(t.css,[e.filterProps])):t.sx?(0,at.c)({},(0,uT.c)(n,e((0,at.c)({theme:t.theme},t.sx))),dT(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat((0,cr.c)(e.filterProps)),t}const hT=pT;const fT=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){return t.reduce((function(t,n){var r=n(e);return r?(0,uT.c)(t,r):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r};var mT=n(1880);function gT(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}const vT=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,o=e.transform,a=function(e){if(null==e[t])return null;var n=e[t],a=gT(e.theme,i)||{};return(0,mT.l)(e,n,(function(e){var t;return"function"===typeof a?t=a(e):Array.isArray(a)?t=a[e]||e:(t=gT(a,e)||e,o&&(t=o(t))),!1===r?t:(0,nr.c)({},r,t)}))};return a.propTypes={},a.filterProps=[t],a};function bT(e){return"number"!==typeof e?e:"".concat(e,"px solid")}const yT=fT(vT({prop:"border",themeKey:"borders",transform:bT}),vT({prop:"borderTop",themeKey:"borders",transform:bT}),vT({prop:"borderRight",themeKey:"borders",transform:bT}),vT({prop:"borderBottom",themeKey:"borders",transform:bT}),vT({prop:"borderLeft",themeKey:"borders",transform:bT}),vT({prop:"borderColor",themeKey:"palette"}),vT({prop:"borderRadius",themeKey:"shape"}));const _T=fT(vT({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),vT({prop:"display"}),vT({prop:"overflow"}),vT({prop:"textOverflow"}),vT({prop:"visibility"}),vT({prop:"whiteSpace"}));const xT=fT(vT({prop:"flexBasis"}),vT({prop:"flexDirection"}),vT({prop:"flexWrap"}),vT({prop:"justifyContent"}),vT({prop:"alignItems"}),vT({prop:"alignContent"}),vT({prop:"order"}),vT({prop:"flex"}),vT({prop:"flexGrow"}),vT({prop:"flexShrink"}),vT({prop:"alignSelf"}),vT({prop:"justifyItems"}),vT({prop:"justifySelf"}));const wT=fT(vT({prop:"gridGap"}),vT({prop:"gridColumnGap"}),vT({prop:"gridRowGap"}),vT({prop:"gridColumn"}),vT({prop:"gridRow"}),vT({prop:"gridAutoFlow"}),vT({prop:"gridAutoColumns"}),vT({prop:"gridAutoRows"}),vT({prop:"gridTemplateColumns"}),vT({prop:"gridTemplateRows"}),vT({prop:"gridTemplateAreas"}),vT({prop:"gridArea"}));const ET=fT(vT({prop:"position"}),vT({prop:"zIndex",themeKey:"zIndex"}),vT({prop:"top"}),vT({prop:"right"}),vT({prop:"bottom"}),vT({prop:"left"}));const TT=fT(vT({prop:"color",themeKey:"palette"}),vT({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}));const CT=vT({prop:"boxShadow",themeKey:"shadows"});function kT(e){return e<=1?"".concat(100*e,"%"):e}var ST=vT({prop:"width",transform:kT}),OT=vT({prop:"maxWidth",transform:kT}),AT=vT({prop:"minWidth",transform:kT}),jT=vT({prop:"height",transform:kT}),PT=vT({prop:"maxHeight",transform:kT}),IT=vT({prop:"minHeight",transform:kT});vT({prop:"size",cssProperty:"width",transform:kT}),vT({prop:"size",cssProperty:"height",transform:kT});const LT=fT(ST,OT,AT,jT,PT,IT,vT({prop:"boxSizing"}));var RT=n(6304);const NT=fT(vT({prop:"fontFamily",themeKey:"typography"}),vT({prop:"fontSize",themeKey:"typography"}),vT({prop:"fontStyle",themeKey:"typography"}),vT({prop:"fontWeight",themeKey:"typography"}),vT({prop:"letterSpacing"}),vT({prop:"lineHeight"}),vT({prop:"textAlign"}));function DT(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,o=(0,Yn.c)(n,["name"]);var a,s=r,l="function"===typeof t?function(e){return{root:function(n){return t((0,at.c)({theme:e},n))}}}:{root:t},c=(0,Sn.c)(l,(0,at.c)({Component:e,name:r||e.displayName,classNamePrefix:s},o));t.filterProps&&(a=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var u=i.forwardRef((function(t,n){var r=t.children,o=t.className,s=t.clone,l=t.component,u=(0,Yn.c)(t,["children","className","clone","component"]),d=c(t),p=(0,kn.c)(d.root,o),h=u;if(a&&(h=function(e,t){var n={};return Object.keys(e).forEach((function(r){-1===t.indexOf(r)&&(n[r]=e[r])})),n}(h,a)),s)return i.cloneElement(r,(0,at.c)({className:(0,kn.c)(r.props.className,p)},h));if("function"===typeof r)return r((0,at.c)({className:p},h));var f=l||e;return i.createElement(f,(0,at.c)({ref:n,className:p},h),r)}));return Qt()(u,e),u}}const MT=function(e){var t=DT(e);return function(e,n){return t(e,(0,at.c)({defaultTheme:On.c},n))}};var BT=hT(fT(yT,_T,xT,wT,ET,TT,CT,LT,RT.c,NT));const QT=MT("div")(BT,{name:"MuiBox"});var UT=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.color,a=void 0===o?"primary":o,s=e.value,l=e.valueBuffer,c=e.variant,u=void 0===c?"indeterminate":c,d=(0,Yn.c)(e,["classes","className","color","value","valueBuffer","variant"]),p=Pn(),h={},f={bar1:{},bar2:{}};if("determinate"===u||"buffer"===u)if(void 0!==s){h["aria-valuenow"]=Math.round(s),h["aria-valuemin"]=0,h["aria-valuemax"]=100;var m=s-100;"rtl"===p.direction&&(m=-m),f.bar1.transform="translateX(".concat(m,"%)")}else 0;if("buffer"===u)if(void 0!==l){var g=(l||0)-100;"rtl"===p.direction&&(g=-g),f.bar2.transform="translateX(".concat(g,"%)")}else 0;return i.createElement("div",(0,at.c)({className:(0,kn.c)(n.root,n["color".concat((0,Zn.c)(a))],r,{determinate:n.determinate,indeterminate:n.indeterminate,buffer:n.buffer,query:n.query}[u]),role:"progressbar"},h,{ref:t},d),"buffer"===u?i.createElement("div",{className:(0,kn.c)(n.dashed,n["dashedColor".concat((0,Zn.c)(a))])}):null,i.createElement("div",{className:(0,kn.c)(n.bar,n["barColor".concat((0,Zn.c)(a))],("indeterminate"===u||"query"===u)&&n.bar1Indeterminate,{determinate:n.bar1Determinate,buffer:n.bar1Buffer}[u]),style:f.bar1}),"determinate"===u?null:i.createElement("div",{className:(0,kn.c)(n.bar,("indeterminate"===u||"query"===u)&&n.bar2Indeterminate,"buffer"===u?[n["color".concat((0,Zn.c)(a))],n.bar2Buffer]:n["barColor".concat((0,Zn.c)(a))]),style:f.bar2}))}));const FT=(0,Gn.c)((function(e){var t=function(t){return"light"===e.palette.type?(0,or.IV)(t,.62):(0,or.sP)(t,.5)},n=t(e.palette.primary.main),r=t(e.palette.secondary.main);return{root:{position:"relative",overflow:"hidden",height:4,"@media print":{colorAdjust:"exact"}},colorPrimary:{backgroundColor:n},colorSecondary:{backgroundColor:r},determinate:{},indeterminate:{},buffer:{backgroundColor:"transparent"},query:{transform:"rotate(180deg)"},dashed:{position:"absolute",marginTop:0,height:"100%",width:"100%",animation:"$buffer 3s infinite linear"},dashedColorPrimary:{backgroundImage:"radial-gradient(".concat(n," 0%, ").concat(n," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},dashedColorSecondary:{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"},bar:{width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},barColorPrimary:{backgroundColor:e.palette.primary.main},barColorSecondary:{backgroundColor:e.palette.secondary.main},bar1Indeterminate:{width:"auto",animation:"$indeterminate1 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite"},bar1Determinate:{transition:"transform .".concat(4,"s linear")},bar1Buffer:{zIndex:1,transition:"transform .".concat(4,"s linear")},bar2Indeterminate:{width:"auto",animation:"$indeterminate2 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite"},bar2Buffer:{transition:"transform .".concat(4,"s linear")},"@keyframes indeterminate1":{"0%":{left:"-35%",right:"100%"},"60%":{left:"100%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},"@keyframes indeterminate2":{"0%":{left:"-200%",right:"100%"},"60%":{left:"107%",right:"-8%"},"100%":{left:"107%",right:"-8%"}},"@keyframes buffer":{"0%":{opacity:1,backgroundPosition:"0 -23px"},"50%":{opacity:0,backgroundPosition:"0 -23px"},"100%":{opacity:1,backgroundPosition:"-200px -23px"}}}}),{name:"MuiLinearProgress"})(UT);var zT=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.color,s=void 0===a?"default":a,l=e.component,c=void 0===l?"button":l,u=e.disabled,d=void 0!==u&&u,p=e.disableFocusRipple,h=void 0!==p&&p,f=e.focusVisibleClassName,m=e.size,g=void 0===m?"large":m,v=e.variant,b=void 0===v?"circular":v,y=(0,Yn.c)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return i.createElement(Er,(0,at.c)({className:(0,kn.c)(r.root,o,"large"!==g&&r["size".concat((0,Zn.c)(g))],d&&r.disabled,"extended"===b&&r.extended,{primary:r.primary,secondary:r.secondary,inherit:r.colorInherit}[s]),component:c,disabled:d,focusRipple:!h,focusVisibleClassName:(0,kn.c)(r.focusVisible,f),ref:t},y),i.createElement("span",{className:r.label},n))}));const qT=(0,Gn.c)((function(e){return{root:(0,at.c)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(zT);var HT;function WT(){if(HT)return HT;var e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),HT="reverse",e.scrollLeft>0?HT="default":(e.scrollLeft=1,0===e.scrollLeft&&(HT="negative")),document.body.removeChild(e),HT}function GT(e,t){var n=e.scrollLeft;if("rtl"!==t)return n;switch(WT()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function VT(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var $T={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function KT(e){var t=e.onChange,n=(0,Yn.c)(e,["onChange"]),r=i.useRef(),o=i.useRef(null),a=function(){r.current=o.current.offsetHeight-o.current.clientHeight};return i.useEffect((function(){var e=(0,Rr.c)((function(){var e=r.current;a(),e!==r.current&&t(r.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}),[t]),i.useEffect((function(){a(),t(r.current)}),[t]),i.createElement("div",(0,at.c)({style:$T,ref:o},n))}var YT=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.color,a=e.orientation,s=(0,Yn.c)(e,["classes","className","color","orientation"]);return i.createElement("span",(0,at.c)({className:(0,kn.c)(n.root,n["color".concat((0,Zn.c)(o))],r,"vertical"===a&&n.vertical),ref:t},s))}));const ZT=(0,Gn.c)((function(e){return{root:{position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create()},colorPrimary:{backgroundColor:e.palette.primary.main},colorSecondary:{backgroundColor:e.palette.secondary.main},vertical:{height:"100%",width:2,right:0}}}),{name:"PrivateTabIndicator"})(YT),JT=(0,In.c)(i.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),XT=(0,In.c)(i.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");var eC=i.createElement(JT,{fontSize:"small"}),tC=i.createElement(XT,{fontSize:"small"}),nC=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.direction,a=e.orientation,s=e.disabled,l=(0,Yn.c)(e,["classes","className","direction","orientation","disabled"]);return i.createElement(Er,(0,at.c)({component:"div",className:(0,kn.c)(n.root,r,s&&n.disabled,"vertical"===a&&n.vertical),ref:t,role:null,tabIndex:null},l),"left"===o?eC:tC)}));const rC=(0,Gn.c)({root:{width:40,flexShrink:0,opacity:.8,"&$disabled":{opacity:0}},vertical:{width:"100%",height:40,"& svg":{transform:"rotate(90deg)"}},disabled:{}},{name:"MuiTabScrollButton"})(nC);var iC=i.forwardRef((function(e,t){var n=e["aria-label"],r=e["aria-labelledby"],o=e.action,a=e.centered,s=void 0!==a&&a,l=e.children,c=e.classes,u=e.className,d=e.component,p=void 0===d?"div":d,h=e.indicatorColor,f=void 0===h?"secondary":h,m=e.onChange,g=e.orientation,v=void 0===g?"horizontal":g,b=e.ScrollButtonComponent,y=void 0===b?rC:b,_=e.scrollButtons,x=void 0===_?"auto":_,w=e.selectionFollowsFocus,E=e.TabIndicatorProps,T=void 0===E?{}:E,C=e.TabScrollButtonProps,k=e.textColor,S=void 0===k?"inherit":k,O=e.value,A=e.variant,j=void 0===A?"standard":A,P=(0,Yn.c)(e,["aria-label","aria-labelledby","action","centered","children","classes","className","component","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant"]),I=Pn(),L="scrollable"===j,R="rtl"===I.direction,N="vertical"===v,D=N?"scrollTop":"scrollLeft",M=N?"top":"left",B=N?"bottom":"right",Q=N?"clientHeight":"clientWidth",U=N?"height":"width";var F=i.useState(!1),z=F[0],q=F[1],H=i.useState({}),W=H[0],G=H[1],V=i.useState({start:!1,end:!1}),$=V[0],K=V[1],Y=i.useState({overflow:"hidden",marginBottom:null}),Z=Y[0],J=Y[1],X=new Map,ee=i.useRef(null),te=i.useRef(null),ne=function(){var e,t,n=ee.current;if(n){var r=n.getBoundingClientRect();e={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollLeftNormalized:GT(n,I.direction),scrollWidth:n.scrollWidth,top:r.top,bottom:r.bottom,left:r.left,right:r.right}}if(n&&!1!==O){var i=te.current.children;if(i.length>0){var o=i[X.get(O)];0,t=o?o.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},re=(0,sr.c)((function(){var e,t=ne(),n=t.tabsMeta,r=t.tabMeta,i=0;if(r&&n)if(N)i=r.top-n.top+n.scrollTop;else{var o=R?n.scrollLeftNormalized+n.clientWidth-n.scrollWidth:n.scrollLeft;i=r.left-n.left+o}var a=(e={},(0,nr.c)(e,M,i),(0,nr.c)(e,U,r?r[U]:0),e);if(isNaN(W[M])||isNaN(W[U]))G(a);else{var s=Math.abs(W[M]-a[M]),l=Math.abs(W[U]-a[U]);(s>=1||l>=1)&&G(a)}})),ie=function(e){!function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=r.ease,a=void 0===o?VT:o,s=r.duration,l=void 0===s?300:s,c=null,u=t[e],d=!1,p=function(){d=!0};u===n?i(new Error("Element already at target position")):requestAnimationFrame((function r(o){if(d)i(new Error("Animation cancelled"));else{null===c&&(c=o);var s=Math.min(1,(o-c)/l);t[e]=a(s)*(n-u)+u,s>=1?requestAnimationFrame((function(){i(null)})):requestAnimationFrame(r)}}))}(D,ee.current,e)},oe=function(e){var t=ee.current[D];N?t+=e:(t+=e*(R?-1:1),t*=R&&"reverse"===WT()?-1:1),ie(t)},ae=function(){oe(-ee.current[Q])},se=function(){oe(ee.current[Q])},le=i.useCallback((function(e){J({overflow:null,marginBottom:-e})}),[]),ce=(0,sr.c)((function(){var e=ne(),t=e.tabsMeta,n=e.tabMeta;if(n&&t)if(n[M]<t[M]){var r=t[D]+(n[M]-t[M]);ie(r)}else if(n[B]>t[B]){var i=t[D]+(n[B]-t[B]);ie(i)}})),ue=(0,sr.c)((function(){if(L&&"off"!==x){var e,t,n=ee.current,r=n.scrollTop,i=n.scrollHeight,o=n.clientHeight,a=n.scrollWidth,s=n.clientWidth;if(N)e=r>1,t=r<i-o-1;else{var l=GT(ee.current,I.direction);e=R?l<a-s-1:l>1,t=R?l>1:l<a-s-1}e===$.start&&t===$.end||K({start:e,end:t})}}));i.useEffect((function(){var e=(0,Rr.c)((function(){re(),ue()})),t=(0,Nr.c)(ee.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}),[re,ue]);var de=i.useCallback((0,Rr.c)((function(){ue()})));i.useEffect((function(){return function(){de.clear()}}),[de]),i.useEffect((function(){q(!0)}),[]),i.useEffect((function(){re(),ue()})),i.useEffect((function(){ce()}),[ce,W]),i.useImperativeHandle(o,(function(){return{updateIndicator:re,updateScrollButtons:ue}}),[re,ue]);var pe=i.createElement(ZT,(0,at.c)({className:c.indicator,orientation:v,color:f},T,{style:(0,at.c)({},W,T.style)})),he=0,fe=i.Children.map(l,(function(e){if(!i.isValidElement(e))return null;var t=void 0===e.props.value?he:e.props.value;X.set(t,he);var n=t===O;return he+=1,i.cloneElement(e,{fullWidth:"fullWidth"===j,indicator:n&&!z&&pe,selected:n,selectionFollowsFocus:w,onChange:m,textColor:S,value:t})})),me=function(){var e={};e.scrollbarSizeListener=L?i.createElement(KT,{className:c.scrollable,onChange:le}):null;var t=$.start||$.end,n=L&&("auto"===x&&t||"desktop"===x||"on"===x);return e.scrollButtonStart=n?i.createElement(y,(0,at.c)({orientation:v,direction:R?"right":"left",onClick:ae,disabled:!$.start,className:(0,kn.c)(c.scrollButtons,"on"!==x&&c.scrollButtonsDesktop)},C)):null,e.scrollButtonEnd=n?i.createElement(y,(0,at.c)({orientation:v,direction:R?"left":"right",onClick:se,disabled:!$.end,className:(0,kn.c)(c.scrollButtons,"on"!==x&&c.scrollButtonsDesktop)},C)):null,e}();return i.createElement(p,(0,at.c)({className:(0,kn.c)(c.root,u,N&&c.vertical),ref:t},P),me.scrollButtonStart,me.scrollbarSizeListener,i.createElement("div",{className:(0,kn.c)(c.scroller,L?c.scrollable:c.fixed),style:Z,ref:ee,onScroll:de},i.createElement("div",{"aria-label":n,"aria-labelledby":r,className:(0,kn.c)(c.flexContainer,N&&c.flexContainerVertical,s&&!L&&c.centered),onKeyDown:function(e){var t=e.target;if("tab"===t.getAttribute("role")){var n=null,r="vertical"!==v?"ArrowLeft":"ArrowUp",i="vertical"!==v?"ArrowRight":"ArrowDown";switch("vertical"!==v&&"rtl"===I.direction&&(r="ArrowRight",i="ArrowLeft"),e.key){case r:n=t.previousElementSibling||te.current.lastChild;break;case i:n=t.nextElementSibling||te.current.firstChild;break;case"Home":n=te.current.firstChild;break;case"End":n=te.current.lastChild}null!==n&&(n.focus(),e.preventDefault())}},ref:te,role:"tablist"},fe),z&&pe),me.scrollButtonEnd)}));const oC=(0,Gn.c)((function(e){return{root:{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},vertical:{flexDirection:"column"},flexContainer:{display:"flex"},flexContainerVertical:{flexDirection:"column"},centered:{justifyContent:"center"},scroller:{position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},fixed:{overflowX:"hidden",width:"100%"},scrollable:{overflowX:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},scrollButtons:{},scrollButtonsDesktop:(0,nr.c)({},e.breakpoints.down("xs"),{display:"none"}),indicator:{}}}),{name:"MuiTabs"})(iC);var aC=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.disabled,a=void 0!==o&&o,s=e.disableFocusRipple,l=void 0!==s&&s,c=e.fullWidth,u=e.icon,d=e.indicator,p=e.label,h=e.onChange,f=e.onClick,m=e.onFocus,g=e.selected,v=e.selectionFollowsFocus,b=e.textColor,y=void 0===b?"inherit":b,_=e.value,x=e.wrapped,w=void 0!==x&&x,E=(0,Yn.c)(e,["classes","className","disabled","disableFocusRipple","fullWidth","icon","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"]);return i.createElement(Er,(0,at.c)({focusRipple:!l,className:(0,kn.c)(n.root,n["textColor".concat((0,Zn.c)(y))],r,a&&n.disabled,g&&n.selected,p&&u&&n.labelIcon,c&&n.fullWidth,w&&n.wrapped),ref:t,role:"tab","aria-selected":g,disabled:a,onClick:function(e){h&&h(e,_),f&&f(e)},onFocus:function(e){v&&!g&&h&&h(e,_),m&&m(e)},tabIndex:g?0:-1},E),i.createElement("span",{className:n.wrapper},u,p),d)}));const sC=(0,Gn.c)((function(e){var t;return{root:(0,at.c)({},e.typography.button,(t={maxWidth:264,minWidth:72,position:"relative",boxSizing:"border-box",minHeight:48,flexShrink:0,padding:"6px 12px"},(0,nr.c)(t,e.breakpoints.up("sm"),{padding:"6px 24px"}),(0,nr.c)(t,"overflow","hidden"),(0,nr.c)(t,"whiteSpace","normal"),(0,nr.c)(t,"textAlign","center"),(0,nr.c)(t,e.breakpoints.up("sm"),{minWidth:160}),t)),labelIcon:{minHeight:72,paddingTop:9,"& $wrapper > *:first-child":{marginBottom:6}},textColorInherit:{color:"inherit",opacity:.7,"&$selected":{opacity:1},"&$disabled":{opacity:.5}},textColorPrimary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled}},textColorSecondary:{color:e.palette.text.secondary,"&$selected":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.text.disabled}},selected:{},disabled:{},fullWidth:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},wrapped:{fontSize:e.typography.pxToRem(12),lineHeight:1.5},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"}}}),{name:"MuiTab"})(aC),lC=(0,In.c)(i.createElement("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save"),cC=(0,In.c)(i.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function uC(e){return"Backspace"===e.key||"Delete"===e.key}var dC=i.forwardRef((function(e,t){var n=e.avatar,r=e.classes,o=e.className,a=e.clickable,s=e.color,l=void 0===s?"default":s,c=e.component,u=e.deleteIcon,d=e.disabled,p=void 0!==d&&d,h=e.icon,f=e.label,m=e.onClick,g=e.onDelete,v=e.onKeyDown,b=e.onKeyUp,y=e.size,_=void 0===y?"medium":y,x=e.variant,w=void 0===x?"default":x,E=(0,Yn.c)(e,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),T=i.useRef(null),C=(0,ar.c)(T,t),k=function(e){e.stopPropagation(),g&&g(e)},S=!(!1===a||!m)||a,O="small"===_,A=c||(S?Er:"div"),j=A===Er?{component:"div"}:{},P=null;if(g){var I=(0,kn.c)("default"!==l&&("default"===w?r["deleteIconColor".concat((0,Zn.c)(l))]:r["deleteIconOutlinedColor".concat((0,Zn.c)(l))]),O&&r.deleteIconSmall);P=u&&i.isValidElement(u)?i.cloneElement(u,{className:(0,kn.c)(u.props.className,r.deleteIcon,I),onClick:k}):i.createElement(cC,{className:(0,kn.c)(r.deleteIcon,I),onClick:k})}var L=null;n&&i.isValidElement(n)&&(L=i.cloneElement(n,{className:(0,kn.c)(r.avatar,n.props.className,O&&r.avatarSmall,"default"!==l&&r["avatarColor".concat((0,Zn.c)(l))])}));var R=null;return h&&i.isValidElement(h)&&(R=i.cloneElement(h,{className:(0,kn.c)(r.icon,h.props.className,O&&r.iconSmall,"default"!==l&&r["iconColor".concat((0,Zn.c)(l))])})),i.createElement(A,(0,at.c)({role:S||g?"button":void 0,className:(0,kn.c)(r.root,o,"default"!==l&&[r["color".concat((0,Zn.c)(l))],S&&r["clickableColor".concat((0,Zn.c)(l))],g&&r["deletableColor".concat((0,Zn.c)(l))]],"default"!==w&&[r.outlined,{primary:r.outlinedPrimary,secondary:r.outlinedSecondary}[l]],p&&r.disabled,O&&r.sizeSmall,S&&r.clickable,g&&r.deletable),"aria-disabled":!!p||void 0,tabIndex:S||g?0:void 0,onClick:m,onKeyDown:function(e){e.currentTarget===e.target&&uC(e)&&e.preventDefault(),v&&v(e)},onKeyUp:function(e){e.currentTarget===e.target&&(g&&uC(e)?g(e):"Escape"===e.key&&T.current&&T.current.blur()),b&&b(e)},ref:C},j,E),L||R,i.createElement("span",{className:(0,kn.c)(r.label,O&&r.labelSmall)},f),P)}));const pC=(0,Gn.c)((function(e){var t="light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],n=(0,or.W4)(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(t),backgroundColor:t,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(12)},"& $avatarColorPrimary":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},"& $avatarColorSecondary":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:(0,or.ct)(t,.08)},"&:active":{boxShadow:e.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:(0,or.ct)(e.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:(0,or.ct)(e.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:(0,or.ct)(t,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:(0,or.ct)(e.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:(0,or.ct)(e.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,or.W4)(e.palette.text.primary,e.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,or.W4)(e.palette.primary.main,e.palette.action.hoverOpacity)}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(e.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:(0,or.W4)(e.palette.secondary.main,e.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:n,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:(0,or.W4)(n,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:(0,or.W4)(e.palette.primary.contrastText,.7),"&:hover, &:active":{color:e.palette.primary.contrastText}},deleteIconColorSecondary:{color:(0,or.W4)(e.palette.secondary.contrastText,.7),"&:hover, &:active":{color:e.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:(0,or.W4)(e.palette.primary.main,.7),"&:hover, &:active":{color:e.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:(0,or.W4)(e.palette.secondary.main,.7),"&:hover, &:active":{color:e.palette.secondary.main}}}}),{name:"MuiChip"})(dC),hC=e=>{let{status:t}=e,n="";return n="submitted"===t?(0,Ap.jsx)(Lp,{en:"Submitted",fr:"Soumis"}):"published"===t?(0,Ap.jsx)(Lp,{en:"Published",fr:"Publi\xe9"}):(0,Ap.jsx)(Lp,{en:"Draft",fr:"Brouillon"}),(0,Ap.jsx)(pC,{label:n,variant:"outlined"})},fC=()=>(0,Ap.jsx)("div",{children:(0,Ap.jsx)(Or,{variant:"h5",children:"Not Found / Non trouv\xe9"})});var mC=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.color,s=void 0===a?"primary":a,l=e.component,c=void 0===l?"div":l,u=e.disabled,d=void 0!==u&&u,p=e.error,h=void 0!==p&&p,f=e.fullWidth,m=void 0!==f&&f,g=e.focused,v=e.hiddenLabel,b=void 0!==v&&v,y=e.margin,_=void 0===y?"none":y,x=e.required,w=void 0!==x&&x,E=e.size,T=e.variant,C=void 0===T?"standard":T,k=(0,Yn.c)(e,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),S=i.useState((function(){var e=!1;return n&&i.Children.forEach(n,(function(t){if((0,Eo.c)(t,["Input","Select"])){var n=(0,Eo.c)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),O=S[0],A=S[1],j=i.useState((function(){var e=!1;return n&&i.Children.forEach(n,(function(t){(0,Eo.c)(t,["Input","Select"])&&Qi(t.props,!0)&&(e=!0)})),e})),P=j[0],I=j[1],L=i.useState(!1),R=L[0],N=L[1],D=void 0!==g?g:R;d&&D&&N(!1);var M=i.useCallback((function(){I(!0)}),[]),B={adornedStart:O,setAdornedStart:A,color:s,disabled:d,error:h,filled:P,focused:D,fullWidth:m,hiddenLabel:b,margin:("small"===E?"dense":void 0)||_,onBlur:function(){N(!1)},onEmpty:i.useCallback((function(){I(!1)}),[]),onFilled:M,onFocus:function(){N(!0)},registerEffect:undefined,required:w,variant:C};return i.createElement(Vi.Provider,{value:B},i.createElement(c,(0,at.c)({className:(0,kn.c)(r.root,o,"none"!==_&&r["margin".concat((0,Zn.c)(_))],m&&r.fullWidth),ref:t},k),n))}));const gC=(0,Gn.c)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(mC);var vC=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=(e.color,e.component),s=void 0===a?"label":a,l=(e.disabled,e.error,e.filled,e.focused,e.required,(0,Yn.c)(e,["children","classes","className","color","component","disabled","error","filled","focused","required"])),c=Hi({props:e,muiFormControl:$i(),states:["color","required","focused","disabled","error","filled"]});return i.createElement(s,(0,at.c)({className:(0,kn.c)(r.root,r["color".concat((0,Zn.c)(c.color||"primary"))],o,c.disabled&&r.disabled,c.error&&r.error,c.filled&&r.filled,c.focused&&r.focused,c.required&&r.required),ref:t},l),n,c.required&&i.createElement("span",{"aria-hidden":!0,className:(0,kn.c)(r.asterisk,c.error&&r.error)},"\u2009","*"))}));const bC=(0,Gn.c)((function(e){return{root:(0,at.c)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:e.palette.primary.main},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),colorSecondary:{"&$focused":{color:e.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}}),{name:"MuiFormLabel"})(vC);var yC=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.disableAnimation,a=void 0!==o&&o,s=(e.margin,e.shrink),l=(e.variant,(0,Yn.c)(e,["classes","className","disableAnimation","margin","shrink","variant"])),c=$i(),u=s;"undefined"===typeof u&&c&&(u=c.filled||c.focused||c.adornedStart);var d=Hi({props:e,muiFormControl:c,states:["margin","variant"]});return i.createElement(bC,(0,at.c)({"data-shrink":u,className:(0,kn.c)(n.root,r,c&&n.formControl,!a&&n.animated,u&&n.shrink,"dense"===d.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[d.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:t},l))}));const _C=(0,Gn.c)((function(e){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:e.transitions.create(["color","transform"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(yC);var xC=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.component,s=void 0===a?"p":a,l=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,(0,Yn.c)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),c=Hi({props:e,muiFormControl:$i(),states:["variant","margin","disabled","error","filled","focused","required"]});return i.createElement(s,(0,at.c)({className:(0,kn.c)(r.root,("filled"===c.variant||"outlined"===c.variant)&&r.contained,o,c.disabled&&r.disabled,c.error&&r.error,c.filled&&r.filled,c.focused&&r.focused,c.required&&r.required,"dense"===c.margin&&r.marginDense),ref:t},l)," "===n?i.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)}));const wC=(0,Gn.c)((function(e){return{root:(0,at.c)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(xC);var EC={standard:oo,filled:ho,outlined:vo},TC=i.forwardRef((function(e,t){var n=e.autoComplete,r=e.autoFocus,o=void 0!==r&&r,a=e.children,s=e.classes,l=e.className,c=e.color,u=void 0===c?"primary":c,d=e.defaultValue,p=e.disabled,h=void 0!==p&&p,f=e.error,m=void 0!==f&&f,g=e.FormHelperTextProps,v=e.fullWidth,b=void 0!==v&&v,y=e.helperText,_=e.hiddenLabel,x=e.id,w=e.InputLabelProps,E=e.inputProps,T=e.InputProps,C=e.inputRef,k=e.label,S=e.multiline,O=void 0!==S&&S,A=e.name,j=e.onBlur,P=e.onChange,I=e.onFocus,L=e.placeholder,R=e.required,N=void 0!==R&&R,D=e.rows,M=e.rowsMax,B=e.maxRows,Q=e.minRows,U=e.select,F=void 0!==U&&U,z=e.SelectProps,q=e.type,H=e.value,W=e.variant,G=void 0===W?"standard":W,V=(0,Yn.c)(e,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","maxRows","minRows","select","SelectProps","type","value","variant"]);var $={};if("outlined"===G&&(w&&"undefined"!==typeof w.shrink&&($.notched=w.shrink),k)){var K,Y=null!==(K=null===w||void 0===w?void 0:w.required)&&void 0!==K?K:N;$.label=i.createElement(i.Fragment,null,k,Y&&"\xa0*")}F&&(z&&z.native||($.id=void 0),$["aria-describedby"]=void 0);var Z=y&&x?"".concat(x,"-helper-text"):void 0,J=k&&x?"".concat(x,"-label"):void 0,X=EC[G],ee=i.createElement(X,(0,at.c)({"aria-describedby":Z,autoComplete:n,autoFocus:o,defaultValue:d,fullWidth:b,multiline:O,name:A,rows:D,rowsMax:M,maxRows:B,minRows:Q,type:q,value:H,id:x,inputRef:C,onBlur:j,onChange:P,onFocus:I,placeholder:L,inputProps:E},$,T));return i.createElement(gC,(0,at.c)({className:(0,kn.c)(s.root,l),disabled:h,error:m,fullWidth:b,hiddenLabel:_,ref:t,required:N,color:u,variant:G},V),k&&i.createElement(_C,(0,at.c)({htmlFor:x,id:J},w),k),F?i.createElement(wo,(0,at.c)({"aria-describedby":Z,id:x,labelId:J,value:H,input:ee},z),a):ee,y&&i.createElement(wC,(0,at.c)({id:Z},g),y))}));const CC=(0,Gn.c)({root:{}},{name:"MuiTextField"})(TC);var kC=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.component,s=void 0===a?"div":a,l=e.disablePointerEvents,c=void 0!==l&&l,u=e.disableTypography,d=void 0!==u&&u,p=e.position,h=e.variant,f=(0,Yn.c)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),m=Gi()||{},g=h;return h&&m.variant,m&&!g&&(g=m.variant),i.createElement(Vi.Provider,{value:null},i.createElement(s,(0,at.c)({className:(0,kn.c)(r.root,o,"end"===p?r.positionEnd:r.positionStart,c&&r.disablePointerEvents,m.hiddenLabel&&r.hiddenLabel,"filled"===g&&r.filled,"dense"===m.margin&&r.marginDense),ref:t},f),"string"!==typeof n||d?n:i.createElement(Or,{color:"textSecondary"},n)))}));const SC=(0,Gn.c)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(kC);var OC=i.forwardRef((function(e,t){e.checked;var n=e.classes,r=e.className,o=e.control,a=e.disabled,s=(e.inputRef,e.label),l=e.labelPlacement,c=void 0===l?"end":l,u=(e.name,e.onChange,e.value,(0,Yn.c)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),d=$i(),p=a;"undefined"===typeof p&&"undefined"!==typeof o.props.disabled&&(p=o.props.disabled),"undefined"===typeof p&&d&&(p=d.disabled);var h={disabled:p};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof o.props[t]&&"undefined"!==typeof e[t]&&(h[t]=e[t])})),i.createElement("label",(0,at.c)({className:(0,kn.c)(n.root,r,"end"!==c&&n["labelPlacement".concat((0,Zn.c)(c))],p&&n.disabled),ref:t},u),i.cloneElement(o,h),i.createElement(Or,{component:"span",className:(0,kn.c)(n.label,p&&n.disabled)},s))}));const AC=(0,Gn.c)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(OC);var jC=i.forwardRef((function(e,t){var n=e.autoFocus,r=e.checked,o=e.checkedIcon,a=e.classes,s=e.className,l=e.defaultChecked,c=e.disabled,u=e.icon,d=e.id,p=e.inputProps,h=e.inputRef,f=e.name,m=e.onBlur,g=e.onChange,v=e.onFocus,b=e.readOnly,y=e.required,_=e.tabIndex,x=e.type,w=e.value,E=(0,Yn.c)(e,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),T=(0,Ui.c)({controlled:r,default:Boolean(l),name:"SwitchBase",state:"checked"}),C=(0,jr.c)(T,2),k=C[0],S=C[1],O=$i(),A=c;O&&"undefined"===typeof A&&(A=O.disabled);var j="checkbox"===x||"radio"===x;return i.createElement(Cr,(0,at.c)({component:"span",className:(0,kn.c)(a.root,s,k&&a.checked,A&&a.disabled),disabled:A,tabIndex:null,role:void 0,onFocus:function(e){v&&v(e),O&&O.onFocus&&O.onFocus(e)},onBlur:function(e){m&&m(e),O&&O.onBlur&&O.onBlur(e)},ref:t},E),i.createElement("input",(0,at.c)({autoFocus:n,checked:r,defaultChecked:l,className:a.input,disabled:A,id:j&&d,name:f,onChange:function(e){var t=e.target.checked;S(t),g&&g(e,t)},readOnly:b,ref:h,required:y,tabIndex:_,type:x,value:w},p)),k?o:u)}));const PC=(0,Gn.c)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(jC),IC=(0,In.c)(i.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),LC=(0,In.c)(i.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),RC=(0,In.c)(i.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");var NC=i.createElement(LC,null),DC=i.createElement(IC,null),MC=i.createElement(RC,null),BC=i.forwardRef((function(e,t){var n=e.checkedIcon,r=void 0===n?NC:n,o=e.classes,a=e.color,s=void 0===a?"secondary":a,l=e.icon,c=void 0===l?DC:l,u=e.indeterminate,d=void 0!==u&&u,p=e.indeterminateIcon,h=void 0===p?MC:p,f=e.inputProps,m=e.size,g=void 0===m?"medium":m,v=(0,Yn.c)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),b=d?h:c,y=d?h:r;return i.createElement(PC,(0,at.c)({type:"checkbox",classes:{root:(0,kn.c)(o.root,o["color".concat((0,Zn.c)(s))],d&&o.indeterminate),checked:o.checked,disabled:o.disabled},color:s,inputProps:(0,at.c)({"data-indeterminate":d},f),icon:i.cloneElement(b,{fontSize:void 0===b.props.fontSize&&"small"===g?g:b.props.fontSize}),checkedIcon:i.cloneElement(y,{fontSize:void 0===y.props.fontSize&&"small"===g?g:y.props.fontSize}),ref:t},v))}));const QC=(0,Gn.c)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,or.W4)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,or.W4)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(BC);var UC=n(4968),FC=n(3564);const zC=5e3,qC=e=>{var t,n;let{onChange:r,value:o,name:a,multiline:s,disabled:l,error:c,translationButonDisabled:u=!1}=e;const{translate:d}=(0,i.useContext)(Fb),[p,h]=(0,i.useState)(!1),{language:f}=mn();let m;const g=new Blob([null===o||void 0===o?void 0:o[f]]).size>=zC;m="en"===f?["en","fr"]:["fr","en"];const v=m[1],b=(null===o||void 0===o||null===(t=o.translations)||void 0===t||null===(n=t[v])||void 0===n?void 0:n.verified)||!1;function y(e,t){return{...e,[v]:{verified:t,...!t&&{message:"text translated using the Amazon translate service / texte traduit \xe0 l'aide du service de traduction Amazon"}}}}function _(e){const{translations:t,...n}={...o},i={...n,[e.target.name]:e.target.value,...e.target.name===v&&e.target.value&&{translations:t||y({},!1)}};r({target:{name:a,value:i}})}return(0,i.useEffect)((()=>{if(o&&!o.translations){if(o.en&&o.fr){const e={...o,translations:{[v]:{verified:!1,message:"text translated using the Amazon translate service / texte traduit \xe0 l'aide du service de traduction Amazon"}}};r({target:{name:a,value:e}})}}}),[a,r,o,v]),(0,Ap.jsx)("div",{children:m.map(((e,t)=>(0,Ap.jsxs)("div",{children:[(0,Ap.jsx)(CC,{name:e,fullWidth:!0,value:(null===o||void 0===o?void 0:o[e])||"",onChange:e=>_(e),InputProps:{startAdornment:(0,Ap.jsx)(SC,{position:"start",children:e.toUpperCase()})},multiline:s,disabled:l,error:Boolean(c)}),0===t&&!u&&(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Translate english to french",fr:"Traduire du fran\xe7ais en anglais"}),children:(0,Ap.jsxs)("span",{children:[(0,Ap.jsx)(c_,{style:{margin:"10px"},startIcon:p?(0,Ap.jsx)(r_,{size:20}):(0,Ap.jsx)(UC.c,{}),endIcon:p?null:(0,Ap.jsx)(FC.c,{}),disabled:l||p||!(null!==o&&void 0!==o&&o[e])||g,onClick:()=>{h(!0),d({text:o[e],fromLang:e}).then((e=>{h(!1);const t=e.data;_({target:{name:v,value:t}})}))},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Translate"}),(0,Ap.jsx)(Ip,{children:"Traduire"})]})}),(null===o||void 0===o?void 0:o[v])&&(0,Ap.jsx)(AC,{control:(0,Ap.jsx)(QC,{checked:b,onChange:e=>function(e){const{checked:t}=e.target,n={...o,translations:y(o.translations,t)};r({target:{name:a,value:n}})}(e),color:"primary"}),label:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"I have verified this translation"}),(0,Ap.jsx)(Ip,{children:"J'ai v\xe9rifi\xe9 cette traduction"})]})}),g&&(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["Translation is disabled because text is larger than"," ",zC," characters."]}),(0,Ap.jsxs)(Ip,{children:["La traduction est d\xe9sactiv\xe9e car le texte est plus grand que ",zC," caract\xe8res."]})]})]})})]},e)))})};function HC(e,t,n){var r=this,o=(0,i.useRef)(null),a=(0,i.useRef)(0),s=(0,i.useRef)(null),l=(0,i.useRef)([]),c=(0,i.useRef)(),u=(0,i.useRef)(),d=(0,i.useRef)(e),p=(0,i.useRef)(!0);(0,i.useEffect)((function(){d.current=e}),[e]);var h=!t&&0!==t&&"undefined"!=typeof window;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var f=!!(n=n||{}).leading,m=!("trailing"in n)||!!n.trailing,g="maxWait"in n,v=g?Math.max(+n.maxWait||0,t):null;(0,i.useEffect)((function(){return p.current=!0,function(){p.current=!1}}),[]);var b=(0,i.useMemo)((function(){var e=function(e){var t=l.current,n=c.current;return l.current=c.current=null,a.current=e,u.current=d.current.apply(n,t)},n=function(e,t){h&&cancelAnimationFrame(s.current),s.current=h?requestAnimationFrame(e):setTimeout(e,t)},i=function(e){if(!p.current)return!1;var n=e-o.current;return!o.current||n>=t||n<0||g&&e-a.current>=v},b=function(t){return s.current=null,m&&l.current?e(t):(l.current=c.current=null,u.current)},y=function e(){var r=Date.now();if(i(r))return b(r);if(p.current){var s=t-(r-o.current),l=g?Math.min(s,v-(r-a.current)):s;n(e,l)}},_=function(){var d=Date.now(),h=i(d);if(l.current=[].slice.call(arguments),c.current=r,o.current=d,h){if(!s.current&&p.current)return a.current=o.current,n(y,t),f?e(o.current):u.current;if(g)return n(y,t),e(o.current)}return s.current||n(y,t),u.current};return _.cancel=function(){s.current&&(h?cancelAnimationFrame(s.current):clearTimeout(s.current)),a.current=0,l.current=o.current=c.current=s.current=null},_.isPending=function(){return!!s.current},_.flush=function(){return s.current?b(Date.now()):u.current},_}),[f,g,t,v,m,h]);return b}function WC(e,t){return e===t}function GC(e){return"function"==typeof e?function(){return e}:e}function VC(e,t,n){var r,o,a=n&&n.equalityFn||WC,s=(r=(0,i.useState)(GC(e)),o=r[1],[r[0],(0,i.useCallback)((function(e){return o(GC(e))}),[])]),l=s[0],c=s[1],u=HC((0,i.useCallback)((function(e){return c(e)}),[c]),t,n),d=(0,i.useRef)(e);return a(d.current,e)||(u(e),d.current=e),[l,u]}const $C=e=>{let{children:t}=e;return(0,Ap.jsx)(Or,{variant:"body2",component:"div",style:{marginTop:"10px"},children:t})},KC=e=>{let{children:t}=e;return(0,Ap.jsx)(Or,{variant:"body1",component:"div",style:{marginBottom:"10px"},children:t})},YC=e=>{let{children:t}=e;return(0,Ap.jsx)(Or,{variant:"h6",component:"div",children:t})},ZC={padding:"10px",margin:"20px",width:"90%"};const JC=async function(e,t,n,r){const i=Zp(Yp(),"updateDraftDoi"),o=Fx(e,n,t,r);delete o.data.type,delete o.data.attributes.prefix;const a={doi:e.datasetIdentifier.replace("https://doi.org/",""),region:t,data:o};return(await i(a)).data.status},XC=e=>{let{record:t,name:n,handleUpdateDatasetIdentifier:r,handleUpdateDoiCreationStatus:o,disabled:a}=e;const{createDraftDoi:s,deleteDraftDoi:l,getDoiStatus:c,datacitePrefix:u}=(0,i.useContext)(Fb),{language:d,region:p,userID:h}=mn(),f=Px(t.datasetIdentifier),[m,g]=(0,i.useState)(!1),[v,b]=(0,i.useState)(!1),[y]=VC(t.datasetIdentifier,1e3),[_,x]=(0,i.useState)(!1),[w,E]=(0,i.useState)(!1),[T,C]=(0,i.useState)(!1),[k,S]=(0,i.useState)(!1),O=m||_||""!==t.doiCreationStatus||""===t.recordID,A=Boolean(u),j=f&&u&&t.doiCreationStatus&&""!==t.doiCreationStatus,P=f&&u&&""!==t.doiCreationStatus&&t.datasetIdentifier.includes(u),I=f&&u&&""!==t.doiCreationStatus&&!v&&t.datasetIdentifier.includes(u),L=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{if(L.current=!0,""===y)o({target:{name:n,value:""}});else if(y&&u&&f){let e=y;y.includes("doi.org/")&&(e=y.split("doi.org/").pop()),c({doi:e,region:p}).then((e=>{L.current&&o({target:{name:n,value:e.data}})})).catch((e=>{console.error(e)}))}return()=>{L.current=!1}}),[y,c,f]),(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the DOI for this dataset? Eg,"}),(0,Ap.jsx)(Ip,{children:"Quel est le DOI de ce jeu de donn\xe9es ? Par exemple,"})]})," ","https://doi.org/10.0000/0000",A&&(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:(0,Ap.jsx)("p",{children:"Please save the form before generating a draft DOI."})}),(0,Ap.jsx)(Ip,{children:(0,Ap.jsx)("p",{children:"Veuillez enregistrer le formulaire avant de g\xe9n\xe9rer un brouillon de DOI."})})]})})]}),A&&(0,Ap.jsx)(c_,{onClick:()=>async function(){x(!0);const e=Bb(Cp);try{const n=Fx(t,d,p,u);await s({record:n,region:p}).then((e=>e.data.data.attributes)).then((async n=>{r({target:{value:"https://doi.org/".concat(n.doi)}}),o({target:{value:"draft"}});const i={...t,datasetIdentifier:"https://doi.org/".concat(n.doi),doiCreationStatus:"draft"},a=xb(e,"".concat(p,"/users/").concat(h,"/records"));t.recordID&&await kb(wb(a,t.recordID),{datasetIdentifier:i.datasetIdentifier,doiCreationStatus:i.doiCreationStatus}),g(!0)})).finally((()=>{x(!1)}))}catch(n){throw b(!0),new Error("Error in handleGenerateDOI: ".concat(n))}}(),disabled:O,style:{display:"inline",marginRight:"15px"},children:(0,Ap.jsx)("div",{style:{display:"flex",alignItems:"center"},children:_?(0,Ap.jsxs)(Ap.Fragment,{children:[(0,Ap.jsx)(r_,{size:24,style:{marginRight:"8px"}}),"Loading..."]}):"Generate DOI"})}),P&&(0,Ap.jsx)(c_,{onClick:()=>async function(){E(!0);try{200===await JC(t,p,d,u)?(S(!0),b(!1)):(b(!0),S(!1))}catch(e){throw b(!0),e}finally{E(!1),setTimeout((()=>{S(!1)}),3e3)}}(),disabled:["not found","unknown"].includes(t.doiCreationStatus),style:{display:"inline",marginRight:"15px"},children:(0,Ap.jsx)("div",{style:{display:"flex",alignItems:"center"},children:w?(0,Ap.jsxs)(Ap.Fragment,{children:[(0,Ap.jsx)(r_,{size:24,style:{marginRight:"8px"}}),"Loading..."]}):"Update DOI"})}),I&&(0,Ap.jsx)(c_,{onClick:()=>async function(){C(!0);const e=Bb(Cp);try{const i=t.datasetIdentifier.replace("https://doi.org/","");l({doi:i,region:p}).then((e=>e.data)).then((async i=>{if(204===i){r({target:{name:n,value:""}}),o({target:{name:n,value:""}});const i={...t,datasetIdentifier:"",doiCreationStatus:""},a=xb(e,"".concat(p,"/users/").concat(h,"/records"));t.recordID&&await kb(wb(a,t.recordID),{datasetIdentifier:i.datasetIdentifier,doiCreationStatus:i.doiCreationStatus}),g(!1)}else b(!0)})).finally((()=>{C(!1)}))}catch(i){throw console.error(i),b(!0),i}}(),disabled:"draft"!==t.doiCreationStatus,style:{display:"inline",marginRight:"15px"},children:(0,Ap.jsx)("div",{style:{display:"flex",alignItems:"center"},children:T?(0,Ap.jsxs)(Ap.Fragment,{children:[(0,Ap.jsx)(r_,{size:24,style:{marginRight:"8px"}}),"Loading..."]}):"Delete DOI"})}),v&&(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Lp,{en:"Error occurred with DOI API",fr:"Une erreur s'est produite avec l'API DOI"})}),k&&(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Lp,{en:"DOI has been updated",fr:"Le DOI a \xe9t\xe9 mis \xe0 jour"})}),(0,Ap.jsx)(CC,{style:{marginTop:"10px"},name:n||"datasetIdentifier",helperText:(f?"":(0,Ap.jsx)(Lp,{en:"Invalid DOI",fr:"DOI non valide"}))||j&&(0,Ap.jsx)(Lp,{en:"DOI Status: ".concat(t.doiCreationStatus),fr:"Statut DOI: ".concat(t.doiCreationStatus)}),error:!f,value:t.datasetIdentifier,onChange:e=>r(e),disabled:a,fullWidth:!0})]})};const ek=function(e){let{passes:t}=e;return t?(0,Ap.jsxs)("span",{style:{color:"green",fontSize:"x-large",position:"relative",bottom:"-4px"},children:[" ","\u2713"," "]}):(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Required",fr:"Obligatoire"}),children:(0,Ap.jsxs)("span",{style:{color:"red",fontSize:"large"},children:[" ","\u2735"," "]})})},tk={custodian:{title:{en:"Metadata Custodian",fr:"D\xe9positaire des m\xe9tadonn\xe9es"},text:{en:"Party that accepts accountability and responsibility for the resource and ensures appropriate care and maintenance of the resource ",fr:"Partie qui accepte la reddition de comptes et la responsabilit\xe9 de la ressource et assure le soin et l'entretien appropri\xe9s de la ressource "},required:!0,showProminently:!0},owner:{title:{en:"Data Owner",fr:"Propri\xe9taire des donn\xe9es"},text:{en:"Party that owns the resource",fr:"Partie propri\xe9taire de la ressource"},required:!0,showProminently:!0},distributor:{title:{en:"Distributor",fr:"Distributeur"},text:{en:"Party who distributes the resource",fr:"Partie qui distribue la ressource"},showProminently:!0},author:{title:{en:"Author",fr:"Auteur"},text:{en:"Party who authored the resource"}},coAuthor:{title:{en:"Coauthor",fr:"Co-auteur"},text:{en:"Party who jointly authors the resource",fr:"Partie qui est l'auteur conjoint de la ressource"}},collaborator:{title:{en:"Collaborator",fr:"Collaborateur"},text:{en:"Party who assists with the generation of the resource other than the principal investigator",fr:"Partie qui aide \xe0 la production de la ressource autre que le chercheur principal"}},contributor:{title:{en:"Contributor",fr:"Contributeur"},text:{en:"Party contributing to the resource",fr:"Partie contribuant \xe0 la ressource"}},editor:{title:{en:"Editor",fr:"\xc9diteur"},text:{en:"Party who reviewed or modified the resource to improve the content",fr:"Partie qui a examin\xe9 ou modifi\xe9 la ressource pour am\xe9liorer le contenu"}},funder:{title:{en:"Funder",fr:"Financeur"},text:{en:"Party providing monetary support for the resource",fr:"Partie fournissant un soutien mon\xe9taire pour la ressource"}},mediator:{title:{en:"Mediator",fr:"M\xe9diateur"},text:{en:"A class of entity that mediates access to the resource and for whom the resource is intended or useful ",fr:"Classe d'entit\xe9 qui sert de m\xe9diateur \xe0 l'acc\xe8s \xe0 la ressource et pour laquelle la ressource est destin\xe9e ou utile"}},originator:{title:{en:"Originator",fr:"Initiateur"},text:{en:"Party who created the resource",fr:"Partie qui a cr\xe9\xe9 la ressource"}},pointOfContact:{title:{en:"Point Of Contact",fr:"Point de contact"},text:{en:"Party who can be contacted for acquiring knowledge about or acquisition of the resource",fr:"Partie qui peut \xeatre contact\xe9e pour acqu\xe9rir des connaissances sur la ressource ou l'acquisition de la ressource"}},principalInvestigator:{title:{en:"Principal Investigator",fr:"Responsable de recherche"},text:{en:"Key party responsible for gathering information and conducting research",fr:"Partie cl\xe9 responsable de la collecte de l'information et de la r\xe9alisation de la recherche"}},processor:{title:{en:"Processor",fr:"Transformateur"},text:{en:"Party who has processed the data in a manner such that the resource has been modified",fr:"Partie qui a trait\xe9 les donn\xe9es d'une mani\xe8re telle que la ressource a \xe9t\xe9 modifi\xe9e"}},publisher:{title:{en:"Publisher",fr:"Editeur"},text:{en:"Party who published the resource",fr:"Partie qui a publi\xe9 la ressource"}},resourceProvider:{title:{en:"Resource Provider",fr:"Fournisseur de ressources"},text:{en:"Party that supplies the resource",fr:"Partie qui fournit la ressource "}},rightsHolder:{title:{en:"Rights Holder",fr:"Ayant droit"},text:{en:"Party owning or managing rights over the resource ",fr:"Partie d\xe9tenant ou g\xe9rant des droits sur la ressource"}},sponsor:{title:{en:"Sponsor",fr:"Commanditaire"},text:{en:"Party who speaks for the resource ",fr:"Parti qui parle pour la ressource"}},stakeholder:{title:{en:"Stakeholder",fr:"Actionnaire"},text:{en:"Party who has an interest in the resource or the use of the resource ",fr:"Partie qui a un int\xe9r\xeat dans la ressource ou l'utilisation de la ressource"}}},nk={onGoing:{title:{en:"Ongoing",fr:"En cours"},text:{en:"Data is continually being updated. e.g satellite dataset that continues to be augmented",fr:"Les donn\xe9es sont continuellement mises \xe0 jour, par exemple un ensemble de donn\xe9es satellite qui continue d'\xeatre augment\xe9"}},historicalArchive:{title:{en:"Historical Archive",fr:"Archives historiques"},text:{en:"Data has been stored in an offline storage facility. use to indicate data are archived",fr:"Les donn\xe9es ont \xe9t\xe9 stock\xe9es dans une installation de stockage hors connexion. Utilisez pour indiquer que les donn\xe9es sont archiv\xe9es"}},completed:{title:{en:"Completed",fr:"Termin\xe9"},text:{en:"Production of the data has been completed \te.g. raw data that is not ongoing, completed model",fr:"La production des donn\xe9es a \xe9t\xe9 termin\xe9e, p. ex. donn\xe9es brutes qui ne sont pas en cours, mod\xe8le termin\xe9"}}},rk={heightPositive:{en:"Depth Positive",fr:"Profondeur positive"},depthPositive:{en:"Height Positive",fr:"Hauteur positive"}},ik={Book:{title:{en:"Book",fr:"Livre"},text:{en:"A medium for recording information in the form of writing or images, typically composed of many pages bound together and protected by a cover.",fr:"Support d'enregistrement d'informations sous forme d'\xe9crits ou d'images, g\xe9n\xe9ralement compos\xe9 de plusieurs pages reli\xe9es ensemble et prot\xe9g\xe9es par une couverture."},isoValue:"document"},DataCollectionSampling:{title:{en:"Data Collection (sampling)",fr:"Collecte de donn\xe9es (\xe9chantillonnage)"},text:{en:"sampling methods or protocols",fr:"m\xe9thodes ou protocoles d\u2019\xe9chantillonnage"},isoValue:"collectionSession"},Dataset:{title:{en:"Dataset",fr:"Base de donn\xe9es"},text:{en:"Data encoded in a defined structure.",fr:"Donn\xe9es cod\xe9es dans une structure d\xe9finie."},isoValue:"dataset"},Model:{title:{en:"Model",fr:"Mod\xe8le"},text:{en:"An abstract, conceptual, graphical, mathematical or visualization model that represents empirical objects, phenomena, or physical processes.",fr:"Mod\xe8le abstrait, conceptuel, graphique, math\xe9matique ou de visualisation qui repr\xe9sente des objets empiriques, des ph\xe9nom\xe8nes ou des processus physiques."},isoValue:"model"},Preprint:{title:{en:"Preprint",fr:"Pr\xe9impression"},text:{en:"A version of a scholarly or scientific paper that precedes formal peer review and publication in a peer - reviewed scholarly or scientific journal.",fr:"Version d'un article scientifique ou scientifique qui pr\xe9c\xe8de l'examen formel par les pairs et la publication dans une revue universitaire ou scientifique \xe0 comit\xe9 de lecture."},isoValue:"document"},Report:{title:{en:"Report",fr:"Rapport"},text:{en:"A document that presents information in an organized format for a specific audience and purpose.",fr:"Un document qui pr\xe9sente des informations dans un format organis\xe9 pour un public et un objectif sp\xe9cifiques."},isoValue:"document"},Software:{title:{en:"Software",fr:"Logiciel"},text:{en:"A computer program other than a computational notebook, in either source code(text) or compiled form.Use this type for general software components supporting scholarly research.Use the \u201cComputationalNotebook\u201d value for virtual notebooks.",fr:"Un programme informatique autre qu'un cahier de calcul, sous forme de code source (texte) ou sous forme compil\xe9e. Utilisez ce type pour les composants logiciels g\xe9n\xe9raux prenant en charge la recherche scientifique. Utilisez la valeur \xab ComputationalNotebook \xbb pour les blocs-notes virtuels."},isoValue:"software"},Text:{title:{en:"Text",fr:"Texte"},text:{en:"A resource consisting primarily of words for reading that is not covered by any other textual resource type in this list.",fr:"Une ressource compos\xe9e principalement de mots \xe0 lire qui n'est couverte par aucun autre type de ressource textuelle de cette liste."},isoValue:"document"},Other:{title:{en:"Other",fr:"Autre"},text:{en:"other",fr:"autre"},isoValue:"dataset"}},ok={IsCitedBy:{title:{en:"Is Cited By",fr:"Est cit\xe9 par"},text:{en:"A is cited by B",fr:"A est cit\xe9 par B"},isoValue:"crossReference"},Cites:{title:{en:"Cites",fr:"Cites"},text:{en:"A cites B",fr:"A cite B"},isoValue:"crossReference"},IsSupplementTo:{title:{en:"Is Supplement To",fr:"Est un suppl\xe9ment \xe0"},text:{en:"A is supplement to B",fr:"A est un compl\xe9ment \xe0 B"},isoValue:"crossReference"},IsSupplementedBy:{title:{en:"Is Supplemented By",fr:"Est compl\xe9t\xe9 par"},text:{en:"A is supplemented by B",fr:"A est compl\xe9t\xe9 par B"},isoValue:"crossReference"},IsContinuedBy:{title:{en:"Is Continued By",fr:"Est continu\xe9 par"},text:{en:"A is continued by B",fr:"A est continu\xe9 par B"},isoValue:"series"},Continues:{title:{en:"Continues",fr:"Continue"},text:{en:"A continues B",fr:"A continue B"},isoValue:"series"},IsDescribedBy:{title:{en:"Is Described By",fr:"Est d\xe9crit par"},text:{en:"A is described by B",fr:"A est d\xe9crit par B"},isoValue:"crossReference"},Describes:{title:{en:"Describes",fr:"D\xe9crit"},text:{en:"A describes B",fr:"A d\xe9crit B"},isoValue:"crossReference"},HasMetadata:{title:{en:"Has Metadata",fr:"Poss\xe8de des m\xe9tadonn\xe9es"},text:{en:"A has metadata B",fr:"A a des m\xe9tadonn\xe9es B"},isoValue:"crossReference"},IsMetadataFor:{title:{en:"Is Metadata For",fr:"Les m\xe9tadonn\xe9es sont-elles destin\xe9es"},text:{en:"A is metadata for B",fr:"A est une m\xe9tadonn\xe9e pour B"},isoValue:"crossReference"},HasVersion:{title:{en:"Has Version",fr:"A une version"},text:{en:"A has version B",fr:"A a la version B"},isoValue:"revisionOf"},IsVersionOf:{title:{en:"Is Version Of",fr:"Est la version de"},text:{en:"A is version of B",fr:"A est la version de B"},isoValue:"revisionOf"},IsNewVersionOf:{title:{en:"Is New Version Of",fr:"Est-ce une nouvelle version de"},text:{en:"A is new version of B",fr:"A est une nouvelle version de B"},isoValue:"revisionOf"},PreviousVersionOf:{title:{en:"Previous Version Of",fr:"Version pr\xe9c\xe9dente de"},text:{en:"A is previous version of B",fr:"A est la version pr\xe9c\xe9dente de B"},isoValue:"crossReference"},IsPartOf:{title:{en:"Is Part Of",fr:"Fait partie de"},text:{en:"A is part of B",fr:"A fait partie de B"},isoValue:"largerWorkCitation"},HasPart:{title:{en:"Has Part",fr:"A une partie"},text:{en:"A has part B",fr:"A a la partie B"},isoValue:"isComposedOf"},IsPublishedIn:{title:{en:"Is Published In",fr:"Est publi\xe9 dans"},text:{en:"A is published in B",fr:"A est publi\xe9 dans B"},isoValue:"largerWorkCitation"},IsReferencedBy:{title:{en:"Is Referenced By",fr:"Est r\xe9f\xe9renc\xe9 par"},text:{en:"A is referenced by B",fr:"A est r\xe9f\xe9renc\xe9 par B"},isoValue:"crossReference"},References:{title:{en:"References",fr:"Les r\xe9f\xe9rences"},text:{en:"A references B",fr:"A r\xe9f\xe9rences B"},isoValue:"crossReference"},IsDocumentedBy:{title:{en:"Is Documented By",fr:"Est document\xe9 par"},text:{en:"A is documented by B",fr:"A est document\xe9 par B"},isoValue:"crossReference"},Documents:{title:{en:"Documents",fr:"Documents"},text:{en:"A documents B",fr:"Un document B"},isoValue:"crossReference"},IsCompiledBy:{title:{en:"Is Compiled By",fr:"Est compil\xe9 par"},text:{en:"A is compiled by B",fr:"A est compil\xe9 par B"},isoValue:"dependency"},Compiles:{title:{en:"Compiles",fr:"Compile"},text:{en:"A compiles B",fr:"A compile B"},isoValue:"dependency"},IsVariantFormOf:{title:{en:"Is Variant Form Of",fr:"Est une forme variante de"},text:{en:"A is variant form of B",fr:"A est une variante de B"},isoValue:"crossReference"},IsOriginalFormOf:{title:{en:"Is Original Form Of",fr:"Est la forme originale de"},text:{en:"A is original form of B",fr:"A est la forme originale de B"},isoValue:"crossReference"},IsIdenticalTo:{title:{en:"Is Identical To",fr:"Est identique \xe0"},text:{en:"A is identical to B",fr:"A est identique \xe0 B"},isoValue:"crossReference"},IsReviewedBy:{title:{en:"Is Reviewed By",fr:"Est r\xe9vis\xe9 par"},text:{en:"A is reviewed by B",fr:"A est examin\xe9 par B"},isoValue:"crossReference"},Reviews:{title:{en:"Reviews",fr:"Commentaires"},text:{en:"A reviews B",fr:"A avis B"},isoValue:"crossReference"},IsDerivedFrom:{title:{en:"Is Derived From",fr:"D\xe9rive de"},text:{en:"A is derived from B",fr:"A est d\xe9riv\xe9 de B"},isoValue:"dependency"},IsSourceOf:{title:{en:"Is Source Of",fr:"est la source de"},text:{en:"A is source of B",fr:"A est la source de B"},isoValue:"dependency"},Requires:{title:{en:"Requires",fr:"A besoin"},text:{en:"A requires B",fr:"A n\xe9cessite B"},isoValue:"dependency"},IsRequiredBy:{title:{en:"Is Required By",fr:"Est requis par"},text:{en:"A is required by B",fr:"A est requis par B"},isoValue:"dependency"},IsObsoletedBy:{title:{en:"Is Obsoleted By",fr:"Est obsol\xe8te par"},text:{en:"A is obsoleted by B",fr:"A est obsol\xe8te par B"},isoValue:"crossReference"},Obsoletes:{title:{en:"Obsoletes",fr:"Obsol\xe8tes"},text:{en:"A obsoletes B",fr:"A rend obsol\xe8te B"},isoValue:"revisionOf"}},ak=["ARK","arXiv","bibcode","ca.cioos","DOI","EAN13","EISSN","Handle","IGSN","ISBN","ISSN","ISTC","LISSN","LSID","PMID","PURL","UPC","URL","URN","w3id"],sk=e=>{let{onChange:t,value:n=[],name:r,options:i,optionLabels:o=i,optionTooltips:a=[],disabled:s,labelSize:l=3}=e;return(0,Ap.jsx)(e_,{container:!0,direction:"row",children:i.map(((e,i)=>(0,Ap.jsx)(e_,{item:!0,xs:l,children:(0,Ap.jsx)(ms,{title:a[i]||"",children:(0,Ap.jsx)(AC,{disabled:s,control:(0,Ap.jsx)(QC,{value:e||[],name:r,checked:n.includes(e),onChange:e=>{const r=e.target.value,i=(o=r,(a=n).includes(o)?a.filter((e=>e!==o)):a.concat(o));var o,a;t(i)}}),label:(0,Ap.jsx)(Or,{children:o[i]})})})},i)))})};var lk=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.color,a=void 0===o?"default":o,s=e.component,l=void 0===s?"li":s,c=e.disableGutters,u=void 0!==c&&c,d=e.disableSticky,p=void 0!==d&&d,h=e.inset,f=void 0!==h&&h,m=(0,Yn.c)(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return i.createElement(l,(0,at.c)({className:(0,kn.c)(n.root,r,"default"!==a&&n["color".concat((0,Zn.c)(a))],f&&n.inset,!p&&n.sticky,!u&&n.gutters),ref:t},m))}));const ck=(0,Gn.c)((function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}}),{name:"MuiListSubheader"})(lk),uk=(0,In.c)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),dk=(0,In.c)(i.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function pk(e){return"undefined"!==typeof e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function hk(e,t){for(var n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}var fk=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ignoreAccents,n=void 0===t||t,r=e.ignoreCase,i=void 0===r||r,o=e.limit,a=e.matchFrom,s=void 0===a?"any":a,l=e.stringify,c=e.trim,u=void 0!==c&&c;return function(e,t){var r=t.inputValue,a=t.getOptionLabel,c=u?r.trim():r;i&&(c=c.toLowerCase()),n&&(c=pk(c));var d=e.filter((function(e){var t=(l||a)(e);return i&&(t=t.toLowerCase()),n&&(t=pk(t)),"start"===s?0===t.indexOf(c):t.indexOf(c)>-1}));return"number"===typeof o?d.slice(0,o):d}}();function mk(e){var t=e.autoComplete,n=void 0!==t&&t,r=e.autoHighlight,o=void 0!==r&&r,a=e.autoSelect,s=void 0!==a&&a,l=e.blurOnSelect,c=void 0!==l&&l,u=e.clearOnBlur,d=void 0===u?!e.freeSolo:u,p=e.clearOnEscape,h=void 0!==p&&p,f=e.componentName,m=void 0===f?"useAutocomplete":f,g=e.debug,v=void 0!==g&&g,b=e.defaultValue,y=void 0===b?e.multiple?[]:null:b,_=e.disableClearable,x=void 0!==_&&_,w=e.disableCloseOnSelect,E=void 0!==w&&w,T=e.disabledItemsFocusable,C=void 0!==T&&T,k=e.disableListWrap,S=void 0!==k&&k,O=e.filterOptions,A=void 0===O?fk:O,j=e.filterSelectedOptions,P=void 0!==j&&j,I=e.freeSolo,L=void 0!==I&&I,R=e.getOptionDisabled,N=e.getOptionLabel,D=void 0===N?function(e){return e}:N,M=e.getOptionSelected,B=void 0===M?function(e,t){return e===t}:M,Q=e.groupBy,U=e.handleHomeEndKeys,F=void 0===U?!e.freeSolo:U,z=e.id,q=e.includeInputInList,H=void 0!==q&&q,W=e.inputValue,G=e.multiple,V=void 0!==G&&G,$=e.onChange,K=e.onClose,Y=e.onHighlightChange,Z=e.onInputChange,J=e.onOpen,X=e.open,ee=e.openOnFocus,te=void 0!==ee&&ee,ne=e.options,re=e.selectOnFocus,ie=void 0===re?!e.freeSolo:re,oe=e.value,ae=(0,us.c)(z),se=D;var le=i.useRef(!1),ce=i.useRef(!0),ue=i.useRef(null),de=i.useRef(null),pe=i.useState(null),he=pe[0],fe=pe[1],me=i.useState(-1),ge=me[0],ve=me[1],be=o?0:-1,ye=i.useRef(be),_e=(0,Ui.c)({controlled:oe,default:y,name:m}),xe=(0,jr.c)(_e,2),we=xe[0],Ee=xe[1],Te=(0,Ui.c)({controlled:W,default:"",name:m,state:"inputValue"}),Ce=(0,jr.c)(Te,2),ke=Ce[0],Se=Ce[1],Oe=i.useState(!1),Ae=Oe[0],je=Oe[1],Pe=(0,sr.c)((function(e,t){var n;if(V)n="";else if(null==t)n="";else{var r=se(t);n="string"===typeof r?r:""}ke!==n&&(Se(n),Z&&Z(e,n,"reset"))}));i.useEffect((function(){Pe(null,we)}),[we,Pe]);var Ie=(0,Ui.c)({controlled:X,default:!1,name:m,state:"open"}),Le=(0,jr.c)(Ie,2),Re=Le[0],Ne=Le[1],De=!V&&null!=we&&ke===se(we),Me=Re,Be=Me?A(ne.filter((function(e){return!P||!(V?we:[we]).some((function(t){return null!==t&&B(e,t)}))})),{inputValue:De?"":ke,getOptionLabel:se}):[],Qe=(0,sr.c)((function(e){-1===e?ue.current.focus():he.querySelector('[data-tag-index="'.concat(e,'"]')).focus()}));i.useEffect((function(){V&&ge>we.length-1&&(ve(-1),Qe(-1))}),[we,V,ge,Qe]);var Ue=(0,sr.c)((function(e){var t=e.event,n=e.index,r=e.reason,i=void 0===r?"auto":r;if(ye.current=n,-1===n?ue.current.removeAttribute("aria-activedescendant"):ue.current.setAttribute("aria-activedescendant","".concat(ae,"-option-").concat(n)),Y&&Y(t,-1===n?null:Be[n],i),de.current){var o=de.current.querySelector("[data-focus]");o&&o.removeAttribute("data-focus");var a=de.current.parentElement.querySelector('[role="listbox"]');if(a)if(-1!==n){var s=de.current.querySelector('[data-option-index="'.concat(n,'"]'));if(s&&(s.setAttribute("data-focus","true"),a.scrollHeight>a.clientHeight&&"mouse"!==i)){var l=s,c=a.clientHeight+a.scrollTop,u=l.offsetTop+l.offsetHeight;u>c?a.scrollTop=u-a.clientHeight:l.offsetTop-l.offsetHeight*(Q?1.3:0)<a.scrollTop&&(a.scrollTop=l.offsetTop-l.offsetHeight*(Q?1.3:0))}}else a.scrollTop=0}})),Fe=(0,sr.c)((function(e){var t=e.event,r=e.diff,i=e.direction,o=void 0===i?"next":i,a=e.reason,s=void 0===a?"auto":a;if(Me){var l=function(e,t){if(!de.current||-1===e)return-1;for(var n=e;;){if("next"===t&&n===Be.length||"previous"===t&&-1===n)return-1;var r=de.current.querySelector('[data-option-index="'.concat(n,'"]')),i=!C&&r&&(r.disabled||"true"===r.getAttribute("aria-disabled"));if(!(r&&!r.hasAttribute("tabindex")||i))return n;n+="next"===t?1:-1}}(function(){var e=Be.length-1;if("reset"===r)return be;if("start"===r)return 0;if("end"===r)return e;var t=ye.current+r;return t<0?-1===t&&H?-1:S&&-1!==ye.current||Math.abs(r)>1?0:e:t>e?t===e+1&&H?-1:S||Math.abs(r)>1?e:0:t}(),o);if(Ue({index:l,reason:s,event:t}),n&&"reset"!==r)if(-1===l)ue.current.value=ke;else{var c=se(Be[l]);ue.current.value=c,0===c.toLowerCase().indexOf(ke.toLowerCase())&&ke.length>0&&ue.current.setSelectionRange(ke.length,c.length)}}})),ze=i.useCallback((function(){if(Me){var e=V?we[0]:we;if(0!==Be.length&&null!=e){if(de.current)if(P||null==e)ye.current>=Be.length-1?Ue({index:Be.length-1}):Ue({index:ye.current});else{var t=Be[ye.current];if(V&&t&&-1!==hk(we,(function(e){return B(t,e)})))return;var n=hk(Be,(function(t){return B(t,e)}));-1===n?Fe({diff:"reset"}):Ue({index:n})}}else Fe({diff:"reset"})}}),[0===Be.length,!V&&we,P,Fe,Ue,Me,ke,V]),qe=(0,sr.c)((function(e){(0,Br.c)(de,e),e&&ze()}));i.useEffect((function(){ze()}),[ze]);var He=function(e){Re||(Ne(!0),J&&J(e))},We=function(e,t){Re&&(Ne(!1),K&&K(e,t))},Ge=function(e,t,n,r){we!==t&&($&&$(e,t,n,r),Ee(t))},Ve=i.useRef(!1),$e=function(e,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"select-option",i=t;if(V){var o=hk(i=Array.isArray(we)?we.slice():[],(function(e){return B(t,e)}));-1===o?i.push(t):"freeSolo"!==n&&(i.splice(o,1),r="remove-option")}Pe(e,i),Ge(e,i,r,{option:t}),E||We(e,r),(!0===c||"touch"===c&&Ve.current||"mouse"===c&&!Ve.current)&&ue.current.blur()};var Ke=function(e,t){if(V){We(e,"toggleInput");var n=ge;-1===ge?""===ke&&"previous"===t&&(n=we.length-1):((n+="next"===t?1:-1)<0&&(n=0),n===we.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;for(var n=e;;){if("next"===t&&n===we.length||"previous"===t&&-1===n)return-1;var r=he.querySelector('[data-tag-index="'.concat(n,'"]'));if(!r||r.hasAttribute("tabindex")&&!r.disabled&&"true"!==r.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),ve(n),Qe(n)}},Ye=function(e){le.current=!0,Se(""),Z&&Z(e,"","clear"),Ge(e,V?[]:null,"clear")},Ze=function(e){return function(t){switch(-1!==ge&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(ve(-1),Qe(-1)),t.key){case"Home":Me&&F&&(t.preventDefault(),Fe({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":Me&&F&&(t.preventDefault(),Fe({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),Fe({diff:-5,direction:"previous",reason:"keyboard",event:t}),He(t);break;case"PageDown":t.preventDefault(),Fe({diff:5,direction:"next",reason:"keyboard",event:t}),He(t);break;case"ArrowDown":t.preventDefault(),Fe({diff:1,direction:"next",reason:"keyboard",event:t}),He(t);break;case"ArrowUp":t.preventDefault(),Fe({diff:-1,direction:"previous",reason:"keyboard",event:t}),He(t);break;case"ArrowLeft":Ke(t,"previous");break;case"ArrowRight":Ke(t,"next");break;case"Enter":if(229===t.which)break;if(-1!==ye.current&&Me){var r=Be[ye.current],i=!!R&&R(r);if(t.preventDefault(),i)return;$e(t,r,"select-option"),n&&ue.current.setSelectionRange(ue.current.value.length,ue.current.value.length)}else L&&""!==ke&&!1===De&&(V&&t.preventDefault(),$e(t,ke,"create-option","freeSolo"));break;case"Escape":Me?(t.preventDefault(),t.stopPropagation(),We(t,"escape")):h&&(""!==ke||V&&we.length>0)&&(t.preventDefault(),t.stopPropagation(),Ye(t));break;case"Backspace":if(V&&""===ke&&we.length>0){var o=-1===ge?we.length-1:ge,a=we.slice();a.splice(o,1),Ge(t,a,"remove-option",{option:we[o]})}}e.onKeyDown&&e.onKeyDown(t)}},Je=function(e){je(!0),te&&!le.current&&He(e)},Xe=function(e){null===de.current||document.activeElement!==de.current.parentElement?(je(!1),ce.current=!0,le.current=!1,v&&""!==ke||(s&&-1!==ye.current&&Me?$e(e,Be[ye.current],"blur"):s&&L&&""!==ke?$e(e,ke,"blur","freeSolo"):d&&Pe(e,we),We(e,"blur"))):ue.current.focus()},et=function(e){var t=e.target.value;ke!==t&&(Se(t),Z&&Z(e,t,"input")),""===t?x||V||Ge(e,null,"clear"):He(e)},tt=function(e){Ue({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},nt=function(){Ve.current=!0},rt=function(e){var t=Number(e.currentTarget.getAttribute("data-option-index"));$e(e,Be[t],"select-option"),Ve.current=!1},it=function(e){return function(t){var n=we.slice();n.splice(e,1),Ge(t,n,"remove-option",{option:we[e]})}},ot=function(e){Re?We(e,"toggleInput"):He(e)},st=function(e){e.target.getAttribute("id")!==ae&&e.preventDefault()},lt=function(){ue.current.focus(),ie&&ce.current&&ue.current.selectionEnd-ue.current.selectionStart===0&&ue.current.select(),ce.current=!1},ct=function(e){""!==ke&&Re||ot(e)},ut=L&&ke.length>0;ut=ut||(V?we.length>0:null!==we);var dt=Be;if(Q){new Map;dt=Be.reduce((function(e,t,n){var r=Q(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])}return{getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,at.c)({"aria-owns":Me?"".concat(ae,"-popup"):null,role:"combobox","aria-expanded":Me},e,{onKeyDown:Ze(e),onMouseDown:st,onClick:lt})},getInputLabelProps:function(){return{id:"".concat(ae,"-label"),htmlFor:ae}},getInputProps:function(){return{id:ae,value:ke,onBlur:Xe,onFocus:Je,onChange:et,onMouseDown:ct,"aria-activedescendant":Me?"":null,"aria-autocomplete":n?"both":"list","aria-controls":Me?"".concat(ae,"-popup"):null,autoComplete:"off",ref:ue,autoCapitalize:"none",spellCheck:"false"}},getClearProps:function(){return{tabIndex:-1,onClick:Ye}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:ot}},getTagProps:function(e){var t=e.index;return{key:t,"data-tag-index":t,tabIndex:-1,onDelete:it(t)}},getListboxProps:function(){return{role:"listbox",id:"".concat(ae,"-popup"),"aria-labelledby":"".concat(ae,"-label"),ref:qe,onMouseDown:function(e){e.preventDefault()}}},getOptionProps:function(e){var t=e.index,n=e.option,r=(V?we:[we]).some((function(e){return null!=e&&B(n,e)})),i=!!R&&R(n);return{key:t,tabIndex:-1,role:"option",id:"".concat(ae,"-option-").concat(t),onMouseOver:tt,onClick:rt,onTouchStart:nt,"data-option-index":t,"aria-disabled":i,"aria-selected":r}},id:ae,inputValue:ke,value:we,dirty:ut,popupOpen:Me,focused:Ae||-1!==ge,anchorEl:he,setAnchorEl:fe,focusedTag:ge,groupedOptions:dt}}function gk(e){e.anchorEl,e.open;var t=(0,Yn.c)(e,["anchorEl","open"]);return i.createElement("div",t)}var vk=i.createElement(uk,{fontSize:"small"}),bk=i.createElement(dk,null),yk=i.forwardRef((function(e,t){e.autoComplete,e.autoHighlight,e.autoSelect,e.blurOnSelect;var n,r=e.ChipProps,o=e.classes,a=e.className,s=e.clearOnBlur,l=(void 0===s&&e.freeSolo,e.clearOnEscape,e.clearText),c=void 0===l?"Clear":l,u=e.closeIcon,d=void 0===u?vk:u,p=e.closeText,h=void 0===p?"Close":p,f=(e.debug,e.defaultValue),m=(void 0===f&&e.multiple,e.disableClearable),g=void 0!==m&&m,v=(e.disableCloseOnSelect,e.disabled),b=void 0!==v&&v,y=(e.disabledItemsFocusable,e.disableListWrap,e.disablePortal),_=void 0!==y&&y,x=(e.filterOptions,e.filterSelectedOptions,e.forcePopupIcon),w=void 0===x?"auto":x,E=e.freeSolo,T=void 0!==E&&E,C=e.fullWidth,k=void 0!==C&&C,S=e.getLimitTagsText,O=void 0===S?function(e){return"+".concat(e)}:S,A=(e.getOptionDisabled,e.getOptionLabel),j=void 0===A?function(e){return e}:A,P=(e.getOptionSelected,e.groupBy),I=e.handleHomeEndKeys,L=(void 0===I&&e.freeSolo,e.id,e.includeInputInList,e.inputValue,e.limitTags),R=void 0===L?-1:L,N=e.ListboxComponent,D=void 0===N?"ul":N,M=e.ListboxProps,B=e.loading,Q=void 0!==B&&B,U=e.loadingText,F=void 0===U?"Loading\u2026":U,z=e.multiple,q=void 0!==z&&z,H=e.noOptionsText,W=void 0===H?"No options":H,G=(e.onChange,e.onClose,e.onHighlightChange,e.onInputChange,e.onOpen,e.open,e.openOnFocus,e.openText),V=void 0===G?"Open":G,$=(e.options,e.PaperComponent),K=void 0===$?Xn:$,Y=e.PopperComponent,Z=void 0===Y?cs:Y,J=e.popupIcon,X=void 0===J?bk:J,ee=e.renderGroup,te=e.renderInput,ne=e.renderOption,re=e.renderTags,ie=e.selectOnFocus,oe=(void 0===ie&&e.freeSolo,e.size),ae=void 0===oe?"medium":oe,se=(e.value,(0,Yn.c)(e,["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","classes","className","clearOnBlur","clearOnEscape","clearText","closeIcon","closeText","debug","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","getOptionSelected","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"])),le=_?gk:Z,ce=mk((0,at.c)({},e,{componentName:"Autocomplete"})),ue=ce.getRootProps,de=ce.getInputProps,pe=ce.getInputLabelProps,he=ce.getPopupIndicatorProps,fe=ce.getClearProps,me=ce.getTagProps,ge=ce.getListboxProps,ve=ce.getOptionProps,be=ce.value,ye=ce.dirty,_e=ce.id,xe=ce.popupOpen,we=ce.focused,Ee=ce.focusedTag,Te=ce.anchorEl,Ce=ce.setAnchorEl,ke=ce.inputValue,Se=ce.groupedOptions;if(q&&be.length>0){var Oe=function(e){return(0,at.c)({className:(0,kn.c)(o.tag,"small"===ae&&o.tagSizeSmall),disabled:b},me(e))};n=re?re(be,Oe):be.map((function(e,t){return i.createElement(pC,(0,at.c)({label:j(e),size:ae},Oe({index:t}),r))}))}if(R>-1&&Array.isArray(n)){var Ae=n.length-R;!we&&Ae>0&&(n=n.splice(0,R)).push(i.createElement("span",{className:o.tag,key:n.length},O(Ae)))}var je=ee||function(e){return i.createElement("li",{key:e.key},i.createElement(ck,{className:o.groupLabel,component:"div"},e.group),i.createElement("ul",{className:o.groupUl},e.children))},Pe=ne||j,Ie=function(e,t){var n=ve({option:e,index:t});return i.createElement("li",(0,at.c)({},n,{className:o.option}),Pe(e,{selected:n["aria-selected"],inputValue:ke}))},Le=!g&&!b,Re=(!T||!0===w)&&!1!==w;return i.createElement(i.Fragment,null,i.createElement("div",(0,at.c)({ref:t,className:(0,kn.c)(o.root,a,we&&o.focused,k&&o.fullWidth,Le&&o.hasClearIcon,Re&&o.hasPopupIcon)},ue(se)),te({id:_e,disabled:b,fullWidth:!0,size:"small"===ae?"small":void 0,InputLabelProps:pe(),InputProps:{ref:Ce,className:o.inputRoot,startAdornment:n,endAdornment:i.createElement("div",{className:o.endAdornment},Le?i.createElement(Cr,(0,at.c)({},fe(),{"aria-label":c,title:c,className:(0,kn.c)(o.clearIndicator,ye&&o.clearIndicatorDirty)}),d):null,Re?i.createElement(Cr,(0,at.c)({},he(),{disabled:b,"aria-label":xe?h:V,title:xe?h:V,className:(0,kn.c)(o.popupIndicator,xe&&o.popupIndicatorOpen)}),X):null)},inputProps:(0,at.c)({className:(0,kn.c)(o.input,-1===Ee&&o.inputFocused),disabled:b},de())})),xe&&Te?i.createElement(le,{className:(0,kn.c)(o.popper,_&&o.popperDisablePortal),style:{width:Te?Te.clientWidth:null},role:"presentation",anchorEl:Te,open:!0},i.createElement(K,{className:o.paper},Q&&0===Se.length?i.createElement("div",{className:o.loading},F):null,0!==Se.length||T||Q?null:i.createElement("div",{className:o.noOptions},W),Se.length>0?i.createElement(D,(0,at.c)({className:o.listbox},ge(),M),Se.map((function(e,t){return P?je({key:e.key,group:e.group,children:e.options.map((function(t,n){return Ie(t,e.index+n)}))}):Ie(e,t)}))):null)):null)}));const _k=(0,Gn.c)((function(e){var t;return{root:{"&$focused $clearIndicatorDirty":{visibility:"visible"},"@media (pointer: fine)":{"&:hover $clearIndicatorDirty":{visibility:"visible"}}},fullWidth:{width:"100%"},focused:{},tag:{margin:3,maxWidth:"calc(100% - 6px)"},tagSizeSmall:{margin:2,maxWidth:"calc(100% - 4px)"},hasPopupIcon:{},hasClearIcon:{},inputRoot:{flexWrap:"wrap","$hasPopupIcon &, $hasClearIcon &":{paddingRight:30},"$hasPopupIcon$hasClearIcon &":{paddingRight:56},"& $input":{width:0,minWidth:30},'&[class*="MuiInput-root"]':{paddingBottom:1,"& $input":{padding:4},"& $input:first-child":{padding:"6px 0"}},'&[class*="MuiInput-root"][class*="MuiInput-marginDense"]':{"& $input":{padding:"4px 4px 5px"},"& $input:first-child":{padding:"3px 0 6px"}},'&[class*="MuiOutlinedInput-root"]':{padding:9,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:39},"$hasPopupIcon$hasClearIcon &":{paddingRight:65},"& $input":{padding:"9.5px 4px"},"& $input:first-child":{paddingLeft:6},"& $endAdornment":{right:9}},'&[class*="MuiOutlinedInput-root"][class*="MuiOutlinedInput-marginDense"]':{padding:6,"& $input":{padding:"4.5px 4px"}},'&[class*="MuiFilledInput-root"]':{paddingTop:19,paddingLeft:8,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:39},"$hasPopupIcon$hasClearIcon &":{paddingRight:65},"& $input":{padding:"9px 4px"},"& $endAdornment":{right:9}},'&[class*="MuiFilledInput-root"][class*="MuiFilledInput-marginDense"]':{paddingBottom:1,"& $input":{padding:"4.5px 4px"}}},input:{flexGrow:1,textOverflow:"ellipsis",opacity:0},inputFocused:{opacity:1},endAdornment:{position:"absolute",right:0,top:"calc(50% - 14px)"},clearIndicator:{marginRight:-2,padding:4,visibility:"hidden"},clearIndicatorDirty:{},popupIndicator:{padding:2,marginRight:-2},popupIndicatorOpen:{transform:"rotate(180deg)"},popper:{zIndex:e.zIndex.modal},popperDisablePortal:{position:"absolute"},paper:(0,at.c)({},e.typography.body1,{overflow:"hidden",margin:"4px 0"}),listbox:{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto"},loading:{color:e.palette.text.secondary,padding:"14px 16px"},noOptions:{color:e.palette.text.secondary,padding:"14px 16px"},option:(t={minHeight:48,display:"flex",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},(0,nr.c)(t,e.breakpoints.up("sm"),{minHeight:"auto"}),(0,nr.c)(t,'&[aria-selected="true"]',{backgroundColor:e.palette.action.selected}),(0,nr.c)(t,'&[data-focus="true"]',{backgroundColor:e.palette.action.hover}),(0,nr.c)(t,"&:active",{backgroundColor:e.palette.action.selected}),(0,nr.c)(t,'&[aria-disabled="true"]',{opacity:e.palette.action.disabledOpacity,pointerEvents:"none"}),t),groupLabel:{backgroundColor:e.palette.background.paper,top:-8},groupUl:{padding:0,"& $option":{paddingLeft:24}}}}),{name:"MuiAutocomplete"})(yk),xk=e=>{let{record:t,updateRecord:n,region:r}=e;const[o,a]=(0,i.useState)({}),[s,l]=(0,i.useState)(null),[c,u]=(0,i.useState)({}),[d,p]=(0,i.useState)(!0),h=t.userID;(0,i.useEffect)((()=>{let e=!0;t.recordID&&p(!1);return(async()=>{try{const t=await async function(e){const t=Bb(Cp);try{const n=xb(t,"".concat(e,"/users"));return(await Sb(n)).val()}catch(gh){throw new Error("Error fetching user emails for region ".concat(e,": ").concat(gh))}}(r);e&&a(t)}catch(gh){throw new Error("Error loading region users: ".concat(gh))}})(),()=>{e=!1}}),[r,t.recordID]),(0,i.useEffect)((()=>{const e={};Object.keys(t.sharedWith||{}).forEach((t=>{var n,r;const i=null===(n=o[t])||void 0===n||null===(r=n.userinfo)||void 0===r?void 0:r.displayName;var a,s;i&&(e[t]={name:"".concat(i," (").concat(null===(a=o[t])||void 0===a||null===(s=a.userinfo)||void 0===s?void 0:s.email.split("@").pop(),")")})})),u(e)}),[t.sharedWith,o]);const f=Object.entries(o).map((e=>{var t,n;let[r,i]=e;return{label:"".concat(null===(t=i.userinfo)||void 0===t?void 0:t.displayName," (").concat(null===(n=i.userinfo)||void 0===n?void 0:n.email.split("@").pop(),")"),userID:r}})).filter((e=>e.label)).sort(((e,t)=>e.label.localeCompare(t.label)));return(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,style:{margin:"10px"},children:[(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"To share editing access with another user, start typing their name and select from the suggestions."}),(0,Ap.jsx)(Ip,{children:"Pour partager l'acc\xe8s en modification avec un autre utilisateur, commencez \xe0 saisir son nom et s\xe9lectionnez parmi les suggestions."})]})}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:(0,Ap.jsx)("p",{children:"Please save the form before sharing access."})}),(0,Ap.jsx)(Ip,{children:(0,Ap.jsx)("p",{children:"Veuillez enregistrer le formulaire avant de partager l'acc\xe8s."})})]})})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,style:{margin:"10px"},children:(0,Ap.jsxs)(e_,{container:!0,spacing:2,children:[(0,Ap.jsxs)(e_,{item:!0,xs:6,children:[(0,Ap.jsx)(_k,{id:"share-with-emails",options:f,getOptionLabel:e=>e.label,getOptionSelected:(e,t)=>e.userID===t.userID,value:s,onChange:(e,t)=>l(t),fullWidth:!0,filterSelectedOptions:!0,renderInput:e=>(0,Ap.jsx)(CC,{...e,label:(0,Ap.jsx)(Lp,{en:"Share with...",fr:"Partager avec..."}),variant:"outlined",style:{marginTop:"16px"}})}),(0,Ap.jsx)(c_,{disabled:d,startIcon:(0,Ap.jsx)(u_,{}),onClick:()=>{s&&((e=>{const i={...t.sharedWith,[e]:!0};u(i),n("sharedWith")(i),(async()=>{try{await q_(e,t.recordID,h,r,!0)}catch(gh){throw new Error("Failed to update shared record: ".concat(gh))}})()})(s.userID),l(null))},style:{height:"46px",justifyContent:"center",marginTop:"15px"},children:(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Share Record"}),(0,Ap.jsx)(Ip,{children:"Partager l'enregistrement"})]})})})]}),(0,Ap.jsx)(e_,{item:!0,xs:6,style:{paddingLeft:"35px"},children:(0,Ap.jsxs)(QT,{style:{margin:"10px"},children:[(0,Ap.jsx)(Or,{style:{fontWeight:"bold"},children:Object.keys(c).length>0&&(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Users this record is shared with:"}),(0,Ap.jsx)(Ip,{children:"Utilisateurs avec lesquels cet enregistrement est partag\xe9\xa0:"})]})}),(0,Ap.jsx)(ki,{children:Object.entries(c).map(((e,i)=>{let[o,a]=e;return(0,Ap.jsxs)(ko,{children:[(0,Ap.jsx)(Yo,{primary:(0,Ap.jsx)(Or,{children:a.name})}),(0,Ap.jsx)(X_,{children:(0,Ap.jsx)(Cr,{"aria-label":"delete",style:{marginRight:"60px"},onClick:()=>(e=>{if(t.sharedWith&&t.sharedWith[e]){const i={...t.sharedWith};delete i[e],n("sharedWith")(i);const o=async()=>{try{await q_(e,t.recordID,h,r,!1)}catch(gh){throw new Error("Failed to unshare the record: ".concat(gh))}};o()}})(o),children:(0,Ap.jsx)(nx,{})})})]},i)}))})]})})]})})]})})},wk=An((()=>({formControl:{minWidth:200},selectEmpty:{}}))),Ek=e=>{let{value:t="",name:n,options:r,optionLabels:i,optionTooltips:o=[],onChange:a,disabled:s,label:l,fullWidth:c=!0}=e;const u=wk();return(0,Ap.jsx)(gC,{fullWidth:c,className:u.formControl,disabled:s,children:(0,Ap.jsxs)(wo,{className:u.selectEmpty,name:n,fullWidth:c,value:t,disabled:s,displayEmpty:!0,onChange:a,children:[(0,Ap.jsx)(Oo,{value:"",children:(0,Ap.jsx)(_C,{id:"demo-simple-select-label",children:(0,Ap.jsx)(Or,{children:l||(0,Ap.jsx)(Lp,{en:"Choose",fr:"Choisir"})})})}),r.map(((e,t)=>(0,Ap.jsx)(Oo,{value:e,children:(0,Ap.jsx)(ms,{enterDelay:1,title:o[t]?o[t]:"",children:(0,Ap.jsx)("div",{style:{width:"100%"},children:i[t]})})},e)))]})})},{DataCollectionSampling:Tk,...Ck}=ik,kk=e=>{let{disabled:t,record:n,updateRecord:r,handleUpdateRecord:o,userID:a}=e;const{language:s,region:l}=mn(),c=Cn[l],[u,d]=(0,i.useState)(!1),p=(0,i.useRef)(!1);return(0,i.useEffect)((()=>(p.current=!0,n.language||o("language")({target:{value:s}}),n.metadataScope||o("metadataScope")({target:{value:"Dataset"}}),()=>{p.current=!1})),[s]),(0,i.useEffect)((()=>{const e=!n.recordID;(a===n.userID||e)&&d(!0)}),[a,n.userID,n.recordID]),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(Xn,{style:ZC,children:[t&&(0,Ap.jsx)(KC,{style:{paddingBottom:"15px"},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:(0,Ap.jsx)("b",{children:"This form is locked because it has already been published, or you do not have access to edit it."})}),(0,Ap.jsx)(Ip,{children:(0,Ap.jsx)("b",{children:"Ce formulaire est verrouill\xe9 car il a d\xe9j\xe0 \xe9t\xe9 publi\xe9 ou vous n'avez pas acc\xe8s pour le modifier."})})]})}),(0,Ap.jsxs)(Or,{variant:"body1",children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["Welcome to the ",c.title.en," Metadata Entry Tool, the first step in making your data discoverable and accessible through CIOOS. This information will be used to create a metadata record for your dataset that will allow it to be searchable through the"," ",c.catalogueTitle.en,". Please fill out each field with as much detail as possible. The metadata record will help describe this dataset for others to determine if it is relevant for their work and ensure it is interoperable with other databases and systems.",(0,Ap.jsx)("br",{}),(0,Ap.jsx)("br",{})," Questions regarding the form can be directed to"," "]}),(0,Ap.jsxs)(Ip,{children:["Bienvenue dans l\u2019outil de saisie de m\xe9tadonn\xe9es"," ",c.titleFrPossessive," qui constitue la premi\xe8re \xe9tape du processus de partage de vos donn\xe9es. Ces renseignements serviront \xe0 cr\xe9er le profil de m\xe9tadonn\xe9es de votre jeu de donn\xe9es. Ces m\xe9tadonn\xe9es facilitent l\u2019accessibilit\xe9 et la d\xe9couvrabilit\xe9 de vos donn\xe9es via le Catalogue de donn\xe9es ",c.catalogueTitle.fr,". Elles rendent \xe9galement vos jeux de donn\xe9es interop\xe9rables avec d\u2019autres syst\xe8mes de diffusion. Aussi, nous vous incitons fortement \xe0 remplir les champs requis de la fa\xe7on la plus exhaustive possible.",(0,Ap.jsx)("br",{}),(0,Ap.jsx)("br",{})," Les questions concernant le formulaire peuvent \xeatre adress\xe9es \xe0"," "]})]}),(0,Ap.jsx)("a",{href:"mailto:".concat(c.email),children:c.email}),"."]}),(0,Ap.jsxs)("ul",{children:[(0,Ap.jsx)("li",{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"You can save the form once you have filled out a title."}),(0,Ap.jsx)(Ip,{children:"D\xe8s que vous avez saisi un titre, vous pouvez enregistrer le formulaire."})]})}),(0,Ap.jsxs)("li",{children:[(0,Ap.jsxs)(Pp,{children:["All fields marked with a ",(0,Ap.jsx)(ek,{})," are mandatory."]}),(0,Ap.jsxs)(Ip,{children:["Tous les champs marqu\xe9s d'une \xe9toile ",(0,Ap.jsx)(ek,{})," sont obligatoires."]})]}),(0,Ap.jsx)("li",{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["The form can be saved and completed over time by clicking the"," ",(0,Ap.jsx)(lC,{}),' icon in the bottom right corner. This icon will be greyed out until you have filled in the dataset title in the "Identification" section.']}),(0,Ap.jsxs)(Ip,{children:["Le formulaire peut \xeatre sauvegard\xe9 et compl\xe9t\xe9 ult\xe9rieurement en cliquant sur le bouton ",(0,Ap.jsx)(lC,{})," dans le coin inf\xe9rieur droit. Cet ic\xf4ne sera activ\xe9 par l\u2019ajout du titre du jeu de donn\xe9es dans la section \xab Identification des donn\xe9es \xbb."]})]})}),(0,Ap.jsx)("li",{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Some fields can have text in both French and English, though this is only required for the title and the abstract. There is a 'Translate' button that will automatically generate text in the other language. This translation is more accurate when there is more text to translate."}),(0,Ap.jsx)(Ip,{children:"Certains champs peuvent avoir du texte \xe0 la fois en fran\xe7ais et en anglais, toutefois seules les traductions du titre et du r\xe9sum\xe9 sont r\xe9ellement requises. Le bouton \xab Traduire\xbb g\xe9n\xe8re automatiquement du texte dans l'autre langue. Veuillez noter que plus il y a de texte \xe0 traduire et plus la traduction sera pr\xe9cise."})]})})]})]}),(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the dataset title? Required in English and French."}),(0,Ap.jsx)(Ip,{children:"Quel est le titre du jeu de donn\xe9es? Obligatoire dans les deux langues."})]}),(0,Ap.jsx)(ek,{passes:Mx(n,"title")}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:[(0,Ap.jsx)("p",{children:"Recommended title includes: What, Where, When."}),(0,Ap.jsxs)("p",{children:["Title should be precise enough so that the user will not have to open the dataset to understand its contents. Title should not have acronyms, special characters, or use specialized nomenclature. This will appear as the title that is shown for this dataset in the ",c.catalogueTitle.en,"."]})]}),(0,Ap.jsxs)(Ip,{children:[(0,Ap.jsx)("p",{children:"Le titre recommand\xe9 comprend : Quoi, O\xf9, Quand."}),(0,Ap.jsxs)("p",{children:["Le titre doit \xeatre suffisamment pr\xe9cis pour que l'utilisateur n'ait pas \xe0 ouvrir le ensemble de donn\xe9es pour comprendre son contenu. Le titre ne doit pas avoir des acronymes, des caract\xe8res sp\xe9ciaux ou utiliser une nomenclature sp\xe9cialis\xe9e. Ceci appara\xeetra comme titre de votre jeu de donn\xe9es dans le"," ",c.catalogueTitle.fr,"."]})]})]})})]}),(0,Ap.jsx)(qC,{name:"title",value:n.title,onChange:o("title"),disabled:t})]}),(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the resource type?"}),(0,Ap.jsx)(Ip,{children:"Quel est le type de ressource?"})]}),(0,Ap.jsx)(ek,{passes:Mx(n,"metadataScope")})]}),(0,Ap.jsx)(Ek,{value:n.metadataScope||"",onChange:e=>{var t;const n={target:{value:null===(t=ik[e.target.value])||void 0===t?void 0:t.isoValue}};o("metadataScopeIso")(n),o("metadataScope")(e)},options:Object.keys(Ck),optionLabels:Object.values(Ck).map((e=>{let{title:t}=e;return t[s]})),optionTooltips:Object.values(Ck).map((e=>{let{text:t}=e;return t[s]})),disabled:t,fullWidth:!1,style:{width:"200px"}})]}),(0,Ap.jsx)(Xn,{style:ZC,children:(0,Ap.jsxs)(gC,{children:[(0,Ap.jsxs)(KC,{style:{paddingBottom:"15px"},children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the theme of this record?"}),(0,Ap.jsx)(Ip,{children:"Quel est le th\xe8me de ce disque?"})]}),(0,Ap.jsx)(ek,{passes:n.resourceType})]}),(0,Ap.jsx)(sk,{"aria-labelledby":"resource-type",name:"resource-type",value:n.resourceType||[],labelSize:6,defaultValue:"oceanographic",onChange:e=>{return t=e,Array.isArray(t)&&1===t.length&&t.includes("other")&&Array.isArray(n.eov)&&(n.eov.includes("other")?r("eov")(["other"]):r("eov")([...n.eov,"other"])),void r("resourceType")(t);var t},options:["oceanographic","biological","other"],optionLabels:["Oceanographic","Biological","Other"],disabled:t})]})}),(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the primary language of the dataset?"}),(0,Ap.jsx)(Ip,{children:"Quelle est la langue principale du jeu de donn\xe9es?"})]}),(0,Ap.jsx)(ek,{passes:Mx(n,"language")})]}),(0,Ap.jsx)(Ek,{value:n.language,onChange:o("language"),options:["en","fr"],optionLabels:["English","Fran\xe7ais"],disabled:t})]}),(0,Ap.jsx)(XC,{record:n,handleUpdateDatasetIdentifier:o("datasetIdentifier"),handleUpdateDoiCreationStatus:o("doiCreationStatus"),disabled:t}),u&&(0,Ap.jsx)(xk,{region:l,updateRecord:r,record:n})]})};var Sk=n(6968);const Ok=(0,In.c)(i.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");var Ak=n(7456),jk=n(8792),Pk=n(3764),Ik=n(2664);var Lk=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.collapsedHeight,s=e.collapsedSize,l=void 0===s?"0px":s,c=e.component,u=void 0===c?"div":c,d=e.disableStrictModeCompat,p=void 0!==d&&d,h=e.in,f=e.onEnter,m=e.onEntered,g=e.onEntering,v=e.onExit,b=e.onExited,y=e.onExiting,_=e.style,x=e.timeout,w=void 0===x?Ao.rV.standard:x,E=e.TransitionComponent,T=void 0===E?di:E,C=(0,Yn.c)(e,["children","classes","className","collapsedHeight","collapsedSize","component","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),k=Pn(),S=i.useRef(),O=i.useRef(null),A=i.useRef(),j="number"===typeof(a||l)?"".concat(a||l,"px"):a||l;i.useEffect((function(){return function(){clearTimeout(S.current)}}),[]);var P=k.unstable_strictMode&&!p,I=i.useRef(null),L=(0,ar.c)(t,P?I:void 0),R=function(e){return function(t,n){if(e){var r=P?[I.current,t]:[t,n],i=(0,jr.c)(r,2),o=i[0],a=i[1];void 0===a?e(o):e(o,a)}}},N=R((function(e,t){e.style.height=j,f&&f(e,t)})),D=R((function(e,t){var n=O.current?O.current.clientHeight:0,r=hi({style:_,timeout:w},{mode:"enter"}).duration;if("auto"===w){var i=k.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(i,"ms"),A.current=i}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style.height="".concat(n,"px"),g&&g(e,t)})),M=R((function(e,t){e.style.height="auto",m&&m(e,t)})),B=R((function(e){var t=O.current?O.current.clientHeight:0;e.style.height="".concat(t,"px"),v&&v(e)})),Q=R(b),U=R((function(e){var t=O.current?O.current.clientHeight:0,n=hi({style:_,timeout:w},{mode:"exit"}).duration;if("auto"===w){var r=k.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(r,"ms"),A.current=r}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style.height=j,y&&y(e)}));return i.createElement(T,(0,at.c)({in:h,onEnter:N,onEntered:M,onEntering:D,onExit:B,onExited:Q,onExiting:U,addEndListener:function(e,t){var n=P?e:t;"auto"===w&&(S.current=setTimeout(n,A.current||0))},nodeRef:P?I:void 0,timeout:"auto"===w?null:w},C),(function(e,t){return i.createElement(u,(0,at.c)({className:(0,kn.c)(r.root,r.container,o,{entered:r.entered,exited:!h&&"0px"===j&&r.hidden}[e]),style:(0,at.c)({minHeight:j},_),ref:L},t),i.createElement("div",{className:r.wrapper,ref:O},i.createElement("div",{className:r.wrapperInner},n)))}))}));Lk.muiSupportAuto=!0;const Rk=(0,Gn.c)((function(e){return{root:{height:0,overflow:"hidden",transition:e.transitions.create("height")},entered:{height:"auto",overflow:"visible"},hidden:{visibility:"hidden"},wrapper:{display:"flex"},wrapperInner:{width:"100%"}}}),{name:"MuiCollapse"})(Lk);const Nk=i.createContext({});var Dk=i.forwardRef((function(e,t){var n,r=e.children,o=e.classes,a=e.className,s=e.defaultExpanded,l=void 0!==s&&s,c=e.disabled,u=void 0!==c&&c,d=e.expanded,p=e.onChange,h=e.square,f=void 0!==h&&h,m=e.TransitionComponent,g=void 0===m?Rk:m,v=e.TransitionProps,b=(0,Yn.c)(e,["children","classes","className","defaultExpanded","disabled","expanded","onChange","square","TransitionComponent","TransitionProps"]),y=(0,Ui.c)({controlled:d,default:l,name:"Accordion",state:"expanded"}),_=(0,jr.c)(y,2),x=_[0],w=_[1],E=i.useCallback((function(e){w(!x),p&&p(e,!x)}),[x,p,w]),T=i.Children.toArray(r),C=(n=T,(0,Ak.c)(n)||(0,jk.c)(n)||(0,Pk.c)(n)||(0,Ik.c)()),k=C[0],S=C.slice(1),O=i.useMemo((function(){return{expanded:x,disabled:u,toggle:E}}),[x,u,E]);return i.createElement(Xn,(0,at.c)({className:(0,kn.c)(o.root,a,x&&o.expanded,u&&o.disabled,!f&&o.rounded),ref:t,square:f},b),i.createElement(Nk.Provider,{value:O},k),i.createElement(g,(0,at.c)({in:x,timeout:"auto"},v),i.createElement("div",{"aria-labelledby":k.props.id,id:k.props["aria-controls"],role:"region"},S)))}));const Mk=(0,Gn.c)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{position:"relative",transition:e.transitions.create(["margin"],t),"&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-child":{"&:before":{display:"none"}},"&$expanded":{margin:"16px 0","&:first-child":{marginTop:0},"&:last-child":{marginBottom:0},"&:before":{opacity:0}},"&$expanded + &":{"&:before":{display:"none"}},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},rounded:{borderRadius:0,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-child":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},expanded:{},disabled:{}}}),{name:"MuiAccordion"})(Dk);var Bk=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.expandIcon,s=e.focusVisibleClassName,l=e.IconButtonProps,c=void 0===l?{}:l,u=e.onClick,d=(0,Yn.c)(e,["children","classes","className","expandIcon","focusVisibleClassName","IconButtonProps","onClick"]),p=i.useContext(Nk),h=p.disabled,f=void 0!==h&&h,m=p.expanded,g=p.toggle;return i.createElement(Er,(0,at.c)({focusRipple:!1,disableRipple:!0,disabled:f,component:"div","aria-expanded":m,className:(0,kn.c)(r.root,o,f&&r.disabled,m&&r.expanded),focusVisibleClassName:(0,kn.c)(r.focusVisible,r.focused,s),onClick:function(e){g&&g(e),u&&u(e)},ref:t},d),i.createElement("div",{className:(0,kn.c)(r.content,m&&r.expanded)},n),a&&i.createElement(Cr,(0,at.c)({className:(0,kn.c)(r.expandIcon,m&&r.expanded),edge:"end",component:"div",tabIndex:null,role:null,"aria-hidden":!0},c),a))}));const Qk=(0,Gn.c)((function(e){var t={duration:e.transitions.duration.shortest};return{root:{display:"flex",minHeight:48,transition:e.transitions.create(["min-height","background-color"],t),padding:e.spacing(0,2),"&:hover:not($disabled)":{cursor:"pointer"},"&$expanded":{minHeight:64},"&$focused, &$focusVisible":{backgroundColor:e.palette.action.focus},"&$disabled":{opacity:e.palette.action.disabledOpacity}},expanded:{},focused:{},focusVisible:{},disabled:{},content:{display:"flex",flexGrow:1,transition:e.transitions.create(["margin"],t),margin:"12px 0","&$expanded":{margin:"20px 0"}},expandIcon:{transform:"rotate(0deg)",transition:e.transitions.create("transform",t),"&:hover":{backgroundColor:"transparent"},"&$expanded":{transform:"rotate(180deg)"}}}}),{name:"MuiAccordionSummary"})(Bk);var Uk=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=(0,Yn.c)(e,["classes","className"]);return i.createElement("div",(0,at.c)({className:(0,kn.c)(n.root,r),ref:t},o))}));const Fk=(0,Gn.c)((function(e){return{root:{display:"flex",padding:e.spacing(1,2,2)}}}),{name:"MuiAccordionDetails"})(Uk),zk=(0,In.c)(i.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),qk=e=>{var t;let{value:n,disabled:r,updateContact:o}=e;const[a,s]=(0,i.useState)(!1),{language:l}=mn(),c=Object.entries(tk).map((e=>{let[t,n]=e;return{key:t,...n}})),u=c.filter((e=>e.showProminently)),d=c.filter((e=>!e.showProminently)),p=d.map((e=>e.key)),h=(n.role||[]).filter((e=>p.includes(e))).length>0;return(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Appear in citation?"}),(0,Ap.jsx)(Ip,{children:"Apparaissent dans la citation?"})]}),(0,Ap.jsx)(QC,{name:"inCitation",checked:n.inCitation||!1,onChange:e=>{const{checked:t}=e.target;o("inCitation")(t)}})]}),(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the role of this contact?"}),(0,Ap.jsx)(Ip,{children:"Quel est son r\xf4le?"})]}),(0,Ap.jsx)(ek,{passes:null===(t=n.role)||void 0===t?void 0:t.length}),(0,Ap.jsxs)($C,{children:[" ",(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Multiple roles can be selected for each contact. Expand the list below for additional role."}),(0,Ap.jsx)(Ip,{children:"Plusieurs r\xf4les peuvent \xeatre s\xe9lectionn\xe9s par personne. Si vous avez besoin de r\xf4les plus sp\xe9cifiques, vous pouvez \xe9tendre la liste. D\xe9veloppez la liste ci-dessous pour un r\xf4le suppl\xe9mentaire."})]})]})]}),(0,Ap.jsx)(sk,{value:n.role||[],onChange:o("role"),options:u.map((e=>e.key)),optionLabels:u.map((e=>e.title[l]+(e.required?"*":""))),disabled:r,optionTooltips:u.map((e=>e.text[l]))}),(0,Ap.jsxs)(Mk,{onChange:()=>s(!a),expanded:a||h,children:[(0,Ap.jsx)(Qk,{expandIcon:(0,Ap.jsx)(ms,{title:"Show/Hide more options",children:(0,Ap.jsx)(zk,{})}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Show/Hide more role options"}),(0,Ap.jsx)(Ip,{children:"Afficher/masquer les r\xf4les"})]})}),(0,Ap.jsx)(Fk,{children:(0,Ap.jsx)(sk,{value:n.role||[],onChange:o("role"),options:d.map((e=>e.key)),optionLabels:d.map((e=>e.title[l])),disabled:r,optionTooltips:d.map((e=>e.text[l]))})})]})]})};const Hk=e=>{var t,n;let{value:r,showRolePicker:o,disabled:a,handleClear:s,updateContact:l,updateContactEvent:c,updateContactRor:u,updateContactOrcid:d}=e;const p=(0,i.useRef)(!1),h=Sx(r.orgEmail),f=Sx(r.indEmail),m=Ox(r.orgURL),g=!(null!==(t=r.givenNames)&&void 0!==t&&t.includes(",")),v=!(null!==(n=r.lastName)&&void 0!==n&&n.includes(",")),[b,y]=(0,i.useState)(r.orgRor),[_,x]=(0,i.useState)(""),[w]=VC(b,500),[E,T]=(0,i.useState)([]),[C,k]=(0,i.useState)(!1);return r={...j_(),...r},(0,i.useEffect)((()=>{var e;return p.current=!0,w&&((e=w).startsWith("http")&&!e.includes("ror.org")?p.current&&k(!1):fetch('https://api.ror.org/organizations?query="'.concat(e,'"')).then((e=>e.json())).then((e=>{p.current&&T(e.items),1===e.number_of_results&&u(e.items[0])})).then((()=>{p.current&&k(!1)}))),()=>{p.current=!1}}),[w]),(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{variant:"h6",children:iT(r)})}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[o&&(0,Ap.jsx)(qk,{value:r,updateContact:l,disabled:a}),(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:1,style:{marginTop:"10px"},children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(KC,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Provide any information about the organization"}),(0,Ap.jsx)(Ip,{children:"Identification de l'organisation"})]})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,style:{marginleft:"10px",height:"33px"},children:C?(0,Ap.jsx)(r_,{size:20}):(0,Ap.jsx)("div",{style:{height:"33px"}})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,style:{marginleft:"10px"},children:(0,Ap.jsx)(_k,{inputValue:b,onInputChange:(e,t)=>{y(t),k(""!==t)},disabled:a,onChange:(e,t)=>{null!==t&&fetch("https://api.ror.org/organizations/".concat(t.id)).then((e=>e.json())).then((e=>{e.errors||u(e)})).then((()=>k(!1))).then((()=>y("")))},freeSolo:!0,filterOptions:e=>e,getOptionLabel:e=>e.name,options:E,fullWidth:!0,renderInput:e=>(0,Ap.jsx)(CC,{...e,label:(0,Ap.jsx)(Lp,{en:"Type to search Research Organization Registry (ROR)",fr:"Tapez pour rechercher le registre des organismes de recherche (ROR)\n"})})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,style:{marginleft:"10px"},children:(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{active:!0,en:"ROR URL",fr:"URL ROR"}),InputLabelProps:{shrink:""!==r.orgRor},value:r.orgRor,disabled:!0,fullWidth:!0,InputProps:{endAdornment:r.orgRor&&(0,Ap.jsx)(SC,{position:"end",children:(0,Ap.jsx)(Cr,{onClick:()=>{s("orgRor")},children:(0,Ap.jsx)(Ok,{})})})}})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,style:{marginleft:"10px"},children:(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{en:"Organization name",fr:"Nom de l'organisation"}),value:r.orgName,onChange:c("orgName"),disabled:""!==r.orgRor||a,fullWidth:!0})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{helperText:!m&&(0,Ap.jsx)(Lp,{en:"Invalid URL",fr:"URL non valide"}),error:!m,label:(0,Ap.jsx)(Lp,{en:"URL",fr:"URL"}),value:r.orgURL,onChange:c("orgURL"),disabled:""!==r.orgRor||a,fullWidth:!0})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{en:"Address",fr:"Adresse"}),value:r.orgAdress,onChange:c("orgAdress"),disabled:a,fullWidth:!0})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{en:"City",fr:"Ville"}),value:r.orgCity,onChange:c("orgCity"),disabled:""!==r.orgRor||a,fullWidth:!0})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{en:"Country",fr:"Pays"}),value:r.orgCountry,onChange:c("orgCountry"),disabled:""!==r.orgRor||a,fullWidth:!0})}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(CC,{helperText:!h&&(0,Ap.jsx)(Lp,{en:"Invalid email",fr:"E-mail non valide"}),error:!h,label:(0,Ap.jsx)(Lp,{en:"Email",fr:"Courriel"}),value:r.orgEmail,onChange:c("orgEmail"),fullWidth:!0,disabled:a})," "]})]})]}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Provide any information about the individual"}),(0,Ap.jsx)(Ip,{children:"Identification de l'individu"})]})}),(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(c_,{href:"https://orcid.org/orcid-search/search",target:"_blank",rel:"noopener noreferrer",style:{marginTop:"10px",marginBottom:"10px"},children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"ORCID search "}),(0,Ap.jsx)(Ip,{children:"Rechercher ORCID "})]}),(0,Ap.jsx)(lx,{style:{verticalAlign:"middle"}})]})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,style:{marginleft:"10px"},children:(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{en:"Paste ORCID identifier here to populate personal data",fr:"Collez l'identifiant ORCID ici pour remplir les donn\xe9es personnelles"}),value:_,onChange:e=>{x(e.target.value);const t=e.target.value.match(/\w{4}-\w{4}-\w{4}-\w{4}/g);t&&fetch("https://pub.orcid.org/v3.0/".concat(t,"/record"),{headers:{accept:"application/json"}}).then((e=>e.json())).then((e=>d(e))).then((()=>{setTimeout((()=>x("")),100)}))},disabled:a,fullWidth:!0})}),(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:1,children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:r.givenNames&&r.lastName&&r.inCitation&&(0,Ap.jsxs)("div",{style:{marginBottom:"10px"},children:["This name will appear in the citation as:"," ",(0,Ap.jsx)("b",{children:(S=r.givenNames,O=r.lastName,S&&O?"".concat(O,", ").concat(function(e){return e.split(" ").filter((e=>e)).map((e=>"".concat(e[0].toUpperCase(),". "))).join(" ")}(S)):"")})]})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{en:"ORCID URL",fr:"URL ORCID"}),InputLabelProps:{shrink:""!==r.indOrcid},value:r.indOrcid,InputProps:{endAdornment:r.indOrcid&&(0,Ap.jsx)(SC,{position:"end",children:(0,Ap.jsx)(Cr,{onClick:()=>{s("indOrcid")},children:(0,Ap.jsx)(Ok,{})})})},disabled:!0,fullWidth:!0})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{en:"Given name(s)",fr:"Pr\xe9nom"}),value:r.givenNames,helperText:!g&&(0,Ap.jsx)(Lp,{en:"No commas allowed",fr:"Aucune virgule n'est autoris\xe9e"}),error:!g,onChange:c("givenNames"),disabled:a,fullWidth:!0})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{en:"Last name",fr:"nom de famille"}),value:r.lastName,helperText:!v&&(0,Ap.jsx)(Lp,{en:"No commas allowed",fr:"Aucune virgule n'est autoris\xe9e"}),error:!v,onChange:c("lastName"),disabled:a,fullWidth:!0})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{en:"Position",fr:"Poste occup\xe9"}),value:r.indPosition,onChange:c("indPosition"),disabled:a,fullWidth:!0})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{helperText:!f&&(0,Ap.jsx)(Lp,{en:"Invalid email",fr:"E-mail non valide"}),error:!f,label:(0,Ap.jsx)(Lp,{en:"Email",fr:"Courriel"}),value:r.indEmail,onChange:c("indEmail"),disabled:a,fullWidth:!0})})]})]})]});var S,O};var Wk=n(1480);const Gk=(0,In.c)(i.createElement("path",{d:"M20 9H4v2h16V9zM4 15h16v-2H4v2z"}),"DragHandle");var Vk=n(6248),$k=n.n(Vk);const Kk=e=>{let{items:t,updateItems:n,activeItem:r,setActiveItem:o,disabled:a,savedUserItems:s,saveItem:l,getBlankItem:c,fieldsNotSavedInFirebase:u,addNewItemText:d,addSavedItemLabel:p,leftListHeader:h,leftListEmptyHeader:f,itemTitle:m,itemValidator:g,uidFields:v}=e;const[b,y]=(0,i.useState)(t);x_(b,t)||y(t);const _=Object.values(s||{});return(0,Ap.jsx)(Xn,{style:ZC,children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",justifyContent:"flex-start",children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,style:{margin:"10px"},children:(0,Ap.jsx)(Or,{children:t.length?h||(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Items in this record:"}),(0,Ap.jsx)(Ip,{children:"Articles dans cet enregistrement:"})]}):f||(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"There are no items in this record."}),(0,Ap.jsx)(Ip,{children:"Il n'y a aucun articles dans cet enregistrement."})]})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(ki,{children:(0,Ap.jsx)(Wk.Container,{dragHandleSelector:".drag-handle",lockAxis:"y",onDrop:e=>{let{removedIndex:t,addedIndex:i}=e;t===r?o(i):i<=r&&t>r&&o(r+1);const a=$k()(b,t,i);n(a)},children:t.map(((e,i)=>{var s;return(0,Ap.jsx)(Wk.Draggable,{children:(0,Ap.jsxs)(ko,{button:!0,onClick:()=>o(i),children:[(0,Ap.jsx)(Yo,{primary:(0,Ap.jsx)(Or,{style:{fontWeight:r===i?"bold":"",width:"80%"},children:m(e)||(0,Ap.jsx)(Lp,{en:"New item",fr:"Nouveau article"})})}),(0,Ap.jsxs)(X_,{children:[(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Duplicate entry",fr:"Duplicate entr\xe9e"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>function(e){const r=__(t[e]),i=(v||["id"]).find((e=>r[e]));r[i]+=" (Copy)",n(t.concat(r))}(i),edge:"end","aria-label":"clone",disabled:a,children:(0,Ap.jsx)(ox,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Remove from this record",fr:"Supprimer de cet enregistrement"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>{return e=i,n(t.filter(((t,n)=>n!==e))),void(t.length&&o(t.length-2));var e},edge:"end","aria-label":"clone",disabled:a,children:(0,Ap.jsx)(nx,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Add to saved items",fr:"Ajouter aux articles enregistr\xe9s"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>{const e=__(t[i]);u.forEach((t=>{delete e[t]})),e.contactID=l(e),y(t)},disabled:g&&g(e)||0===(null===(s=e.id)||void 0===s?void 0:s.length),edge:"end","aria-label":"clone",children:(0,Ap.jsx)(lC,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Drag to reorder",fr:"Faites glisser pour r\xe9organiser"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{className:"drag-handle",edge:"end","aria-label":"clone",disabled:a,children:(0,Ap.jsx)(Gk,{})})})})]})]},i)},i)}))})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,style:{margin:"10px"},children:(0,Ap.jsx)(c_,{disabled:a,onClick:()=>(n(t.concat(c())),void o(t.length)),fullWidth:!0,style:{height:"56px",justifyContent:"emptyContact"},children:(0,Ap.jsx)(Or,{children:d||(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Add new item"}),(0,Ap.jsx)(Ip,{children:"Ajouter un item"})]})})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,style:{margin:"10px"},children:(0,Ap.jsx)(Ek,{value:"",labelId:"add-existing",onChange:e=>{const r=e.target.value,{role:i,...a}=_[r];n(t.concat(__({...c(),...a}))),o(t.length)},optionLabels:_.map((e=>m(e))),options:_.map(((e,t)=>t)),disabled:!_.length||a,label:p||(0,Ap.jsx)(Lp,{en:"ADD SAVED ITEM",fr:"AJOUTER UN \xc9L\xc9MENT ENREGISTR\xc9"})})})]})})};Kk.defaultProps={fieldsNotSavedInFirebase:[]};const Yk=Kk,Zk=e=>{var t,n;let{disabled:r,record:o,userContacts:a,updateRecord:s,saveToContacts:l}=e;const{language:c,region:u}=mn(),{contacts:d=[]}=o,p=s("contacts"),[h,f]=(0,i.useState)(0);function m(e){return t=>{const n=[...d];n[h][e]=t,p(n)}}const g=(null===(t=o.title)||void 0===t?void 0:t[c])&&d.length&&o.created&&(null===(n=o.contacts)||void 0===n?void 0:n.some((e=>e.inCitation))),v=d[h];return(0,Ap.jsxs)(e_,{container:!0,spacing:3,children:[(0,Ap.jsx)(Xn,{style:ZC,children:(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["Please enter at least one Metadata Custodian ",(0,Ap.jsx)("b",{children:"and"})," one Data Owner for this dataset that can work with"," ",Cn[u].title[c]," Staff to finalize this Metadata Record. You also must select at least one contact to appear in the citation. One contact can occupy multiple roles."]}),(0,Ap.jsxs)(Ip,{children:["Veuillez saisir au moins un D\xe9positaire des m\xe9tadonn\xe9es ET un propri\xe9taire des donn\xe9es de ce jeu. Ces personnes pourraient \xeatre appel\xe9es \xe0 collaborer avec le personnel",Cn[u].titleFrPossessive," pour finaliser la saisie des informations. Vous devez \xe9galement s\xe9lectionner au moins un contact pour appara\xeetre dans la citation. Un contact peut occuper plusieurs r\xf4les."]})]}),(0,Ap.jsx)(ek,{passes:Mx(o,"contacts")}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"It is important to include all individuals from the chain of attribution to ensure all involved parties are credited appropriately for their role in creating this dataset. Saved contacts can be selected from the list below."}),(0,Ap.jsx)(Ip,{children:"Il est important d'inclure toutes les personnes ayant travaill\xe9 sur le jeu de donn\xe9es afin de s'assurer que toutes les parties concern\xe9es soient cr\xe9dit\xe9es de fa\xe7on appropri\xe9e pour leur r\xf4le dans la cr\xe9ation de ce jeu de donn\xe9es. Les contacts sauvegard\xe9s peuvent \xeatre s\xe9lectionn\xe9s dans la liste ci-dessous."})]})})]})})}),g&&(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsx)(KC,{children:(0,Ap.jsx)("div",{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["This is how your record citation will look in the catalogue. To change the citation order, drag the"," ",(0,Ap.jsx)(Sk.c,{style:{verticalAlign:"middle"}})," symbol."]}),(0,Ap.jsxs)(Ip,{children:["Voici \xe0 quoi ressemblera votre citation dans le catalogue. Seuls les contacts dont la case \xabAuteur cit\xe9\xbb est coch\xe9e apparaissent. Seuls les r\xf4les \xe9toil\xe9s appara\xeetront dans la citation. Changer la commande, faites glisser le"," ",(0,Ap.jsx)(Sk.c,{style:{verticalAlign:"middle"}}),"."]})]})})}),(0,Ap.jsx)($C,{children:(0,Ap.jsx)(fx,{language:c,record:o})})]}),(0,Ap.jsxs)(e_,{container:!0,direction:"row",style:{marginLeft:"5px"},children:[(0,Ap.jsx)(e_,{item:!0,xs:5,children:(0,Ap.jsx)(Yk,{items:d,updateItems:p,setActiveItem:f,activeItem:h,disabled:r,savedUserItems:a,saveItem:l,itemTitle:iT,getBlankItem:j_,addSavedItemLabel:(0,Ap.jsx)(Lp,{en:"ADD SAVED CONTACT",fr:"AJOUTER UN CONTACT ENREGISTR\xc9"}),uidFields:["lastName","orgName"],itemValidator:e=>{var t,n,r;return!(null!==(t=e.orgName)&&void 0!==t&&t.length||null!==(n=e.givenNames)&&void 0!==n&&n.length||null!==(r=e.lastName)&&void 0!==r&&r.length)}})}),v&&(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(e_,{container:!0,direction:"column",children:(0,Ap.jsx)(Xn,{style:ZC,children:(0,Ap.jsx)(e_,{container:!0,direction:"column",spacing:3,children:(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Hk,{showRolePicker:!0,value:v,handleClear:e=>m(e)(""),updateContactEvent:e=>function(e){return t=>{const n=[...d];n[h][e]=t.target.value,p(n)}}(e),updateContact:e=>m(e),updateContactRor:e=>function(e){const t=[...d];t[h].orgRor=e.id,t[h].orgName=e.name,t[h].orgURL=e.links.find((()=>!0))||"",t[h].orgCity=e.addresses.find((()=>!0)).city||"",t[h].orgCountry=e.country.country_name,p(t)}(e),updateContactOrcid:e=>function(e){const{name:t,emails:n}=e.person,r=n.email.length>0?n.email[0].email:"",i=t["family-name"]?t["family-name"].value:"",o=[...d];o[h].indOrcid=e["orcid-identifier"].uri,o[h].givenNames=t["given-names"].value,o[h].indEmail=r,o[h].lastName=i,p(o)}(e),disabled:r})})})})})})]})]})};var Jk=n(8024),Xk=n.n(Jk);const eS=e=>{var t,n;let{updateResources:r,resources:o,disabled:a}=e;const s=(0,i.useRef)(!1),{checkURLActive:l}=(0,i.useContext)(Fb),{language:c}=mn(),[u,d]=(0,i.useState)({}),p={url:"",name:"",description:{en:"",fr:""}},[h,f]=(0,i.useState)(0),[m,g]=(0,i.useState)(o),v=(0,i.useRef)({});(0,i.useEffect)((()=>(s.current=!0,o.forEach(((e,t)=>{e.url&&Ox(e.url)&&(v.current[t]||(v.current[t]=Xk()((async e=>{const t=await l(e.url);s.current&&d((n=>({...n,[e.url]:t.data})))}),500)),v.current[t](e))})),()=>{s.current=!1})),[o,l]),x_(m,o)||g(o);const b=(0,Ap.jsx)(Lp,{en:"Name",fr:"Titre"}),y=(0,Ap.jsx)(Lp,{en:"Description",fr:"Description"}),_=o.length>0&&o[h],x=_&&(!_.url||Ox(_.url));function w(e){return t=>{const n=[...o];n[h][e]=t.target.value,r(n)}}return(0,Ap.jsx)(Xn,{variant:"outlined",style:{padding:10},children:(0,Ap.jsxs)(e_,{container:!0,direction:"row",spacing:1,children:[(0,Ap.jsx)(e_,{item:!0,xs:3,children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[o&&o.length>0&&(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(ki,{children:(0,Ap.jsx)(Wk.Container,{dragHandleSelector:".drag-handle",lockAxis:"y",onDrop:e=>{let{removedIndex:t,addedIndex:n}=e;t===h?f(n):n<=h&&t>h&&f(h+1);const i=$k()(m,t,n);r(i)},children:o.map(((e,t)=>{var n,i;return(0,Ap.jsx)(Wk.Draggable,{children:(0,Ap.jsxs)(ko,{button:!0,onClick:()=>f(t),children:[(0,Ap.jsx)(Yo,{primary:(0,Ap.jsxs)(Or,{style:{fontWeight:h===t?"bold":"",marginRight:"72px"},children:[t+1,". ",(null!==(n=e.name[c])&&void 0!==n?n:"").length<=50?null!==(i=e.name[c])&&void 0!==i?i:"":"".concat(e.name[c].substring(0,50),"...")]})}),(0,Ap.jsxs)(X_,{children:[(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Duplicate contact",fr:"Duplicate contact"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>function(e){var t,n;const i=__(o[e]);null!==(t=i.name)&&void 0!==t&&t.en&&(i.name.en+=" (Copy)"),null!==(n=i.name)&&void 0!==n&&n.fr&&(i.name.fr+=" (Copie)"),r(o.concat(i))}(t),edge:"end","aria-label":"clone",disabled:a,children:(0,Ap.jsx)(ox,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Remove from this record",fr:"Supprimer de cet enregistrement"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>function(e){r(o.filter(((t,n)=>n!==e))),o.length&&f(o.length-2)}(t),edge:"end","aria-label":"clone",disabled:a,children:(0,Ap.jsx)(nx,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Drag to reorder",fr:"Faites glisser pour r\xe9organiser"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{className:"drag-handle",edge:"end","aria-label":"clone",disabled:a,children:(0,Ap.jsx)(Gk,{})})})})]})]},t)},t)}))})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(c_,{disabled:a,startIcon:(0,Ap.jsx)(u_,{}),onClick:()=>(r(o.concat(__(p))),void f(o.length)),style:{height:"56px",marginLeft:"10px"},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Add resource"}),(0,Ap.jsx)(Ip,{children:"Ajouter une ressource"})]})})})]})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:_&&(0,Ap.jsx)(Xn,{variant:"outlined",style:{padding:10},children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:3,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Enter a name for the resource"}),(0,Ap.jsx)(Ip,{children:"Entrez un titre pour la ressource"})]}),(0,Ap.jsx)(ek,{passes:(null===(t=_.name)||void 0===t?void 0:t.en)||(null===(n=_.name)||void 0===n?void 0:n.fr)})]}),(0,Ap.jsx)(qC,{name:"name",label:b,value:_.name,onChange:w("name"),fullWidth:!0,disabled:a})]}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Enter the URL for the resource"}),(0,Ap.jsx)(Ip,{children:"Entrez l'URL de la ressource"})]}),(0,Ap.jsx)(ek,{passes:kx().isURL(_.url)}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:(0,Ap.jsx)("p",{children:"The link may be to a formal data resource on another repository or a link to a personal online drive (e.g. Google Drive)."})}),(0,Ap.jsx)(Ip,{children:(0,Ap.jsx)("p",{children:"Le lien peut \xeatre vers une ressource de donn\xe9es formelle sur un autre d\xe9p\xf4t de donn\xe9es ou un lien vers un disque personnel en ligne (par exemple Google Drive)."})})]})})]}),(0,Ap.jsx)(CC,{helperText:!x&&(0,Ap.jsx)(Lp,{en:"Invalid URL",fr:"URL non valide"})||_.url&&!1===u[_.url]&&(0,Ap.jsx)(Lp,{en:"URL is not active",fr:"L'URL n'est pas active"})||_.url&&!0===u[_.url]&&(0,Ap.jsx)(Lp,{en:"URL is active",fr:"L'URL est active"}),error:!x,label:"URL",value:_.url,onChange:w("url"),fullWidth:!0,disabled:a})]}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(KC,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Enter a description of the resource"}),(0,Ap.jsx)(Ip,{children:"Entrez une description de la ressource"})]})})," ",(0,Ap.jsx)(qC,{name:"description",label:y,value:_.description,onChange:w("description"),disabled:a})]})]})})})]})})},tS={IsCitedBy:"crossReference",Cites:"crossReference",IsSupplementTo:"crossReference",IsSupplementedBy:"crossReference",IsContinuedBy:"series",Continues:"series",IsDescribedBy:"crossReference",Describes:"crossReference",HasMetadata:"crossReference",IsMetadataFor:"crossReference",HasVersion:"revisionOf",IsVersionOf:"revisionOf",IsNewVersionOf:"revisionOf",PreviousVersionOf:"crossReference",IsPartOf:"largerWorkCitation",HasPart:"isComposedOf",IsPublishedIn:"largerWorkCitation",IsReferencedBy:"crossReference",References:"crossReference",IsDocumentedBy:"crossReference",Documents:"crossReference",IsCompiledBy:"dependency",Compiles:"dependency",IsVariantFormOf:"crossReference",IsOriginalFormOf:"crossReference",IsIdenticalTo:"crossReference",IsReviewedBy:"crossReference",Reviews:"crossReference",IsDerivedFrom:"dependency",IsSourceOf:"dependency",Requires:"dependency",IsRequiredBy:"dependency",IsObsoletedBy:"crossReference",Obsoletes:"revisionOf"},nS=e=>{var t,n;let{updateResources:r,resources:o,disabled:a}=e;const s={title:{en:"",fr:""},authority:"",code:"",association_type:"",association_type_iso:""},{language:l}=mn(),[c,u]=(0,i.useState)(0),[d,p]=(0,i.useState)(o),h=o.length>0&&o[c];x_(d,o)||p(o);function f(e){return t=>{const n=[...o];n[c][e]=t.target.value,r(n)}}function m(e){return!e||(e=>!e||kx().isURL(e))(e)}return(0,Ap.jsx)(Xn,{variant:"outlined",style:{padding:10},children:(0,Ap.jsxs)(e_,{container:!0,direction:"row",spacing:1,children:[(0,Ap.jsx)(e_,{item:!0,xs:3,children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[o&&o.length>0&&(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(ki,{children:(0,Ap.jsx)(Wk.Container,{dragHandleSelector:".drag-handle",lockAxis:"y",onDrop:e=>{let{removedIndex:t,addedIndex:n}=e;t===c?u(n):n<=c&&t>c&&u(c+1);const i=$k()(d,t,n);r(i)},children:o.map(((e,t)=>{var n,i;return(0,Ap.jsx)(Wk.Draggable,{children:(0,Ap.jsxs)(ko,{button:!0,onClick:()=>u(t),children:[(0,Ap.jsx)(Yo,{primary:(0,Ap.jsxs)(Or,{style:{fontWeight:c===t?"bold":"",marginRight:"72px"},children:[t+1,". ",(null!==(n=e.title[l])&&void 0!==n?n:"").length<=50?null!==(i=e.title[l])&&void 0!==i?i:"":"".concat(e.title[l].substring(0,50),"...")]})}),(0,Ap.jsxs)(X_,{children:[(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Duplicate contact",fr:"Duplicate contact"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>function(e){var t,n;const i=__(o[e]);null!==(t=i.title)&&void 0!==t&&t.en&&(i.title.en+=" (Copy)"),null!==(n=i.title)&&void 0!==n&&n.fr&&(i.title.fr+=" (Copie)"),r(o.concat(i))}(t),edge:"end","aria-label":"clone",disabled:a,children:(0,Ap.jsx)(ox,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Remove from this record",fr:"Supprimer de cet enregistrement"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>function(e){r(o.filter(((t,n)=>n!==e))),o.length&&u(o.length-2)}(t),edge:"end","aria-label":"clone",disabled:a,children:(0,Ap.jsx)(nx,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Drag to reorder",fr:"Faites glisser pour r\xe9organiser"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{className:"drag-handle",edge:"end","aria-label":"clone",disabled:a,children:(0,Ap.jsx)(Gk,{})})})})]})]},t)},t)}))})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(c_,{disabled:a,startIcon:(0,Ap.jsx)(u_,{}),onClick:()=>(r(o.concat(__(s))),void u(o.length)),style:{height:"56px",marginLeft:"10px"},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Add resource"}),(0,Ap.jsx)(Ip,{children:"Ajouter une ressource"})]})})})]})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:h&&(0,Ap.jsx)(Xn,{variant:"outlined",style:{padding:10},children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:3,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Enter the title of the related resource"}),(0,Ap.jsx)(Ip,{children:"Entrez le titre de l'\u0153uvre concern\xe9e"})]}),(0,Ap.jsx)(ek,{passes:(null===(t=h.title)||void 0===t?void 0:t.en)||(null===(n=h.title)||void 0===n?void 0:n.fr)})]})," ",(0,Ap.jsx)(qC,{name:"title",label:(0,Ap.jsx)(Lp,{en:"Title",fr:"Titre"}),value:h.title,onChange:f("title"),disabled:a,fullWidth:!0})]}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Enter the identifier for the related resource"}),(0,Ap.jsx)(Ip,{children:"Saisissez l'identifiant de l'\u0153uvre concern\xe9e"})]}),(0,Ap.jsx)(ek,{passes:h.code}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:(0,Ap.jsx)("p",{children:"The identifier may be to a resource, or metadata record on another repository or another record within CIOOS. A DOI or full URL are preferred."})}),(0,Ap.jsx)(Ip,{children:(0,Ap.jsx)("p",{children:"L'identifiant peut provenir d'une ressource ou d'un enregistrement de m\xe9tadonn\xe9es sur un autre r\xe9f\xe9rentiel ou un autre enregistrement dans CIOOS. Un DOI ou une URL compl\xe8te sont pr\xe9f\xe9r\xe9s."})})]})})]}),(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{en:"Identifier",fr:"identifiant"}),value:h.code,onChange:function(e){return t=>{const n=[...o];n[c][e]=t.target.value;const i=n[c].code;switch(!0){case m(n[c].code)&&/^http.?:\/\/doi\.org\//i.test(i):n[c].authority="DOI";break;case m(n[c].code):n[c].authority="URL";break;default:n[c].authority=""}r(n)}}("code"),fullWidth:!0,disabled:a})]}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Enter the identifier type"}),(0,Ap.jsx)(Ip,{children:"Entrez le type d'identifiant"})]}),(0,Ap.jsx)(ek,{passes:h.authority})]}),(0,Ap.jsx)(Ek,{value:h.authority,onChange:f("authority"),options:ak,optionLabels:ak,disabled:a,label:(0,Ap.jsx)(Lp,{en:"Identifier Type",fr:"Type d'identifiant"}),fullWidth:!1})]}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the relation type?"}),(0,Ap.jsx)(Ip,{children:"Quel est le type de relation?"})]}),(0,Ap.jsx)(ek,{passes:h.association_type}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:[(0,Ap.jsx)("p",{children:"Specify the relationship from (A) the primary resource; to (B) the related resource. For example:"}),(0,Ap.jsxs)("ul",{children:[(0,Ap.jsx)("li",{children:"Use 'Is New Version Of' to indicate the primary resource described in this metadata record (A) is a new version of (B) the related resource."}),(0,Ap.jsx)("li",{children:"Use 'Is Part of' to indicate the primary resource (A) is a subset of (B) the related larger resource."}),(0,Ap.jsx)("li",{children:"Use 'Has Part' to indicate the primary resource (A) is the larger work that includes (B) the related resource."}),(0,Ap.jsx)("li",{children:"Use 'Cites' to indicate that (A) cites (B)."}),(0,Ap.jsx)("li",{children:"Use 'Is Cited by to indicate that (B) cites (A)"})]})]}),(0,Ap.jsxs)(Ip,{children:[(0,Ap.jsx)("p",{children:"Sp\xe9cifiez la relation \xe0 partir de (A) la ressource principale\xa0; \xe0 (B) la ressource associ\xe9e. Par exemple:"}),(0,Ap.jsxs)("ul",{children:[(0,Ap.jsx)("li",{children:'Utilisez "Est une nouvelle version de" pour indiquer que la ressource principale d\xe9crite dans cet enregistrement de m\xe9tadonn\xe9es (A) est une nouvelle version de (B) la ressource associ\xe9e.'}),(0,Ap.jsx)("li",{children:'Utilisez "Fait partie de" pour indiquer que la ressource principale (A) est un sous-ensemble de (B) la ressource plus grande associ\xe9e.'}),(0,Ap.jsx)("li",{children:'Utilisez "A une partie" pour indiquer que la ressource principale (A) est le travail le plus important qui comprend (B) la ressource associ\xe9e.'}),(0,Ap.jsx)("li",{children:'Utilisez "Cites" pour indiquer que (A) cite (B).'}),(0,Ap.jsx)("li",{children:'Utilisez "Est cit\xe9 par" pour indiquer que (B) cite (A)'})]})]})]})})]}),(0,Ap.jsx)(Ek,{value:h.association_type,onChange:e=>{const t=[...o];t[c].association_type_iso=tS[e.target.value],t[c].association_type=e.target.value,r(t)},options:Object.keys(ok),optionLabels:Object.values(ok).map((e=>{let{title:t}=e;return t[l]})),optionTooltips:Object.values(ok).map((e=>{let{text:t}=e;return t[l]})),disabled:a,label:(0,Ap.jsx)(Lp,{en:"Relation Type",fr:"Type de relation"}),fullWidth:!1})]})]})})})]})})},rS={title:"",authority:"",code:""},iS=e=>{var t,n;let{updateDocumentations:r,documentations:o=[],disabled:a,paperClass:s,language:l}=e;const[c,u]=(0,i.useState)(0);function d(e){return t=>{const n=[...o];n[c][e]=t.target.value,r(n)}}function p(e){return!e||(e=>!e||kx().isURL(e))(e)}const h=o.length>0&&o[c];return(0,Ap.jsxs)(e_,{container:!0,spacing:0,children:[(0,Ap.jsx)(e_,{item:!0,children:(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Additional Documentation:"}),(0,Ap.jsx)(Ip,{children:"Documentation Suppl\xe9mentaire:"})]}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"A citation to additional lineage documentation. This could be a publication that describes the whole process, dataset, or model."}),(0,Ap.jsx)(Ip,{children:"Une citation \xe0 une documentation suppl\xe9mentaire sur la lign\xe9e. Il peut s'agir d'une publication d\xe9crivant l'ensemble du processus, de l'ensemble de donn\xe9es ou du mod\xe8le."})]})})]})}),(0,Ap.jsxs)(e_,{container:!0,item:!0,direction:"row",spacing:1,children:[(0,Ap.jsx)(e_,{item:!0,xs:4,children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:1,children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(ki,{children:o.map(((e,t)=>{var n,r;return(0,Ap.jsx)(ko,{button:!0,onClick:()=>u(t),children:(0,Ap.jsx)(Yo,{primary:(0,Ap.jsxs)(Or,{style:{fontWeight:c===t?"bold":""},children:[t+1,". ",(null!==(n=e.title[l])&&void 0!==n?n:"").length<=50?null!==(r=e.title[l])&&void 0!==r?r:"":"".concat(e.title[l].substring(0,50),"...")]})})},t)}))})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(c_,{disabled:a,startIcon:(0,Ap.jsx)(u_,{}),onClick:()=>(r(o.concat(__(rS))),void u(o.length)),style:{height:"56px",marginLeft:"10px"},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Add documentation"}),(0,Ap.jsx)(Ip,{children:"Ajouter un documentation"})]})})})]})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(e_,{container:!0,direction:"column",children:h&&(0,Ap.jsx)(Xn,{style:s,children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Title"}),(0,Ap.jsx)(Ip,{children:"Titre"})]}),(0,Ap.jsx)(ek,{passes:(null===(t=h.title)||void 0===t?void 0:t.en)||(null===(n=h.title)||void 0===n?void 0:n.fr)}),(0,Ap.jsx)(qC,{value:h.title,onChange:d("title"),fullWidth:!0,disabled:a})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{label:"Identifier or URL",value:h.code,onChange:function(e){return t=>{const n=[...o];n[c][e]=t.target.value;const i=n[c].code;switch(!0){case p(n[c].code)&&/^http.?:\/\/doi\.org\//i.test(i):n[c].authority="DOI";break;case p(n[c].code):n[c].authority="URL";break;default:n[c].authority=""}r(n)}}("code"),fullWidth:!0,disabled:a})}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Enter the identifier type"}),(0,Ap.jsx)(Ip,{children:"Entrez le type d'identifiant"})]}),(null===h||void 0===h?void 0:h.code)&&(0,Ap.jsx)(ek,{passes:h.authority})]}),(0,Ap.jsx)(Ek,{value:h.authority,onChange:d("authority"),options:ak,optionLabels:ak,disabled:a,label:(0,Ap.jsx)(Lp,{en:"Identifier Type",fr:"Type d'identifiant"}),fullWidth:!1})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(c_,{startIcon:(0,Ap.jsx)(nx,{}),disabled:a,onClick:()=>(r(o.filter(((e,t)=>t!==c))),void(o.length&&u(o.length-2))),children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Remove documentation"}),(0,Ap.jsx)(Ip,{children:"Supprimer l'documentation"})]})})})]})})})})]})]})},oS={description:"",title:"",authority:"",code:""},aS=e=>{var t,n,r,o;let{updateSources:a,sources:s=[],disabled:l,paperClass:c,language:u}=e;const[d,p]=(0,i.useState)(0);function h(e){return t=>{const n=[...s];n[d][e]=t.target.value,a(n)}}function f(e){return!e||(e=>!e||kx().isURL(e))(e)}const m=s.length>0&&s[d];return(0,Ap.jsxs)(e_,{container:!0,spacing:0,children:[(0,Ap.jsx)(e_,{item:!0,children:(0,Ap.jsxs)(KC,{children:["Source:",(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Information about the input used in creating the resource specified by the scope. Provide citations to the input data. This is especially valuable for processed satellite data and model data. For model data, it is suggested to describe the model and its input, especially if their is no publication cited above to describe the model."}),(0,Ap.jsx)(Ip,{children:"Informations sur l'entr\xe9e utilis\xe9e lors de la cr\xe9ation de la ressource sp\xe9cifi\xe9e par la port\xe9e. Fournir citations aux donn\xe9es d\u2019entr\xe9e. Ceci est particuli\xe8rement utile pour les donn\xe9es satellitaires trait\xe9es et donn\xe9es du mod\xe8le. Pour les donn\xe9es de mod\xe8le, il est sugg\xe9r\xe9 de d\xe9crire le mod\xe8le et ses entr\xe9es, en particulier s'il n'y a pas de publication cit\xe9e ci-dessus pour d\xe9crire le mod\xe8le."})]})})]})}),(0,Ap.jsxs)(e_,{container:!0,item:!0,direction:"row",spacing:1,children:[(0,Ap.jsx)(e_,{item:!0,xs:4,children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:1,children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(ki,{spacing:1,children:s.map(((e,t)=>{var n,r;return(0,Ap.jsx)(ko,{button:!0,onClick:()=>p(t),children:(0,Ap.jsx)(Yo,{primary:(0,Ap.jsxs)(Or,{style:{fontWeight:d===t?"bold":""},children:[t+1,". ",(null!==(n=e.title[u]||e.description[u])&&void 0!==n?n:"").length<=50?null!==(r=e.title[u]||e.description[u])&&void 0!==r?r:"":"".concat((e.title[u]||e.description[u]).substring(0,50),"...")]})})},t)}))})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(c_,{disabled:l,startIcon:(0,Ap.jsx)(u_,{}),onClick:()=>(a(s.concat(__(oS))),void p(s.length)),style:{height:"56px",marginLeft:"10px"},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Add source"}),(0,Ap.jsx)(Ip,{children:"Ajouter un source"})]})})})]})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(e_,{container:!0,direction:"column",children:m&&(0,Ap.jsx)(Xn,{style:c,children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Description"}),(0,Ap.jsx)(Ip,{children:"Description"})]}),(0,Ap.jsx)(ek,{passes:(null===(t=m.description)||void 0===t?void 0:t.en)||(null===(n=m.description)||void 0===n?void 0:n.fr)}),(0,Ap.jsx)(qC,{value:m.description,onChange:h("description"),fullWidth:!0,disabled:l})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{variant:"body1",component:"div",style:{marginTop:"10px"},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Or link to reference documentation"}),(0,Ap.jsx)(Ip,{children:"Ou lien vers la documentation de r\xe9f\xe9rence"})]})})}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Title"}),(0,Ap.jsx)(Ip,{children:"Titre"})]}),(null===m||void 0===m?void 0:m.code)&&(0,Ap.jsx)(ek,{passes:(null===(r=m.title)||void 0===r?void 0:r.en)||(null===(o=m.title)||void 0===o?void 0:o.fr)}),(0,Ap.jsx)(qC,{value:m.title,onChange:h("title"),fullWidth:!0,disabled:l})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{label:"Identifier or URL",value:m.code,onChange:function(e){return t=>{const n=[...s];n[d][e]=t.target.value;const r=n[d].code;switch(!0){case f(n[d].code)&&/^http.?:\/\/doi\.org\//i.test(r):n[d].authority="DOI";break;case f(n[d].code):n[d].authority="URL";break;default:n[d].authority=""}a(n)}}("code"),fullWidth:!0,disabled:l})}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Enter the identifier type"}),(0,Ap.jsx)(Ip,{children:"Entrez le type d'identifiant"})]}),(null===m||void 0===m?void 0:m.code)&&(0,Ap.jsx)(ek,{passes:m.authority})]}),(0,Ap.jsx)(Ek,{value:m.authority,onChange:h("authority"),options:ak,optionLabels:ak,disabled:l,label:(0,Ap.jsx)(Lp,{en:"Identifier Type",fr:"Type d'identifiant"}),fullWidth:!1})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(c_,{startIcon:(0,Ap.jsx)(nx,{}),disabled:l,onClick:()=>(a(s.filter(((e,t)=>t!==d))),void(s.length&&p(s.length-2))),children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Remove source"}),(0,Ap.jsx)(Ip,{children:"Supprimer l'source"})]})})})]})})})})]})]})},sS={description:"",title:"",authority:"",code:""},lS=e=>{var t,n,r,o;let{updateSources:a,sources:s=[],disabled:l,paperClass:c,language:u}=e;const[d,p]=(0,i.useState)(0);function h(e){return t=>{const n=[...s];n[d][e]=t.target.value,a(n)}}function f(e){return!e||(e=>!e||kx().isURL(e))(e)}const m=s.length>0&&s[d];return(0,Ap.jsxs)(e_,{container:!0,spacing:0,children:[(0,Ap.jsx)(e_,{item:!0,children:(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Processing or Method Step:"}),(0,Ap.jsx)(Ip,{children:"\xc9tape de traitement ou de m\xe9thode:"})]}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"A general description of how the resource was developed or an event associated with the resource. This can be a summary of the workflow or steps to create the resource subsequent to initial data collection."}),(0,Ap.jsx)(Ip,{children:"Une description g\xe9n\xe9rale de la fa\xe7on dont la ressource a \xe9t\xe9 d\xe9velopp\xe9e ou d'un \xe9v\xe9nement associ\xe9 \xe0 la Ressource. Il peut s'agir d'un r\xe9sum\xe9 du flux de travail ou des \xe9tapes de cr\xe9ation ult\xe9rieure de la ressource. \xe0 la collecte initiale des donn\xe9es."})]})})]})}),(0,Ap.jsxs)(e_,{container:!0,item:!0,direction:"row",spacing:1,children:[(0,Ap.jsx)(e_,{item:!0,xs:4,children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:1,children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(ki,{spacing:1,children:s.map(((e,t)=>{var n,r;return(0,Ap.jsx)(ko,{button:!0,onClick:()=>p(t),children:(0,Ap.jsx)(Yo,{primary:(0,Ap.jsxs)(Or,{style:{fontWeight:d===t?"bold":""},children:[t+1,". ",(null!==(n=e.title[u]||e.description[u])&&void 0!==n?n:"").length<=50?null!==(r=e.title[u]||e.description[u])&&void 0!==r?r:"":"".concat((e.title[u]||e.description[u]).substring(0,50),"...")]})})},t)}))})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(c_,{disabled:l,startIcon:(0,Ap.jsx)(u_,{}),onClick:()=>(a(s.concat(__(sS))),void p(s.length)),style:{height:"56px",marginLeft:"10px"},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Add Step"}),(0,Ap.jsx)(Ip,{children:"Ajouter une \xe9tape"})]})})})]})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(e_,{container:!0,direction:"column",children:m&&(0,Ap.jsx)(Xn,{style:c,children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Description"}),(0,Ap.jsx)(Ip,{children:"Description"})]}),(0,Ap.jsx)(ek,{passes:(null===(t=m.description)||void 0===t?void 0:t.en)||(null===(n=m.description)||void 0===n?void 0:n.fr)}),(0,Ap.jsx)(qC,{value:m.description,onChange:h("description"),fullWidth:!0,disabled:l})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{variant:"body1",component:"div",style:{marginTop:"10px"},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Or link to reference documentation"}),(0,Ap.jsx)(Ip,{children:"Ou lien vers la documentation de r\xe9f\xe9rence"})]})})}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Title"}),(0,Ap.jsx)(Ip,{children:"Titre"})]}),(null===m||void 0===m?void 0:m.code)&&(0,Ap.jsx)(ek,{passes:(null===(r=m.title)||void 0===r?void 0:r.en)||(null===(o=m.title)||void 0===o?void 0:o.fr)}),(0,Ap.jsx)(qC,{value:m.title,onChange:h("title"),fullWidth:!0,disabled:l})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{label:"Identifier or URL",value:m.code,onChange:function(e){return t=>{const n=[...s];n[d][e]=t.target.value;const r=n[d].code;switch(!0){case f(n[d].code)&&/^http.?:\/\/doi\.org\//i.test(r):n[d].authority="DOI";break;case f(n[d].code):n[d].authority="URL";break;default:n[d].authority=""}a(n)}}("code"),fullWidth:!0,disabled:l})}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Enter the identifier type"}),(0,Ap.jsx)(Ip,{children:"Entrez le type d'identifiant"})]}),(null===m||void 0===m?void 0:m.code)&&(0,Ap.jsx)(ek,{passes:m.authority})]}),(0,Ap.jsx)(Ek,{value:m.authority,onChange:h("authority"),options:ak,optionLabels:ak,disabled:l,label:(0,Ap.jsx)(Lp,{en:"Identifier Type",fr:"Type d'identifiant"}),fullWidth:!1})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(c_,{startIcon:(0,Ap.jsx)(nx,{}),disabled:l,onClick:()=>(a(s.filter(((e,t)=>t!==d))),void(s.length&&p(s.length-2))),children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Remove step"}),(0,Ap.jsx)(Ip,{children:"Supprimer l'\xe9tape"})]})})})]})})})})]})]})},cS={statement:"",scope:"",additionalDocumentation:[],source:[],processingStep:[]},uS=e=>{var t,n;let{updateLineage:r,history:o,disabled:a,paperClass:s,language:l,metadataScope:c}=e;const[u,d]=(0,i.useState)(0),[p,h]=(0,i.useState)(o),f=Object.keys(ik).filter((e=>["DataCollectionSampling",c].includes(e))).reduce(((e,t)=>({...e,[t]:ik[t]})),{});function m(e){return t=>{const n=[...o];n[u][e]=t.target.value,r(n)}}function g(e){return t=>{const n=[...o];n[u][e]=t,r(n)}}if("string"===typeof o){const e=__(cS);""!==o&&(e.statement={en:o,fr:o}),r([__(e)])}x_(p,o)||h(o);const v=o.length>0&&o[u];return v&&!v.scope&&(v.scope=c),("string"===typeof o||o instanceof String)&&(o=[]),(0,Ap.jsx)(Xn,{variant:"outlined",style:{padding:10},children:(0,Ap.jsxs)(e_,{container:!0,direction:"row",spacing:1,children:[(0,Ap.jsx)(e_,{item:!0,xs:3,children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[o&&o.length>0&&(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(ki,{children:(0,Ap.jsx)(Wk.Container,{dragHandleSelector:".drag-handle",lockAxis:"y",onDrop:e=>{let{removedIndex:t,addedIndex:n}=e;t===u?d(n):n<=u&&t>u&&d(u+1);const i=$k()(p,t,n);r(i)},children:o.map(((e,t)=>{var n,i;return(0,Ap.jsx)(Wk.Draggable,{children:(0,Ap.jsxs)(ko,{button:!0,onClick:()=>d(t),children:[(0,Ap.jsx)(Yo,{primary:(0,Ap.jsxs)(Or,{style:{fontWeight:u===t?"bold":"",marginRight:"72px"},children:[t+1,". ",(null!==(n=e.statement[l])&&void 0!==n?n:"").length<=50?null!==(i=e.statement[l])&&void 0!==i?i:"":"".concat(e.statement[l].substring(0,50),"...")]})}),(0,Ap.jsxs)(X_,{children:[(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Duplicate contact",fr:"Duplicate contact"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>function(e){var t,n;const i=__(o[e]);null!==(t=i.name)&&void 0!==t&&t.en&&(i.name.en+=" (Copy)"),null!==(n=i.name)&&void 0!==n&&n.fr&&(i.name.fr+=" (Copie)"),r(o.concat(i))}(t),edge:"end","aria-label":"clone",disabled:a,children:(0,Ap.jsx)(ox,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Remove from this record",fr:"Supprimer de cet enregistrement"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>function(e){r(o.filter(((t,n)=>n!==e))),o.length&&d(o.length-2)}(t),edge:"end","aria-label":"clone",disabled:a,children:(0,Ap.jsx)(nx,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Drag to reorder",fr:"Faites glisser pour r\xe9organiser"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{className:"drag-handle",edge:"end","aria-label":"clone",disabled:a,children:(0,Ap.jsx)(Gk,{})})})})]})]},t)},t)}))})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(c_,{disabled:a,startIcon:(0,Ap.jsx)(u_,{}),onClick:()=>(r(o.concat(__(cS))),void d(o.length)),style:{height:"56px",marginLeft:"10px"},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Add Lineage"}),(0,Ap.jsx)(Ip,{children:"Ajouter une lign\xe9e"})]})})})]})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:v&&(0,Ap.jsx)(Xn,{variant:"outlined",style:{padding:10},children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:3,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Lineage Title"}),(0,Ap.jsx)(Ip,{children:"Titre de la lign\xe9e"})]}),(0,Ap.jsx)(ek,{passes:(null===(t=v.statement)||void 0===t?void 0:t.en)||(null===(n=v.statement)||void 0===n?void 0:n.fr)}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"General explanation of the lineage step or sampling methods. For detailed processing steps or methods use the processing and method step question"}),(0,Ap.jsx)(Ip,{children:"Explication g\xe9n\xe9rale de l'\xe9tape de lignage ou des m\xe9thodes d'\xe9chantillonnage. Pour des \xe9tapes ou des m\xe9thodes de traitement d\xe9taill\xe9es, utilisez la question sur les \xe9tapes de traitement et de m\xe9thode."})]})})]}),(0,Ap.jsx)(qC,{value:v.statement,onChange:m("statement"),fullWidth:!0,disabled:a})]}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Scope"}),(0,Ap.jsx)(Ip,{children:"Port\xe9e"})]}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Type of resource and/or extent to which the lineage information applies."}),(0,Ap.jsx)(Ip,{children:"Type de ressource et/ou mesure dans laquelle les informations sur la lign\xe9e s'appliquent."})]})})]}),(0,Ap.jsx)(Ek,{value:v.scope,onChange:e=>{var t;const n={target:{value:null===(t=ik[e.target.value])||void 0===t?void 0:t.isoValue}};m("scopeIso")(n),m("scope")(e)},options:Object.keys(f),optionLabels:Object.values(f).map((e=>{let{title:t}=e;return t[l]})),disabled:a,fullWidth:!0,label:(0,Ap.jsx)(Lp,{en:"Scope",fr:"???"})})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(iS,{documentations:v.additionalDocumentation,updateDocumentations:g("additionalDocumentation"),disabled:a,paperClass:s,language:l})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(aS,{sources:v.source,updateSources:g("source"),disabled:a,paperClass:s,language:l})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(lS,{sources:v.processingStep,updateSources:g("processingStep"),disabled:a,paperClass:s,language:l})})]})})})]})})},dS=e=>{let{disabled:t,record:n,updateRecord:r}=e;const{language:o}=mn(),[a]=i.useState([n.distribution&&0===n.distribution.length,n.associated_resources&&0===n.associated_resources.length,n.history&&0===n.history.length]);return(0,Ap.jsxs)("div",{children:[(0,Ap.jsxs)(Mk,{defaultExpanded:a[0],style:{width:"90%",margin:20},children:[(0,Ap.jsx)(Qk,{expandIcon:(0,Ap.jsx)(FC.c,{}),"aria-controls":"panel1a-content",id:"panel1a-header",style:{backgroundColor:"#00000015"},children:(0,Ap.jsxs)(YC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Resource"}),(0,Ap.jsx)(Ip,{children:"La ressource"})]}),n.distribution&&n.distribution.length>0&&(0,Ap.jsx)(pC,{style:{marginLeft:10},label:n.distribution.length,variant:"outlined"})]})}),(0,Ap.jsx)(Fk,{children:(0,Ap.jsxs)(e_,{children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsx)(Pp,{children:'Enter one or more links to the primary resource described by this metadata record. Resources added here should not already have their own metadata record or digital object identifier, such resources should be added to the "Related Works" section.'}),(0,Ap.jsx)(Ip,{children:'Entrez un ou plusieurs liens vers la ressource principale d\xe9crite par cet enregistrement de m\xe9tadonn\xe9es. Les ressources ajout\xe9es ici ne doivent pas d\xe9j\xe0 avoir leur propre enregistrement de m\xe9tadonn\xe9es ou identifiant d\'objet num\xe9rique, ces ressources doivent \xeatre ajout\xe9es \xe0 la section "Travaux associ\xe9s".'}),(0,Ap.jsx)(ek,{passes:Mx(n,"distribution")}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["Some examples of resources are:",(0,Ap.jsxs)("ul",{children:[(0,Ap.jsx)("li",{children:"Protocols or methods documents"}),(0,Ap.jsx)("li",{children:"CSV files"}),(0,Ap.jsx)("li",{children:"ERDDAP datasets"}),(0,Ap.jsx)("li",{children:"Images"}),(0,Ap.jsx)("li",{children:"Online forms to request access to the data"})]}),"A Resource URL that links to a compressed data package or folder is preferred. Otherwise, list primary resource first followed by supporting resources."]}),(0,Ap.jsxs)(Ip,{children:["Voici quelques exemples de ressources :",(0,Ap.jsxs)("ul",{children:[(0,Ap.jsx)("li",{children:"Documents de protocoles ou de m\xe9thodes"}),(0,Ap.jsx)("li",{children:"Fichiers CSV"}),(0,Ap.jsx)("li",{children:"Ensembles de donn\xe9es ERDDAP"}),(0,Ap.jsx)("li",{children:"Images"}),(0,Ap.jsx)("li",{children:"Formulaires en ligne pour demander l'acc\xe8s aux donn\xe9es"})]}),"Une URL de ressource qui renvoie \xe0 un package ou un dossier de donn\xe9es compress\xe9es est pr\xe9f\xe9rable. Sinon, r\xe9pertoriez d'abord la ressource principale, suivie des ressources de support."]})]})})]}),(0,Ap.jsx)(eS,{resources:n.distribution||[],updateResources:r("distribution"),language:o,disabled:t})]})})]}),(0,Ap.jsxs)(Mk,{defaultExpanded:a[1],style:{width:"90%",margin:20},children:[(0,Ap.jsx)(Qk,{expandIcon:(0,Ap.jsx)(FC.c,{}),"aria-controls":"panel2a-content",id:"panel2a-header",style:{backgroundColor:"#00000015"},children:(0,Ap.jsxs)(YC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Related Works"}),(0,Ap.jsx)(Ip,{children:"Travaux connexes"})]}),n.associated_resources&&n.associated_resources.length>0&&(0,Ap.jsx)(pC,{style:{marginLeft:10},label:n.associated_resources.length,variant:"outlined"})]})}),(0,Ap.jsx)(Fk,{children:(0,Ap.jsxs)(e_,{children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsx)(Pp,{children:"Enter links to other metadata records, publications or works that are related to the primary resources this metadata record describes."}),(0,Ap.jsx)(Ip,{children:"Entrez des liens vers d'autres enregistrements de m\xe9tadonn\xe9es, publications ou ouvrages qui sont li\xe9s aux ressources principales d\xe9crites par cet enregistrement de m\xe9tadonn\xe9es."}),(0,Ap.jsx)(ek,{passes:Mx(n,"associated_resources")}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["Related works may be:",(0,Ap.jsxs)("ul",{children:[(0,Ap.jsx)("li",{children:"Other datasets that are part of the same collection, project, or sampling protocol"}),(0,Ap.jsx)("li",{children:"Metadata records on other catalogues such as OBIS or FRDR that describe the same dataset"}),(0,Ap.jsx)("li",{children:"Any work that adds context to or describes the primary resource for which you are creating this metadata record for"})]})]}),(0,Ap.jsxs)(Ip,{children:["Les \u0153uvres connexes peuvent \xeatre :",(0,Ap.jsxs)("ul",{children:[(0,Ap.jsx)("li",{children:"Autres ensembles de donn\xe9es faisant partie de la m\xeame collection, du m\xeame projet ou du m\xeame protocole d'\xe9chantillonnage"}),(0,Ap.jsx)("li",{children:"Enregistrements de m\xe9tadonn\xe9es sur d'autres catalogues tels que OBIS ou FRDR qui d\xe9crivent le m\xeame ensemble de donn\xe9es"}),(0,Ap.jsx)("li",{children:"Tout travail qui ajoute du contexte ou d\xe9crit la ressource principale pour laquelle vous cr\xe9ez cet enregistrement de m\xe9tadonn\xe9es"})]})]})]})})]}),(0,Ap.jsx)(nS,{resources:n.associated_resources||[],updateResources:r("associated_resources"),language:o,disabled:t})]})})]}),(0,Ap.jsxs)(Mk,{defaultExpanded:a[2],style:{width:"90%",margin:20},children:[(0,Ap.jsx)(Qk,{expandIcon:(0,Ap.jsx)(FC.c,{}),"aria-controls":"panel3a-content",id:"panel3a-header",style:{backgroundColor:"#00000015"},children:(0,Ap.jsxs)(YC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Lineage"}),(0,Ap.jsx)(Ip,{children:"Lign\xe9e"})]}),n.history&&n.history.length>0&&(0,Ap.jsx)(pC,{style:{marginLeft:10},label:n.history.length,variant:"outlined"})]})}),(0,Ap.jsx)(Fk,{children:(0,Ap.jsxs)(e_,{children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsx)(Pp,{children:"Data processing history (provenance) for the resource."}),(0,Ap.jsx)(Ip,{children:"Historique du traitement des donn\xe9es (provenance) pour la ressource."}),(0,Ap.jsx)(ek,{passes:Mx(n,"history")}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Enter Information about the events or source data used in constructing the data specified by the scope."}),(0,Ap.jsx)(Ip,{children:"Entrez des informations sur les \xe9v\xe9nements ou les donn\xe9es sources utilis\xe9es dans la construction des donn\xe9es sp\xe9cifi\xe9es par la port\xe9e."})]})})]}),(0,Ap.jsx)(uS,{history:n.history,updateLineage:r("history"),disabled:t,paperClass:ZC,language:o,metadataScope:n.metadataScope})]})})]})]})},pS=(0,In.c)(i.createElement("path",{d:"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3v7.12zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8h1.5z"}),"Update"),hS={Biogeochemical:{en:"Biogeochemical",fr:"Biog\xe9ochimie"},"Biology and Ecosystems":{en:"Biological and Ecosystem",fr:"Biologie et \xe9cosyst\xe8mes"},"Cross-disciplinary":{en:"Cross-disciplinary",fr:"Interdisciplinaire"},Physical:{en:"Physical",fr:"Physique"},Other:{en:"Other",fr:"Autre"}},fS=[{category:"Biogeochemical",value:"oxygen","label EN":"Oxygen","label FR":"Oxyg\xe8ne","definition EN":"The amount of dissolved oxygen in seawater.","definition FR":"Concentration d'oxyg\xe8ne dissous dans l'eau de mer",icon:"dissolved-oxygen.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17473"},{category:"Biogeochemical",value:"nutrients","label EN":"Nutrients","label FR":"Nutriments","definition EN":"The amount of inorganic nutrients in seawater","definition FR":"Concentration des nutriments inorganiques dissous dans l'eau de mer [NO\u2083, NO\u2082, PO\u2084, NH\u2084, Si(OH)\u2084]",icon:"nutrients.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17474"},{category:"Biogeochemical",value:"inorganicCarbon","label EN":"Inorganic carbon","label FR":"Carbone inorganique","definition EN":"Total amount of inorganic carbon dissolved in sea water [CO\u2082, HCO\u2083-, CO\u2083\xb2-]","definition FR":"Quantit\xe9 totale de carbone inorganique dissous dans l'eau de mer [CO\u2082, HCO\u2083-, CO\u2083\xb2-]",icon:"inorganic-carbon.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17475"},{category:"Biogeochemical",value:"dissolvedOrganicCarbon","label EN":"Dissolved organic carbon","label FR":"Carbone organique dissous","definition EN":"The amount of dissolved carbon dioxide in seawater","definition FR":"Concentration de carbone organique dissous dans l'eau de mer",icon:"dissolved-organic-carbon.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17480"},{category:"Physical",value:"seaSurfaceHeight","label EN":"Sea surface height","label FR":"Niveau de l'eau","definition EN":"The altitude of mean sea level relative to the Earth's geode.","definition FR":"Correspond au niveau d'eau mesur\xe9. Les niveaux sont variables en fonction des saisons et des \xe9v\xe8nements climatique",icon:"sea-level.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17465"},{category:"Physical",value:"seaIce","label EN":"Sea ice","label FR":"Glace de mer","definition EN":"The concentration of ice cover over a specified area and extent","definition FR":"La concentration en couverture de glace sur une zone et une \xe9tendue sp\xe9cifi\xe9es",icon:"sea-ice.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17464"},{category:"Physical",value:"seaState","label EN":"Sea state","label FR":"\xc9tat de la mer","definition EN":"Sea State is the characterization of wave and swell, typically in terms of height, wavelength, period, and directional wave energy flux.","definition FR":"L'\xe9tat de la mer est la caract\xe9risation des vagues et de la houle, g\xe9n\xe9ralement en termes de hauteur, de longueur d'onde, de p\xe9riode, et le flux d'\xe9nergie des ondes directionnelles",icon:"sea-state.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17462"},{category:"Physical",value:"seaSurfaceSalinity","label EN":"Sea surface salinity","label FR":"Salinit\xe9 de surface","definition EN":"The concentration of dissolved salts in surface seawater.","definition FR":"La concentration de sel dissous dans l'eau de mer de surface",icon:"salinity.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17470"},{category:"Physical",value:"seaSurfaceTemperature","label EN":"Sea surface temperature","label FR":"Temp\xe9rature de surface","definition EN":"The temperature of surface seawater.","definition FR":"La temp\xe9rature de l'eau de mer en surface",icon:"temperature.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17466"},{category:"Physical",value:"subSurfaceSalinity","label EN":"Subsurface salinity","label FR":"Salinit\xe9 sous la surface","definition EN":"The concentration of dissolved salts in subsurface seawater.","definition FR":"La concentration de sel dissous dans l'eau de mer sous la surface",icon:"salinity.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17471"},{category:"Physical",value:"subSurfaceTemperature","label EN":"Subsurface temperature","label FR":"Temp\xe9rature sous la surface","definition EN":"The temperature of subsurface seawater.","definition FR":"La temp\xe9rature de l'eau de mer sous la surface",icon:"temperature.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17467"},{category:"Physical",value:"surfaceCurrents","label EN":"Surface currents","label FR":"Courants de surface","definition EN":"The velocity of sea water in surface","definition FR":"Vitesse et d\xe9bit de l'eau en surface",icon:"currents.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17468"},{category:"Physical",value:"subSurfaceCurrents","label EN":"Subsurface currents","label FR":"Courants sous-marins","definition EN":"","definition FR":"",icon:"currents.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17469"},{category:"Other",value:"other","label EN":"Other","label FR":"Autre","definition EN":"All data that does not correspond to the current EOVs.","definition FR":"Toutes les donn\xe9es qui ne correspondent pas aux EOVs actuels.",icon:"eov_other.svg"},{category:"Biogeochemical",value:"transientTracers","label EN":"Transient tracers","label FR":"Traceurs transitoires","definition EN":"Transient tracers are man-made chemical compounds released to the atmosphere at known quantities that can be used in the ocean to quantify ventilation, transit time distribution and transport time-scales","definition FR":"Les traceurs transitoires sont des compos\xe9s chimiques artificiels rejet\xe9s dans l'atmosph\xe8re en quantit\xe9s connues qui peuvent \xeatre utilis\xe9s dans l'oc\xe9an pour quantifier la ventilation, la distribution des temps de transit et les \xe9chelles de temps de transport.",icon:"transient-tracers.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17476"},{category:"Biogeochemical",value:"particulateMatter","label EN":"Particulate matter","label FR":"Mati\xe8re particulaire","definition EN":"Total amount of particles (organic & inorganic) suspended in sea water","definition FR":"Quantit\xe9 totale de particules (organiques et inorganiques) en suspension dans l'eau de mer",icon:"particulate-matter.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17477"},{category:"Biogeochemical",value:"nitrousOxide","label EN":"Nitrous oxide","label FR":"Protoxyde d'azote","definition EN":"Nitrous oxide (N2O) is an important climate-relevant trace gas in the Earth\u2019s atmosphere. The ocean-including its coastal areassuch as continental shelves, estuaries and upwelling areas is a major source of N2O and contributesabout 30% to the atmospheric N2O budget.","definition FR":"Le protoxyde d'azote ou azote nitreux (N2O) est un important gaz traceur du climat dans l'atmosph\xe8re terrestre. L'oc\xe9an, y compris ses zones c\xf4ti\xe8res telles que les plateaux continentaux, les estuaires et les zones d'upwelling, est une source majeure de N2O. Elle contribue \xe0 environ 30 % du bilan atmosph\xe9rique en protoxyde d'azote.",icon:"nitrous-oxide.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17478"},{category:"Biogeochemical",value:"stableCarbonIsotopes","label EN":"Stable carbon isotopes","label FR":"Isotopes stables du carbone","definition EN":"The utility of carbon-13 isotope (\u03b413C, the carbon-13 to carbon-12 isotope ratio; 13C/12C) as a tracer of the ocean\u2019s carbon cycle.","definition FR":"L\u2019utilit\xe9 de l\u2019isotope du carbone-13 (\u03b413C, le rapport des isotopes du carbone-13 au carbone-12; 13C/12C) comme traceur du cycle du carbone de l\u2019oc\xe9an.",icon:"stable-carbon-isotopes.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17479"},{category:"Biology and Ecosystems",value:"phytoplanktonBiomassAndDiversity","label EN":"Phytoplankton biomass and diversity","label FR":"Biomasse et diversit\xe9 de phytoplancton","definition EN":"Characterization of the biological diversity of phytoplankton, their phenology, vertical distribution, and community composition, and their role in ocean biogeochemistry and ecosystem services.","definition FR":"Caract\xe9risation de la diversit\xe9 biologique du phytoplancton, de sa ph\xe9nologie, de sa distribution verticale et de sa composition communautaire, ainsi que le r\xf4le dans la biog\xe9ochimie des oc\xe9ans et les services \xe9cosyst\xe9miques.",icon:"phytoplankton.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17507"},{category:"Biology and Ecosystems",value:"zooplanktonBiomassAndDiversity","label EN":"Zooplankton biomass and diversity","label FR":"Biomasse et diversit\xe9 de zooplancton","definition EN":"Zooplankton diversity refers to the number of zooplankton species, taxonomic composition, or community structure within a region. Zooplankton diversity influences ecosystem health and productivity through trophic links.","definition FR":"La diversit\xe9 du zooplancton fait r\xe9f\xe9rence au nombre d'esp\xe8ces de zooplancton, \xe0 la composition taxonomique ou \xe0 la structure communautaire au sein d'une r\xe9gion. La diversit\xe9 du zooplancton influence la sant\xe9 et la productivit\xe9 de l'\xe9cosyst\xe8me par le biais de liens trophiques.",icon:"zooplankton.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17509"},{category:"Biology and Ecosystems",value:"fishAbundanceAndDistribution","label EN":"Fish abundance and distribution","label FR":"Abondance et distribution de poissons","definition EN":"Fish abundance describes the biomass or numbers of fish in the ocean. It can be reported in terms of species or taxonomic or functional groups (e.g., small pelagic fish, mesopelagic fish, and tunalike species) in an assemblage, population, stock or area, or globally","definition FR":"L'abondance des poissons d\xe9crit la biomasse ou le nombre de poissons dans l'oc\xe9an. Il peut \xeatre rapport\xe9 en termes d'esp\xe8ces ou de groupes taxonomiques ou fonctionnels (par exemple, petits poissons p\xe9lagiques, poissons m\xe9sop\xe9lagiques et esp\xe8ces tunal) dans un assemblage, une population, un stock ou une zone, ou \xe0 l'\xe9chelle mondiale",icon:"fish.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17510"},{category:"Biology and Ecosystems",value:"marineTurtlesBirdsMammalsAbundanceAndDistribution","label EN":"Marine turtles, birds, mammals abundance and distribution","label FR":"Abondance et distribution de tortues marines, oiseaux et mammif\xe8res","definition EN":"Abundance refers to the number of individuals (turtles, birds or marine mammals) within a population while distribution refers to\nthe geographic or spatial extent of habitats used by individuals in the population.","definition FR":"L'abondance se r\xe9f\xe8re au nombre d'individus (tortues, oiseaux ou mammif\xe8res marins) au sein d'une population tandis que la distribution se r\xe9f\xe8re \xe0\nl'\xe9tendue g\xe9ographique ou spatiale des habitats utilis\xe9s par les individus de la population.",icon:"birds-mammals.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17511"},{category:"Biology and Ecosystems",value:"hardCoralCoverAndComposition","label EN":"Hard coral cover and composition","label FR":"Composition et couverture des coraux durs","definition EN":"Live hard coral cover and the areal extent of a reef are the most important indicators of whether a reef is in a coral-dominated state or not; the composition and diversity of coral taxa is an important index of reef health; coral condition (e.g. bleaching, disease) gives fundamental information on the health of a reef; the size class structure (and recruitment) of hard corals gives fundamental information on the resilience, disturbance history and recovery potential of a reef.","definition FR":"La couverture de coraux durs vivants et l'\xe9tendue spatiale des r\xe9cifs sont les indicateurs les plus importants pour savoir si le r\xe9cif est ou non domin\xe9 par les coraux.  La composition et la diversit\xe9 des taxons coralliens sont un indice important de la sant\xe9 du r\xe9cif ; l'\xe9tat des coraux (par exemple le blanchissement, les maladies) donne des informations fondamentales sur la sant\xe9 du r\xe9cif ; la structure des classes de taille (et le recrutement) des coraux durs donne des informations fondamentales sur la r\xe9silience, l'historique des perturbations et le potentiel de r\xe9cup\xe9ration du r\xe9cif.",icon:"birds-mammals.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17512"},{category:"Biology and Ecosystems",value:"seagrassCoverAndComposition","label EN":"Seagrass cover and composition","label FR":"Composition et couverture des herbiers marins","definition EN":"Characterization of seagrass beds according to species and their cover linked to a spatial distribution.","definition FR":"Caract\xe9risation des herbiers marins en fonction des esp\xe8ces et de leur couverture selon une distribution spatiale.",icon:"seagrass.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17513"},{category:"Biology and Ecosystems",value:"macroalgalCanopyCoverAndComposition","label EN":"Macroalgal canopy cover and composition","label FR":"Composition et couverture de la canop\xe9e de macroalgues","definition EN":"Characterization of macroalgal forest according to species and their cover linked to a spatial distribution.","definition FR":"Caract\xe9risation des macroalgues en fonction des esp\xe8ces et de leur couvert selon une distribution spatiale.",icon:"macroalgal-canopy.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17515"},{category:"Biology and Ecosystems",value:"invertebrateAbundanceAndDistribution","label EN":"Invertebrate abundance and distribution","label FR":"Abondance et distribution d'invert\xe9br\xe9s","definition EN":"The abundance of invertebrate species describes the biomass or number of individuals in an assemblage and according to a spatial distribution.","definition FR":"L'abondance d'esp\xe8ces invert\xe9br\xe9es d\xe9crit la biomasse ou le nombre d'individus dans un assemblage et selon une distribution spatiale.",icon:"invertebrates.svg",emerging:!0},{category:"Biology and Ecosystems",value:"microbeBiomassAndDiversity","label EN":"Microbe biomass and diversity","label FR":"Biomasse et diversit\xe9 microbienne","definition EN":"","definition FR":"",icon:"microbes.svg",emerging:!0},{category:"Cross-disciplinary",value:"oceanColour","label EN":"Ocean colour","label FR":"Couleur des oc\xe9ans","definition EN":'The term "ocean colour" refers to the result of absorption and scattering of spectral radiation emanating from the sun. Light interacts with water and suspended or dissolved matter and encompasses a multitude of biological, biogeochemical and ecological factors that form the colour of water.',"definition FR":"Le terme \xabcouleur de l'oc\xe9an\xbb se r\xe9f\xe8re au r\xe9sultat de l'absorption et de la diffusion du rayonnement spectral \xe9manant du soleil. La lumi\xe8re interagit avec l'eau et les mati\xe8res en suspension ou dissoutes et englobe une multitude de facteurs biologiques, biog\xe9ochimiques et \xe9cologiques qui forment la couleur de l'eau.",icon:"ocean-color.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=19959"},{category:"Cross-disciplinary",value:"oceanSound","label EN":"Ocean sound","label FR":"Paysage acoustique des oc\xe9ans","definition EN":"","definition FR":"",icon:"ocean-sound.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=22567"},{category:"Cross-disciplinary",value:"marineDebris","label EN":"Marine debris","label FR":"D\xe9bris marins","definition EN":"","definition FR":"",icon:"",emerging:!0,url:""},{category:"Physical",value:"oceanSurfaceHeatFlux","label EN":"Ocean surface heat flux","label FR":"Flux de chaleur oc\xe9anique de surface","definition EN":"Surface heat flux is the rate of heat exchange, per unit area, passing through the sea surface to the atmosphere. The net heat flux is the sum of the turbulent fluxes (latent and sensitive) and the radiative flux (short and long waves).","definition FR":"Le flux de chaleur de surface est le taux d'\xe9change de chaleur, par unit\xe9 de surface, traversant la surface de la mer jusqu'\xe0 l'atmosph\xe8re. Le flux de chaleur net est la somme des flux turbulents (latents et sensibles) et du flux radiatif (ondes courtes et longues).",icon:"ocean-surface-heat-flux.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17472"},{category:"Physical",value:"oceanSurfaceStress","label EN":"Ocean surface stress","label FR":"Contraintes sur la surface oc\xe9anique","definition EN":"Ocean stress is related to lower atmosphere drag and ocean surface dynamics. The magnitude of the stress influences the exchange of energy between the ocean and the atmosphere (evaporation, oxygen, carbon dioxide and other gases).","definition FR":"Le stress oc\xe9anique est li\xe9 \xe0 la train\xe9e de la basse atmosph\xe8re et \xe0 la dynamique de surface de l'oc\xe9an. L'ampleur du stress influence l'\xe9change d'\xe9nergie entre l'oc\xe9an et l'atmosph\xe8re (\xe9vaporation, oxyg\xe8ne, dioxyde de carbon et gaz autres).",icon:"sea-surface-stress.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=17463"},{category:"Physical",value:"oceanBottomPressure","label EN":"Ocean Bottom Pressure","label FR":"Pression au fond de l'oc\xe9an","definition EN":"Ocean bottom pressure is the total pressure resulting from the weight or mass of the column of seawater and the overlaying atmosphere.","definition FR":"La pression au fond de l'oc\xe9an est la pression totale r\xe9sultant du poids ou de la masse de la colonne d'eau de mer et de l'atmosph\xe8re qui la recouvre.",icon:"ocean-bottom-pressure.svg",url:"https://www.goosocean.org/index.php?option=com_oe&task=viewDocumentRecord&docID=32488"}];var mS=(0,i.createContext)(null),gS=function(e){var t=e.utils,n=e.children,r=e.locale,o=e.libInstance,a=(0,i.useMemo)((function(){return new t({locale:r,instance:o})}),[t,o,r]);return(0,i.createElement)(mS.Provider,{value:a,children:n})},vS=function(e){if(!e)throw new Error("Can not find utils in context. You either a) forgot to wrap your component tree in MuiPickersUtilsProvider; or b) mixed named and direct file imports.  Recommendation: use named imports from the module index.")};function bS(){var e=(0,i.useContext)(mS);return vS(e),e}var yS=i.forwardRef((function(e,t){var n=e.disableSpacing,r=void 0!==n&&n,o=e.classes,a=e.className,s=(0,Yn.c)(e,["disableSpacing","classes","className"]);return i.createElement("div",(0,at.c)({className:(0,kn.c)(o.root,a,!r&&o.spacing),ref:t},s))}));const _S=(0,Gn.c)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(yS);var xS=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.dividers,a=void 0!==o&&o,s=(0,Yn.c)(e,["classes","className","dividers"]);return i.createElement("div",(0,at.c)({className:(0,kn.c)(n.root,r,a&&n.dividers),ref:t},s))}));const wS=(0,Gn.c)((function(e){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider)}}}),{name:"MuiDialogContent"})(xS);var ES={enter:Ao.rV.enteringScreen,exit:Ao.rV.leavingScreen},TS=i.forwardRef((function(e,t){var n=e.BackdropProps,r=e.children,o=e.classes,a=e.className,s=e.disableBackdropClick,l=void 0!==s&&s,c=e.disableEscapeKeyDown,u=void 0!==c&&c,d=e.fullScreen,p=void 0!==d&&d,h=e.fullWidth,f=void 0!==h&&h,m=e.maxWidth,g=void 0===m?"sm":m,v=e.onBackdropClick,b=e.onClose,y=e.onEnter,_=e.onEntered,x=e.onEntering,w=e.onEscapeKeyDown,E=e.onExit,T=e.onExited,C=e.onExiting,k=e.open,S=e.PaperComponent,O=void 0===S?Xn:S,A=e.PaperProps,j=void 0===A?{}:A,P=e.scroll,I=void 0===P?"paper":P,L=e.TransitionComponent,R=void 0===L?Lo:L,N=e.transitionDuration,D=void 0===N?ES:N,M=e.TransitionProps,B=e["aria-describedby"],Q=e["aria-labelledby"],U=(0,Yn.c)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),F=i.useRef();return i.createElement(ti,(0,at.c)({className:(0,kn.c)(o.root,a),BackdropComponent:No,BackdropProps:(0,at.c)({transitionDuration:D},n),closeAfterTransition:!0},l?{disableBackdropClick:l}:{},{disableEscapeKeyDown:u,onEscapeKeyDown:w,onClose:b,open:k,ref:t},U),i.createElement(R,(0,at.c)({appear:!0,in:k,timeout:D,onEnter:y,onEntering:x,onEntered:_,onExit:E,onExiting:C,onExited:T,role:"none presentation"},M),i.createElement("div",{className:(0,kn.c)(o.container,o["scroll".concat((0,Zn.c)(I))]),onMouseUp:function(e){e.target===e.currentTarget&&e.target===F.current&&(F.current=null,v&&v(e),!l&&b&&b(e,"backdropClick"))},onMouseDown:function(e){F.current=e.target}},i.createElement(O,(0,at.c)({elevation:24,role:"dialog","aria-describedby":B,"aria-labelledby":Q},j,{className:(0,kn.c)(o.paper,o["paperScroll".concat((0,Zn.c)(I))],o["paperWidth".concat((0,Zn.c)(String(g)))],j.className,p&&o.paperFullScreen,f&&o.paperFullWidth)}),r))))}));const CS=(0,Gn.c)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":(0,nr.c)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":(0,nr.c)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":(0,nr.c)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":(0,nr.c)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":(0,nr.c)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(TS);function kS(e,t){return Array.isArray(t)?t.every((function(t){return-1!==e.indexOf(t)})):-1!==e.indexOf(t)}var SS=An((function(e){return{staticWrapperRoot:{overflow:"hidden",minWidth:310,display:"flex",flexDirection:"column",backgroundColor:e.palette.background.paper}}}),{name:"MuiPickersStaticWrapper"}),OS=function(e){var t=e.children,n=SS();return(0,i.createElement)("div",{className:n.staticWrapperRoot,children:t})},AS=function(e){var t=e.children,n=e.classes,r=e.onAccept,o=e.onDismiss,a=e.onClear,s=e.onSetToday,l=e.okLabel,c=e.cancelLabel,u=e.clearLabel,d=e.todayLabel,p=e.clearable,h=e.showTodayButton,f=(e.showTabs,e.wider),m=(0,Yn.c)(e,["children","classes","onAccept","onDismiss","onClear","onSetToday","okLabel","cancelLabel","clearLabel","todayLabel","clearable","showTodayButton","showTabs","wider"]);return(0,i.createElement)(CS,(0,at.c)({role:"dialog",onClose:o,classes:{paper:(0,kn.c)(n.dialogRoot,f&&n.dialogRootWider)}},m),(0,i.createElement)(wS,{children:t,className:n.dialog}),(0,i.createElement)(_S,{classes:{root:(0,kn.c)((p||h)&&n.withAdditionalAction)}},p&&(0,i.createElement)(c_,{color:"primary",onClick:a},u),h&&(0,i.createElement)(c_,{color:"primary",onClick:s},d),c&&(0,i.createElement)(c_,{color:"primary",onClick:o},c),l&&(0,i.createElement)(c_,{color:"primary",onClick:r},l)))};AS.displayName="ModalDialog";var jS={dialogRoot:{minWidth:310},dialogRootWider:{minWidth:325},dialog:{"&:first-child":{padding:0}},withAdditionalAction:{justifyContent:"flex-start","& > *:first-child":{marginRight:"auto"}}},PS=(0,Gn.c)(jS,{name:"MuiPickersModal"})(AS),IS="undefined"===typeof window?i.useEffect:i.useLayoutEffect;function LS(e,t){var n=t[e.key];n&&(n(),e.preventDefault())}function RS(e,t){var n=(0,i.useRef)(t);n.current=t,IS((function(){if(e){var t=function(e){LS(e,n.current)};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}}),[e])}var NS=function(e){var t=e.open,n=e.children,r=e.okLabel,o=e.cancelLabel,a=e.clearLabel,s=e.todayLabel,l=e.showTodayButton,c=e.clearable,u=e.DialogProps,d=e.showTabs,p=e.wider,h=e.InputComponent,f=e.DateInputProps,m=e.onClear,g=e.onAccept,v=e.onDismiss,b=e.onSetToday,y=(0,Yn.c)(e,["open","children","okLabel","cancelLabel","clearLabel","todayLabel","showTodayButton","clearable","DialogProps","showTabs","wider","InputComponent","DateInputProps","onClear","onAccept","onDismiss","onSetToday"]);return RS(t,{Enter:g}),(0,i.createElement)(i.Fragment,null,(0,i.createElement)(h,(0,at.c)({},y,f)),(0,i.createElement)(PS,(0,at.c)({wider:p,showTabs:d,open:t,onClear:m,onAccept:g,onDismiss:v,onSetToday:b,clearLabel:a,todayLabel:s,okLabel:r,cancelLabel:o,clearable:c,showTodayButton:l,children:n},u)))};NS.defaultProps={okLabel:"OK",cancelLabel:"Cancel",clearLabel:"Clear",todayLabel:"Today",clearable:!1,showTodayButton:!1};var DS=function(e){var t=e.open,n=(e.wider,e.children),r=e.PopoverProps,o=(e.onClear,e.onDismiss),a=(e.onSetToday,e.onAccept),s=(e.showTabs,e.DateInputProps),l=e.InputComponent,c=(0,Yn.c)(e,["open","wider","children","PopoverProps","onClear","onDismiss","onSetToday","onAccept","showTabs","DateInputProps","InputComponent"]),u=(0,i.useRef)();return RS(t,{Enter:a}),(0,i.createElement)(i.Fragment,null,(0,i.createElement)(l,(0,at.c)({},c,s,{inputRef:u})),(0,i.createElement)(Ei,(0,at.c)({open:t,onClose:o,anchorEl:u.current,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:n},r)))};var MS=(0,i.createContext)(null),BS=function(e){var t=e.variant,n=(0,Yn.c)(e,["variant"]),r=function(e){switch(e){case"inline":return DS;case"static":return OS;default:return NS}}(t);return(0,i.createElement)(MS.Provider,{value:t||"dialog"},(0,i.createElement)(r,n))},QS=function(e){function t(t){var n;return(n=e.call(this,t)||this)._state=null,n._del=!1,n._handleChange=function(e){var t=n.state.value,r=e.target.value,i=e.target,o=r.length>t.length,a=n._del,s=t===n.props.format(r);n.setState({value:r,local:!0},(function(){var e=i.selectionStart,l=n.props.refuse||/[^\d]+/g,c=r.substr(0,e).replace(l,"");if(n._state={input:i,before:c,op:o,di:a&&s,del:a},n.props.replace&&n.props.replace(t)&&o&&!s){for(var u=-1,d=0;d!==c.length;++d)u=Math.max(u,r.toLowerCase().indexOf(c[d].toLowerCase(),u+1));var p=r.substr(u+1).replace(l,"")[0];u=r.indexOf(p,u+1),r=""+r.substr(0,u)+r.substr(u+1)}var h=n.props.format(r);t===h?n.setState({value:r}):n.props.onChange(h)}))},n._hKD=function(e){"Delete"===e.code&&(n._del=!0)},n._hKU=function(e){"Delete"===e.code&&(n._del=!1)},n.state={value:t.value,local:!0},n}(0,rt.c)(t,e),t.getDerivedStateFromProps=function(e,t){return{value:t.local?t.value:e.value,local:!1}};var n=t.prototype;return n.render=function(){var e=this._handleChange,t=this.state.value;return(0,this.props.children)({value:t,onChange:e})},n.componentWillUnmount=function(){document.removeEventListener("keydown",this._hKD),document.removeEventListener("keyup",this._hKU)},n.componentDidMount=function(){document.addEventListener("keydown",this._hKD),document.addEventListener("keyup",this._hKU)},n.componentDidUpdate=function(){var e=this._state;if(e){for(var t=this.state.value,n=-1,r=0;r!==e.before.length;++r)n=Math.max(n,t.toLowerCase().indexOf(e.before[r].toLowerCase(),n+1));if(this.props.replace&&(e.op||e.del&&!e.di))for(;t[n+1]&&(this.props.refuse||/[^\d]+/).test(t[n+1]);)n+=1;e.input.selectionStart=e.input.selectionEnd=n+1+(e.di?1:0)}this._state=null},t}(i.Component),US=n(4484);function FS(e,t){if(t&&("object"===(0,Pr.c)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,ur.c)(e)}function zS(e){return zS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zS(e)}var qS=n(7796);function HS(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,qS.c)(e,t)}var WS=An((function(e){return{day:{width:36,height:36,fontSize:e.typography.caption.fontSize,margin:"0 2px",color:e.palette.text.primary,fontWeight:e.typography.fontWeightMedium,padding:0},hidden:{opacity:0,pointerEvents:"none"},current:{color:e.palette.primary.main,fontWeight:600},daySelected:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{backgroundColor:e.palette.primary.main}},dayDisabled:{pointerEvents:"none",color:e.palette.text.hint}}}),{name:"MuiPickersDay"}),GS=function(e){var t=e.children,n=e.disabled,r=e.hidden,o=e.current,a=e.selected,s=(0,Yn.c)(e,["children","disabled","hidden","current","selected"]),l=WS(),c=(0,kn.c)(l.day,r&&l.hidden,o&&l.current,a&&l.daySelected,n&&l.dayDisabled);return(0,i.createElement)(Cr,(0,at.c)({className:c,tabIndex:r||n?-1:0},s),(0,i.createElement)(Or,{variant:"body2",color:"inherit"},t))};GS.displayName="Day",GS.defaultProps={disabled:!1,hidden:!1,current:!1,selected:!1};const VS=GS;function $S(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var KS=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=$S(n.className,r):n.setAttribute("class",$S(n.className&&n.className.baseVal||"",r)));var n,r}))},YS=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}(0,rt.c)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&ri(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&KS(e,r),i&&KS(e,i),o&&KS(e,o)},n.render=function(){var e=this.props,t=(e.classNames,(0,Mt.c)(e,["classNames"]));return i.createElement(di,(0,at.c)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(i.Component);YS.defaultProps={classNames:""},YS.propTypes={};const ZS=YS;var JS=function(e){return 1===e.length&&"year"===e[0]},XS=function(e){return 2===e.length&&kS(e,"month")&&kS(e,"year")},eO=function(e){var t=e.children,n=e.value,r=e.disabled,o=e.onSelect,a=e.dayInCurrentMonth,s=(0,Yn.c)(e,["children","value","disabled","onSelect","dayInCurrentMonth"]),l=(0,i.useCallback)((function(){return o(n)}),[o,n]);return(0,i.createElement)("div",(0,at.c)({role:"presentation",onClick:a&&!r?l:void 0,onKeyPress:a&&!r?l:void 0},s),t)},tO=An((function(e){var t=e.transitions.create("transform",{duration:350,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{transitionContainer:{display:"block",position:"relative","& > *":{position:"absolute",top:0,right:0,left:0}},"slideEnter-left":{willChange:"transform",transform:"translate(100%)"},"slideEnter-right":{willChange:"transform",transform:"translate(-100%)"},slideEnterActive:{transform:"translate(0%)",transition:t},slideExit:{transform:"translate(0%)"},"slideExitActiveLeft-left":{willChange:"transform",transform:"translate(-200%)",transition:t},"slideExitActiveLeft-right":{willChange:"transform",transform:"translate(200%)",transition:t}}}),{name:"MuiPickersSlideTransition"}),nO=function(e){var t=e.children,n=e.transKey,r=e.slideDirection,o=e.className,a=void 0===o?null:o,s=tO(),l={exit:s.slideExit,enterActive:s.slideEnterActive,enter:s["slideEnter-"+r],exitActive:s["slideExitActiveLeft-"+r]};return(0,i.createElement)(vr,{className:(0,kn.c)(s.transitionContainer,a),childFactory:function(e){return(0,i.cloneElement)(e,{classNames:l})}},(0,i.createElement)(ZS,{mountOnEnter:!0,unmountOnExit:!0,key:n+r,timeout:350,classNames:l,children:t}))},rO=An((function(e){return{switchHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:e.spacing(.5),marginBottom:e.spacing(1)},transitionContainer:{width:"100%",overflow:"hidden",height:23},iconButton:{zIndex:1,backgroundColor:e.palette.background.paper},daysHeader:{display:"flex",justifyContent:"center",alignItems:"center",maxHeight:16},dayLabel:{width:36,margin:"0 2px",textAlign:"center",color:e.palette.text.hint}}}),{name:"MuiPickersCalendarHeader"}),iO=function(e){var t=e.currentMonth,n=e.onMonthChange,r=e.leftArrowIcon,o=e.rightArrowIcon,a=e.leftArrowButtonProps,s=e.rightArrowButtonProps,l=e.disablePrevMonth,c=e.disableNextMonth,u=e.slideDirection,d=bS(),p=rO(),h="rtl"===Pn().direction;return(0,i.createElement)("div",null,(0,i.createElement)("div",{className:p.switchHeader},(0,i.createElement)(Cr,(0,at.c)({},a,{disabled:l,onClick:function(){return n(d.getPreviousMonth(t),"right")},className:p.iconButton}),h?o:r),(0,i.createElement)(nO,{slideDirection:u,transKey:t.toString(),className:p.transitionContainer},(0,i.createElement)(Or,{align:"center",variant:"body1"},d.getCalendarHeaderText(t))),(0,i.createElement)(Cr,(0,at.c)({},s,{disabled:c,onClick:function(){return n(d.getNextMonth(t),"left")},className:p.iconButton}),h?r:o)),(0,i.createElement)("div",{className:p.daysHeader},d.getWeekdays().map((function(e,t){return(0,i.createElement)(Or,{key:t,variant:"caption",className:p.dayLabel},e)}))))};iO.displayName="CalendarHeader",iO.defaultProps={leftArrowIcon:(0,i.createElement)((function(e){return i.createElement(US.c,e,i.createElement("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),i.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))}),null),rightArrowIcon:(0,i.createElement)((function(e){return i.createElement(US.c,e,i.createElement("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),i.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}))}),null),disablePrevMonth:!1,disableNextMonth:!1};var oO=function(e){var t=e.onKeyDown;return(0,i.useEffect)((function(){return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[t]),null},aO=function(e){function t(){var e,n;zr(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=FS(this,(e=zS(t)).call.apply(e,[this].concat(o)))).state={slideDirection:"left",currentMonth:n.props.utils.startOfMonth(n.props.date),loadingQueue:0},n.pushToLoadingQueue=function(){var e=n.state.loadingQueue+1;n.setState({loadingQueue:e})},n.popFromLoadingQueue=function(){var e=n.state.loadingQueue;e=e<=0?0:e-1,n.setState({loadingQueue:e})},n.handleChangeMonth=function(e,t){if(n.setState({currentMonth:e,slideDirection:t}),n.props.onMonthChange){var r=n.props.onMonthChange(e);r&&(n.pushToLoadingQueue(),r.then((function(){n.popFromLoadingQueue()})))}},n.validateMinMaxDate=function(e){var t=n.props,r=t.minDate,i=t.maxDate,o=t.utils,a=t.disableFuture,s=t.disablePast,l=o.date();return Boolean(a&&o.isAfterDay(e,l)||s&&o.isBeforeDay(e,l)||r&&o.isBeforeDay(e,o.date(r))||i&&o.isAfterDay(e,o.date(i)))},n.shouldDisablePrevMonth=function(){var e=n.props,t=e.utils,r=e.disablePast,i=e.minDate,o=t.date(),a=t.startOfMonth(r&&t.isAfter(o,t.date(i))?o:t.date(i));return!t.isBefore(a,n.state.currentMonth)},n.shouldDisableNextMonth=function(){var e=n.props,t=e.utils,r=e.disableFuture,i=e.maxDate,o=t.date(),a=t.startOfMonth(r&&t.isBefore(o,t.date(i))?o:t.date(i));return!t.isAfter(a,n.state.currentMonth)},n.shouldDisableDate=function(e){var t=n.props.shouldDisableDate;return n.validateMinMaxDate(e)||Boolean(t&&t(e))},n.handleDaySelect=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=n.props,i=r.date,o=r.utils;n.props.onChange(o.mergeDateAndTime(e,i),t)},n.moveToDay=function(e){var t=n.props.utils;e&&!n.shouldDisableDate(e)&&(t.getMonth(e)!==t.getMonth(n.state.currentMonth)&&n.handleChangeMonth(t.startOfMonth(e),"left"),n.handleDaySelect(e,!1))},n.handleKeyDown=function(e){var t=n.props,r=t.theme,i=t.date,o=t.utils;LS(e,{ArrowUp:function(){return n.moveToDay(o.addDays(i,-7))},ArrowDown:function(){return n.moveToDay(o.addDays(i,7))},ArrowLeft:function(){return n.moveToDay(o.addDays(i,"ltr"===r.direction?-1:1))},ArrowRight:function(){return n.moveToDay(o.addDays(i,"ltr"===r.direction?1:-1))}})},n.renderWeeks=function(){var e=n.props,t=e.utils,r=e.classes;return t.getWeekArray(n.state.currentMonth).map((function(e){return(0,i.createElement)("div",{key:"week-".concat(e[0].toString()),className:r.week},n.renderDays(e))}))},n.renderDays=function(e){var t=n.props,r=t.date,o=t.renderDay,a=t.utils,s=a.date(),l=a.startOfDay(r),c=a.getMonth(n.state.currentMonth);return e.map((function(e){var t=n.shouldDisableDate(e),r=a.getMonth(e)===c,u=(0,i.createElement)(VS,{disabled:t,current:a.isSameDay(e,s),hidden:!r,selected:a.isSameDay(l,e)},a.getDayText(e));return o&&(u=o(e,l,r,u)),(0,i.createElement)(eO,{value:e,key:e.toString(),disabled:t,dayInCurrentMonth:r,onSelect:n.handleDaySelect},u)}))},n}return HS(t,e),(0,qr.c)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.date,n=e.minDate,r=e.maxDate,i=e.utils,o=e.disablePast,a=e.disableFuture;if(this.shouldDisableDate(t)){var s=function(e){var t=e.date,n=e.utils,r=e.minDate,i=e.maxDate,o=e.disableFuture,a=e.disablePast,s=e.shouldDisableDate,l=n.startOfDay(n.date());a&&n.isBefore(r,l)&&(r=l),o&&n.isAfter(i,l)&&(i=l);var c=t,u=t;for(n.isBefore(t,r)&&(c=n.date(r),u=null),n.isAfter(t,i)&&(u&&(u=n.date(i)),c=null);c||u;){if(c&&n.isAfter(c,i)&&(c=null),u&&n.isBefore(u,r)&&(u=null),c){if(!s(c))return c;c=n.addDays(c,1)}if(u){if(!s(u))return u;u=n.addDays(u,-1)}}return n.date()}({date:t,utils:i,minDate:i.date(n),maxDate:i.date(r),disablePast:Boolean(o),disableFuture:Boolean(a),shouldDisableDate:this.shouldDisableDate});this.handleDaySelect(s,!1)}}},{key:"render",value:function(){var e=this.state,t=e.currentMonth,n=e.slideDirection,r=this.props,o=r.classes,a=r.allowKeyboardControl,s=r.leftArrowButtonProps,l=r.leftArrowIcon,c=r.rightArrowButtonProps,u=r.rightArrowIcon,d=r.loadingIndicator,p=d||(0,i.createElement)(r_,null);return(0,i.createElement)(i.Fragment,null,a&&"static"!==this.context&&(0,i.createElement)(oO,{onKeyDown:this.handleKeyDown}),(0,i.createElement)(iO,{currentMonth:t,slideDirection:n,onMonthChange:this.handleChangeMonth,leftArrowIcon:l,leftArrowButtonProps:s,rightArrowIcon:u,rightArrowButtonProps:c,disablePrevMonth:this.shouldDisablePrevMonth(),disableNextMonth:this.shouldDisableNextMonth()}),(0,i.createElement)(nO,{slideDirection:n,transKey:t.toString(),className:o.transitionContainer},(0,i.createElement)(i.Fragment,null,this.state.loadingQueue>0&&(0,i.createElement)("div",{className:o.progressContainer},p)||(0,i.createElement)("div",null,this.renderWeeks()))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.utils,r=e.date;if(!n.isEqual(r,t.lastDate)){var i=n.getMonth(r),o=t.lastDate||r,a=n.getMonth(o);return{lastDate:r,currentMonth:e.utils.startOfMonth(r),slideDirection:i===a?t.slideDirection:n.isAfterDay(r,o)?"left":"right"}}return null}}]),t}(i.Component);aO.contextType=MS,aO.defaultProps={minDate:new Date("1900-01-01"),maxDate:new Date("2100-01-01"),disablePast:!1,disableFuture:!1,allowKeyboardControl:!0};var sO,lO=(0,Gn.c)((function(e){return{transitionContainer:{minHeight:216,marginTop:e.spacing(1.5)},progressContainer:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},week:{display:"flex",justifyContent:"center"}}}),{name:"MuiPickersCalendar",withTheme:!0})(function(e){var t=function(t){var n=bS();return(0,i.createElement)(e,(0,at.c)({utils:n},t))};return t.displayName="WithUtils(".concat(e.displayName||e.name,")"),t}(aO));!function(e){e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds"}(sO||(sO={}));var cO=sO,uO=function(e){function t(){var e,n;zr(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=FS(this,(e=zS(t)).call.apply(e,[this].concat(i)))).state={toAnimateTransform:!1,previousType:void 0},n.getAngleStyle=function(){var e=n.props,t=e.value,r=e.isInner,i=e.type,o=360/(i===cO.HOURS?12:60)*t;return i===cO.HOURS&&t>12&&(o-=360),{height:r?"26%":"40%",transform:"rotateZ(".concat(o,"deg)")}},n}return HS(t,e),(0,qr.c)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.hasSelected;return(0,i.createElement)("div",{style:this.getAngleStyle(),className:(0,kn.c)(t.pointer,this.state.toAnimateTransform&&t.animateTransform)},(0,i.createElement)("div",{className:(0,kn.c)(t.thumb,n&&t.noPoint)}))}}]),t}(i.Component);uO.getDerivedStateFromProps=function(e,t){return e.type!==t.previousType?{toAnimateTransform:!0,previousType:e.type}:{toAnimateTransform:!1,previousType:e.type}};var dO=(0,Gn.c)((function(e){return{pointer:{width:2,backgroundColor:e.palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px"},animateTransform:{transition:e.transitions.create(["transform","height"])},thumb:{width:4,height:4,backgroundColor:e.palette.primary.contrastText,borderRadius:"100%",position:"absolute",top:-21,left:-15,border:"14px solid ".concat(e.palette.primary.main),boxSizing:"content-box"},noPoint:{backgroundColor:e.palette.primary.main}}}),{name:"MuiPickersClockPointer"})(uO),pO={x:130,y:130},hO=pO.x-pO.x,fO=0-pO.y,mO=function(e,t,n){var r=t-pO.x,i=n-pO.y,o=Math.atan2(hO,fO)-Math.atan2(r,i),a=57.29577951308232*o;a=Math.round(a/e)*e,a%=360;var s=Math.floor(a/e)||0,l=Math.pow(r,2)+Math.pow(i,2);return{value:s,distance:Math.sqrt(l)}},gO=function(e){function t(){var e,n;zr(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=FS(this,(e=zS(t)).call.apply(e,[this].concat(i)))).isMoving=!1,n.handleTouchMove=function(e){n.isMoving=!0,n.setTime(e)},n.handleTouchEnd=function(e){n.isMoving&&(n.setTime(e,!0),n.isMoving=!1)},n.handleMove=function(e){e.preventDefault(),e.stopPropagation(),("undefined"===typeof e.buttons?1===e.nativeEvent.which:1===e.buttons)&&n.setTime(e.nativeEvent,!1)},n.handleMouseUp=function(e){n.isMoving&&(n.isMoving=!1),n.setTime(e.nativeEvent,!0)},n.hasSelected=function(){var e=n.props,t=e.type,r=e.value;return t===cO.HOURS||r%5===0},n}return HS(t,e),(0,qr.c)(t,[{key:"setTime",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.offsetX,r=e.offsetY;if("undefined"===typeof n){var i=e.target.getBoundingClientRect();n=e.changedTouches[0].clientX-i.left,r=e.changedTouches[0].clientY-i.top}var o=this.props.type===cO.SECONDS||this.props.type===cO.MINUTES?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=mO(6*n,e,t).value;return r*n%60}(n,r,this.props.minutesStep):function(e,t,n){var r=mO(30,e,t),i=r.value,o=r.distance;return i=i||12,n?i%=12:o<90&&(i+=12,i%=24),i}(n,r,Boolean(this.props.ampm));this.props.onChange(o,t)}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.value,r=e.children,o=e.type,a=!e.ampm&&o===cO.HOURS&&(n<1||n>12);return(0,i.createElement)("div",{className:t.container},(0,i.createElement)("div",{className:t.clock},(0,i.createElement)("div",{role:"menu",tabIndex:-1,className:t.squareMask,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMove}),(0,i.createElement)("div",{className:t.pin}),(0,i.createElement)(dO,{type:o,value:n,isInner:a,hasSelected:this.hasSelected()}),r))}}]),t}(i.Component);gO.defaultProps={ampm:!1,minutesStep:1};var vO=(0,Gn.c)((function(e){return{container:{display:"flex",justifyContent:"center",alignItems:"flex-end",margin:"".concat(e.spacing(2),"px 0 ").concat(e.spacing(1),"px")},clock:{backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:260,width:260,position:"relative",pointerEvents:"none"},squareMask:{width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:"none",touchActions:"none",userSelect:"none","&:active":{cursor:"move"}},pin:{width:6,height:6,borderRadius:"50%",backgroundColor:e.palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}}),{name:"MuiPickersClock"})(gO),bO={0:[0,40],1:[55,19.6],2:[94.4,59.5],3:[109,114],4:[94.4,168.5],5:[54.5,208.4],6:[0,223],7:[-54.5,208.4],8:[-94.4,168.5],9:[-109,114],10:[-94.4,59.5],11:[-54.5,19.6],12:[0,5],13:[36.9,49.9],14:[64,77],15:[74,114],16:[64,151],17:[37,178],18:[0,188],19:[-37,178],20:[-64,151],21:[-74,114],22:[-64,77],23:[-37,50]},yO=An((function(e){var t=e.spacing(4);return{clockNumber:{width:t,height:32,userSelect:"none",position:"absolute",left:"calc((100% - ".concat("number"===typeof t?"".concat(t,"px"):t,") / 2)"),display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"light"===e.palette.type?e.palette.text.primary:e.palette.text.hint},clockNumberSelected:{color:e.palette.primary.contrastText}}}),{name:"MuiPickersClockNumber"}),_O=function(e){var t=e.selected,n=e.label,r=e.index,o=e.isInner,a=yO(),s=(0,kn.c)(a.clockNumber,t&&a.clockNumberSelected),l=(0,i.useMemo)((function(){var e=bO[r];return{transform:"translate(".concat(e[0],"px, ").concat(e[1],"px")}}),[r]);return(0,i.createElement)(Or,{component:"span",className:s,variant:o?"body2":"body1",style:l,children:n})},xO=function(e){for(var t=e.ampm,n=e.utils,r=e.date,o=n.getHours(r),a=[],s=t?12:23,l=function(e){return t?12===e?12===o||0===o:o===e||o-12===e:o===e},c=t?1:0;c<=s;c+=1){var u=c.toString();0===c&&(u="00");var d={index:c,label:n.formatNumber(u),selected:l(c),isInner:!t&&(0===c||c>12)};a.push((0,i.createElement)(_O,(0,at.c)({key:c},d)))}return a},wO=function(e){var t=e.value,n=e.utils.formatNumber;return[(0,i.createElement)(_O,{label:n("00"),selected:0===t,index:12,key:12}),(0,i.createElement)(_O,{label:n("05"),selected:5===t,index:1,key:1}),(0,i.createElement)(_O,{label:n("10"),selected:10===t,index:2,key:2}),(0,i.createElement)(_O,{label:n("15"),selected:15===t,index:3,key:3}),(0,i.createElement)(_O,{label:n("20"),selected:20===t,index:4,key:4}),(0,i.createElement)(_O,{label:n("25"),selected:25===t,index:5,key:5}),(0,i.createElement)(_O,{label:n("30"),selected:30===t,index:6,key:6}),(0,i.createElement)(_O,{label:n("35"),selected:35===t,index:7,key:7}),(0,i.createElement)(_O,{label:n("40"),selected:40===t,index:8,key:8}),(0,i.createElement)(_O,{label:n("45"),selected:45===t,index:9,key:9}),(0,i.createElement)(_O,{label:n("50"),selected:50===t,index:10,key:10}),(0,i.createElement)(_O,{label:n("55"),selected:55===t,index:11,key:11})]},EO=function(e){var t=e.type,n=e.onHourChange,r=e.onMinutesChange,o=e.onSecondsChange,a=e.ampm,s=e.date,l=e.minutesStep,c=bS(),u=(0,i.useMemo)((function(){switch(t){case cO.HOURS:return{value:c.getHours(s),children:xO({date:s,utils:c,ampm:Boolean(a)}),onChange:function(e,t){var r=function(e,t){return t.getHours(e)>=12?"pm":"am"}(s,c),i=function(e,t,n,r){if(n&&(r.getHours(e)>=12?"pm":"am")!==t){var i="am"===t?r.getHours(e)-12:r.getHours(e)+12;return r.setHours(e,i)}return e}(c.setHours(s,e),r,Boolean(a),c);n(i,t)}};case cO.MINUTES:var e=c.getMinutes(s);return{value:e,children:wO({value:e,utils:c}),onChange:function(e,t){var n=c.setMinutes(s,e);r(n,t)}};case cO.SECONDS:var i=c.getSeconds(s);return{value:i,children:wO({value:i,utils:c}),onChange:function(e,t){var n=c.setSeconds(s,e);o(n,t)}};default:throw new Error("You must provide the type for TimePickerView")}}),[a,s,n,r,o,t,c]);return(0,i.createElement)(vO,(0,at.c)({type:t,ampm:a,minutesStep:l},u))};EO.displayName="TimePickerView",EO.defaultProps={ampm:!0,minutesStep:1};(0,i.memo)(EO);function TO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(0,it.oneOfType)([it.object,it.string,it.number,(0,it.instanceOf)(Date)]),(0,it.oneOf)(["year","month","day"]);var CO={minDate:new Date("1900-01-01"),maxDate:new Date("2100-01-01"),invalidDateMessage:"Invalid Date Format",minDateMessage:"Date should not be before minimal date",maxDateMessage:"Date should not be after maximal date",allowKeyboardControl:!0};!function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TO(n,!0).forEach((function(t){(0,nr.c)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TO(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}}({},{ampm:!0,invalidDateMessage:"Invalid Time Format"},{},CO,{showTabs:!0});var kO=An((function(e){return{root:{height:40,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none","&:focus":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium}},yearSelected:{margin:"10px 0",fontWeight:e.typography.fontWeightMedium},yearDisabled:{pointerEvents:"none",color:e.palette.text.hint}}}),{name:"MuiPickersYear"}),SO=function(e){var t=e.onSelect,n=e.forwardedRef,r=e.value,o=e.selected,a=e.disabled,s=e.children,l=(0,Yn.c)(e,["onSelect","forwardedRef","value","selected","disabled","children"]),c=kO(),u=(0,i.useCallback)((function(){return t(r)}),[t,r]);return(0,i.createElement)(Or,(0,at.c)({role:"button",component:"div",tabIndex:a?-1:0,onClick:u,onKeyPress:u,color:o?"primary":void 0,variant:o?"h5":"subtitle1",children:s,ref:n,className:(0,kn.c)(c.root,o&&c.yearSelected,a&&c.yearDisabled)},l))};SO.displayName="Year";var OO=(0,i.forwardRef)((function(e,t){return(0,i.createElement)(SO,(0,at.c)({},e,{forwardedRef:t}))})),AO=An({container:{height:300,overflowY:"auto"}},{name:"MuiPickersYearSelection"}),jO=function(e){var t=e.date,n=e.onChange,r=e.onYearChange,o=e.minDate,a=e.maxDate,s=e.disablePast,l=e.disableFuture,c=e.animateYearScrolling,u=bS(),d=AO(),p=(0,i.useContext)(MS),h=(0,i.useRef)(null);(0,i.useEffect)((function(){if(h.current&&h.current.scrollIntoView)try{h.current.scrollIntoView({block:"static"===p?"nearest":"center",behavior:c?"smooth":"auto"})}catch(e){h.current.scrollIntoView()}}),[]);var f=u.getYear(t),m=(0,i.useCallback)((function(e){var i=u.setYear(t,e);r&&r(i),n(i,!0)}),[t,n,r,u]);return(0,i.createElement)("div",{className:d.container},u.getYearRange(o,a).map((function(e){var t=u.getYear(e),n=t===f;return(0,i.createElement)(OO,{key:u.getYearText(e),selected:n,value:t,onSelect:m,ref:n?h:void 0,disabled:Boolean(s&&u.isBeforeYear(e,u.date())||l&&u.isAfterYear(e,u.date()))},u.getYearText(e))})))},PO=An((function(e){return{root:{flex:"1 0 33.33%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",outline:"none",height:75,transition:e.transitions.create("font-size",{duration:"100ms"}),"&:focus":{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium}},monthSelected:{color:e.palette.primary.main,fontWeight:e.typography.fontWeightMedium},monthDisabled:{pointerEvents:"none",color:e.palette.text.hint}}}),{name:"MuiPickersMonth"}),IO=function(e){var t=e.selected,n=e.onSelect,r=e.disabled,o=e.value,a=e.children,s=(0,Yn.c)(e,["selected","onSelect","disabled","value","children"]),l=PO(),c=(0,i.useCallback)((function(){n(o)}),[n,o]);return(0,i.createElement)(Or,(0,at.c)({role:"button",component:"div",className:(0,kn.c)(l.root,t&&l.monthSelected,r&&l.monthDisabled),tabIndex:r?-1:0,onClick:c,onKeyPress:c,color:t?"primary":void 0,variant:t?"h5":"subtitle1",children:a},s))};IO.displayName="Month";var LO=An({container:{width:310,display:"flex",flexWrap:"wrap",alignContent:"stretch"}},{name:"MuiPickersMonthSelection"}),RO=function(e){var t=e.disablePast,n=e.disableFuture,r=e.minDate,o=e.maxDate,a=e.date,s=e.onMonthChange,l=e.onChange,c=bS(),u=LO(),d=c.getMonth(a),p=function(e){var i=c.date(),a=c.date(r),s=c.date(o),l=c.startOfMonth(t&&c.isAfter(i,a)?i:a),u=c.startOfMonth(n&&c.isBefore(i,s)?i:s),d=c.isBefore(e,l),p=c.isAfter(e,u);return d||p},h=(0,i.useCallback)((function(e){var t=c.setMonth(a,e);l(t,!0),s&&s(t)}),[a,l,s,c]);return(0,i.createElement)("div",{className:u.container},c.getMonthArray(a).map((function(e){var t=c.getMonth(e),n=c.format(e,"MMM");return(0,i.createElement)(IO,{key:n,value:t,selected:t===d,onSelect:h,disabled:p(e)},n)})))},NO=function(){return"undefined"===typeof window?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?90===Math.abs(window.screen.orientation.angle)?"landscape":"portrait":window.orientation&&90===Math.abs(Number(window.orientation))?"landscape":"portrait"};function DO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var MO={year:jO,month:RO,date:lO,hours:EO,minutes:EO,seconds:EO},BO=An({container:{display:"flex",flexDirection:"column"},containerLandscape:{flexDirection:"row"},pickerView:{overflowX:"hidden",minHeight:305,minWidth:310,maxWidth:325,display:"flex",flexDirection:"column",justifyContent:"center"},pickerViewLandscape:{padding:"0 8px"}},{name:"MuiPickersBasePicker"}),QO=function(e){var t=e.date,n=e.views,r=e.disableToolbar,o=e.onChange,a=e.openTo,s=e.minDate,l=e.maxDate,c=e.ToolbarComponent,u=e.orientation,d=(0,Yn.c)(e,["date","views","disableToolbar","onChange","openTo","minDate","maxDate","ToolbarComponent","orientation"]),p=bS(),h=BO(),f=function(e){var t=(0,i.useState)(NO()),n=(0,jr.c)(t,2),r=n[0],o=n[1],a=(0,i.useCallback)((function(){return o(NO())}),[]);return IS((function(){return window.addEventListener("orientationchange",a),function(){return window.removeEventListener("orientationchange",a)}}),[a]),"landscape"===(e||r)}(u),m=function(e,t,n){var r=(0,i.useState)(t&&kS(e,t)?t:e[0]),o=(0,jr.c)(r,2),a=o[0],s=o[1],l=(0,i.useCallback)((function(t,r){var i=e[e.indexOf(a)+1];if(r&&i)return n(t,!1),void s(i);n(t,Boolean(r))}),[n,a,e]);return{handleChangeAndOpenNext:l,openView:a,setOpenView:s}}(n,a,o),g=m.openView,v=m.setOpenView,b=m.handleChangeAndOpenNext,y=(0,i.useMemo)((function(){return p.date(s)}),[s,p]),_=(0,i.useMemo)((function(){return p.date(l)}),[l,p]);return(0,i.createElement)("div",{className:(0,kn.c)(h.container,f&&h.containerLandscape)},!r&&(0,i.createElement)(c,(0,at.c)({},d,{views:n,isLandscape:f,date:t,onChange:o,setOpenView:v,openView:g})),(0,i.createElement)("div",{className:(0,kn.c)(h.pickerView,f&&h.pickerViewLandscape)},"year"===g&&(0,i.createElement)(jO,(0,at.c)({},d,{date:t,onChange:b,minDate:y,maxDate:_})),"month"===g&&(0,i.createElement)(RO,(0,at.c)({},d,{date:t,onChange:b,minDate:y,maxDate:_})),"date"===g&&(0,i.createElement)(lO,(0,at.c)({},d,{date:t,onChange:b,minDate:y,maxDate:_})),("hours"===g||"minutes"===g||"seconds"===g)&&(0,i.createElement)(EO,(0,at.c)({},d,{date:t,type:g,onHourChange:b,onMinutesChange:b,onSecondsChange:b}))))};QO.defaultProps=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DO(n,!0).forEach((function(t){(0,nr.c)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DO(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},CO,{views:Object.keys(MO)});var UO=An((function(e){var t="light"===e.palette.type?e.palette.primary.contrastText:e.palette.getContrastText(e.palette.background.default);return{toolbarTxt:{color:(0,or.SS)(t,.54)},toolbarBtnSelected:{color:t}}}),{name:"MuiPickersToolbarText"}),FO=function(e){var t=e.selected,n=e.label,r=e.className,o=void 0===r?null:r,a=(0,Yn.c)(e,["selected","label","className"]),s=UO();return(0,i.createElement)(Or,(0,at.c)({children:n,className:(0,kn.c)(s.toolbarTxt,o,t&&s.toolbarBtnSelected)},a))},zO=function(e){var t=e.classes,n=e.className,r=void 0===n?null:n,o=e.label,a=e.selected,s=e.variant,l=e.align,c=e.typographyClassName,u=(0,Yn.c)(e,["classes","className","label","selected","variant","align","typographyClassName"]);return(0,i.createElement)(c_,(0,at.c)({variant:"text",className:(0,kn.c)(t.toolbarBtn,r)},u),(0,i.createElement)(FO,{align:l,className:c,variant:s,label:o,selected:a}))};zO.defaultProps={className:""};var qO={toolbarBtn:{padding:0,minWidth:"16px",textTransform:"none"}},HO=(0,Gn.c)(qO,{name:"MuiPickersToolbarButton"})(zO),WO=An((function(e){return{toolbar:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",height:100,backgroundColor:"light"===e.palette.type?e.palette.primary.main:e.palette.background.default},toolbarLandscape:{height:"auto",maxWidth:150,padding:8,justifyContent:"flex-start"}}}),{name:"MuiPickersToolbar"}),GO=function(e){var t=e.children,n=e.isLandscape,r=e.className,o=void 0===r?null:r,a=(0,Yn.c)(e,["children","isLandscape","className"]),s=WO();return(0,i.createElement)(ir,(0,at.c)({className:(0,kn.c)(s.toolbar,o,n&&s.toolbarLandscape)},a),t)};function VO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var $O=function(e){var t=e.inputValue,n=e.inputVariant,r=e.validationError,o=e.InputProps,a=e.openPicker,s=e.TextFieldComponent,l=void 0===s?CC:s,c=(0,Yn.c)(e,["inputValue","inputVariant","validationError","InputProps","openPicker","TextFieldComponent"]),u=(0,i.useMemo)((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VO(n,!0).forEach((function(t){(0,nr.c)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VO(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,{readOnly:!0})}),[o]);return(0,i.createElement)(l,(0,at.c)({error:Boolean(r),helperText:r},c,{onClick:a,value:t,variant:n,InputProps:u,onKeyDown:function(e){32===e.keyCode&&(e.stopPropagation(),a())}}))};$O.displayName="PureDateInput";var KO=function(e,t,n,r,i){var o=i.invalidLabel,a=i.emptyLabel,s=i.labelFunc,l=n.date(e);return s?s(r?null:l,o):r?a||"":n.isValid(l)?n.format(l,t):o},YO=function(e,t,n){return t?n:e.endOfDay(n)},ZO=function(e,t,n){return t?n:e.startOfDay(n)},JO=function(e,t,n){var r=n.maxDate,i=n.minDate,o=n.disablePast,a=n.disableFuture,s=n.maxDateMessage,l=n.minDateMessage,c=n.invalidDateMessage,u=n.strictCompareDates,d=t.date(e);return null===e?"":t.isValid(e)?r&&t.isAfter(d,YO(t,!!u,t.date(r)))||a&&t.isAfter(d,YO(t,!!u,t.date()))?s:i&&t.isBefore(d,ZO(t,!!u,t.date(i)))||o&&t.isBefore(d,ZO(t,!!u,t.date()))?l:"":c};function XO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XO(n,!0).forEach((function(t){(0,nr.c)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XO(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tA=function(e){var t=e.inputValue,n=e.inputVariant,r=e.validationError,o=e.KeyboardButtonProps,a=e.InputAdornmentProps,s=e.openPicker,l=e.onChange,c=e.InputProps,u=e.mask,d=e.maskChar,p=void 0===d?"_":d,h=e.refuse,f=void 0===h?/[^\d]+/gi:h,m=e.format,g=e.keyboardIcon,v=e.disabled,b=e.rifmFormatter,y=e.TextFieldComponent,_=void 0===y?CC:y,x=(0,Yn.c)(e,["inputValue","inputVariant","validationError","KeyboardButtonProps","InputAdornmentProps","openPicker","onChange","InputProps","mask","maskChar","refuse","format","keyboardIcon","disabled","rifmFormatter","TextFieldComponent"]),w=u||function(e,t){return e.replace(/[a-z]/gi,t)}(m,p),E=(0,i.useMemo)((function(){return function(e,t,n){return function(r){var i="",o=r.replace(n,"");if(""===o)return o;for(var a=0,s=0;a<e.length;){var l=e[a];l===t&&s<o.length?(i+=o[s],s+=1):i+=l,a+=1}return i}}(w,p,f)}),[w,p,f]),T=a&&a.position?a.position:"end";return(0,i.createElement)(QS,{key:w,value:t,onChange:function(e){l(""===e||e===w?null:e)},refuse:f,format:b||E},(function(e){var t=e.onChange,l=e.value;return(0,i.createElement)(_,(0,at.c)({disabled:v,error:Boolean(r),helperText:r},x,{value:l,onChange:t,variant:n,InputProps:eA({},c,(0,nr.c)({},"".concat(T,"Adornment"),(0,i.createElement)(SC,(0,at.c)({position:T},a),(0,i.createElement)(Cr,(0,at.c)({disabled:v},o,{onClick:s}),g))))}))}))};tA.defaultProps={keyboardIcon:(0,i.createElement)((function(e){return i.createElement(US.c,e,i.createElement("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),i.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}))}),null)};var nA=function(e,t){var n=t.value,r=t.initialFocusedDate,o=(0,i.useRef)(e.date()),a=e.date(n||r||o.current);return a&&e.isValid(a)?a:o.current};function rA(e,t){var n=e.autoOk,r=e.disabled,o=e.readOnly,a=e.onAccept,s=e.onChange,l=e.onError,c=e.value,u=e.variant,d=bS(),p=function(e){var t=e.open,n=e.onOpen,r=e.onClose,o=null;if(void 0===t||null===t){var a=(0,i.useState)(!1),s=(0,jr.c)(a,2);t=s[0],o=s[1]}return{isOpen:t,setIsOpen:(0,i.useCallback)((function(e){return o&&o(e),e?n&&n():r&&r()}),[n,r,o])}}(e),h=p.isOpen,f=p.setIsOpen,m=function(e,t){var n=bS();return{date:nA(n,e),format:e.format||t.getDefaultFormat()}}(e,t),g=m.date,v=m.format,b=(0,i.useState)(g),y=(0,jr.c)(b,2),_=y[0],x=y[1];(0,i.useEffect)((function(){h||d.isEqual(_,g)||x(g)}),[g,h,_,d]);var w=(0,i.useCallback)((function(e){s(e),a&&a(e),f(!1)}),[a,s,f]),E=(0,i.useMemo)((function(){return{format:v,open:h,onClear:function(){return w(null)},onAccept:function(){return w(_)},onSetToday:function(){return x(d.date())},onDismiss:function(){f(!1)}}}),[w,v,h,_,f,d]),T=(0,i.useMemo)((function(){return{date:_,onChange:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];x(e),t&&n?w(e):"inline"!==u&&"static"!==u||(s(e),a&&a(e))}}}),[w,n,a,s,_,u]),C=JO(c,d,e);(0,i.useEffect)((function(){l&&l(C,c)}),[l,C,c]);var k=KO(g,v,d,null===c,e),S={pickerProps:T,inputProps:(0,i.useMemo)((function(){return{inputValue:k,validationError:C,openPicker:function(){return!o&&!r&&f(!0)}}}),[r,k,o,f,C]),wrapperProps:E};return(0,i.useDebugValue)(S),S}function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iA(n,!0).forEach((function(t){(0,nr.c)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aA(e){var t=e.Input,n=e.useState,r=e.useOptions,o=e.getCustomProps,a=e.DefaultToolbarComponent;return function(e){var s=e.allowKeyboardControl,l=e.ampm,c=e.animateYearScrolling,u=(e.autoOk,e.dateRangeIcon),d=e.disableFuture,p=e.disablePast,h=e.disableToolbar,f=(e.emptyLabel,e.format,e.forwardedRef,e.hideTabs),m=(e.initialFocusedDate,e.invalidDateMessage,e.invalidLabel,e.labelFunc,e.leftArrowButtonProps),g=e.leftArrowIcon,v=e.loadingIndicator,b=e.maxDate,y=(e.maxDateMessage,e.minDate),_=(e.minDateMessage,e.minutesStep),x=(e.onAccept,e.onChange,e.onClose,e.onMonthChange),w=(e.onOpen,e.onYearChange),E=e.openTo,T=e.orientation,C=e.renderDay,k=e.rightArrowButtonProps,S=e.rightArrowIcon,O=e.shouldDisableDate,A=e.strictCompareDates,j=e.timeIcon,P=e.ToolbarComponent,I=void 0===P?a:P,L=(e.value,e.variant),R=e.views,N=(0,Yn.c)(e,["allowKeyboardControl","ampm","animateYearScrolling","autoOk","dateRangeIcon","disableFuture","disablePast","disableToolbar","emptyLabel","format","forwardedRef","hideTabs","initialFocusedDate","invalidDateMessage","invalidLabel","labelFunc","leftArrowButtonProps","leftArrowIcon","loadingIndicator","maxDate","maxDateMessage","minDate","minDateMessage","minutesStep","onAccept","onChange","onClose","onMonthChange","onOpen","onYearChange","openTo","orientation","renderDay","rightArrowButtonProps","rightArrowIcon","shouldDisableDate","strictCompareDates","timeIcon","ToolbarComponent","value","variant","views"]),D=o?o(e):{},M=r(e),B=n(e,M),Q=B.pickerProps,U=B.inputProps,F=B.wrapperProps;return(0,i.createElement)(BS,(0,at.c)({variant:L,InputComponent:t,DateInputProps:U},D,F,N),(0,i.createElement)(QO,(0,at.c)({},Q,{allowKeyboardControl:s,ampm:l,animateYearScrolling:c,dateRangeIcon:u,disableFuture:d,disablePast:p,disableToolbar:h,hideTabs:f,leftArrowButtonProps:m,leftArrowIcon:g,loadingIndicator:v,maxDate:b,minDate:y,minutesStep:_,onMonthChange:x,onYearChange:w,openTo:E,orientation:T,renderDay:C,rightArrowButtonProps:k,rightArrowIcon:S,shouldDisableDate:O,strictCompareDates:A,timeIcon:j,ToolbarComponent:I,views:R})))}}var sA=An({toolbar:{flexDirection:"column",alignItems:"flex-start"},toolbarLandscape:{padding:16},dateLandscape:{marginRight:16}},{name:"MuiPickersDatePickerRoot"}),lA=function(e){var t=e.date,n=e.views,r=e.setOpenView,o=e.isLandscape,a=e.openView,s=bS(),l=sA(),c=(0,i.useMemo)((function(){return JS(n)}),[n]),u=(0,i.useMemo)((function(){return XS(n)}),[n]);return(0,i.createElement)(GO,{isLandscape:o,className:(0,kn.c)(!c&&l.toolbar,o&&l.toolbarLandscape)},(0,i.createElement)(HO,{variant:c?"h3":"subtitle1",onClick:function(){return r("year")},selected:"year"===a,label:s.getYearText(t)}),!c&&!u&&(0,i.createElement)(HO,{variant:"h4",selected:"date"===a,onClick:function(){return r("date")},align:o?"left":"center",label:s.getDatePickerHeaderText(t),className:(0,kn.c)(o&&l.dateLandscape)}),u&&(0,i.createElement)(HO,{variant:"h4",onClick:function(){return r("month")},selected:"month"===a,label:s.getMonthText(t)}))};function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var uA=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cA(n,!0).forEach((function(t){(0,nr.c)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},CO,{openTo:"date",views:["year","date"]});function dA(e){var t=bS();return{getDefaultFormat:function(){return function(e,t){return JS(e)?t.yearFormat:XS(e)?t.yearMonthFormat:t.dateFormat}(e.views,t)}}}var pA=aA({useOptions:dA,Input:$O,useState:rA,DefaultToolbarComponent:lA}),hA=aA({useOptions:dA,Input:tA,useState:function(e,t){var n=e.format,r=void 0===n?t.getDefaultFormat():n,o=e.inputValue,a=e.onChange,s=e.value,l=bS(),c=KO(s,r,l,null===s,e),u=(0,i.useState)(c),d=(0,jr.c)(u,2),p=d[0],h=d[1],f=o?function(e,t,n){try{return t.parse(e,n)}catch(r){return null}}(o,l,r):s;(0,i.useEffect)((function(){(null===s||l.isValid(s))&&h(c)}),[c,h,l,s]);var m=(0,i.useCallback)((function(e){a(e,null===e?null:l.format(e,r))}),[r,a,l]),g=rA(oA({},e,{value:f,onChange:m}),t),v=g.inputProps,b=g.wrapperProps,y=g.pickerProps,_=(0,i.useMemo)((function(){return oA({},v,{format:b.format,inputValue:o||p,onChange:function(e){h(e||"");var t=null===e?null:l.parse(e,b.format);a(t,e)}})}),[v,p,o,a,l,b.format]);return{inputProps:_,wrapperProps:b,pickerProps:y}},DefaultToolbarComponent:lA});function fA(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function mA(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function gA(e){mA(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,Pr.c)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function vA(e,t){mA(2,arguments);var n=gA(e),r=fA(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function bA(e,t){mA(2,arguments);var n=gA(e),r=fA(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());return o.setMonth(n.getMonth()+r+1,0),i>=o.getDate()?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function yA(e,t){return mA(2,arguments),bA(e,12*fA(t))}function _A(e){mA(1,arguments);var t=gA(e);return t.setHours(23,59,59,999),t}pA.defaultProps=uA,hA.defaultProps=uA;var xA={};function wA(){return xA}function EA(e,t){var n,r,i,o,a,s,l,c;mA(1,arguments);var u=wA(),d=fA(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=gA(e),h=p.getDay(),f=6+(h<d?-7:0)-(h-d);return p.setDate(p.getDate()+f),p.setHours(23,59,59,999),p}function TA(e){mA(1,arguments);var t=gA(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function CA(e){if(mA(1,arguments),!function(e){return mA(1,arguments),e instanceof Date||"object"===(0,Pr.c)(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=gA(e);return!isNaN(Number(t))}function kA(e,t){return mA(2,arguments),function(e,t){mA(2,arguments);var n=gA(e).getTime(),r=fA(t);return new Date(n+r)}(e,-fA(t))}function SA(e){mA(1,arguments);var t=gA(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function OA(e){mA(1,arguments);var t=gA(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=SA(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var a=SA(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}var AA=6048e5;function jA(e){mA(1,arguments);var t=gA(e),n=SA(t).getTime()-function(e){mA(1,arguments);var t=OA(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),SA(n)}(t).getTime();return Math.round(n/AA)+1}function PA(e,t){var n,r,i,o,a,s,l,c;mA(1,arguments);var u=wA(),d=fA(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=gA(e),h=p.getUTCDay(),f=(h<d?7:0)+h-d;return p.setUTCDate(p.getUTCDate()-f),p.setUTCHours(0,0,0,0),p}function IA(e,t){var n,r,i,o,a,s,l,c;mA(1,arguments);var u=gA(e),d=u.getUTCFullYear(),p=wA(),h=fA(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:p.firstWeekContainsDate)&&void 0!==r?r:null===(l=p.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(d+1,0,h),f.setUTCHours(0,0,0,0);var m=PA(f,t),g=new Date(0);g.setUTCFullYear(d,0,h),g.setUTCHours(0,0,0,0);var v=PA(g,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=v.getTime()?d:d-1}var LA=6048e5;function RA(e,t){mA(1,arguments);var n=gA(e),r=PA(n,t).getTime()-function(e,t){var n,r,i,o,a,s,l,c;mA(1,arguments);var u=wA(),d=fA(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),p=IA(e,t),h=new Date(0);return h.setUTCFullYear(p,0,d),h.setUTCHours(0,0,0,0),PA(h,t)}(n,t).getTime();return Math.round(r/LA)+1}function NA(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var DA={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return NA("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):NA(n+1,2)},d:function(e,t){return NA(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return NA(e.getUTCHours()%12||12,t.length)},H:function(e,t){return NA(e.getUTCHours(),t.length)},m:function(e,t){return NA(e.getUTCMinutes(),t.length)},s:function(e,t){return NA(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return NA(Math.floor(r*Math.pow(10,n-3)),t.length)}};const MA=DA;var BA="midnight",QA="noon",UA="morning",FA="afternoon",zA="evening",qA="night",HA={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return MA.y(e,t)},Y:function(e,t,n,r){var i=IA(e,r),o=i>0?i:1-i;return"YY"===t?NA(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):NA(o,t.length)},R:function(e,t){return NA(OA(e),t.length)},u:function(e,t){return NA(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return NA(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return NA(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return MA.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return NA(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=RA(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):NA(i,t.length)},I:function(e,t,n){var r=jA(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):NA(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):MA.d(e,t)},D:function(e,t,n){var r=function(e){mA(1,arguments);var t=gA(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):NA(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return NA(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return NA(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return NA(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?QA:0===i?BA:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?zA:i>=12?FA:i>=4?UA:qA,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return MA.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):MA.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):NA(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):NA(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):MA.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):MA.s(e,t)},S:function(e,t){return MA.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return GA(i);case"XXXX":case"XX":return VA(i);default:return VA(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return GA(i);case"xxxx":case"xx":return VA(i);default:return VA(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+WA(i,":");default:return"GMT"+VA(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+WA(i,":");default:return"GMT"+VA(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return NA(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return NA((r._originalDate||e).getTime(),t.length)}};function WA(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+NA(o,2)}function GA(e,t){return e%60===0?(e>0?"-":"+")+NA(Math.abs(e)/60,2):VA(e,t)}function VA(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+NA(Math.floor(i/60),2)+n+NA(i%60,2)}const $A=HA;var KA=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},YA=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},ZA={p:YA,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return KA(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",KA(i,t)).replace("{{time}}",YA(o,t))}};const JA=ZA;function XA(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var ej=["D","DD"],tj=["YY","YYYY"];function nj(e){return-1!==ej.indexOf(e)}function rj(e){return-1!==tj.indexOf(e)}function ij(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var oj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const aj=function(e,t,n){var r,i=oj[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function sj(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const lj={date:sj({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:sj({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:sj({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var cj={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const uj=function(e,t,n,r){return cj[e]};function dj(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const pj={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:dj({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:dj({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:dj({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:dj({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:dj({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function hj(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(s)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(s)}));return a=e.valueCallback?e.valueCallback(c):c,{value:a=n.valueCallback?n.valueCallback(a):a,rest:t.slice(s.length)}}}var fj,mj={ordinalNumber:(fj={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(fj.matchPattern);if(!n)return null;var r=n[0],i=e.match(fj.parsePattern);if(!i)return null;var o=fj.valueCallback?fj.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(r.length)}}),era:hj({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:hj({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:hj({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:hj({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:hj({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const gj={code:"en-US",formatDistance:aj,formatLong:lj,formatRelative:uj,localize:pj,match:mj,options:{weekStartsOn:0,firstWeekContainsDate:1}};var vj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yj=/^'([^]*?)'?$/,_j=/''/g,xj=/[a-zA-Z]/;function wj(e,t,n){var r,i,o,a,s,l,c,u,d,p,h,f,m,g,v,b,y,_;mA(2,arguments);var x=String(t),w=wA(),E=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:w.locale)&&void 0!==r?r:gj,T=fA(null!==(o=null!==(a=null!==(s=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:w.firstWeekContainsDate)&&void 0!==a?a:null===(d=w.locale)||void 0===d||null===(p=d.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==o?o:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=fA(null!==(h=null!==(f=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(v=n.locale)||void 0===v||null===(b=v.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==m?m:w.weekStartsOn)&&void 0!==f?f:null===(y=w.locale)||void 0===y||null===(_=y.options)||void 0===_?void 0:_.weekStartsOn)&&void 0!==h?h:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var k=gA(e);if(!CA(k))throw new RangeError("Invalid time value");var S=kA(k,XA(k)),O={firstWeekContainsDate:T,weekStartsOn:C,locale:E,_originalDate:k};return x.match(bj).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,JA[t])(e,E.formatLong):e})).join("").match(vj).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(yj);if(!t)return e;return t[1].replace(_j,"'")}(r);var o=$A[i];if(o)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!rj(r)||ij(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!nj(r)||ij(r,t,String(e)),o(S,r,E.localize,O);if(i.match(xj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("")}function Ej(e,t){mA(2,arguments);var n=gA(e),r=gA(t);return n.getTime()>r.getTime()}function Tj(e,t){mA(2,arguments);var n=gA(e),r=gA(t);return n.getTime()<r.getTime()}function Cj(e){mA(1,arguments);var t=gA(e);return t.setHours(0,0,0,0),t}function kj(e){mA(1,arguments);var t=gA(e);return t.setMinutes(0,0,0),t}function Sj(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,Pk.c)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Oj(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Aj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Aj=function(){return!!e})()}function jj(e){var t=Aj();return function(){var n,r=zS(e);if(t){var i=zS(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return FS(this,n)}}var Pj=function(){function e(){zr(this,e),(0,nr.c)(this,"priority",void 0),(0,nr.c)(this,"subPriority",0)}return(0,qr.c)(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),Ij=function(e){HS(n,e);var t=jj(n);function n(e,r,i,o,a){var s;return zr(this,n),(s=t.call(this)).value=e,s.validateValue=r,s.setValue=i,s.priority=o,a&&(s.subPriority=a),s}return(0,qr.c)(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(Pj),Lj=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",10),(0,nr.c)((0,ur.c)(e),"subPriority",-1),e}return(0,qr.c)(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(Pj),Rj=function(){function e(){zr(this,e),(0,nr.c)(this,"incompatibleTokens",void 0),(0,nr.c)(this,"priority",void 0),(0,nr.c)(this,"subPriority",void 0)}return(0,qr.c)(e,[{key:"run",value:function(e,t,n,r){var i=this.parse(e,t,n,r);return i?{setter:new Ij(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),Nj=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",140),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["R","u","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(Rj),Dj=(Math.pow(10,8),/^(1[0-2]|0?\d)/),Mj=/^(3[0-1]|[0-2]?\d)/,Bj=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Qj=/^(5[0-3]|[0-4]?\d)/,Uj=/^(2[0-3]|[0-1]?\d)/,Fj=/^(2[0-4]|[0-1]?\d)/,zj=/^(1[0-1]|0?\d)/,qj=/^(1[0-2]|0?\d)/,Hj=/^[0-5]?\d/,Wj=/^[0-5]?\d/,Gj=/^\d/,Vj=/^\d{1,2}/,$j=/^\d{1,3}/,Kj=/^\d{1,4}/,Yj=/^-?\d+/,Zj=/^-?\d/,Jj=/^-?\d{1,2}/,Xj=/^-?\d{1,3}/,eP=/^-?\d{1,4}/,tP=/^([+-])(\d{2})(\d{2})?|Z/,nP=/^([+-])(\d{2})(\d{2})|Z/,rP=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,iP=/^([+-])(\d{2}):(\d{2})|Z/,oP=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function aP(e,t){return e?{value:t(e.value),rest:e.rest}:e}function sP(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function lP(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function cP(e){return sP(Yj,e)}function uP(e,t){switch(e){case 1:return sP(Gj,t);case 2:return sP(Vj,t);case 3:return sP($j,t);case 4:return sP(Kj,t);default:return sP(new RegExp("^\\d{1,"+e+"}"),t)}}function dP(e,t){switch(e){case 1:return sP(Zj,t);case 2:return sP(Jj,t);case 3:return sP(Xj,t);case 4:return sP(eP,t);default:return sP(new RegExp("^-?\\d{1,"+e+"}"),t)}}function pP(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function hP(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var o=i+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return r?n:1-n}function fP(e){return e%400===0||e%4===0&&e%100!==0}var mP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",130),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return aP(uP(4,e),r);case"yo":return aP(n.ordinalNumber(e,{unit:"year"}),r);default:return aP(uP(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var i=hP(n.year,r);return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(Rj),gP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",130),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return aP(uP(4,e),r);case"Yo":return aP(n.ordinalNumber(e,{unit:"year"}),r);default:return aP(uP(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var i=IA(e,r);if(n.isTwoDigitYear){var o=hP(n.year,i);return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),PA(e,r)}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),PA(e,r)}}]),n}(Rj),vP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",130),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t){return dP("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),SA(r)}}]),n}(Rj),bP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",130),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t){return dP("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(Rj),yP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",120),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return uP(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(Rj),_P=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",120),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return uP(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(Rj),xP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),(0,nr.c)((0,ur.c)(e),"priority",110),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return aP(sP(Dj,e),r);case"MM":return aP(uP(2,e),r);case"Mo":return aP(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(Rj),wP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",110),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return aP(sP(Dj,e),r);case"LL":return aP(uP(2,e),r);case"Lo":return aP(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(Rj);var EP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",100),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return sP(Qj,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return uP(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return PA(function(e,t,n){mA(2,arguments);var r=gA(e),i=fA(t),o=RA(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*o),r}(e,n,r),r)}}]),n}(Rj);var TP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",100),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return sP(Qj,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return uP(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return SA(function(e,t){mA(2,arguments);var n=gA(e),r=fA(t),i=jA(n)-r;return n.setUTCDate(n.getUTCDate()-7*i),n}(e,n))}}]),n}(Rj),CP=[31,28,31,30,31,30,31,31,30,31,30,31],kP=[31,29,31,30,31,30,31,31,30,31,30,31],SP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",90),(0,nr.c)((0,ur.c)(e),"subPriority",1),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return sP(Mj,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return uP(t.length,e)}}},{key:"validate",value:function(e,t){var n=fP(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=kP[r]:t>=1&&t<=CP[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(Rj),OP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",90),(0,nr.c)((0,ur.c)(e),"subpriority",1),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return sP(Bj,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return uP(t.length,e)}}},{key:"validate",value:function(e,t){return fP(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(Rj);function AP(e,t,n){var r,i,o,a,s,l,c,u;mA(2,arguments);var d=wA(),p=fA(null!==(r=null!==(i=null!==(o=null!==(a=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==a?a:null===n||void 0===n||null===(s=n.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==o?o:d.weekStartsOn)&&void 0!==i?i:null===(c=d.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.weekStartsOn)&&void 0!==r?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=gA(e),f=fA(t),m=((f%7+7)%7<p?7:0)+f-h.getUTCDay();return h.setUTCDate(h.getUTCDate()+m),h}var jP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",90),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=AP(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(Rj),PP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",90),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return aP(uP(t.length,e),i);case"eo":return aP(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=AP(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(Rj),IP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",90),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return aP(uP(t.length,e),i);case"co":return aP(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=AP(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(Rj);var LP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",90),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return uP(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return aP(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return aP(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return aP(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return aP(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return e=function(e,t){mA(2,arguments);var n=fA(t);n%7===0&&(n-=7);var r=gA(e),i=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+i),r}(e,n),e.setUTCHours(0,0,0,0),e}}]),n}(Rj),RP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",80),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(pP(n),0,0,0),e}}]),n}(Rj),NP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",80),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(pP(n),0,0,0),e}}]),n}(Rj),DP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",80),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["a","b","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(pP(n),0,0,0),e}}]),n}(Rj),MP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",70),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["H","K","k","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return sP(qj,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return uP(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(Rj),BP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",70),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return sP(Uj,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return uP(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(Rj),QP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",70),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["h","H","k","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return sP(zj,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return uP(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(Rj),UP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",70),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return sP(Fj,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return uP(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setUTCHours(r,0,0,0),e}}]),n}(Rj),FP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",60),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return sP(Hj,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return uP(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(Rj),zP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",50),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return sP(Wj,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return uP(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(Rj),qP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",30),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["t","T"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t){return aP(uP(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(Rj),HP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",10),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["t","T","x"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t){switch(t){case"X":return lP(tP,e);case"XX":return lP(nP,e);case"XXXX":return lP(rP,e);case"XXXXX":return lP(oP,e);default:return lP(iP,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(Rj),WP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",10),(0,nr.c)((0,ur.c)(e),"incompatibleTokens",["t","T","X"]),e}return(0,qr.c)(n,[{key:"parse",value:function(e,t){switch(t){case"x":return lP(tP,e);case"xx":return lP(nP,e);case"xxxx":return lP(rP,e);case"xxxxx":return lP(oP,e);default:return lP(iP,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(Rj),GP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",40),(0,nr.c)((0,ur.c)(e),"incompatibleTokens","*"),e}return(0,qr.c)(n,[{key:"parse",value:function(e){return cP(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(Rj),VP=function(e){HS(n,e);var t=jj(n);function n(){var e;zr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,nr.c)((0,ur.c)(e),"priority",20),(0,nr.c)((0,ur.c)(e),"incompatibleTokens","*"),e}return(0,qr.c)(n,[{key:"parse",value:function(e){return cP(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(Rj),$P={G:new Nj,y:new mP,Y:new gP,R:new vP,u:new bP,Q:new yP,q:new _P,M:new xP,L:new wP,w:new EP,I:new TP,d:new SP,D:new OP,E:new jP,e:new PP,c:new IP,i:new LP,a:new RP,b:new NP,B:new DP,h:new MP,H:new BP,K:new QP,k:new UP,m:new FP,s:new zP,S:new qP,X:new HP,x:new WP,t:new GP,T:new VP},KP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZP=/^'([^]*?)'?$/,JP=/''/g,XP=/\S/,eI=/[a-zA-Z]/;function tI(e,t,n,r){var i,o,a,s,l,c,u,d,p,h,f,m,g,v,b,y,_,x;mA(3,arguments);var w=String(e),E=String(t),T=wA(),C=null!==(i=null!==(o=null===r||void 0===r?void 0:r.locale)&&void 0!==o?o:T.locale)&&void 0!==i?i:gj;if(!C.match)throw new RangeError("locale must contain match property");var k=fA(null!==(a=null!==(s=null!==(l=null!==(c=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==c?c:null===r||void 0===r||null===(u=r.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==l?l:T.firstWeekContainsDate)&&void 0!==s?s:null===(p=T.locale)||void 0===p||null===(h=p.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==a?a:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=fA(null!==(f=null!==(m=null!==(g=null!==(v=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==v?v:null===r||void 0===r||null===(b=r.locale)||void 0===b||null===(y=b.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==g?g:T.weekStartsOn)&&void 0!==m?m:null===(_=T.locale)||void 0===_||null===(x=_.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==f?f:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===E)return""===w?gA(n):new Date(NaN);var O,A={firstWeekContainsDate:k,weekStartsOn:S,locale:C},j=[new Lj],P=E.match(YP).map((function(e){var t=e[0];return t in JA?(0,JA[t])(e,C.formatLong):e})).join("").match(KP),I=[],L=Sj(P);try{var R=function(){var t=O.value;null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!rj(t)||ij(t,E,e),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!nj(t)||ij(t,E,e);var n=t[0],i=$P[n];if(i){var o=i.incompatibleTokens;if(Array.isArray(o)){var a=I.find((function(e){return o.includes(e.token)||e.token===n}));if(a)throw new RangeError("The format string mustn't contain `".concat(a.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===i.incompatibleTokens&&I.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));I.push({token:n,fullToken:t});var s=i.run(w,t,C.match,A);if(!s)return{v:new Date(NaN)};j.push(s.setter),w=s.rest}else{if(n.match(eI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=t.match(ZP)[1].replace(JP,"'")),0!==w.indexOf(t))return{v:new Date(NaN)};w=w.slice(t.length)}};for(L.s();!(O=L.n()).done;){var N=R();if("object"===(0,Pr.c)(N))return N.v}}catch(H){L.e(H)}finally{L.f()}if(w.length>0&&XP.test(w))return new Date(NaN);var D=j.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return j.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),M=gA(n);if(isNaN(M.getTime()))return new Date(NaN);var B,Q=kA(M,XA(M)),U={},F=Sj(D);try{for(F.s();!(B=F.n()).done;){var z=B.value;if(!z.validate(Q,A))return new Date(NaN);var q=z.set(Q,U,A);Array.isArray(q)?(Q=q[0],Oj(U,q[1])):Q=q}}catch(H){F.e(H)}finally{F.f()}return Q}function nI(e,t){mA(2,arguments);var n=gA(e),r=fA(t),i=n.getFullYear(),o=n.getDate(),a=new Date(0);a.setFullYear(i,r,15),a.setHours(0,0,0,0);var s=function(e){mA(1,arguments);var t=gA(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}(a);return n.setMonth(r,Math.min(o,s)),n}function rI(e){mA(1,arguments);var t=gA(e);return t.setDate(1),t.setHours(0,0,0,0),t}function iI(e){mA(1,arguments);var t=gA(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function oI(e,t){var n,r,i,o,a,s,l,c;mA(1,arguments);var u=wA(),d=fA(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(a=t.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=gA(e),h=p.getDay(),f=(h<d?7:0)+h-d;return p.setDate(p.getDate()-f),p.setHours(0,0,0,0),p}function aI(e){mA(1,arguments);var t=gA(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}var sI=function(){function e(e){var t=(void 0===e?{}:e).locale;this.yearFormat="yyyy",this.yearMonthFormat="MMMM yyyy",this.dateTime12hFormat="MMMM do hh:mm aaaa",this.dateTime24hFormat="MMMM do HH:mm",this.time12hFormat="hh:mm a",this.time24hFormat="HH:mm",this.dateFormat="MMMM do",this.locale=t}return e.prototype.addDays=function(e,t){return vA(e,t)},e.prototype.isValid=function(e){return CA(this.date(e))},e.prototype.getDiff=function(e,t){return function(e,t){return mA(2,arguments),gA(e).getTime()-gA(t).getTime()}(e,this.date(t))},e.prototype.isAfter=function(e,t){return Ej(e,t)},e.prototype.isBefore=function(e,t){return Tj(e,t)},e.prototype.startOfDay=function(e){return Cj(e)},e.prototype.endOfDay=function(e){return _A(e)},e.prototype.getHours=function(e){return function(e){return mA(1,arguments),gA(e).getHours()}(e)},e.prototype.setHours=function(e,t){return function(e,t){mA(2,arguments);var n=gA(e),r=fA(t);return n.setHours(r),n}(e,t)},e.prototype.setMinutes=function(e,t){return function(e,t){mA(2,arguments);var n=gA(e),r=fA(t);return n.setMinutes(r),n}(e,t)},e.prototype.getSeconds=function(e){return function(e){return mA(1,arguments),gA(e).getSeconds()}(e)},e.prototype.setSeconds=function(e,t){return function(e,t){mA(2,arguments);var n=gA(e),r=fA(t);return n.setSeconds(r),n}(e,t)},e.prototype.isSameDay=function(e,t){return function(e,t){mA(2,arguments);var n=Cj(e),r=Cj(t);return n.getTime()===r.getTime()}(e,t)},e.prototype.isSameMonth=function(e,t){return function(e,t){mA(2,arguments);var n=gA(e),r=gA(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}(e,t)},e.prototype.isSameYear=function(e,t){return function(e,t){mA(2,arguments);var n=gA(e),r=gA(t);return n.getFullYear()===r.getFullYear()}(e,t)},e.prototype.isSameHour=function(e,t){return function(e,t){mA(2,arguments);var n=kj(e),r=kj(t);return n.getTime()===r.getTime()}(e,t)},e.prototype.startOfMonth=function(e){return rI(e)},e.prototype.endOfMonth=function(e){return iI(e)},e.prototype.getYear=function(e){return function(e){return mA(1,arguments),gA(e).getFullYear()}(e)},e.prototype.setYear=function(e,t){return function(e,t){mA(2,arguments);var n=gA(e),r=fA(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}(e,t)},e.prototype.date=function(e){return"undefined"===typeof e?new Date:null===e?null:new Date(e)},e.prototype.parse=function(e,t){return""===e?null:tI(e,t,new Date,{locale:this.locale})},e.prototype.format=function(e,t){return wj(e,t,{locale:this.locale})},e.prototype.isEqual=function(e,t){return null===e&&null===t||function(e,t){mA(2,arguments);var n=gA(e),r=gA(t);return n.getTime()===r.getTime()}(e,t)},e.prototype.isNull=function(e){return null===e},e.prototype.isAfterDay=function(e,t){return Ej(e,_A(t))},e.prototype.isBeforeDay=function(e,t){return Tj(e,Cj(t))},e.prototype.isBeforeYear=function(e,t){return Tj(e,aI(t))},e.prototype.isAfterYear=function(e,t){return Ej(e,TA(t))},e.prototype.formatNumber=function(e){return e},e.prototype.getMinutes=function(e){return e.getMinutes()},e.prototype.getMonth=function(e){return e.getMonth()},e.prototype.setMonth=function(e,t){return nI(e,t)},e.prototype.getMeridiemText=function(e){return"am"===e?"AM":"PM"},e.prototype.getNextMonth=function(e){return bA(e,1)},e.prototype.getPreviousMonth=function(e){return bA(e,-1)},e.prototype.getMonthArray=function(e){for(var t=[aI(e)];t.length<12;){var n=t[t.length-1];t.push(this.getNextMonth(n))}return t},e.prototype.mergeDateAndTime=function(e,t){return this.setMinutes(this.setHours(e,this.getHours(t)),this.getMinutes(t))},e.prototype.getWeekdays=function(){var e=this,t=new Date;return function(e,t){var n;mA(1,arguments);var r=e||{},i=gA(r.start),o=gA(r.end).getTime();if(!(i.getTime()<=o))throw new RangeError("Invalid interval");var a=[],s=i;s.setHours(0,0,0,0);var l=Number(null!==(n=null===t||void 0===t?void 0:t.step)&&void 0!==n?n:1);if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;s.getTime()<=o;)a.push(gA(s)),s.setDate(s.getDate()+l),s.setHours(0,0,0,0);return a}({start:oI(t,{locale:this.locale}),end:EA(t,{locale:this.locale})}).map((function(t){return e.format(t,"EEEEEE")}))},e.prototype.getWeekArray=function(e){for(var t=oI(rI(e),{locale:this.locale}),n=EA(iI(e),{locale:this.locale}),r=0,i=t,o=[];Tj(i,n);){var a=Math.floor(r/7);o[a]=o[a]||[],o[a].push(i),i=vA(i,1),r+=1}return o},e.prototype.getYearRange=function(e,t){for(var n=aI(e),r=TA(t),i=[],o=n;Tj(o,r);)i.push(o),o=yA(o,1);return i},e.prototype.getCalendarHeaderText=function(e){return this.format(e,this.yearMonthFormat)},e.prototype.getYearText=function(e){return this.format(e,"yyyy")},e.prototype.getDatePickerHeaderText=function(e){return this.format(e,"EEE, MMM d")},e.prototype.getDateTimePickerHeaderText=function(e){return this.format(e,"MMM d")},e.prototype.getMonthText=function(e){return this.format(e,"MMMM")},e.prototype.getDayText=function(e){return this.format(e,"d")},e.prototype.getHourText=function(e,t){return this.format(e,t?"hh":"HH")},e.prototype.getMinuteText=function(e){return this.format(e,"mm")},e.prototype.getSecondText=function(e){return this.format(e,"ss")},e}();const lI=sI;function cI(e){try{const t=e.getDate(),n=e.getMonth(),r=e.getFullYear();return new Date(r,n,t,12,0,0,0).toISOString()}catch(t){return null}}const uI=e=>{let{onChange:t,value:n,name:r,disabled:i,dateStart:o,dateEnd:a}=e;return(0,Ap.jsx)(gS,{utils:lI,children:(0,Ap.jsx)(hA,{disabled:i,margin:"normal",id:"date-picker-dialog",label:(0,Ap.jsx)(Lp,{en:"Select date",fr:"S\xe9lectionner une date"}),format:"yyyy-MM-dd",value:n,minDate:o||"1100-01-01",maxDate:a,onChange:e=>t({target:{name:r,value:cI(e)}}),KeyboardButtonProps:{"aria-label":"change date"}})})},dI=(0,In.c)(i.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),pI=[{en:"abundance and biomass",fr:"abondance et biomasse"},{en:"sea access",fr:"acc\xe8s \xe0 la mer"},{en:"decision making",fr:"aide \xe0 la d\xe9cision"},{en:"protected areas",fr:"aires prot\xe9g\xe9es"},{en:"knowledge improvement",fr:"am\xe9lioration des connaissances"},{en:"land-use planning",fr:"am\xe9nagement du territoire"},{en:"water purification",fr:"assainissement des eaux"},{en:"striped bass",fr:"bar ray\xe9"},{en:"watershed",fr:"bassin versant"},{en:"habitat characterization",fr:"caract\xe9risation des habitats"},{en:"coastal characterization",fr:"caract\xe9risation des rives"},{en:"climate change",fr:"changement climatique"},{en:"chlorophyll a",fr:"chlorophylle a"},{en:"resource conservation",fr:"conservation des ressources"},{en:"water consumption",fr:"consommation d'eau"},{en:"sea currents",fr:"courant marin"},{en:"crustacean",fr:"crustac\xe9"},{en:"fresh water flow",fr:"d\xe9bits eau douce"},{en:"water density",fr:"densit\xe9 eau"},{en:"sustainable development",fr:"d\xe9veloppement durable"},{en:"ocean-atmosphere exchange",fr:"\xe9change oc\xe9an-atmosph\xe8re"},{en:"sampling",fr:"\xe9chantillonnage"},{en:"crayfish",fr:"\xe9crevisses"},{en:"mariculture",fr:"entreprises de maricultures"},{en:"coastal erosion",fr:"\xe9rosion des c\xf4tes"},{en:"endangered species",fr:"esp\xe8ces en p\xe9ril"},{en:"invasive species",fr:"esp\xe8ces envahissante"},{en:"coastal flora",fr:"flore c\xf4ti\xe8re"},{en:"fluorescence",fr:"fluorescence"},{en:"spawning",fr:"fraie"},{en:"community management",fr:"gestion communautaire"},{en:"resource management",fr:"gestion des ressources"},{en:"integrated management",fr:"gestion int\xe9gr\xe9e"},{en:"sea ice",fr:"glace de mer"},{en:"sensitive habitat",fr:"habitat sensible"},{en:"important habitat",fr:"habitats important"},{en:"hydrocarbon",fr:"hydrocarbure"},{en:"incidents",fr:"incidents"},{en:"general information",fr:"informations g\xe9n\xe9rales"},{en:"wildlife inventory",fr:"inventaire faunique"},{en:"fish inventory",fr:"inventaire poisson"},{en:"macroalgae",fr:"macroalgue"},{en:"benthic macrofauna",fr:"macrofaune benthique"},{en:"marine mammal",fr:"mammif\xe8res marins"},{en:"marsh",fr:"marais"},{en:"meteorology",fr:"m\xe9t\xe9orologie"},{en:"wetlands",fr:"milieux humides"},{en:"natural environments of interest",fr:"milieux naturels d'int\xe9r\xeat"},{en:"enhancement",fr:"mise en valeur"},{en:"oceanographic missions",fr:"missions oc\xe9anographique"},{en:"mollusc",fr:"mollusque"},{en:"sea level",fr:"niveau eau"},{en:"seabirds",fr:"oiseaux marins"},{en:"migrator birds",fr:"oiseaux migrateurs"},{en:"commercial fisheries",fr:"p\xeaches commerciales"},{en:"experimental fisheries",fr:"p\xeaches exp\xe9rimentales"},{en:"physical-chemical",fr:"physico-chimie"},{en:"phytoplankton",fr:"phytoplancton"},{en:"sea grass",fr:"plantes aquatique"},{en:"fish",fr:"poisson"},{en:"coastal pollution",fr:"pollution c\xf4ti\xe8re"},{en:"atmospheric pressure",fr:"pression atmosph\xe9rique"},{en:"coast protection",fr:"protection des c\xf4tes"},{en:"habitat protection",fr:"protection des habitats"},{en:"water quality",fr:"qualit\xe9 eau"},{en:"radiation",fr:"radiation"},{en:"maritime resources",fr:"ressources maritimes"},{en:"ecological rehabilitation",fr:"r\xe9habilitation \xe9cologique"},{en:"shore restoration",fr:"restauration des rives"},{en:"experimental restoration",fr:"restauration exp\xe9rimentale"},{en:"habitat restoration",fr:"restauration habitat"},{en:"coastal risks",fr:"risques c\xf4tiers"},{en:"citizen data",fr:"saisie citoyenne"},{en:"salinity",fr:"salinit\xe9"},{en:"sediment",fr:"s\xe9diment"},{en:"fishing sites",fr:"sites de p\xeaches"},{en:"annual follow-up",fr:"suivi annuel"},{en:"species tracking",fr:"suivi des esp\xe8ces"},{en:"habitat tracking",fr:"suivi habitat"},{en:"taxonomy",fr:"taxonomie"},{en:"remote sensing",fr:"t\xe9l\xe9d\xe9tection"},{en:"water temperature",fr:"temp\xe9rature de l'eau"},{en:"sea turtles",fr:"tortue de mer"},{en:"land-use",fr:"utilisation du territoire"},{en:"sustainabilty",fr:"utilisation durable"},{en:"waves",fr:"vagues"},{en:"wind",fr:"vents"},{en:"coastal zone",fr:"zone c\xf4ti\xe8re"}];const hI=e=>{let{onChange:t,value:n={en:[],fr:[]},name:r,disabled:o}=e;const{language:a}=mn(),[s,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[d,p]=(0,i.useState)(""),h=["en","fr"];"fr"===a&&h.reverse();const f=h[1];function m(e){return e.map((e=>(e||"").trim())).filter(((e,t,n)=>e&&n.indexOf(e)===t))}const g=(0,i.useCallback)((()=>{const e=s||c;if(e||d){const i={en:n.en,fr:n.fr},o=[...n[a],e],s=[...n[f],d];e&&(i[a]=m(o)),d&&(i[f]=m(s)),t({target:{name:r,value:i}})}l(""),p(""),u("")}),[s,c,d,a]);return(0,Ap.jsxs)(e_,{container:!0,spacing:3,direction:"column",children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(_k,{inputValue:c,onInputChange:(e,t)=>{u(t)},disabled:o,onChange:(e,t)=>p(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fr";if(!e)return"";const n="fr"===t?"en":"fr",r=pI.find((t=>t&&t[n]===e));return r?r[t]:""}(t,f)),value:s||"",freeSolo:!0,options:pI.sort(((e,t)=>e[a].localeCompare(t[a]))).map((e=>e[a])),fullWidth:!0,renderInput:e=>(0,Ap.jsx)(CC,{...e,label:a.toUpperCase()})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{value:d||"",onChange:e=>p(e.target.value),fullWidth:!0,InputProps:{startAdornment:(0,Ap.jsx)(SC,{position:"start",children:f.toUpperCase()})}})}),(0,Ap.jsx)(e_,{item:!0,xs:3,children:(0,Ap.jsx)(c_,{disabled:o||!s&&!d&&!c,startIcon:(0,Ap.jsx)(dI,{}),onClick:g,children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Add"}),(0,Ap.jsx)(Ip,{children:"Ajouter"})]})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:h.filter((e=>{var t;return null===(t=n[e])||void 0===t?void 0:t.length})).map((e=>(0,Ap.jsxs)("div",{style:{margin:"15px"},children:[(0,Ap.jsx)(SC,{position:"start",style:{margin:"10px"},children:e.toUpperCase()}),(0,Ap.jsx)(e_,{container:!0,direction:"row",children:(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(n[e]||[]).map(((i,a)=>{return(0,Ap.jsx)(pC,{disabled:o,label:i,onDelete:(s=i,l=e,()=>{const e={en:n.en,fr:n.fr,[l]:n[l].filter((e=>e!==s))};t({target:{name:r,value:e}})}),color:"primary",style:{margin:"5px"}},a);var s,l}))})})]},e)))})]})},fI=e=>{let{disabled:t,record:n,handleUpdateRecord:r,updateRecord:i,projects:o}=e;const{language:a,region:s}=mn(),l=Cn[s],c=a.toUpperCase(),u=e=>{let{lang:t}=e;return(0,Ap.jsx)("a",{href:l.catalogueURL[t],target:"_blank",rel:"noopener noreferrer",children:l.catalogueURL[t]})},d=Object.values(wx).sort(((e,t)=>(e.title[a]||e.title.en).localeCompare(t.title[a]||e.title.en,a)));return(0,Ap.jsxs)("div",{children:[o.length?(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["What are the projects that this record is part of? To add a project, email"," "]}),(0,Ap.jsxs)(Ip,{children:["Quels sont les projets dont ce disque fait partie? Pour ajouter un projet, e-mail"," "]})]}),(0,Ap.jsx)("a",{href:"mailto:".concat(l.email),children:l.email}),"."]}),(0,Ap.jsx)(sk,{value:n.projects||[],labelSize:6,onChange:i("projects"),options:o,optionLabels:o,disabled:t})]}):(0,Ap.jsx)("div",{}),(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Enter an abstract or summary for the dataset. Required in both languages."}),(0,Ap.jsx)(Ip,{children:"D\xe9crivez votre jeu de donn\xe9es."})]}),(0,Ap.jsx)(ek,{passes:Mx(n,"abstract")}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["This information will appear as the summary text that is shown for this dataset in the ",l.catalogueTitle.en,". Browsing datasets at ",(0,Ap.jsx)(u,{lang:"en"})," can help provide a sense of the type of descriptions that are typically used for this section of the record. As a general rule, this section should be worded with as little jargon as possible to give potential users an understanding of your dataset. Use a maximum of 500 words. For detailed methods please submit supplemental materials with your data.",(0,Ap.jsx)("br",{}),(0,Ap.jsx)("br",{}),"Suggested abstract points -",(0,Ap.jsx)("div",{children:(0,Ap.jsxs)("ul",{children:[(0,Ap.jsxs)("li",{children:[(0,Ap.jsx)("b",{children:"What"}),"- variables that were measured"]}),(0,Ap.jsxs)("li",{children:[(0,Ap.jsx)("b",{children:"When"}),"- temporal coverage of the data, frequency of the measurements/observations"]}),(0,Ap.jsxs)("li",{children:[(0,Ap.jsx)("b",{children:"Where"}),"- spatial coverage of the data, sampling sites, sensor tracks, laboratory spaces"]}),(0,Ap.jsxs)("li",{children:[(0,Ap.jsx)("b",{children:"Why"}),"- a high level statement on the outcome this data is meant to inform"]})]})})]}),(0,Ap.jsxs)(Ip,{children:["Cette description correspond au r\xe9sum\xe9 de votre jeu de donn\xe9es lorsqu\u2019il sera publi\xe9 dans le ",l.catalogueTitle.fr," ",(0,Ap.jsx)(u,{lang:"fr"}),". Pour vous aider \xe0 r\xe9diger ce r\xe9sum\xe9, vous pouvez vous inspirer d\u2019autres jeux de donn\xe9es d\xe9j\xe0 publi\xe9s dans le catalogue. Ce champ doit \xeatre compris par tout type d\u2019utilisateur, nous vous recommandons un maximum de 500 mots, l\u2019utilisation d\u2019un langage accessible et de limiter l\u2019utilisation de vocabulaire de type jargon.",(0,Ap.jsx)("br",{}),(0,Ap.jsx)("br",{}),"Suggestion de points \xe0 aborder dans votre r\xe9sum\xe9:",(0,Ap.jsx)("div",{children:(0,Ap.jsxs)("ul",{children:[(0,Ap.jsxs)("li",{children:[(0,Ap.jsx)("b",{children:"Quoi"}),": Les variables qui ont \xe9t\xe9 mesur\xe9es"]}),(0,Ap.jsxs)("li",{children:[(0,Ap.jsx)("b",{children:"Quand"}),": Couverture temporelle de la donn\xe9e, fr\xe9quence de la mesure/observation"]}),(0,Ap.jsxs)("li",{children:[(0,Ap.jsx)("b",{children:"O\xf9"}),": Couverture spatiale de la donn\xe9e, nom/lieu des sites d\u2019\xe9chantillonnages, d\xe9placement enregistr\xe9s d\u2019un capteur, laboratoire, etc."]}),(0,Ap.jsxs)("li",{children:[(0,Ap.jsx)("b",{children:"Comment"}),": \xc9quipement, proc\xe9dures, protocoles, calibration, assurance/contr\xf4le de la qualit\xe9"]}),(0,Ap.jsxs)("li",{children:[(0,Ap.jsx)("b",{children:"Qui"}),": Participants, membres du personnel"]}),(0,Ap.jsxs)("li",{children:[(0,Ap.jsx)("b",{children:"Pourquoi"}),": Quelques lignes pour d\xe9crire le contexte dans lequel les donn\xe9es ont \xe9t\xe9 \xe9chantillonn\xe9es et comment elles permettent de r\xe9pondre \xe0 la probl\xe9matique (p. ex: quelles informations peuvent-elles apporter)"]})]})})]})]})})]}),(0,Ap.jsx)(qC,{name:"abstract",value:n.abstract,onChange:r("abstract"),disabled:t,multiline:!0})]}),(!n.resourceType||!(n.resourceType.includes("other")&&1===n.resourceType.length))&&(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Please select all the essential ocean variables that are contained in this dataset. Hover over a variable to see its definition."}),(0,Ap.jsxs)(Ip,{children:["Veuillez s\xe9lectionner toutes les variables oc\xe9aniques essentielles contenues dans ce jeu de donn\xe9es. Survolez une variable pour voir sa d\xe9finition ou cliquez sur l\u2019ic\xf4ne ",(0,Ap.jsx)(lx,{})," pour acc\xe9der \xe0 la d\xe9finition compl\xe8te du Syst\xe8me d\u2019Observatoire Global des Oc\xe9ans (GOOS)."]})]}),(0,Ap.jsx)(ek,{passes:Mx(n,"eov")}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"If none of these apply you can select Other."}),(0,Ap.jsx)(Ip,{children:"Si aucune de ces variables ne vous semble pertinente, vous pouvez s\xe9lectionner \xab Autre \xbb."})]})})]}),Object.entries(hS).map((e=>{let[r,o]=e;const s=fS.filter((e=>e.category===r)).sort(((e,t)=>e["label ".concat(c)].localeCompare(t["label ".concat(c)],a)));return(0,Ap.jsxs)("div",{children:[(0,Ap.jsx)("h4",{children:o[a]}),(0,Ap.jsx)(sk,{value:n.eov||[],labelSize:6,onChange:i("eov"),options:s.map((e=>e.value)),optionLabels:s.map((e=>(0,Ap.jsxs)(Ap.Fragment,{children:[(0,Ap.jsx)(ms,{title:e["definition ".concat(c)],children:(0,Ap.jsx)("span",{children:e["label ".concat(c)]})}),e.url&&(0,Ap.jsx)(Cr,{onClick:()=>{window.open(e.url,"_blank").focus()},children:(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Open GOOS definition in new window",fr:"Ouvrir la d\xe9finition GOOS dans une nouvelle fen\xeatre"}),children:(0,Ap.jsx)(lx,{})})}),e.emerging&&(0,Ap.jsx)(Cr,{onClick:()=>{},children:(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"GOOS emerging EOV",fr:"EOV \xe9mergent GOOS"}),children:(0,Ap.jsx)(pS,{})})})]}))),disabled:t})]},o[a])}))]}),(0,Ap.jsx)(Xn,{style:ZC,children:(0,Ap.jsxs)(e_,{container:!0,spacing:3,direction:"column",children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Choose the most specific keywords that apply to your data, or create your own."}),(0,Ap.jsx)(Ip,{children:"Choisissez des mots-cl\xe9s sp\xe9cifiques qui s\u2019appliquent \xe0 vos donn\xe9es ou cr\xe9ez-en des nouveaux."})]}),(0,Ap.jsx)(ek,{passes:Mx(n,"keywords")}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:[(0,Ap.jsx)("p",{children:"Keywords are an important way to categorize your data that allow people and other systems to search for datasets that share some important characteristics."}),(0,Ap.jsx)("p",{children:"Keywords should include the place name of the closest community or major geographic location. Ex. Hartley Bay, Gitga\u2019at Territory, in addition to the closest body of water, e.g. Douglas Channel."}),(0,Ap.jsx)("p",{children:"Enter one at a time, clicking 'Add' after each."})]}),(0,Ap.jsxs)(Ip,{children:[(0,Ap.jsx)("p",{children:"Les mots cl\xe9s sont un moyen efficace de cat\xe9goriser vos donn\xe9es pour permettre aux utilisateurs ou \xe0 d'autres syst\xe8mes d\u2019acc\xe9der \xe0 tous les jeux de donn\xe9es partageant une m\xeame caract\xe9ristique."}),(0,Ap.jsx)("p",{children:"Vous pouvez choisir un mot cl\xe9 pr\xe9d\xe9fini (liste d\xe9roulante) en fran\xe7ais puis cliquer sur le bouton de traduction. Vous pouvez aussi cr\xe9er votre propre mot cl\xe9 en r\xe9digeant un texte libre en anglais ou en fran\xe7ais (v\xe9rifiez toujours si son \xe9quivalent existe dans la liste d\xe9roulante afin de diminuer le risque d\u2019\xe9criture multiple d\u2019un m\xeame mot cl\xe9 -ex: phoque Vs Phoques-)."}),(0,Ap.jsx)("p",{children:"Entrez un mot-cl\xe9 \xe0 la fois. Cliquez sur \xab Ajouter \xbb chaque mot saisi."})]})]})})]})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(hI,{value:n.keywords,onChange:r("keywords"),disabled:t})})]})}),(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the status of this dataset?"}),(0,Ap.jsx)(Ip,{children:"Quel est l'\xe9tat de ce jeu de donn\xe9es?"})]}),(0,Ap.jsx)(ek,{passes:Mx(n,"progress")}),(0,Ap.jsx)($C,{children:Object.values(nk).map((e=>{let{title:t,text:n}=e;return(0,Ap.jsx)("div",{style:{margin:"10px"},children:"".concat(t[a],": ").concat(n[a])},t[a])}))})]}),(0,Ap.jsx)(Ek,{value:n.progress||"",onChange:r("progress"),options:Object.keys(nk),optionLabels:Object.values(nk).map((e=>{let{title:t}=e;return t[a]})),disabled:t,fullWidth:!1,style:{width:"200px"}})]}),(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsx)(KC,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the start date when data was first collected?"}),(0,Ap.jsx)(Ip,{children:"Inscrivez la date de d\xe9but de votre collecte de donn\xe9es."})]})}),(0,Ap.jsx)(uI,{value:n.dateStart||null,onChange:r("dateStart"),disabled:t,dateEnd:n.dateEnd||void 0}),(0,Ap.jsx)("br",{}),(0,Ap.jsx)(KC,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the end date when data was last collected? Leave blank if data collection is ongoing."}),(0,Ap.jsx)(Ip,{children:"Inscrivez la date de fin de votre collecte de donn\xe9es. Laissez le champs vide si la collecte des donn\xe9es toujours est en cours."})]})}),(0,Ap.jsx)(uI,{value:n.dateEnd||null,onChange:r("dateEnd"),disabled:t,dateStart:n.dateStart||void 0})]}),(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsx)(KC,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the date when the data was published? Leave blank if dataset hasn't been published."}),(0,Ap.jsx)(Ip,{children:"Quelle est la date de premi\xe8re publication des donn\xe9es ? Laissez le champ vide si les donn\xe9es n'ont pas \xe9t\xe9 publi\xe9es."})]})}),(0,Ap.jsx)(uI,{name:"datePublished",value:n.datePublished||null,onChange:r("datePublished"),disabled:t})]}),(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsx)(KC,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"The version number of this dataset. For example, 1.1"}),(0,Ap.jsx)(Ip,{children:"Le num\xe9ro de version de cet ensemble de donn\xe9es. Par exemple, 1.1"})]})}),(0,Ap.jsx)(CC,{value:n.edition,onChange:r("edition"),disabled:t,style:{marginTop:"10px"},fullWidth:!0})]}),(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the date when data was revised? Leave blank if dataset hasn't been revised."}),(0,Ap.jsx)(Ip,{children:"Quelle est la date de la derni\xe8re r\xe9vision des donn\xe9es ? Laissez le champ vide si le jeu de donn\xe9es n'a pas \xe9t\xe9 r\xe9vis\xe9."})]}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:(0,Ap.jsx)("p",{children:"Please note that this field does not need to be populated or updated when revisions are made to the metadata, but rather when a new version of the data file or package becomes available, i.e. for time-series data."})}),(0,Ap.jsx)(Ip,{children:(0,Ap.jsx)("p",{children:"Veuillez noter que ce champ n'a pas besoin d'\xeatre rempli ou mis \xe0 jour lorsque des r\xe9visions sont apport\xe9es aux m\xe9tadonn\xe9es, mais plut\xf4t lorsqu'une nouvelle version du fichier ou du paquet de donn\xe9es devient disponible, c'est-\xe0-dire pour les donn\xe9es de s\xe9ries temporelles."})})]})})]}),(0,Ap.jsx)(uI,{name:"dateRevised",value:n.dateRevised||null,onChange:r("dateRevised"),disabled:t})]}),(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"How is the dataset licensed?"}),(0,Ap.jsx)(Ip,{children:"Quelle est la licence de ce jeu de donn\xe9es?"})]}),(0,Ap.jsx)(ek,{passes:Mx(n,"license")}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:(0,Ap.jsxs)("ul",{children:[(0,Ap.jsxs)("li",{children:[(0,Ap.jsx)("b",{children:(0,Ap.jsx)("a",{href:"https://creativecommons.org/licenses/by/4.0/",target:"_blank",rel:"noopener noreferrer",children:"Creative Commons Attribution 4.0 International licence (CC-BY 4.0)"})})," ","- CIOOS recommended. Allows for open sharing and adaptation of the data provided that the original creator is attributed."]}),(0,Ap.jsxs)("li",{children:[(0,Ap.jsx)("b",{children:(0,Ap.jsx)("a",{href:"https://creativecommons.org/share-your-work/public-domain/cc0/",target:"_blank",rel:"noopener noreferrer",children:"Creative Commons 0"})})," ","- imposes no restrictions of any kind."]}),(0,Ap.jsxs)("li",{children:[(0,Ap.jsx)("b",{children:(0,Ap.jsx)("a",{href:"https://open.canada.ca/en/open-government-licence-canada",target:"_blank",rel:"noopener noreferrer",children:"Open Government Licence - Canada"})})," ","- For datasets made available by Government of Canada departments and agencies, it is very similar to CC-BY as it allows for open sharing and adaptation of the data, provided that the original creator of the data is properly attributed."]})]})}),(0,Ap.jsx)(Ip,{children:(0,Ap.jsxs)("ul",{children:[(0,Ap.jsxs)("li",{children:[(0,Ap.jsxs)("b",{children:["Licence internationale Creative Commons Attribution 4.0 (CC-BY 4.0)"," "]}),"- Licence recommand\xe9e par le SIOOC. Les donn\xe9es sont ouvertes, mais la licence exige que le jeu de donn\xe9es soit cit\xe9 lorsqu\u2019il est utilis\xe9 par un autre utilisateur."]}),(0,Ap.jsxs)("li",{children:[(0,Ap.jsx)("b",{children:"Creative Commons 0"})," - N\u2019impose aucune restriction particuli\xe8re : le jeu de donn\xe9es peut \xeatre utilis\xe9 sans \xeatre cit\xe9."]}),(0,Ap.jsxs)("li",{children:[(0,Ap.jsx)("b",{children:"Licence du gouvernement ouvert - Canada"})," - Pour les jeux de donn\xe9es rendus disponibles par les organisations et minist\xe8res f\xe9d\xe9raux. Cette licence est similaire \xe0 CC-BY 4.0 : les donn\xe9es sont ouvertes mais le jeu de donn\xe9es doit \xeatre cit\xe9 lorsqu'il est utilis\xe9 par un autre utilisateur."]})]})})]})})]}),(0,Ap.jsx)(Ek,{value:n.license,onChange:r("license"),optionLabels:d.map((e=>(0,Ap.jsxs)("span",{children:[e.title[a]||e.title.en,(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Open license definition in new window",fr:"Ouvrir la d\xe9finition de licence dans une nouvelle fen\xeatre"}),children:(0,Ap.jsx)(Cr,{onClick:()=>{window.open(e.url,"_blank").focus()},children:(0,Ap.jsx)(lx,{})})})]}))),options:d.map((e=>e.code)),disabled:t})]}),(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What are the limitations affecting the dataset?"}),(0,Ap.jsx)(Ip,{children:"Quelles sont les limitations affectant le jeu de donn\xe9es?"})]}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["For example:",(0,Ap.jsx)("i",{children:(0,Ap.jsxs)("ul",{children:[(0,Ap.jsx)("li",{children:"Not to be used for navigational purposes."}),(0,Ap.jsx)("li",{children:"Instrument was not calibrated on day."}),(0,Ap.jsx)("li",{children:"Haven\u2019t applied appropriate QC on the data yet."})]})})]}),(0,Ap.jsxs)(Ip,{children:["Par exemple :",(0,Ap.jsx)("i",{children:(0,Ap.jsxs)("ul",{children:[(0,Ap.jsx)("li",{children:"Ne pas utiliser \xe0 des fins de navigation."}),(0,Ap.jsx)("li",{children:"L' instrument n'a pas \xe9t\xe9 \xe9talonn\xe9."}),(0,Ap.jsx)("li",{children:"Un contr\xf4le de qualit\xe9 n\u2019a pas \xe9t\xe9 effectu\xe9 sur les donn\xe9es."})]})})]})]})})]}),(0,Ap.jsx)(qC,{name:"limitations",value:n.limitations,onChange:r("limitations"),multiline:!0,disabled:t})]})]})};const mI=function(e){let{platform:t}=e;return function(e){const{id:t,type:n}=e;return[n,t].filter((e=>e)).map((e=>e.trim())).filter((e=>e)).join(" - ")}(t)||(0,Ap.jsx)(Lp,{en:"New platform",fr:"Nouvel platform"})},gI=e=>{let{updateInstruments:t,instruments:n=[],disabled:r,paperClass:o,saveUpdateInstrument:a,userInstruments:s,platformList:l}=e;const[c,u]=(0,i.useState)(0),d=(0,i.useCallback)((e=>r=>{const i=[...n];i[c][e]=r.target.value,t(i)}),[n]),p=(0,i.useCallback)((()=>{t(n.filter(((e,t)=>t!==c))),n.length&&u(n.length-2)}),[n]),h=(0,Ap.jsx)(Lp,{en:"Manufacturer",fr:"Fabricant"}),f=(0,Ap.jsx)(Lp,{en:"Version",fr:"Version"}),m=(0,Ap.jsx)(Lp,{en:"Type",fr:"Type"}),g=(0,Ap.jsx)(Lp,{en:"Description",fr:"Description"}),v=(0,Ap.jsx)(Lp,{en:"Platform",fr:"Plateforme"}),b=n.length>0&&n[c];return(0,Ap.jsxs)(e_,{container:!0,direction:"row",style:{marginLeft:"5px"},children:[(0,Ap.jsx)(e_,{item:!0,xs:5,children:(0,Ap.jsx)(Yk,{itemType:"instrument",items:n,updateItems:t,activeItem:c,setActiveItem:u,disabled:r,savedUserItems:s,saveItem:a,leftListHeader:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Instruments in this record:"}),(0,Ap.jsx)(Ip,{children:"Instruments dans cet enregistrement:"})]}),leftListEmptyHeader:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"There are no instruments in this record."}),(0,Ap.jsx)(Ip,{children:"Il n'y a aucun instruments dans cet enregistrement."})]}),addSavedItemLabel:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"ADD SAVED INSTRUMENT"}),(0,Ap.jsx)(Ip,{children:"Ajouter un instrument enregistr\xe9"})]}),addNewItemText:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"ADD NEW INSTRUMENT"}),(0,Ap.jsx)(Ip,{children:"Ajouter un instrument"})]}),getBlankItem:I_,itemTitle:e=>aT({instrument:e})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(e_,{container:!0,direction:"column",children:b&&(0,Ap.jsx)(Xn,{style:o,children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Instrument ID"}),(0,Ap.jsx)(Ip,{children:"L'ID de l'instrument"})]}),(0,Ap.jsx)(ek,{passes:b.id}),(0,Ap.jsx)(CC,{label:"ID",value:b.id,onChange:d("id"),fullWidth:!0,disabled:r})]}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(CC,{label:h,name:"manufacturer",value:b.manufacturer,onChange:d("manufacturer"),fullWidth:!0,disabled:r})," "]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{label:f,value:b.version,onChange:d("version"),fullWidth:!0,disabled:r})}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Instrument Type"}),(0,Ap.jsx)(Ip,{children:"Type d'instrument"})]})}),(0,Ap.jsx)(qC,{name:"type",label:m,value:b.type,onChange:d("type"),disabled:r})]})," ",(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(Or,{children:"Description"}),(0,Ap.jsx)(qC,{name:"description",label:g,value:b.description,onChange:d("description"),disabled:r})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(c_,{startIcon:(0,Ap.jsx)(nx,{}),disabled:r,onClick:p,children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Remove item"}),(0,Ap.jsx)(Ip,{children:"Supprimer l'instrument"})]})})}),l.length>=2&&(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["When mutiple platforms are used, you must specify which platform the instrument is attached to. ",(0,Ap.jsx)(ek,{passes:b.platform})]}),(0,Ap.jsx)(Ip,{children:"Lorsque plusieurs plates-formes sont utilis\xe9es, vous devez sp\xe9cifier \xe0 quelle plate-forme l'instrument est connect\xe9."})]})}),(0,Ap.jsx)(Ek,{label:v,name:"platform",value:b.platform,optionLabels:l.map((e=>(0,Ap.jsx)(mI,{platform:e}))),options:l.map((e=>e.id)),onChange:d("platform"),fullWidth:!0,disabled:r})]})]})})})})]})},vI=JSON.parse('[{"identifier":"91","label_en":"ice island","label_fr":"\xeele de glace","definition_en":"A floating ice sheet detached from the coast.","definition_fr":"Un iceberg ou bloc de glace flottant d\xe9tach\xe9 d\'un glacier."},{"identifier":"6C","label_en":"parachute","label_fr":"parachute","definition_en":"A fabric sheet designed to slow the descent of an object through the atmosphere.","definition_fr":"Un morceau de tissu con\xe7u pour ralentir la descente d\'un objet dans l\'atmosph\xe8re."},{"identifier":"6A","label_en":"glider","label_fr":"planeur","definition_en":"A fixed-wing aircraft with no propulsion.","definition_fr":"Un a\xe9ronef \xe0 voilure fixe sans propulsion."},{"identifier":"9A","label_en":"DUKW","label_fr":"DUKW","definition_en":"A six-wheel drive amphibious truck developed during the second World War.","definition_fr":"Un camion amphibie \xe0 six roues motrices d\xe9velopp\xe9 pendant la Seconde Guerre mondiale."},{"identifier":"38","label_en":"man-powered boat","label_fr":"bateau \xe0 propulsion humaine","definition_en":"A platform operating on the surface of the water column that is manually propelled and may not be easily removed from the water (e.g. trireme).","definition_fr":"Une plateforme fonctionnant \xe0 la surface de la colonne d\'eau qui est propuls\xe9e manuellement et qui peut ne pas \xeatre facilement retir\xe9e de l\'eau (par exemple trir\xe8me)."},{"identifier":"15","label_en":"land/onshore vehicle","label_fr":"v\xe9hicule terrestre","definition_en":"An instrumented vehicle or sample collector that operates on the solid surface of the Earth (e.g. mobile meteorological station, land crawler, snowmobile).","definition_fr":"Un v\xe9hicule instrument\xe9 ou un collecteur d\'\xe9chantillons qui fonctionne sur la surface solide de la Terre (par exemple: station m\xe9t\xe9orologique mobile, v\xe9hicule \xe0 chenille terrestre, motoneige)."},{"identifier":"13","label_en":"beach/intertidal zone structure","label_fr":"structure de plage/zone intertidale","definition_en":"A structure to which instrumentation may be attached that is either in air or under water depending on the state of the tide and weather conditions.","definition_fr":"Structure sur laquelle des instruments peuvent \xeatre fix\xe9s et qui se trouvent dans l\'air ou sous l\'eau en fonction de l\'\xe9tat de la mar\xe9e et des conditions m\xe9t\xe9orologiques."},{"identifier":"19","label_en":"mesocosm bag","label_fr":"sac \xe0 m\xe9socosme","definition_en":"A large polythene bag containing a water sample suspended in the natural environment so that it shares ambient physical conditions such as temperature and light levels, but is chemically isolated to allow experiments such as fertilisation.","definition_fr":"Grand sac en poly\xe9thyl\xe8ne contenant un volume d\'eau en suspension dans l\'environnement naturel afin qu\'il partage les conditions physiques ambiantes telles que la temp\xe9rature et les niveaux de lumi\xe8re, mais qui est isol\xe9 chimiquement pour permettre des exp\xe9riences telles que la fertilisation."},{"identifier":"34","label_en":"vessel at fixed position","label_fr":"navire en position fixe","definition_en":"A platform of any size occupying a fixed location on the surface of the water column for prolonged periods collecting scientific (oceanographic and meteorological) data as a primary or secondary mission. Includes light vessels and weather ships.","definition_fr":"Plateforme de toute taille occupant un emplacement fixe \xe0 la surface de la colonne d\'eau pendant de longues p\xe9riodes collectant des donn\xe9es scientifiques (oc\xe9anographiques et m\xe9t\xe9orologiques) en tant que mission principale ou secondaire. Inclut les navires l\xe9gers et les navires m\xe9t\xe9orologiques."},{"identifier":"17","label_en":"coastal structure","label_fr":"structure c\xf4ti\xe8re","definition_en":"A fixed man-made structure permanently linked to land with access to water at all states of the tide to which instrumentation may be attached (e.g. pier).","definition_fr":"Une structure artificielle fixe sur laquelle des instruments peuvent \xeatre fix\xe9s et qui est reli\xe9e en permanence \xe0 la terre avec un acc\xe8s \xe0 l\'eau peu importe l\'\xe9tat de la mar\xe9e  (par exemple, une jet\xe9e)."},{"identifier":"36","label_en":"fishing vessel","label_fr":"navire de p\xeache","definition_en":"A platform operating on the surface of the water column whose primary purpose is the commercial harvesting of fish or shellfish but may be engaged in scientific activities such as fish stock surveys or mooring deployments and recoveries.","definition_fr":"Plateforme op\xe9rant \xe0 la surface de la colonne d\'eau et dont l\'objectif principal est la r\xe9colte commerciale de poissons ou de crustac\xe9s, mais qui peut \xeatre engag\xe9e dans des activit\xe9s scientifiques telles que des \xe9tudes de stocks de poissons ou des d\xe9ploiements et des r\xe9cup\xe9rations d\'amarrages."},{"identifier":"30","label_en":"ship","label_fr":"navire","definition_en":"A large platform operating on the surface of the water column. Objective definitions for guidelines: >50m length (EU), >100 foot length (USA), >300 GRT weight (SOLAS). Subjective definition: a ship is a vessel big enough to carry a boat.","definition_fr":"Une grande plateforme fonctionnant \xe0 la surface de la colonne d\'eau. D\xe9finitions des objectifs pour les lignes directrices : > 50 m de longueur (UE), > 100 pieds de longueur (\xc9tats-Unis), > 300 poids brut (SOLAS). D\xe9finition subjective : un vaisseau est un navire suffisamment grand pour transporter un bateau."},{"identifier":"76","label_en":"fish","label_fr":"poisson","definition_en":"A free-swimming creature that exists totally within the water column.","definition_fr":"Une cr\xe9ature qui nage librement et qui vit dans la colonne d\'eau."},{"identifier":"53","label_en":"tethered balloon","label_fr":"ballon captif","definition_en":"A container filled with a gas that is lighter than air, which is tethered at a fixed height and location.","definition_fr":"R\xe9cipient rempli d\'un gaz plus l\xe9ger que l\'air, qui est attach\xe9 \xe0 une hauteur et \xe0 un emplacement fixes."},{"identifier":"0","label_en":"unknown","label_fr":"inconnu","definition_en":"The correct value is not known to, and not computable by, the creator of this information. However, a correct value probably exists.","definition_fr":"La valeur correcte n\'est pas connue du cr\xe9ateur de ces informations et ne peut pas \xeatre calcul\xe9e par lui. Cependant, il existe probablement une valeur correcte."},{"identifier":"74","label_en":"seabird and duck","label_fr":"oiseau de mer et canard","definition_en":"A flighted bird that is able to exist on the water column surface and dive into the water column (e.g. cormorants, auks, ducks and gulls).","definition_fr":"Oiseau en vol capable d\'exister \xe0 la surface et de plonger dans la colonne d\'eau (cormorans, pingouins, canards et go\xe9lands)."},{"identifier":"32","label_en":"vessel of opportunity","label_fr":"navire occasionnel (VOS)","definition_en":"A platform for purpose of commerce of any size operating on the surface of the water column in unpredictable locations that regularly collects scientific (oceanographic and meteorological) data (e.g. an instrumented cargo vessel).","definition_fr":"Plateforme commerciale de toute taille op\xe9rant \xe0 la surface de la colonne d\'eau dans des lieux impr\xe9visibles qui recueille r\xe9guli\xe8rement des donn\xe9es scientifiques (oc\xe9anographiques et m\xe9t\xe9orologiques) (par exemple un cargo instrument\xe9)."},{"identifier":"72","label_en":"diver","label_fr":"plongeur","definition_en":"A human being with self-contained equipment or surface-connected suit enabling operation within the water column.","definition_fr":"Un \xeatre humain dot\xe9 d\'un \xe9quipement autonome ou d\'une combinaison connect\xe9e en surface permettant le fonctionnement dans la colonne d\'eau."},{"identifier":"95","label_en":"amphibious vehicle","label_fr":"v\xe9hicule amphibie","definition_en":"A self-propelled platform capable of operating on land and within or on the surface of a water body.","definition_fr":"Plateforme automotrice capable de fonctionner sur terre et \xe0 l\'int\xe9rieur ou \xe0 la surface d\'un plan d\'eau."},{"identifier":"11","label_en":"fixed benthic node","label_fr":"platform benthique fixe","definition_en":"A collection of oceanographic instruments mounted at a fixed position on the seabed (e.g. POL Monitoring Platform, seabed ADCP).","definition_fr":"Ensemble d\'instruments oc\xe9anographiques positionn\xe9 de mani\xe8re fixe sur le fond marin (par exemple, plateforme de surveillance POL, ADCP du fond marin)."},{"identifier":"70","label_en":"organism","label_fr":"organisme","definition_en":"A living creature carrying instruments or collecting samples.","definition_fr":"Cr\xe9ature vivante transportant des instruments ou pr\xe9levant des \xe9chantillons."},{"identifier":"93","label_en":"pack ice","label_fr":"banquise","definition_en":"Sea ice not connected to land with an ice concentration of over 70 per cent.","definition_fr":"Glace de mer non reli\xe9e \xe0 la terre avec une concentration de glace sup\xe9rieure \xe0 70 pour cent."},{"identifier":"51","label_en":"free-rising balloon","label_fr":"ballon a\xe9rostat","definition_en":"A container filled with a gas that is lighter than air, which is constrained to rise vertically at a fixed location.","definition_fr":"R\xe9cipient rempli d\'un gaz plus l\xe9ger que l\'air, qui est contraint de monter verticalement en un endroit fixe."},{"identifier":"3D","label_en":"drillship","label_fr":"navire de forage","definition_en":"A drillship is a merchant vessel designed for use in exploratory offshore drilling of new oil and gas wells or for scientific drilling purposes.","definition_fr":"Un navire de forage est un navire marchand con\xe7u pour \xeatre utilis\xe9 dans le forage exploratoire de nouveaux puits de p\xe9trole et de gaz  en mer ou \xe0 des fins de forage scientifique."},{"identifier":"3B","label_en":"autonomous surface water vehicle","label_fr":"v\xe9hicule autonome pour les eaux de surface","definition_en":"A self-propelled vehicle operating on the sea surface with no human occupants.","definition_fr":"Un v\xe9hicule automoteur circulant \xe0 la surface de la mer sans occupants humains."},{"identifier":"49","label_en":"surface ice buoy","label_fr":"bou\xe9e de glace de surface","definition_en":"An undrogued (i.e. no sub-surface parachute) surface float that is deployed in regions where sea ice forms that moves with either ice or water depending upon the time of year.","definition_fr":"Flotteur de surface sans ancre flottante d\xe9ploy\xe9 dans les r\xe9gions o\xf9 se forme de la glace de mer qui se d\xe9place avec la glace ou l\'eau en fonction de la p\xe9riode de l\'ann\xe9e."},{"identifier":"3Z","label_en":"surface vessel","label_fr":"navire de surface","definition_en":"A mobile platform with propulsion operating on and restricted to the surface of a water body.","definition_fr":"Une plateforme mobile dont la propulsion fonctionne et est limit\xe9e \xe0 la surface d\'un plan d\'eau."},{"identifier":"24","label_en":"drifting manned submersible","label_fr":"submersible d\xe9rivant habit\xe9","definition_en":"A platform operating in the water column attached to a mothership by an umbilical but with no means of propulsion that has at least one human operator on board (e.g. bathysphere).","definition_fr":"plateforme fonctionnant dans la colonne d\'eau rattach\xe9e \xe0 un vaisseau-m\xe8re par un ombilical mais sans moyen de propulsion et comportant au moins un op\xe9rateur humain \xe0 bord (par exemple bathysph\xe8re)."},{"identifier":"45","label_en":"fixed subsurface vertical profiler","label_fr":"profileur vertical souterrain fixe","definition_en":"A platform that periodically makes an automated vertical traverse of the water column at a predetermined fixed location. (e.g. YSI vertical profiler, HOMER CTD).","definition_fr":"plateforme qui effectue p\xe9riodiquement un profil vertical automatis\xe9 de la colonne d\'eau \xe0 un emplacement fixe pr\xe9d\xe9termin\xe9. (par exemple profileur vertical YSI, HOMER CTD)."},{"identifier":"68","label_en":"satellite","label_fr":"satellite","definition_en":"A vehicle operating beyond the Earth\'s atmosphere without human occupants that orbits the Earth.","definition_fr":"Un v\xe9hicule non habit\xe9 circulant au-del\xe0 de l\'atmosph\xe8re terrestre en orbite autour de la Terre."},{"identifier":"26","label_en":"lowered unmanned submersible","label_fr":"submersible treuill\xe9 non habit\xe9","definition_en":"An unmanned platform lowered and raised vertically by a cable from the mothership. Includes any type of profiling sensor mounting such as CTD frames, profiling radiometers and instrumented nets.","definition_fr":"Une plateforme non habit\xe9e mont\xe9e est descendue verticalement (treuill\xe9) par un c\xe2ble depuis le vaisseau-m\xe8re. Inclut tout type de capteurs de profilage tels que les cadres CTD, les radiom\xe8tres de profilage et les r\xe9seaux instrument\xe9s."},{"identifier":"47","label_en":"float","label_fr":"bou\xe9e","definition_en":"A free-floating platform either on the surface of the water column or at a predetermined depth within the water column.","definition_fr":"Une plateforme flottante soit \xe0 la surface de la colonne d\'eau, soit \xe0 une profondeur pr\xe9d\xe9termin\xe9e dans la colonne d\'eau."},{"identifier":"20","label_en":"submersible","label_fr":"submersible","definition_en":"A platform operating within a water body.","definition_fr":"Plateforme fonctionnant dans un plan d\'eau."},{"identifier":"66","label_en":"manned spacecraft","label_fr":"vaisseau spatial habit\xe9","definition_en":"A vehicle operating beyond the Earth\'s atmosphere with human occupants.","definition_fr":"Un v\xe9hicule \xe9voluant au-del\xe0 de l\'atmosph\xe8re terrestre avec des occupants humains."},{"identifier":"41","label_en":"moored surface buoy","label_fr":"bou\xe9e de surface amarr\xe9e","definition_en":"An unmanned instrumented platform operating on the surface of the water column loosely tethered to the seafloor to maintain a fixed position (e.g. ODAS buoy).","definition_fr":"Une plateforme instrument\xe9e non habit\xe9e fonctionnant \xe0 la surface de la colonne d\'eau et attach\xe9e de mani\xe8re l\xe2che au fond marin pour maintenir une position fixe (par exemple une bou\xe9e ODAS)."},{"identifier":"64","label_en":"geostationary orbiting satellite","label_fr":"satellite orbital g\xe9ostationnaire","definition_en":"A vehicle operating beyond the Earth\'s atmosphere without human occupants that orbits the Earth at the same rate as the Earth\'s rotation keeping it over a fixed location on the Earth\'s surface..","definition_fr":"Un v\xe9hicule circulant au-del\xe0 de l\'atmosph\xe8re terrestre sans occupants humains qui orbite autour de la Terre au m\xeame rythme que la rotation de la Terre en la maintenant au-dessus d\'un emplacement fixe sur la surface de la Terre."},{"identifier":"22","label_en":"propelled unmanned submersible","label_fr":"submersible propuls\xe9 non habit\xe9","definition_en":"A platform operating in the water column attached to a mothership by an umbilical with limited propulsion and no human operator on board (e.g. ROV).","definition_fr":"Plateforme non habit\xe9e fonctionnant dans la colonne d\'eau, rattach\xe9e \xe0 un vaisseau-m\xe8re par un ombilical et dont sa propulsion propre est limit\xe9e (par exemple ROV)."},{"identifier":"43","label_en":"subsurface mooring","label_fr":"amarrage sous marin","definition_en":"A collection of oceanographic instruments attached to wires suspended between anchors on the seabed and buoyant spheres in the water column.","definition_fr":"Collection d\'instruments oc\xe9anographiques attach\xe9s \xe0 un cable tir\xe9 entre une ancre sur le fond marin et des sph\xe8res flottantes dans la colonne d\'eau."},{"identifier":"62","label_en":"aeroplane","label_fr":"avion","definition_en":"A fixed-wing self-propelled aircraft.","definition_fr":"Un avion automoteur \xe0 voilure fixe."},{"identifier":"60","label_en":"non-buoyant aircraft","label_fr":"a\xe9rodyne","definition_en":"A platform capable of flight in the atmosphere despite its being heavier than air.","definition_fr":"Une plateforme capable de voler dans l\'atmosph\xe8re m\xeame si elle est plus lourde que l\'air."},{"identifier":"90","label_en":"cryosphere","label_fr":"cryosph\xe8re","definition_en":"A frozen body of water on land, freshwater or sea.","definition_fr":"Portions de la surface des mers ou terres \xe9merg\xe9es o\xf9 l\'eau est pr\xe9sente \xe0 l\'\xe9tat solide"},{"identifier":"4A","label_en":"Ice-tethered subsurface profiling float","label_fr":"bou\xe9e de profilage sous-marine li\xe9 \xe0 la glace","definition_en":"A platform that periodically makes an automated vertical traverse of the water column that is fixed to a floating body of ice.","definition_fr":"plateforme fix\xe9e \xe0 un corps de glace flottant qui effectue p\xe9riodiquement une travers\xe9e verticale automatis\xe9e de la colonne d\'eau ."},{"identifier":"6D","label_en":"unmanned aerial vehicle","label_fr":"v\xe9hicule a\xe9rien sans pilote","definition_en":"Any untethered heavier-than-air aircraft that is not occupied by people: may be a remotely piloted aircraft or an autonomous aircraft. Also referred to as a drone.","definition_fr":"Tout a\xe9ronef non attach\xe9 plus lourd que l\'air qui n\'est pas occup\xe9 par des personnes : il peut s\'agir d\'un a\xe9ronef t\xe9l\xe9pilot\xe9 ou d\'un avion autonome. \xc9galement appel\xe9 drone."},{"identifier":"6B","label_en":"kite","label_fr":"cerf-volant","definition_en":"An aerofoil tethered to the ground held aloft by the wind.","definition_fr":"Une surface portante attach\xe9e au sol et maintenu en altitude par le vent."},{"identifier":"39","label_en":"naval vessel","label_fr":"navire militaire","definition_en":"A platform operating on the surface of the water column in unpredictable locations that is primarily equipped, manned and operated for military purposes. Includes surface warships of all sizes and logistic support vessels.","definition_fr":"Plateforme op\xe9rant \xe0 la surface de la colonne d\'eau dans des endroits impr\xe9visibles qui est principalement \xe9quip\xe9e, habit\xe9e et exploit\xe9e \xe0 des fins militaires. Comprend les navires de guerre de surface de toutes tailles et les navires de soutien logistique."},{"identifier":"14","label_en":"land/onshore structure","label_fr":"structure terrestre","definition_en":"A fixed man-made structure on land to which instrumentation may be attached (e.g. meteorological tower).","definition_fr":"Une structure terrestre artificielle fixe sur laquelle des instruments peuvent \xeatre attach\xe9s (par exemple une tour m\xe9t\xe9orologique)."},{"identifier":"12","label_en":"sea bed vehicle","label_fr":"v\xe9hicule benthique","definition_en":"An instrumented platform that is propelled on wheels or tracks on the seabed (e.g benthic crawler).","definition_fr":"Une plateforme instrument\xe9e qui est propuls\xe9e sur des roues ou des chenilles sur le fond marin (par exemple, chenille benthique)."},{"identifier":"6Z","label_en":"spacecraft","label_fr":"vaisseau spatial","definition_en":"A platform operating beyond the Earth\'s atmosphere.","definition_fr":"Une plateforme qui fonctionne au-del\xe0 de l\'atmosph\xe8re terrestre."},{"identifier":"18","label_en":"river station","label_fr":"station de rivi\xe8re","definition_en":"An instrumented structure in a river upstream of its tidal limit.","definition_fr":"Structure instrument\xe9e dans une rivi\xe8re en amont de la limite de mar\xe9e."},{"identifier":"35","label_en":"vessel of opportunity on fixed route","label_fr":"navire occasionnel (VOS) en itin\xe9raire fixe","definition_en":"A platform repeatedly following a predictable fixed track on the surface of the water column that collects scientific (oceanographic and meteorological) data (e.g. an instrumented ferry).","definition_fr":"Une plateforme qui suit de fa\xe7on r\xe9p\xe9t\xe9e une trajectoire fixe pr\xe9visible \xe0 la surface de la colonne d\'eau qui recueille des donn\xe9es scientifiques (oc\xe9anographiques et m\xe9t\xe9orologiques) (par exemple un traversier instrument\xe9)."},{"identifier":"16","label_en":"offshore structure","label_fr":"structure hauturi\xe8re","definition_en":"A fixed (for the duration of the measurements) man-made structure away from the coast to which instrumentation may be attached (e.g. oil rig, gas rig or jack-up barge).","definition_fr":"Une structure artificielle fixe (pour la dur\xe9e des mesures) \xe9loign\xe9e de la c\xf4te sur laquelle peuvent \xeatre fix\xe9s des instruments (par exemple, plateforme p\xe9troli\xe8re, plateforme gazi\xe8re ou barge auto-\xe9l\xe9vatrice)."},{"identifier":"37","label_en":"self-propelled boat","label_fr":"bateau automoteur","definition_en":"A small self-propelled platform operating on the surface of the water column in unpredictable locations that is smaller than a ship, but too large to easily remove from the water.","definition_fr":"Petite plateforme automotrice op\xe9rant \xe0 la surface de la colonne d\'eau dans des endroits impr\xe9visibles, plus petite qu\'un navire, mais trop grande pour \xeatre facilement retir\xe9e de l\'eau."},{"identifier":"52","label_en":"free-floating balloon","label_fr":"ballon flottant","definition_en":"A container filled with a gas that is lighter than air, which is free to drift in the atmosphere.","definition_fr":"R\xe9cipient rempli d\'un gaz plus l\xe9ger que l\'air, libre de d\xe9river dans l\'atmosph\xe8re."},{"identifier":"31","label_en":"research vessel","label_fr":"navire de recherche","definition_en":"A platform of any size operating on the surface of the water column in unpredictable locations that is specifically equipped, manned and operated for scientific, usually oceanographic, research.","definition_fr":"plateforme de toute taille op\xe9rant \xe0 la surface de la colonne d\'eau dans des lieux impr\xe9visibles, sp\xe9cialement \xe9quip\xe9e, habit\xe9e et exploit\xe9e pour la recherche scientifique, g\xe9n\xe9ralement oc\xe9anographique."},{"identifier":"77","label_en":"land-sea mammals","label_fr":"mammif\xe8res amphibie marin","definition_en":"A mammal that exists both on land and within the water column. Includes seals, sealions, sea-otters and walruses.","definition_fr":"Mammif\xe8re qui vit \xe0 la fois sur terre et dans la colonne d\'eau. Comprend les phoques, les otaries, les loutres de mer et les morses."},{"identifier":"96","label_en":"amphibious crawler","label_fr":"v\xe9hicule amphibie \xe0 chenille","definition_en":"A self-propelled vehicle capable of operation on land or the seabed (e.g. beach crawler).","definition_fr":"V\xe9hicule automoteur capable de fonctionner sur terre ou sur le fond marin (par exemple, chenille de plage)."},{"identifier":"54","label_en":"airship","label_fr":"dirigeable","definition_en":"A self-propelled container filled with a gas that is lighter than air.","definition_fr":"Conteneur autopropuls\xe9 rempli d\'un gaz plus l\xe9ger que l\'air."},{"identifier":"75","label_en":"cetacean","label_fr":"c\xe9tac\xe9","definition_en":"A mammal that exists within the water column but needing to regularly surface to breathe (i.e. dolphins and whales).","definition_fr":"Mammif\xe8re pr\xe9sent dans la colonne d\'eau mais qui a besoin de remonter r\xe9guli\xe8rement \xe0 la surface pour respirer (c\'est-\xe0-dire les dauphins et les baleines)."},{"identifier":"33","label_en":"self-propelled small boat","label_fr":"petit bateau automoteur","definition_en":"A small self-propelled platform operating on the surface of the water column that may be easily removed from the water (e.g. shore-based RIBs, ships\' boats).","definition_fr":"Petite plateforme automotrice fonctionnant \xe0 la surface de la colonne d\'eau qui peut \xeatre facilement retir\xe9e de l\'eau (par exemple, semi-rigides \xe0 terre, bateaux de navires)."},{"identifier":"94","label_en":"drift ice","label_fr":"glace d\xe9rivante","definition_en":"Sea ice not connected to land with an ice concentration of under 70 per cent.","definition_fr":"Glace de mer non reli\xe9e \xe0 la terre avec une concentration de glace inf\xe9rieure \xe0 70 pour cent."},{"identifier":"10","label_en":"land or seafloor","label_fr":"terre ou fond marin","definition_en":"A platform located on the solid surface of the Earth either above or below sea level.","definition_fr":"plateforme situ\xe9e sur la surface solide de la Terre au-dessus ou au-dessous du niveau de la mer."},{"identifier":"73","label_en":"flightless bird","label_fr":"oiseau inapte au vol","definition_en":"A bird that is unable to fly with the ability to exist within the water column (e.g. penguin).","definition_fr":"Oiseau incapable de voler avec la capacit\xe9 d\'exister dans la colonne d\'eau (par exemple, manchot)."},{"identifier":"92","label_en":"ice shelf","label_fr":"plateforme de glace flottante","definition_en":"A floating ice sheet attached to the coast.","definition_fr":"Une calotte glaciaire flottante attach\xe9e \xe0 la c\xf4te."},{"identifier":"50","label_en":"buoyant aircraft","label_fr":"avion a\xe9rostat","definition_en":"A platform capable of flight in the atmosphere because it is lighter than air.","definition_fr":"Une plateforme capable de voler dans l\'atmosph\xe8re parce qu\'elle est plus l\xe9g\xe8re que l\'air."},{"identifier":"71","label_en":"human","label_fr":"humain","definition_en":"A human being without specialised equipment operating on land or the surface of the water column.","definition_fr":"Un \xeatre humain sans \xe9quipement sp\xe9cialis\xe9 op\xe9rant sur terre ou \xe0 la surface de la colonne d\'eau."},{"identifier":"3A","label_en":"man-powered small boat","label_fr":"petit bateau \xe0 propulsion humaine","definition_en":"A platform operating on the surface of the water column that is manually propelled and may be easily removed from the water (e.g. rowing boat, canoe).","definition_fr":"Une plateforme fonctionnant \xe0 la surface de la colonne d\'eau qui est propuls\xe9e manuellement et peut \xeatre facilement retir\xe9e de l\'eau (par exemple bateau \xe0 rames, cano\xeb)."},{"identifier":"3C","label_en":"surface gliders","label_fr":"planeurs de surface","definition_en":"Platforms operating at a single depth near the sea surface, using a combination of solar energy and wave motion as means of propulsion.","definition_fr":"Plateforme fonctionnant \xe0 une seule profondeur pr\xe8s de la surface de la mer, utilisant une combinaison d\'\xe9nergie solaire et de mouvement des vagues comme moyens de propulsion."},{"identifier":"9B","label_en":"hovercraft","label_fr":"a\xe9roglisseur","definition_en":"A craft capable of moving over water or land on a downwardly-propelled cushion of air.","definition_fr":"Engin capable de se d\xe9placer au-dessus de l\'eau ou d\'atterrir sur un coussin d\'air propuls\xe9 vers le bas."},{"identifier":"27","label_en":"sub-surface gliders","label_fr":"planeurs sous-marins","definition_en":"Platforms with buoyancy-based propulsion that are capable of operations at variable depths which are not constrained to be near the sea surface.","definition_fr":"Plateforme dont la propulsion repose le remplissage de ballast (modification de flottabilit\xe9) et capable de fonctionner \xe0 des profondeurs variables no contraintes \xe0 surface de la mer."},{"identifier":"46","label_en":"drifting subsurface profiling float","label_fr":"profileur sous-marine d\xe9rivant","definition_en":"An unmanned instrumented platform drifting freely in the water column that periodically makes vertical traverses through the water column (e.g. Argo float).","definition_fr":"Une plateforme instrument\xe9e sans pilote d\xe9rivant librement dans la colonne d\'eau qui effectue p\xe9riodiquement des travers\xe9es verticales \xe0 travers la colonne d\'eau (par exemple, flotteur Argo)."},{"identifier":"23","label_en":"towed unmanned submersible","label_fr":"submersible non habit\xe9 remorqu\xe9","definition_en":"A vehicle towed by rigid cable through the water column at fixed or varying depth with no propulsion and no human operator (e.g. Towfish, Scanfish, UOR, SeaSoar).","definition_fr":"V\xe9hicule remorqu\xe9 par c\xe2ble rigide \xe0 travers la colonne d\'eau \xe0 une profondeur fixe ou variable, sans propulsion et sans op\xe9rateur humain (par exemple Towfish, Scanfish, UOR, SeaSoar)."},{"identifier":"69","label_en":"autogyro","label_fr":"autogyre","definition_en":"An aircraft without wings that obtains its lift from the rotation of overhead blades, but obtains forward populsion from a fixed propellor.","definition_fr":"A\xe9ronef sans ailes dont la portance provient de la rotation des pales a\xe9riennes, mais qui obtient une pouss\xe9e vers l\'avant \xe0 partir d\'une h\xe9lice fixe."},{"identifier":"48","label_en":"mooring","label_fr":"mouillage","definition_en":"A tethered collection of oceanographic instruments at a fixed location that may include seafloor, mid-water and surface components.","definition_fr":"Ensemble d\'instruments oc\xe9anographiques encord\xe9 \xe0 un emplacement fixe pouvant inclure des \xe9l\xe9ments du fond marin, du milieu de l\'eau et de la surface."},{"identifier":"67","label_en":"helicopter","label_fr":"h\xe9licopt\xe8re","definition_en":"An aircraft without wings that obtains its lift from the rotation of overhead blades.","definition_fr":"Un avion sans ailes qui tire sa portance de la rotation des pales a\xe9riennes."},{"identifier":"25","label_en":"autonomous underwater vehicle","label_fr":"v\xe9hicule sous-marin autonome","definition_en":"A free-roving platform operating in the water column with propulsion but no human operator on board (e.g. Autosub, Gavia).","definition_fr":"Une plateforme mobile fonctionnant dans la colonne d\'eau avec propulsion mais sans op\xe9rateur humain \xe0 bord (par exemple Autosub, Gavia)."},{"identifier":"42","label_en":"drifting surface float","label_fr":"bou\xe9e de surface d\xe9rivante","definition_en":"An unmanned instrumented platform operating on the surface of the water column often attached to a drogue to track currents rather than winds (e.g. Argos buoy).","definition_fr":"Plateforme instrument\xe9e sans pilote \xe9voluant \xe0 la surface de la colonne d\'eau, souvent fix\xe9e \xe0 une ancre flottante pour suivre les courants plut\xf4t que les vents (par exemple, une bou\xe9e Argos)."},{"identifier":"65","label_en":"orbiting satellite","label_fr":"satellite en orbite","definition_en":"A vehicle operating beyond the Earth\'s atmosphere without human occupants that orbits the Earth at a different rate to the Earth\'s rotation so it moves over the Earth\'s surface..","definition_fr":"Un v\xe9hicule \xe9voluant au-del\xe0 de l\'atmosph\xe8re terrestre sans occupants humains qui orbite autour de la Terre \xe0 une vitesse diff\xe9rente de celle de la Terre de sorte qu\'il se d\xe9place au-dessus de la surface de la Terre."},{"identifier":"44","label_en":"drifting subsurface float","label_fr":"flotteur d\xe9rivant de subsurface","definition_en":"An unmanned instrumented platform drifting freely in the water column at a depth governed by its density (e.g. Swallow float).","definition_fr":"Une plateforme instrument\xe9e sans pilote d\xe9rivant librement dans la colonne d\'eau \xe0 une profondeur d\xe9termin\xe9e par sa densit\xe9 (par exemple flotteur Swallow)."},{"identifier":"63","label_en":"rocket","label_fr":"fus\xe9e","definition_en":"A rocket is a vehicle, missile or aircraft which obtains thrust by the reaction to the ejection of fast moving exhaust gas from within a rocket engine.","definition_fr":"Une fus\xe9e est un v\xe9hicule, un missile ou un a\xe9ronef qui est propuls\xe9 par la r\xe9action \xe0 l\'\xe9jection de gaz d\'\xe9chappement se d\xe9pla\xe7ant rapidement \xe0 l\'int\xe9rieur d\'un moteur-fus\xe9e."},{"identifier":"21","label_en":"propelled manned submersible","label_fr":"submersible habit\xe9 propuls\xe9","definition_en":"A platform operating in the water column that has both self-contained propulsion and at least one human operator on board (e.g. submarine).","definition_fr":"Une plateforme fonctionnant dans la colonne d\'eau qui poss\xe8de \xe0 la fois une propulsion autonome et au moins un op\xe9rateur humain \xe0 bord (par exemple un sous-marin)."},{"identifier":"61","label_en":"research aeroplane","label_fr":"avion de recherche","definition_en":"A fixed-wing self-propelled aircraft that is equipped, manned and operated for atmospheric, meteorological or oceanographic research.","definition_fr":"A\xe9ronef automoteur \xe0 voilure fixe \xe9quip\xe9, pilot\xe9 et exploit\xe9 pour la recherche atmosph\xe9rique, m\xe9t\xe9orologique ou oc\xe9anographique."}]'),bI=e=>{let{platforms:t=[],userPlatforms:n,updatePlatforms:r,saveUpdatePlatform:o,disabled:a,paperClass:s}=e;const{language:l="en"}=mn(),[c,u]=(0,i.useState)(0);function d(e){return n=>{const i=[...t];i[c][e]=n.target.value,r(i)}}const p=Object.values(vI).sort(((e,t)=>e["label_".concat(l)].localeCompare(t["label_".concat(l)],l))),h=t.length>0&&t[c];return(0,Ap.jsx)("div",{children:(0,Ap.jsxs)(e_,{container:!0,direction:"row",style:{marginLeft:"5px"},children:[(0,Ap.jsx)(e_,{item:!0,xs:5,children:(0,Ap.jsx)(Yk,{itemType:"platform",items:t,updateItems:r,activeItem:c,setActiveItem:u,disabled:a,savedUserItems:n,saveItem:o,getBlankItem:R_,addSavedItemLabel:(0,Ap.jsx)(Lp,{en:"ADD SAVED PLATFORM",fr:"AJOUTER UN PLATEFORME"}),itemTitle:e=>mI({platform:e})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(e_,{container:!0,direction:"column",children:h&&(0,Ap.jsxs)(Xn,{style:s,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,style:s,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What type of platform is it?"}),(0,Ap.jsx)(Ip,{children:"De quel type de plateforme s'agit-il ?"})]}),(0,Ap.jsxs)($C,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Please select a platform from the "}),(0,Ap.jsx)(Ip,{children:"Veuillez s\xe9lectionner une plateforme dans la "})]}),(0,Ap.jsxs)("a",{href:"http://vocab.nerc.ac.uk/collection/L06/current/",target:"_blank",rel:"noopener noreferrer",children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"SeaVoX Platform Categories (NERC L06 Vocabulary)"}),(0,Ap.jsx)(Ip,{children:"SeaVoX Platform Categories (liste Vocabulaire NERC L06)"})]}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Open in new window",fr:"Ouvrir dans une nouvelle fen\xeatre"}),children:(0,Ap.jsx)(lx,{style:{verticalAlign:"middle"}})})]}),(0,Ap.jsx)(ek,{passes:h.type})]})]}),(0,Ap.jsx)(Ek,{value:h.type,onChange:d("type"),optionLabels:p.map((e=>"".concat(e["label_".concat(l)]))),optionTooltips:p.map((e=>"".concat(e["definition_".concat(l)]))),options:p.map((e=>e.label_en)),disabled:a,label:(0,Ap.jsx)(Lp,{en:"Platform",fr:"Plateforme"}),fullWidth:!1})]}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,style:s,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the platform ID or code?"}),(0,Ap.jsx)(Ip,{children:"Quel est l'ID de la plateforme ?"})]}),(0,Ap.jsxs)($C,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["This is a unique identification of the platform. If the platform is registered with"," ",(0,Ap.jsx)("a",{href:"https://vocab.seadatanet.org/v_bodc_vocab_v2/search.asp?lib=C17",target:"_blank",rel:"noopener noreferrer",children:"ICES"}),", use that identifier"]}),(0,Ap.jsxs)(Ip,{children:["Il s'agit d'une identification unique de la plateforme. Si la plateforme est enregistr\xe9e aupr\xe8s du"," ",(0,Ap.jsx)("a",{href:"https://vocab.seadatanet.org/v_bodc_vocab_v2/search.asp?lib=C17",target:"_blank",rel:"noopener noreferrer",children:"CIEM"}),", utilisez cet identifiant"]})]}),(0,Ap.jsx)(ek,{passes:h.id})]})]}),(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{en:"Platform ID",fr:"ID de plateforme"}),value:h.id,onChange:d("id"),fullWidth:!0,disabled:a})]}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,style:s,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"More information about the platform"}),(0,Ap.jsx)(Ip,{children:"Plus d'informations sur la plateforme"})]}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"You can also add aditional information about the platform."}),(0,Ap.jsx)(Ip,{children:"Vous pouvez \xe9galement ajouter des informations suppl\xe9mentaires sur la plateforme."})]})})]}),(0,Ap.jsx)(qC,{name:"platformDescription",value:h.description,onChange:d("description"),multiline:!0,disabled:a})]})]})})})]})})},yI=e=>{let{disabled:t,record:n,userPlatforms:r,saveUpdatePlatform:o,userInstruments:a,saveUpdateInstrument:s,updateRecord:l}=e;const c=n.noPlatform&&"false"!==n.noPlatform;return(0,i.useEffect)((()=>{n.platformID&&(l("platforms")([{id:n.platformID,description:n.platformDescription,type:n.platform},...n.platforms]),l("platformID")(null),l("platformDescription")(null),l("platform")(null))}),[n.platformID,n.platform,n.platformDescription]),(0,Ap.jsx)("div",{children:(0,Ap.jsx)(Xn,{style:ZC,children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:0,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,style:ZC,children:[(0,Ap.jsx)(KC,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["A platform is anything used in data collection that has instrument(s) attached to it. Eg:",(0,Ap.jsxs)("ul",{children:[(0,Ap.jsx)("li",{children:"Glider"}),(0,Ap.jsx)("li",{children:"Ship"}),(0,Ap.jsx)("li",{children:"Buoy"}),(0,Ap.jsx)("li",{children:"Satellite"}),(0,Ap.jsx)("li",{children:"ROV"}),(0,Ap.jsx)("li",{children:"Mooring"})]}),"It is strongly encouraged to fill out platform information. If there is no platform, you can enter instruments at the bottom of the page."]}),(0,Ap.jsxs)(Ip,{children:["Une plateforme d\xe9signe tout \u201cobjet\u201d sur lequel un ou plusieurs instruments sont attach\xe9s et utilis\xe9s dans la collecte des donn\xe9es. Par exemple :",(0,Ap.jsxs)("ul",{children:[(0,Ap.jsx)("li",{children:(0,Ap.jsx)("i",{children:"Glider"})}),(0,Ap.jsx)("li",{children:"Navire"}),(0,Ap.jsx)("li",{children:"Bou\xe9e"}),(0,Ap.jsx)("li",{children:"Satellite"}),(0,Ap.jsx)("li",{children:"ROV"}),(0,Ap.jsx)("li",{children:"Amarrage"})]}),"S'il n'y a pas de plateforme, vous pouvez entrer des informations sur les instruments au bas de la page. Sinon, vous devez d\xe9crire le plus pr\xe9cis\xe9ment possible la plateforme utilis\xe9e dans la collecte de donn\xe9es."]})]})}),(0,Ap.jsx)(AC,{disabled:t,control:(0,Ap.jsx)(QC,{name:"noPlatform",checked:c,onChange:e=>{const{checked:t}=e.target;l("noPlatform")(t)}}),label:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"This dataset doesn't have a platform"}),(0,Ap.jsx)(Ip,{children:"Ce jeu de donn\xe9es n'a pas de plateforme"})]})})]}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,style:ZC,children:[c?(0,Ap.jsx)(KC,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"You can still enter an instrument without a platform"}),(0,Ap.jsx)(Ip,{children:"Vous pouvez toujours entrer dans un instrument sans plateforme"})]})}):(0,Ap.jsx)(Ap.Fragment,{children:(0,Ap.jsx)(bI,{platforms:n.platforms,userPlatforms:r,saveUpdatePlatform:o,record:n,updatePlatforms:l("platforms"),disabled:t,paperClass:ZC})}),(0,Ap.jsx)(gI,{instruments:n.instruments,updateInstruments:l("instruments"),saveUpdateInstrument:s,userInstruments:a,disabled:t,paperClass:ZC,noPlatform:c,platformList:n.platforms})]})]})})})};var _I=n(5036),xI=n.n(_I),wI=(0,i.createContext)({}),EI=wI.Consumer,TI=wI.Provider,CI=function(e){var t=function(t,n){return i.createElement(EI,null,(function(r){return i.createElement(e,(0,at.c)({},t,{leaflet:r,ref:n}))}))},n=e.displayName||e.name||"Component";t.displayName="Leaflet("+n+")";var r=(0,i.forwardRef)(t);return Qt()(r,e),r},kI=/^on(.+)$/i,SI=function(e){function t(t){var n;return n=e.call(this,t)||this,(0,nr.c)((0,ur.c)(n),"_leafletEvents",void 0),(0,nr.c)((0,ur.c)(n),"leafletElement",void 0),n._leafletEvents=n.extractLeafletEvents(t),n}(0,rt.c)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.bindLeafletEvents(this._leafletEvents)},n.componentDidUpdate=function(e){this._leafletEvents=this.bindLeafletEvents(this.extractLeafletEvents(this.props),this._leafletEvents)},n.componentWillUnmount=function(){var e=this,t=this.leafletElement;t&&Object.keys(this._leafletEvents).forEach((function(n){t.off(n,e._leafletEvents[n])}))},n.extractLeafletEvents=function(e){return Object.keys(e).reduce((function(t,n){if(kI.test(n)&&null!=e[n]){var r=n.replace(kI,(function(e,t){return t.toLowerCase()}));t[r]=e[n]}return t}),{})},n.bindLeafletEvents=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=this.leafletElement;if(null==n||null==n.on)return{};var r=(0,at.c)({},t);return Object.keys(t).forEach((function(i){null!=e[i]&&t[i]===e[i]||(delete r[i],n.off(i,t[i]))})),Object.keys(e).forEach((function(i){null!=t[i]&&e[i]===t[i]||(r[i]=e[i],n.on(i,e[i]))})),r},n.fireLeafletEvent=function(e,t){var n=this.leafletElement;n&&n.fire(e,t)},t}(i.Component),OI=function(e){return void 0===e&&(e=""),e.split(" ").filter(Boolean)};const AI=function(e,t,n){null!=e&&n!==t&&(null!=t&&t.length>0&&function(e,t){OI(t).forEach((function(t){_I.DomUtil.removeClass(e,t)}))}(e,t),null!=n&&n.length>0&&function(e,t){OI(t).forEach((function(t){_I.DomUtil.addClass(e,t)}))}(e,n))};function jI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.keys(e).reduce((function(t,r){return-1===n.indexOf(r)&&(t[r]=e[r]),t}),{})}var PI=["children","className","id","style","useFlyTo","whenReady"],II=function(e){return Array.isArray(e)?[e[0],e[1]]:[e.lat,e.lon?e.lon:e.lng]},LI=function(e){function t(t){var n;return n=e.call(this,t)||this,(0,nr.c)((0,ur.c)(n),"className",void 0),(0,nr.c)((0,ur.c)(n),"contextValue",void 0),(0,nr.c)((0,ur.c)(n),"container",void 0),(0,nr.c)((0,ur.c)(n),"viewport",{center:void 0,zoom:void 0}),(0,nr.c)((0,ur.c)(n),"_ready",!1),(0,nr.c)((0,ur.c)(n),"_updating",!1),(0,nr.c)((0,ur.c)(n),"onViewportChange",(function(){var e=n.leafletElement.getCenter();n.viewport={center:e?[e.lat,e.lng]:void 0,zoom:n.leafletElement.getZoom()},n.props.onViewportChange&&!n._updating&&n.props.onViewportChange(n.viewport)})),(0,nr.c)((0,ur.c)(n),"onViewportChanged",(function(){n.props.onViewportChanged&&!n._updating&&n.props.onViewportChanged(n.viewport)})),(0,nr.c)((0,ur.c)(n),"bindContainer",(function(e){n.container=e})),n.className=t.className,n}(0,rt.c)(t,e);var n=t.prototype;return n.createLeafletElement=function(e){var t=e.viewport,n=(0,Mt.c)(e,["viewport"]);return t&&(t.center&&(n.center=t.center),"number"===typeof t.zoom&&(n.zoom=t.zoom)),new _I.Map(this.container,n)},n.updateLeafletElement=function(e,t){this._updating=!0;var n=t.bounds,r=t.boundsOptions,i=t.boxZoom,o=t.center,a=t.className,s=t.doubleClickZoom,l=t.dragging,c=t.keyboard,u=t.maxBounds,d=t.scrollWheelZoom,p=t.tap,h=t.touchZoom,f=t.useFlyTo,m=t.viewport,g=t.zoom;if(AI(this.container,e.className,a),m&&m!==e.viewport){var v=m.center?m.center:o,b=null==m.zoom?g:m.zoom;!0===f?this.leafletElement.flyTo(v,b,this.getZoomPanOptions(t)):this.leafletElement.setView(v,b,this.getZoomPanOptions(t))}else o&&this.shouldUpdateCenter(o,e.center)?!0===f?this.leafletElement.flyTo(o,g,this.getZoomPanOptions(t)):this.leafletElement.setView(o,g,this.getZoomPanOptions(t)):"number"===typeof g&&g!==e.zoom&&(null==e.zoom?this.leafletElement.setView(o,g,this.getZoomPanOptions(t)):this.leafletElement.setZoom(g,this.getZoomPanOptions(t)));u&&this.shouldUpdateBounds(u,e.maxBounds)&&this.leafletElement.setMaxBounds(u),n&&(this.shouldUpdateBounds(n,e.bounds)||r!==e.boundsOptions)&&(!0===f?this.leafletElement.flyToBounds(n,this.getFitBoundsOptions(t)):this.leafletElement.fitBounds(n,this.getFitBoundsOptions(t))),i!==e.boxZoom&&(!0===i?this.leafletElement.boxZoom.enable():this.leafletElement.boxZoom.disable()),s!==e.doubleClickZoom&&(!0===s||"string"===typeof s?(this.leafletElement.options.doubleClickZoom=s,this.leafletElement.doubleClickZoom.enable()):this.leafletElement.doubleClickZoom.disable()),l!==e.dragging&&(!0===l?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable()),c!==e.keyboard&&(!0===c?this.leafletElement.keyboard.enable():this.leafletElement.keyboard.disable()),d!==e.scrollWheelZoom&&(!0===d||"string"===typeof d?(this.leafletElement.options.scrollWheelZoom=d,this.leafletElement.scrollWheelZoom.enable()):this.leafletElement.scrollWheelZoom.disable()),p!==e.tap&&(!0===p?this.leafletElement.tap.enable():this.leafletElement.tap.disable()),h!==e.touchZoom&&(!0===h||"string"===typeof h?(this.leafletElement.options.touchZoom=h,this.leafletElement.touchZoom.enable()):this.leafletElement.touchZoom.disable()),this._updating=!1},n.getZoomPanOptions=function(e){return{animate:e.animate,duration:e.duration,easeLinearity:e.easeLinearity,noMoveStart:e.noMoveStart}},n.getFitBoundsOptions=function(e){var t=this.getZoomPanOptions(e);return(0,at.c)({},t,e.boundsOptions)},n.componentDidMount=function(){var t=jI.apply(void 0,[this.props].concat(PI));this.leafletElement=this.createLeafletElement(t),this.leafletElement.on("move",this.onViewportChange),this.leafletElement.on("moveend",this.onViewportChanged),null!=t.bounds&&this.leafletElement.fitBounds(t.bounds,this.getFitBoundsOptions(t)),this.contextValue={layerContainer:this.leafletElement,map:this.leafletElement},e.prototype.componentDidMount.call(this),this.forceUpdate()},n.componentDidUpdate=function(t){!1===this._ready&&(this._ready=!0,this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady)),e.prototype.componentDidUpdate.call(this,t),this.updateLeafletElement(t,this.props)},n.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.leafletElement.off("move",this.onViewportChange),this.leafletElement.off("moveend",this.onViewportChanged),!0===this.props.preferCanvas?(this.leafletElement._initEvents(!0),this.leafletElement._stop()):this.leafletElement.remove()},n.shouldUpdateCenter=function(e,t){return!t||(e=II(e),t=II(t),e[0]!==t[0]||e[1]!==t[1])},n.shouldUpdateBounds=function(e,t){return!t||!(0,_I.latLngBounds)(e).equals((0,_I.latLngBounds)(t))},n.render=function(){return i.createElement("div",{className:this.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},this.contextValue?i.createElement(TI,{value:this.contextValue},this.props.children):null)},t}(SI),RI=function(e){function t(t){var n;return n=e.call(this,t)||this,(0,nr.c)((0,ur.c)(n),"contextValue",void 0),(0,nr.c)((0,ur.c)(n),"leafletElement",void 0),n.leafletElement=n.createLeafletElement(t),n}(0,rt.c)(t,e);var n=t.prototype;return n.createLeafletElement=function(e){throw new Error("createLeafletElement() must be implemented")},n.updateLeafletElement=function(e,t){},n.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},n.componentDidUpdate=function(t){if(e.prototype.componentDidUpdate.call(this,t),this.props.attribution!==t.attribution){var n=this.props.leaflet.map;null!=n&&null!=n.attributionControl&&(n.attributionControl.removeAttribution(t.attribution),n.attributionControl.addAttribution(this.props.attribution))}this.updateLeafletElement(t,this.props)},n.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement)},n.render=function(){var e=this.props.children;return null==e?null:null==this.contextValue?i.createElement(i.Fragment,null,e):i.createElement(TI,{value:this.contextValue},e)},(0,qr.c)(t,[{key:"layerContainer",get:function(){return this.props.leaflet.layerContainer||this.props.leaflet.map}}]),t}(function(e){function t(){return e.apply(this,arguments)||this}return(0,rt.c)(t,e),t.prototype.getOptions=function(e){return null!=e.pane?e:null!=e.leaflet&&null!=e.leaflet.pane?(0,at.c)({},e,{pane:e.leaflet.pane}):e},t}(SI)),NI=function(e){function t(){return e.apply(this,arguments)||this}(0,rt.c)(t,e);var n=t.prototype;return n.createLeafletElement=function(e){return new _I.GridLayer(this.getOptions(e))},n.updateLeafletElement=function(e,t){var n=t.opacity,r=t.zIndex;n!==e.opacity&&this.leafletElement.setOpacity(n),r!==e.zIndex&&this.leafletElement.setZIndex(r)},n.getOptions=function(t){var n=(0,at.c)({},e.prototype.getOptions.call(this,t)),r=t.leaflet.map;return null!=r&&(null==n.maxZoom&&null!=r.options.maxZoom&&(n.maxZoom=r.options.maxZoom),null==n.minZoom&&null!=r.options.minZoom&&(n.minZoom=r.options.minZoom)),n},n.render=function(){return null},t}(RI);const DI=CI(function(e){function t(){return e.apply(this,arguments)||this}(0,rt.c)(t,e);var n=t.prototype;return n.createLeafletElement=function(e){return new _I.TileLayer(e.url,this.getOptions(e))},n.updateLeafletElement=function(t,n){e.prototype.updateLeafletElement.call(this,t,n),n.url!==t.url&&this.leafletElement.setUrl(n.url)},t}(NI));var MI=n(4084),BI=n.n(MI);var QI=["stroke","color","weight","opacity","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","bubblingMouseEvents","renderer","className","interactive","pane","attribution"],UI=function(e){function t(t){var n;return null==(n=e.call(this,t)||this).contextValue&&(n.contextValue=(0,at.c)({},t.leaflet,{popupContainer:n.leafletElement})),n}(0,rt.c)(t,e);var n=t.prototype;return n.componentDidUpdate=function(t){e.prototype.componentDidUpdate.call(this,t),this.setStyleIfChanged(t,this.props)},n.getPathOptions=function(e){return function(e,t){return t.reduce((function(t,n){return"undefined"!==typeof e[n]&&(t[n]=e[n]),t}),{})}(e,QI)},n.setStyle=function(e){void 0===e&&(e={}),this.leafletElement.setStyle(e)},n.setStyleIfChanged=function(e,t){var n=this.getPathOptions(t);BI()(n,this.getPathOptions(e))||this.setStyle(n)},t}(RI);const FI=CI(function(e){function t(){return e.apply(this,arguments)||this}(0,rt.c)(t,e);var n=t.prototype;return n.createLeafletElement=function(e){var t=new _I.FeatureGroup(this.getOptions(e));return this.contextValue=(0,at.c)({},e.leaflet,{layerContainer:t,popupContainer:t}),t},n.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.setStyle(this.props)},t}(UI));const zI=CI(function(e){function t(){return e.apply(this,arguments)||this}(0,rt.c)(t,e);var n=t.prototype;return n.createLeafletElement=function(e){return new _I.Polygon(e.positions,this.getOptions(e))},n.updateLeafletElement=function(e,t){t.positions!==e.positions&&this.leafletElement.setLatLngs(t.positions),this.setStyleIfChanged(e,t)},t}(UI));const qI=CI(function(e){function t(){return e.apply(this,arguments)||this}(0,rt.c)(t,e);var n=t.prototype;return n.createLeafletElement=function(e){return new _I.Rectangle(e.bounds,this.getOptions(e))},n.updateLeafletElement=function(e,t){t.bounds!==e.bounds&&this.leafletElement.setBounds(t.bounds),this.setStyleIfChanged(e,t)},t}(UI));n(9820);const HI=function(){this.__data__=[],this.size=0};const WI=function(e,t){return e===t||e!==e&&t!==t};const GI=function(e,t){for(var n=e.length;n--;)if(WI(e[n][0],t))return n;return-1};var VI=Array.prototype.splice;const $I=function(e){var t=this.__data__,n=GI(t,e);return!(n<0)&&(n==t.length-1?t.pop():VI.call(t,n,1),--this.size,!0)};const KI=function(e){var t=this.__data__,n=GI(t,e);return n<0?void 0:t[n][1]};const YI=function(e){return GI(this.__data__,e)>-1};const ZI=function(e,t){var n=this.__data__,r=GI(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function JI(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}JI.prototype.clear=HI,JI.prototype.delete=$I,JI.prototype.get=KI,JI.prototype.has=YI,JI.prototype.set=ZI;const XI=JI;const eL=function(){this.__data__=new XI,this.size=0};const tL=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const nL=function(e){return this.__data__.get(e)};const rL=function(e){return this.__data__.has(e)};const iL="object"==typeof global&&global&&global.Object===Object&&global;var oL="object"==typeof self&&self&&self.Object===Object&&self;const aL=iL||oL||Function("return this")();const sL=aL.Symbol;var lL=Object.prototype,cL=lL.hasOwnProperty,uL=lL.toString,dL=sL?sL.toStringTag:void 0;const pL=function(e){var t=cL.call(e,dL),n=e[dL];try{e[dL]=void 0;var r=!0}catch(o){}var i=uL.call(e);return r&&(t?e[dL]=n:delete e[dL]),i};var hL=Object.prototype.toString;const fL=function(e){return hL.call(e)};var mL=sL?sL.toStringTag:void 0;const gL=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":mL&&mL in Object(e)?pL(e):fL(e)};const vL=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const bL=function(e){if(!vL(e))return!1;var t=gL(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const yL=aL["__core-js_shared__"];var _L=function(){var e=/[^.]+$/.exec(yL&&yL.keys&&yL.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const xL=function(e){return!!_L&&_L in e};var wL=Function.prototype.toString;const EL=function(e){if(null!=e){try{return wL.call(e)}catch(t){}try{return e+""}catch(t){}}return""};var TL=/^\[object .+?Constructor\]$/,CL=Function.prototype,kL=Object.prototype,SL=CL.toString,OL=kL.hasOwnProperty,AL=RegExp("^"+SL.call(OL).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const jL=function(e){return!(!vL(e)||xL(e))&&(bL(e)?AL:TL).test(EL(e))};const PL=function(e,t){return null==e?void 0:e[t]};const IL=function(e,t){var n=PL(e,t);return jL(n)?n:void 0};const LL=IL(aL,"Map");const RL=IL(Object,"create");const NL=function(){this.__data__=RL?RL(null):{},this.size=0};const DL=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var ML=Object.prototype.hasOwnProperty;const BL=function(e){var t=this.__data__;if(RL){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return ML.call(t,e)?t[e]:void 0};var QL=Object.prototype.hasOwnProperty;const UL=function(e){var t=this.__data__;return RL?void 0!==t[e]:QL.call(t,e)};const FL=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=RL&&void 0===t?"__lodash_hash_undefined__":t,this};function zL(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}zL.prototype.clear=NL,zL.prototype.delete=DL,zL.prototype.get=BL,zL.prototype.has=UL,zL.prototype.set=FL;const qL=zL;const HL=function(){this.size=0,this.__data__={hash:new qL,map:new(LL||XI),string:new qL}};const WL=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const GL=function(e,t){var n=e.__data__;return WL(t)?n["string"==typeof t?"string":"hash"]:n.map};const VL=function(e){var t=GL(this,e).delete(e);return this.size-=t?1:0,t};const $L=function(e){return GL(this,e).get(e)};const KL=function(e){return GL(this,e).has(e)};const YL=function(e,t){var n=GL(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ZL(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ZL.prototype.clear=HL,ZL.prototype.delete=VL,ZL.prototype.get=$L,ZL.prototype.has=KL,ZL.prototype.set=YL;const JL=ZL;const XL=function(e,t){var n=this.__data__;if(n instanceof XI){var r=n.__data__;if(!LL||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new JL(r)}return n.set(e,t),this.size=n.size,this};function eR(e){var t=this.__data__=new XI(e);this.size=t.size}eR.prototype.clear=eL,eR.prototype.delete=tL,eR.prototype.get=nL,eR.prototype.has=rL,eR.prototype.set=XL;const tR=eR;const nR=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const rR=function(e){return this.__data__.has(e)};function iR(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new JL;++t<n;)this.add(e[t])}iR.prototype.add=iR.prototype.push=nR,iR.prototype.has=rR;const oR=iR;const aR=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const sR=function(e,t){return e.has(t)};const lR=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var d=-1,p=!0,h=2&n?new oR:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var f=e[d],m=t[d];if(r)var g=a?r(m,f,d,t,e,o):r(f,m,d,e,t,o);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!aR(t,(function(e,t){if(!sR(h,t)&&(f===e||i(f,e,n,r,o)))return h.push(t)}))){p=!1;break}}else if(f!==m&&!i(f,m,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p};const cR=aL.Uint8Array;const uR=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const dR=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var pR=sL?sL.prototype:void 0,hR=pR?pR.valueOf:void 0;const fR=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new cR(e),new cR(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return WI(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=uR;case"[object Set]":var l=1&r;if(s||(s=dR),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=lR(s(e),s(t),r,i,o,a);return a.delete(e),u;case"[object Symbol]":if(hR)return hR.call(e)==hR.call(t)}return!1};const mR=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};const gR=Array.isArray;const vR=function(e,t,n){var r=t(e);return gR(e)?r:mR(r,n(e))};const bR=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};const yR=function(){return[]};var _R=Object.prototype.propertyIsEnumerable,xR=Object.getOwnPropertySymbols,wR=xR?function(e){return null==e?[]:(e=Object(e),bR(xR(e),(function(t){return _R.call(e,t)})))}:yR;const ER=wR;const TR=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const CR=function(e){return null!=e&&"object"==typeof e};const kR=function(e){return CR(e)&&"[object Arguments]"==gL(e)};var SR=Object.prototype,OR=SR.hasOwnProperty,AR=SR.propertyIsEnumerable;const jR=kR(function(){return arguments}())?kR:function(e){return CR(e)&&OR.call(e,"callee")&&!AR.call(e,"callee")};const PR=function(){return!1};var IR="object"==typeof exports&&exports&&!exports.nodeType&&exports,LR=IR&&"object"==typeof module&&module&&!module.nodeType&&module,RR=LR&&LR.exports===IR?aL.Buffer:void 0;const NR=(RR?RR.isBuffer:void 0)||PR;var DR=/^(?:0|[1-9]\d*)$/;const MR=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&DR.test(e))&&e>-1&&e%1==0&&e<t};const BR=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var QR={};QR["[object Float32Array]"]=QR["[object Float64Array]"]=QR["[object Int8Array]"]=QR["[object Int16Array]"]=QR["[object Int32Array]"]=QR["[object Uint8Array]"]=QR["[object Uint8ClampedArray]"]=QR["[object Uint16Array]"]=QR["[object Uint32Array]"]=!0,QR["[object Arguments]"]=QR["[object Array]"]=QR["[object ArrayBuffer]"]=QR["[object Boolean]"]=QR["[object DataView]"]=QR["[object Date]"]=QR["[object Error]"]=QR["[object Function]"]=QR["[object Map]"]=QR["[object Number]"]=QR["[object Object]"]=QR["[object RegExp]"]=QR["[object Set]"]=QR["[object String]"]=QR["[object WeakMap]"]=!1;const UR=function(e){return CR(e)&&BR(e.length)&&!!QR[gL(e)]};const FR=function(e){return function(t){return e(t)}};var zR="object"==typeof exports&&exports&&!exports.nodeType&&exports,qR=zR&&"object"==typeof module&&module&&!module.nodeType&&module,HR=qR&&qR.exports===zR&&iL.process,WR=function(){try{var e=qR&&qR.require&&qR.require("util").types;return e||HR&&HR.binding&&HR.binding("util")}catch(t){}}();var GR=WR&&WR.isTypedArray;const VR=GR?FR(GR):UR;var $R=Object.prototype.hasOwnProperty;const KR=function(e,t){var n=gR(e),r=!n&&jR(e),i=!n&&!r&&NR(e),o=!n&&!r&&!i&&VR(e),a=n||r||i||o,s=a?TR(e.length,String):[],l=s.length;for(var c in e)!t&&!$R.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||MR(c,l))||s.push(c);return s};var YR=Object.prototype;const ZR=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||YR)};const JR=function(e,t){return function(n){return e(t(n))}};const XR=JR(Object.keys,Object);var eN=Object.prototype.hasOwnProperty;const tN=function(e){if(!ZR(e))return XR(e);var t=[];for(var n in Object(e))eN.call(e,n)&&"constructor"!=n&&t.push(n);return t};const nN=function(e){return null!=e&&BR(e.length)&&!bL(e)};const rN=function(e){return nN(e)?KR(e):tN(e)};const iN=function(e){return vR(e,rN,ER)};var oN=Object.prototype.hasOwnProperty;const aN=function(e,t,n,r,i,o){var a=1&n,s=iN(e),l=s.length;if(l!=iN(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:oN.call(t,u)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var h=!0;o.set(e,t),o.set(t,e);for(var f=a;++c<l;){var m=e[u=s[c]],g=t[u];if(r)var v=a?r(g,m,u,t,e,o):r(m,g,u,e,t,o);if(!(void 0===v?m===g||i(m,g,n,r,o):v)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(h=!1)}return o.delete(e),o.delete(t),h};const sN=IL(aL,"DataView");const lN=IL(aL,"Promise");const cN=IL(aL,"Set");const uN=IL(aL,"WeakMap");var dN="[object Map]",pN="[object Promise]",hN="[object Set]",fN="[object WeakMap]",mN="[object DataView]",gN=EL(sN),vN=EL(LL),bN=EL(lN),yN=EL(cN),_N=EL(uN),xN=gL;(sN&&xN(new sN(new ArrayBuffer(1)))!=mN||LL&&xN(new LL)!=dN||lN&&xN(lN.resolve())!=pN||cN&&xN(new cN)!=hN||uN&&xN(new uN)!=fN)&&(xN=function(e){var t=gL(e),n="[object Object]"==t?e.constructor:void 0,r=n?EL(n):"";if(r)switch(r){case gN:return mN;case vN:return dN;case bN:return pN;case yN:return hN;case _N:return fN}return t});const wN=xN;var EN="[object Arguments]",TN="[object Array]",CN="[object Object]",kN=Object.prototype.hasOwnProperty;const SN=function(e,t,n,r,i,o){var a=gR(e),s=gR(t),l=a?TN:wN(e),c=s?TN:wN(t),u=(l=l==EN?CN:l)==CN,d=(c=c==EN?CN:c)==CN,p=l==c;if(p&&NR(e)){if(!NR(t))return!1;a=!0,u=!1}if(p&&!u)return o||(o=new tR),a||VR(e)?lR(e,t,n,r,i,o):fR(e,t,l,n,r,i,o);if(!(1&n)){var h=u&&kN.call(e,"__wrapped__"),f=d&&kN.call(t,"__wrapped__");if(h||f){var m=h?e.value():e,g=f?t.value():t;return o||(o=new tR),i(m,g,n,r,o)}}return!!p&&(o||(o=new tR),aN(e,t,n,r,i,o))};const ON=function e(t,n,r,i,o){return t===n||(null==t||null==n||!CR(t)&&!CR(n)?t!==t&&n!==n:SN(t,n,r,i,e,o))};const AN=function(e,t){return ON(e,t)};var jN=function(e){function t(t){var n;return n=e.call(this,t)||this,(0,nr.c)((0,ur.c)(n),"leafletElement",void 0),n.leafletElement=n.createLeafletElement(n.props),n}(0,rt.c)(t,e);var n=t.prototype;return n.createLeafletElement=function(e){throw new Error("createLeafletElement() must be implemented")},n.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setPosition(t.position)},n.componentDidMount=function(){this.leafletElement.addTo(this.props.leaflet.map)},n.componentDidUpdate=function(e){this.updateLeafletElement(e,this.props)},n.componentWillUnmount=function(){this.leafletElement.remove()},n.render=function(){return null},t}(i.Component);function PN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){BN(e,t,n[t])}))}return e}function IN(e){return IN="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IN(e)}function LN(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function RN(e,t,n){return RN="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=NN(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}},RN(e,t,n||e)}function NN(e){return NN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},NN(e)}function DN(e,t){return DN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},DN(e,t)}function MN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QN={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"},UN=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=function(e,t){return!t||"object"!==IN(t)&&"function"!==typeof t?MN(e):t}(this,(e=NN(t)).call.apply(e,[this].concat(i))),BN(MN(MN(n)),"onDrawCreate",(function(e){var t=n.props.onCreated;n.props.leaflet.layerContainer.addLayer(e.layer),t&&t(e)})),n}var n,r,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DN(e,t)}(t,e),n=t,r=[{key:"createLeafletElement",value:function(e){return FN(e)}},{key:"componentDidMount",value:function(){RN(NN(t.prototype),"componentDidMount",this).call(this);var e=this.props.leaflet.map,n=this.props.onMounted;for(var r in QN)this.props[r]&&e.on(QN[r],this.props[r]);e.on(xI().Draw.Event.CREATED,this.onDrawCreate),n&&n(this.leafletElement)}},{key:"componentWillUnmount",value:function(){RN(NN(t.prototype),"componentWillUnmount",this).call(this);var e=this.props.leaflet.map;for(var n in e.off(xI().Draw.Event.CREATED,this.onDrawCreate),QN)this.props[n]&&e.off(QN[n],this.props[n])}},{key:"componentDidUpdate",value:function(e){if(RN(NN(t.prototype),"componentDidUpdate",this).call(this,e),AN(this.props.draw,e.draw)||this.props.position!==e.position)return!1;var n=this.props.leaflet.map;return this.leafletElement.remove(n),this.leafletElement=FN(this.props),this.leafletElement.addTo(n),null}}],r&&LN(n.prototype,r),i&&LN(n,i),t}(jN);function FN(e){var t=e.leaflet.layerContainer,n=e.draw,r=e.edit,i=e.position,o={edit:PN({},r,{featureGroup:t})};return n&&(o.draw=PN({},n)),i&&(o.position=i),new _I.Control.Draw(o)}BN(UN,"propTypes",PN({},Object.keys(QN).reduce((function(e,t){return e[t]=it.PropTypes.func,e}),{}),{onCreated:it.PropTypes.func,onMounted:it.PropTypes.func,draw:it.PropTypes.shape({polyline:it.PropTypes.oneOfType([it.PropTypes.object,it.PropTypes.bool]),polygon:it.PropTypes.oneOfType([it.PropTypes.object,it.PropTypes.bool]),rectangle:it.PropTypes.oneOfType([it.PropTypes.object,it.PropTypes.bool]),circle:it.PropTypes.oneOfType([it.PropTypes.object,it.PropTypes.bool]),marker:it.PropTypes.oneOfType([it.PropTypes.object,it.PropTypes.bool])}),edit:it.PropTypes.shape({edit:it.PropTypes.oneOfType([it.PropTypes.object,it.PropTypes.bool]),remove:it.PropTypes.oneOfType([it.PropTypes.object,it.PropTypes.bool]),poly:it.PropTypes.oneOfType([it.PropTypes.object,it.PropTypes.bool]),allowIntersection:it.PropTypes.bool}),position:it.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:it.PropTypes.shape({map:it.PropTypes.instanceOf(_I.Map),layerContainer:it.PropTypes.shape({addLayer:it.PropTypes.func.isRequired,removeLayer:it.PropTypes.func.isRequired})})}));const zN=CI(UN),qN=CI((e=>{let{updateMap:t,mapData:n={},disabled:r,record:o}=e;const a=()=>{const e={...n,north:"",south:"",east:"",west:"",polygon:"",descriptionIdentifier:y_()};t(e)},[s,l]=(0,i.useState)(null),[,c]=(0,i.useState)(null),u=/-?\d+\.?\d+/,d=/-?\d+\.?\d+,\s*-?\d+\.?\d+\s*?/g;function p(e){Object.keys(e).length>1&&Object.keys(e).forEach((t=>{if(1===Object.keys(s.leafletElement._layers).length)return;const n=e[t];s.leafletElement.removeLayer(n)}))}function h(e){return r=>{p(s.leafletElement._layers);const i={...n,[e]:r.target.value};t(i)}}function f(e){let t=[...e.matchAll(d)].map((e=>e[0]));try{t=t.map((e=>e.split(",").map(Number)))}catch(gh){c({error:gh})}return t}function m(e){return Number.parseFloat(e).toPrecision(4)}const g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.polygon;return d.test(e)};xI().EditToolbar.Delete.include({enable(){this.options.featureGroup.clearLayers(),a()}});const v=Boolean(n.north||n.south||n.east||n.west),b=Boolean(n.polygon),y=!v&&!n.polygon;return(0,Ap.jsxs)("div",{children:[(0,Ap.jsxs)(LI,{style:{width:"100%",height:"55vh"},center:[50,-100],zoom:3,children:[(0,Ap.jsx)(DI,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),(0,Ap.jsxs)(FI,{ref:e=>{l(e)},children:[!1===r&&(0,Ap.jsx)(zN,{position:"topleft",onCreated:e=>{const{layer:r,layerType:i}=e;if(p(s.leafletElement._layers),"polygon"===i){const e=r.getLatLngs()[0].map((e=>{let{lat:t,lng:n}=e;return"".concat(m(t),",").concat(m(n))})),i=e.concat(e[0]).join(" "),o=r.getBounds();let{lat:a,lng:s}=o.getNorthEast(),{lat:l,lng:c}=o.getSouthWest();a=m(a),l=m(l),s=m(s),c=m(c);const u={...n,polygon:i,north:a,south:l,east:s,west:c};t(u)}else{const e=r.getBounds();let{lat:i,lng:o}=e.getNorthEast(),{lat:a,lng:s}=e.getSouthWest();i=m(i),a=m(a),o=m(o),s=m(s);const l={...n,north:i,south:a,east:o,west:s};t(l)}},onMapClear:a,draw:{marker:!1,circle:!1,polyline:!1,circlemarker:!1,polygon:!0},edit:{edit:!1}}),g()&&(0,Ap.jsx)(zI,{positions:f(n.polygon)}),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.north,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.south,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.east,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.west;return u.test(e)&&u.test(t)&&u.test(r)&&u.test(i)}()&&!g()&&(0,Ap.jsx)(qI,{bounds:[[n.north,n.east],[n.south,n.west]]})]})]}),(0,Ap.jsx)("br",{}),(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Bounding Box Coordinates"}),(0,Ap.jsx)(Ip,{children:"Coordonn\xe9es de d\xe9limitation - Est, Ouest, Nord, Sud"})]}),(v&&!b||y)&&(0,Ap.jsx)(ek,{passes:Mx(o,"map")}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"If you are providing a bounding box, please provide the coordinates in decimal degrees (eg 58.66) and not in decimal minutes seconds."}),(0,Ap.jsxs)(Ip,{children:["Si vous fournissez des coordonn\xe9es de d\xe9limitation, veuillez les fournir en ",(0,Ap.jsx)("b",{children:"degr\xe9s d\xe9cimaux"}),"."]})]})})]}),(0,Ap.jsxs)(e_,{container:!0,direction:"row",spacing:3,children:[(0,Ap.jsx)(e_,{item:!0,xs:2,children:(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{en:"North",fr:"Nord"}),value:n.north||"",inputProps:{inputMode:"numeric",pattern:"[0-9]*"},onChange:h("north"),type:"number",disabled:r||Boolean(n.polygon)})}),(0,Ap.jsx)(e_,{item:!0,xs:2,children:(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{en:"South",fr:"Sud"}),value:n.south||"",onChange:h("south"),type:"number",disabled:r||Boolean(n.polygon)})}),(0,Ap.jsx)(e_,{item:!0,xs:2,children:(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{en:"East",fr:"Est"}),value:n.east||"",onChange:h("east"),type:"number",disabled:r||Boolean(n.polygon)})}),(0,Ap.jsx)(e_,{item:!0,xs:2,children:(0,Ap.jsx)(CC,{value:n.west||"",label:(0,Ap.jsx)(Lp,{en:"West",fr:"Ouest"}),onChange:h("west"),type:"number",disabled:r||Boolean(n.polygon)})})]}),(0,Ap.jsx)(Or,{variant:"h6",style:{margin:"20px",marginLeft:"20%"},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"OR"}),(0,Ap.jsx)(Ip,{children:"Ou"})]})}),(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Polygon coordinates"}),(0,Ap.jsx)(Ip,{children:"Coordonn\xe9es du/des polygone(s)"})]}),(b||y)&&(0,Ap.jsx)(ek,{passes:Mx(o,"map")}),(0,Ap.jsxs)($C,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"If you are providing polygon coordinates, they must start and end with the same point. Eg,"}),(0,Ap.jsx)(Ip,{children:"Doivent commencer et se terminer par le m\xeame point. Par exemple,"})]})," ","48,-128 56,-133 56,-147 48,-128"]})]}),(0,Ap.jsx)(CC,{value:n.polygon||"",onChange:e=>{s&&p(s.leafletElement._layers);const r={...n,polygon:e.target.value,north:"",south:"",east:"",west:""};try{const t=xI().latLngBounds(f(e.target.value)),{lat:n,lng:i}=t.getNorthEast(),{lat:o,lng:a}=t.getSouthWest();r.north=m(n),r.south=m(o),r.east=m(i),r.west=m(a)}catch(i){}t(r)},type:"text",fullWidth:!0,disabled:r||v&&!b}),(0,Ap.jsx)(Or,{variant:"h6",style:{margin:"20px",marginLeft:"20%"},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"And optionally"}),(0,Ap.jsx)(Ip,{children:"Et en option"})]})}),(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Describe the Geographic Extent of the dataset. Required for Biological datasets"}),(0,Ap.jsx)(Ip,{children:"D\xe9crivez l'\xe9tendue g\xe9ographique de l'ensemble de donn\xe9es. Obligatoire pour les ensembles de donn\xe9es biologiques"})]}),o.resourceType&&o.resourceType.includes("biological")&&(0,Ap.jsx)(ek,{passes:Boolean(n.description)}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:(0,Ap.jsx)("p",{children:"Optionally you can include a text description of the geographic area covered by this dataset or study. This field is required when filling out biological datasets but is optional for all other dataset types."})}),(0,Ap.jsx)(Ip,{children:(0,Ap.jsx)("p",{children:"Vous pouvez \xe9ventuellement inclure une description textuelle de la zone g\xe9ographique. zone couverte par cet ensemble de donn\xe9es ou cette \xe9tude. Ce champ est obligatoire lors du remplissage d'ensembles de donn\xe9es biologiques, mais est facultatif pour tous d\u2019autres types d\u2019ensembles de donn\xe9es."})})]})})]}),(0,Ap.jsx)(qC,{value:n.description,onChange:function(e){return r=>{const i={...n,[e]:r.target.value};t(i)}}("description"),name:"description",disabled:r})]})})),HN=e=>{let{url:t}=e;return(0,Ap.jsx)(Cr,{onClick:()=>{window.open(t,"_blank").focus()},children:(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Open EPSG definition in new window",fr:"Ouvrir la d\xe9finition EPSG dans une nouvelle fen\xeatre"}),children:(0,Ap.jsx)(lx,{})})})},WN=e=>{let{disabled:t,record:n,handleUpdateRecord:r,updateRecord:i}=e;const{language:o}=mn(),a=n.noVerticalExtent&&"false"!==n.noVerticalExtent;return(0,Ap.jsxs)(e_,{children:[(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsxs)(KC,{style:{paddingBottom:"15px"},children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the spatial extent of the dataset?"}),(0,Ap.jsx)(Ip,{children:"Quelle est l'\xe9tendue g\xe9ographique du jeu de donn\xe9es?"})]}),(0,Ap.jsxs)($C,{children:[(0,Ap.jsx)("div",{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"You can draw a bounding box or polygon for the dataset using the Polygon or Box buttons at the left side of them form. Alternatively you can enter them using the fields below. Either a bounding box or a Polygon is required."}),(0,Ap.jsx)(Ip,{children:"Vous pouvez tracer un cadre ou un polygone pour situer g\xe9ographiquement votre jeu de donn\xe9es. Vous pouvez aussi localiser l\u2019aire g\xe9ographique couverte par votre jeu de donn\xe9es en inscrivant les coordonn\xe9es g\xe9ographiques (degr\xe9s d\xe9cimaux) dans les champs apparaissant sous la carte. Cette section doit obligatoirement \xeatre compl\xe9t\xe9e."})]})}),(0,Ap.jsx)("br",{}),(0,Ap.jsx)("div",{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Define the geographical area using the tool that meets the geographic distribution of your data. Broadly distributed data in the open ocean might be well served by a bounding box. Tightly clustered coastal data may benefit from a polygon that does not include terrain or unsampled area."}),(0,Ap.jsx)(Ip,{children:"D\xe9finissez la zone g\xe9ographique \xe0 l'aide de l'outil qui correspond \xe0 la distribution g\xe9ographique de vos donn\xe9es. Les donn\xe9es largement distribu\xe9es en haute mer peuvent \xeatre bien desservies par un cadre englobant. Les donn\xe9es c\xf4ti\xe8res \xe9troitement regroup\xe9es peuvent b\xe9n\xe9ficier d'un polygone qui n'inclut pas le terrain ou la zone non \xe9chantillonn\xe9e."})]})})]})]}),(0,Ap.jsx)(qN,{mapData:n.map,updateMap:i("map"),handleUpdateMap:r("map"),disabled:t,record:n})]}),(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the vertical extent of the dataset in meters?"}),(0,Ap.jsx)(Ip,{children:"Quelle est l'\xe9tendue verticale du jeu de donn\xe9es en m\xe8tres?"})]}),(0,Ap.jsx)(ek,{passes:Mx(n,"verticalExtentDirection")&&Mx(n,"verticalExtentMin")&&Mx(n,"verticalExtentMax")}),(0,Ap.jsxs)($C,{children:[(0,Ap.jsx)("div",{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"This captures the minimum and maximum depths (or height from sea floor) where the instrument recorded data."}),(0,Ap.jsx)(Ip,{children:"Cela permet de capturer les profondeurs minimales et maximales (ou la hauteur du fond marin) o\xf9 l'instrument a enregistr\xe9 des donn\xe9es."})]})}),(0,Ap.jsxs)("div",{style:{paddingTop:"5px"},children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Depth positive: Depth is recorded with positive values (i.e. a maximum value of 150m implies 150m below the water surface)."}),(0,Ap.jsx)(Ip,{children:"Profondeur positive: La profondeur est enregistr\xe9e avec des valeurs positives (c\u2019est-\xe0-dire qu\u2019une valeur maximale de 150 m indique que les enregistrements ont \xe9t\xe9 effectu\xe9s \xe0 un maximum de 150 m au-dessous de la surface)."})]}),(0,Ap.jsx)(HN,{url:"https://epsg.io/5831"})]}),(0,Ap.jsxs)("div",{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Height Positive: Height is the elevation from water surface (i.e. a maximum value of 150m implies 150m above the water surface)."}),(0,Ap.jsx)(Ip,{children:"Hauteur positive: La hauteur est l'altitude par rapport \xe0 la surface de l'eau (c'est-\xe0-dire qu'une valeur maximale de 150 m implique 150 m au-dessus de la surface de l'eau)."})]}),(0,Ap.jsx)(HN,{url:"https://epsg.io/5829"})]})]})]}),(0,Ap.jsx)(AC,{disabled:t,control:(0,Ap.jsx)(QC,{name:"noVerticalExtent",checked:a,onChange:e=>{const{checked:t}=e.target;i("noVerticalExtent")(t)}}),label:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"This dataset does not have a depth or height, value will be set to zero"}),(0,Ap.jsx)(Ip,{children:"Cet ensemble de donn\xe9es n'a ni profondeur ni hauteur, la valeur sera d\xe9finie sur z\xe9ro"})]})}),a?"":(0,Ap.jsxs)(e_,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"center",spacing:4,children:[(0,Ap.jsxs)(e_,{item:!0,xs:5,children:[(0,Ap.jsx)(Ek,{value:n.verticalExtentDirection||"",onChange:r("verticalExtentDirection"),options:Object.keys(rk),optionLabels:Object.values(rk).map((e=>e[o])),disabled:t}),(0,Ap.jsx)("p",{children:"OR"}),(0,Ap.jsx)(CC,{value:n.verticalExtentEPSG,onChange:r("verticalExtentEPSG"),label:"EPSG code",fullWidth:!0,type:"number",disabled:t})]}),(0,Ap.jsx)(e_,{item:!0,xs:2,children:(0,Ap.jsx)(CC,{value:n.verticalExtentMin,onChange:r("verticalExtentMin"),label:"Min",fullWidth:!0,type:"number",disabled:t})}),(0,Ap.jsx)(e_,{item:!0,xs:2,children:(0,Ap.jsx)(CC,{value:n.verticalExtentMax,onChange:r("verticalExtentMax"),label:"Max",fullWidth:!0,type:"number",disabled:t})})]})]})]})},GN={start:{en:"Start",fr:"Accueil"},dataID:{en:"Resource Identification",fr:"Identification des ressources"},taxa:{en:"Taxonomic Classification",fr:"Classification Taxonomique"},spatial:{en:"Spatial",fr:"Spatial"},contacts:{en:"Contacts",fr:"Contacts"},resources:{en:"Data and Documentation",fr:"Donn\xe9es et documentation"},relatedworks:{en:"Related Works",fr:"Travaux connexes"},platform:{en:"Platform",fr:"Plateforme"},platformInstruments:{en:"Platform - instruments",fr:"Plateforme - instruments"},lineage:{en:"Lineage",fr:"lign\xe9e"}};const VN=function(){const{region:e}=mn();return Cn[e]},$N=e=>{let{record:t,submitRecord:n,userID:r,doiUpdated:o,doiError:a}=e;const s=(0,i.useRef)(!1),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1),{language:f}=mn(),m=(e=>{const t=Object.keys(Dx).filter((t=>!Mx(e,t))).map((e=>{const{error:t,tab:n}=Dx[e];return{error:t,tab:n}}));return t.reduce(((e,t)=>{let{error:n,tab:r}=t;return e[r]||(e[r]=[]),e[r].push(n),e}),{})})(t),g="submitted"===t.status,v=VN();return(0,i.useEffect)((()=>{s.current=!0,r===t.userID&&h(!0);return(async e=>{const t=Object.keys(Bx),n=t.map((t=>(async(e,t)=>{const n=e[t],r=Bx[t]&&Bx[t].validation||(()=>!0),i=await r(n,e);return r&&i})(e,t))),r=await Promise.all(n),i=t.reduce(((e,t,n)=>(e[t]=r[n],e)),{}),o=t.filter((e=>i[e])).map((e=>{const{error:t,tab:n}=Bx[e];return{error:t,tab:n}})),a=o.reduce(((e,t)=>{let{error:n,tab:r}=t;return e[r]||(e[r]=[]),e[r].push(n),e}),{});s.current&&d(a)})(t),()=>{s.current=!1}}),[t,r]),(0,Ap.jsx)(Xn,{style:ZC,children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:3,children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsxs)(Or,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["Thank-you for completing this form. The information will be reviewed and a ",v.title.en," staff member will contact you to request more information or provide an update on when your dataset will be available through the"," ",v.catalogueTitle.en,". Your information will not be published before you are contacted. If you have any questions or would like to follow up on the status of your record, please contact"]}),(0,Ap.jsxs)(Ip,{children:["Merci d'avoir rempli ce formulaire. L'information sera valid\xe9e par un membre du personnel ",v.titleFrPossessive,". Cette personne pourrait vous contacter pour obtenir plus d'informations ou pour vous indiquer quand votre jeu de donn\xe9es sera disponible dans notre ",v.catalogueTitle.fr,". Vos informations ne seront pas publi\xe9es avant d'obtenir votre approbation. Si vous avez des questions ou si vous d\xe9sirez effectuer un suivi concernant l'\xe9tat de votre soumission, veuillez contacte"]})]})," ",(0,Ap.jsx)("a",{href:"mailto:".concat(v.email),children:v.email}),"."]})}),g?(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Thank you for your submission. A reviewer has been notified. You will receive an email when the record is published. You are still able to edit this record by saving it, until it is published."}),(0,Ap.jsx)(Ip,{children:"Merci pour votre soumission. Un examinateur a \xe9t\xe9 avis\xe9. Vous recevrez un e-mail lors de la publication de l'enregistrement. Vous pouvez toujours modifier cet enregistrement en l'enregistrant, jusqu'\xe0 ce qu'il soit publi\xe9."})]})}),o&&(0,Ap.jsx)(Or,{children:(0,Ap.jsx)("b",{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"DOI has successfully been updated with the submitted changes."}),(0,Ap.jsx)(Ip,{children:"DOI a \xe9t\xe9 mis \xe0 jour avec succ\xe8s avec les modifications soumises."})]})})}),a&&(0,Ap.jsx)(Or,{children:(0,Ap.jsx)("b",{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Error occurred when updating DOI."}),(0,Ap.jsx)(Ip,{children:"Une erreur s'est produite lors de la mise \xe0 jour du DOI"})]})})})]}):(0,Ap.jsxs)(Ap.Fragment,{children:[Ux(t)?(0,Ap.jsxs)(Ap.Fragment,{children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"You have completed all of the required fields, your record can be submitted now."}),(0,Ap.jsx)(Ip,{children:"Vous avez rempli tous les champs obligatoires, vous pouvez maintenant soumettre votre formulaire."})]})})}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[l&&(0,Ap.jsx)(r_,{}),!l&&p&&(0,Ap.jsx)(c_,{onClick:()=>{c(!0),n().then((()=>{c(!1)}))},disabled:g,children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Submit"}),(0,Ap.jsx)(Ip,{children:"Soumettre"})]})})]})]}):(0,Ap.jsxs)(Ap.Fragment,{children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{variant:"h5",children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Errors"}),(0,Ap.jsx)(Ip,{children:"Erreurs"})]})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"You haven't completed all of the required fields. You will need to address the list below before submitting."}),(0,Ap.jsx)(Ip,{children:"Vous n'avez pas rempli tous les champs obligatoires. Veuillez compl\xe9ter les champs identifi\xe9s ci-dessous avant de soumettre votre demande."})]})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:Object.keys(m).map((e=>(0,Ap.jsxs)("div",{children:[(0,Ap.jsx)(Or,{variant:"h6",children:GN[e][f]}),(0,Ap.jsx)(ki,{children:m[e].map(((e,t)=>{let{[f]:n}=e;return(0,Ap.jsx)(ko,{children:(0,Ap.jsx)(Yo,{primary:n})},t)}))})]},e)))})]}),u&&Object.keys(u).length>0?(0,Ap.jsxs)(Ap.Fragment,{children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{variant:"h5",children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Warnings"}),(0,Ap.jsx)(Ip,{children:"Avertissements"})]})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Some warnings were generated for the following fields. Please review and fix the warnings as needed befor submitting the record."}),(0,Ap.jsx)(Ip,{children:"Certains avertissements ont \xe9t\xe9 g\xe9n\xe9r\xe9s pour les champs suivants. Veuillez examiner et corriger les avertissements si n\xe9cessaire avant de soumettre l'enregistrement."})]})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:Object.keys(u).map((e=>(0,Ap.jsxs)("div",{children:[(0,Ap.jsx)(Or,{variant:"h6",children:GN[e][f]}),(0,Ap.jsx)(ki,{children:u[e].map(((e,t)=>{let{[f]:n}=e;return(0,Ap.jsx)(ko,{children:(0,Ap.jsx)(Yo,{primary:n})},t)}))})]},e)))})]}):" "]})]})})};var KN=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.component,a=void 0===o?"div":o,s=(0,Yn.c)(e,["classes","className","component"]);return i.createElement(a,(0,at.c)({ref:t,className:(0,kn.c)(n.root,r)},s))}));const YN=(0,Gn.c)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(KN);const ZN=i.createContext();var JN="table",XN=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.component,a=void 0===o?JN:o,s=e.padding,l=void 0===s?"normal":s,c=e.size,u=void 0===c?"medium":c,d=e.stickyHeader,p=void 0!==d&&d,h=(0,Yn.c)(e,["classes","className","component","padding","size","stickyHeader"]),f=i.useMemo((function(){return{padding:l,size:u,stickyHeader:p}}),[l,u,p]);return i.createElement(ZN.Provider,{value:f},i.createElement(a,(0,at.c)({role:a===JN?null:"table",ref:t,className:(0,kn.c)(n.root,r,p&&n.stickyHeader)},h)))}));const eD=(0,Gn.c)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,at.c)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(XN);const tD=i.createContext();var nD={variant:"body"},rD="tbody",iD=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.component,a=void 0===o?rD:o,s=(0,Yn.c)(e,["classes","className","component"]);return i.createElement(tD.Provider,{value:nD},i.createElement(a,(0,at.c)({className:(0,kn.c)(n.root,r),ref:t,role:a===rD?null:"rowgroup"},s)))}));const oD=(0,Gn.c)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(iD);var aD=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.component,a=void 0===o?"tr":o,s=e.hover,l=void 0!==s&&s,c=e.selected,u=void 0!==c&&c,d=(0,Yn.c)(e,["classes","className","component","hover","selected"]),p=i.useContext(tD);return i.createElement(a,(0,at.c)({ref:t,className:(0,kn.c)(n.root,r,p&&{head:n.head,footer:n.footer}[p.variant],l&&n.hover,u&&n.selected),role:"tr"===a?null:"row"},d))}));const sD=(0,Gn.c)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:(0,or.W4)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(aD);var lD=i.forwardRef((function(e,t){var n,r,o=e.align,a=void 0===o?"inherit":o,s=e.classes,l=e.className,c=e.component,u=e.padding,d=e.scope,p=e.size,h=e.sortDirection,f=e.variant,m=(0,Yn.c)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),g=i.useContext(ZN),v=i.useContext(tD),b=v&&"head"===v.variant;c?(r=c,n=b?"columnheader":"cell"):r=b?"th":"td";var y=d;!y&&b&&(y="col");var _=u||(g&&g.padding?g.padding:"normal"),x=p||(g&&g.size?g.size:"medium"),w=f||v&&v.variant,E=null;return h&&(E="asc"===h?"ascending":"descending"),i.createElement(r,(0,at.c)({ref:t,className:(0,kn.c)(s.root,s[w],l,"inherit"!==a&&s["align".concat((0,Zn.c)(a))],"normal"!==_&&s["padding".concat((0,Zn.c)(_))],"medium"!==x&&s["size".concat((0,Zn.c)(x))],"head"===w&&g&&g.stickyHeader&&s.stickyHeader),"aria-sort":E,role:n,scope:y},m))}));const cD=(0,Gn.c)((function(e){return{root:(0,at.c)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?(0,or.IV)((0,or.W4)(e.palette.divider,1),.88):(0,or.sP)((0,or.W4)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(lD);function uD(e,t){return function(){return e.apply(t,arguments)}}const{toString:dD}=Object.prototype,{getPrototypeOf:pD}=Object,hD=(e=>t=>{const n=dD.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fD=e=>(e=e.toLowerCase(),t=>hD(t)===e),mD=e=>t=>typeof t===e,{isArray:gD}=Array,vD=mD("undefined");const bD=fD("ArrayBuffer");const yD=mD("string"),_D=mD("function"),xD=mD("number"),wD=e=>null!==e&&"object"===typeof e,ED=e=>{if("object"!==hD(e))return!1;const t=pD(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},TD=fD("Date"),CD=fD("File"),kD=fD("Blob"),SD=fD("FileList"),OD=fD("URLSearchParams");function AD(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),gD(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,e[a],a,e)}}function jD(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const PD="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ID=e=>!vD(e)&&e!==PD;const LD=(RD="undefined"!==typeof Uint8Array&&pD(Uint8Array),e=>RD&&e instanceof RD);var RD;const ND=fD("HTMLFormElement"),DD=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),MD=fD("RegExp"),BD=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};AD(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},QD="abcdefghijklmnopqrstuvwxyz",UD="0123456789",FD={DIGIT:UD,ALPHA:QD,ALPHA_DIGIT:QD+QD.toUpperCase()+UD};const zD=fD("AsyncFunction"),qD={isArray:gD,isArrayBuffer:bD,isBuffer:function(e){return null!==e&&!vD(e)&&null!==e.constructor&&!vD(e.constructor)&&_D(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||_D(e.append)&&("formdata"===(t=hD(e))||"object"===t&&_D(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&bD(e.buffer),t},isString:yD,isNumber:xD,isBoolean:e=>!0===e||!1===e,isObject:wD,isPlainObject:ED,isUndefined:vD,isDate:TD,isFile:CD,isBlob:kD,isRegExp:MD,isFunction:_D,isStream:e=>wD(e)&&_D(e.pipe),isURLSearchParams:OD,isTypedArray:LD,isFileList:SD,forEach:AD,merge:function e(){const{caseless:t}=ID(this)&&this||{},n={},r=(r,i)=>{const o=t&&jD(n,i)||i;ED(n[o])&&ED(r)?n[o]=e(n[o],r):ED(r)?n[o]=e({},r):gD(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&AD(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return AD(t,((t,r)=>{n&&_D(t)?e[r]=uD(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&pD(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:hD,kindOfTest:fD,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(gD(e))return e;let t=e.length;if(!xD(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:ND,hasOwnProperty:DD,hasOwnProp:DD,reduceDescriptors:BD,freezeMethods:e=>{BD(e,((t,n)=>{if(_D(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];_D(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return gD(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:jD,global:PD,isContextDefined:ID,ALPHABET:FD,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FD.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&_D(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(wD(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=gD(e)?[]:{};return AD(e,((e,t)=>{const o=n(e,r+1);!vD(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:zD,isThenable:e=>e&&(wD(e)||_D(e))&&_D(e.then)&&_D(e.catch)};function HD(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}qD.inherits(HD,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qD.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const WD=HD.prototype,GD={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{GD[e]={value:e}})),Object.defineProperties(HD,GD),Object.defineProperty(WD,"isAxiosError",{value:!0}),HD.from=(e,t,n,r,i,o)=>{const a=Object.create(WD);return qD.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),HD.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const VD=HD;function $D(e){return qD.isPlainObject(e)||qD.isArray(e)}function KD(e){return qD.endsWith(e,"[]")?e.slice(0,-2):e}function YD(e,t,n){return e?e.concat(t).map((function(e,t){return e=KD(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ZD=qD.toFlatObject(qD,{},null,(function(e){return/^is[A-Z]/.test(e)}));const JD=function(e,t,n){if(!qD.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=qD.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!qD.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&qD.isSpecCompliantForm(t);if(!qD.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(qD.isDate(e))return e.toISOString();if(!s&&qD.isBlob(e))throw new VD("Blob is not supported. Use a Buffer instead.");return qD.isArrayBuffer(e)||qD.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(qD.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(qD.isArray(e)&&function(e){return qD.isArray(e)&&!e.some($D)}(e)||(qD.isFileList(e)||qD.endsWith(n,"[]"))&&(s=qD.toArray(e)))return n=KD(n),s.forEach((function(e,r){!qD.isUndefined(e)&&null!==e&&t.append(!0===a?YD([n],r,o):null===a?n:n+"[]",l(e))})),!1;return!!$D(e)||(t.append(YD(i,n,o),l(e)),!1)}const u=[],d=Object.assign(ZD,{defaultVisitor:c,convertValue:l,isVisitable:$D});if(!qD.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!qD.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),qD.forEach(n,(function(n,o){!0===(!(qD.isUndefined(n)||null===n)&&i.call(t,n,qD.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function XD(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function eM(e,t){this._pairs=[],e&&JD(e,this,t)}const tM=eM.prototype;tM.append=function(e,t){this._pairs.push([e,t])},tM.toString=function(e){const t=e?function(t){return e.call(this,t,XD)}:XD;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const nM=eM;function rM(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function iM(e,t,n){if(!t)return e;const r=n&&n.encode||rM,i=n&&n.serialize;let o;if(o=i?i(t,n):qD.isURLSearchParams(t)?t.toString():new nM(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const oM=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){qD.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},aM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sM={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:nM,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},lM="undefined"!==typeof window&&"undefined"!==typeof document,cM=(uM="undefined"!==typeof navigator&&navigator.product,lM&&["ReactNative","NativeScript","NS"].indexOf(uM)<0);var uM;const dM="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,pM={...t,...sM};const hM=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&qD.isArray(r)?r.length:o,s)return qD.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&qD.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&qD.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a}if(qD.isFormData(e)&&qD.isFunction(e.entries)){const n={};return qD.forEachEntry(e,((e,r)=>{t(function(e){return qD.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const fM={transitional:aM,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=qD.isObject(e);i&&qD.isHTMLForm(e)&&(e=new FormData(e));if(qD.isFormData(e))return r?JSON.stringify(hM(e)):e;if(qD.isArrayBuffer(e)||qD.isBuffer(e)||qD.isStream(e)||qD.isFile(e)||qD.isBlob(e))return e;if(qD.isArrayBufferView(e))return e.buffer;if(qD.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return JD(e,new pM.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return pM.isNode&&qD.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=qD.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return JD(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(qD.isString(e))try{return(t||JSON.parse)(e),qD.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||fM.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&qD.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw VD.from(i,VD.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pM.classes.FormData,Blob:pM.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qD.forEach(["delete","get","head","post","put","patch"],(e=>{fM.headers[e]={}}));const mM=fM,gM=qD.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vM=Symbol("internals");function bM(e){return e&&String(e).trim().toLowerCase()}function yM(e){return!1===e||null==e?e:qD.isArray(e)?e.map(yM):String(e)}function _M(e,t,n,r,i){return qD.isFunction(r)?r.call(this,t,n):(i&&(t=n),qD.isString(t)?qD.isString(r)?-1!==t.indexOf(r):qD.isRegExp(r)?r.test(t):void 0:void 0)}class xM{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=bM(t);if(!i)throw new Error("header name must be a non-empty string");const o=qD.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=yM(e))}const o=(e,t)=>qD.forEach(e,((e,n)=>i(e,n,t)));return qD.isPlainObject(e)||e instanceof this.constructor?o(e,t):qD.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&gM[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=bM(e)){const n=qD.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(qD.isFunction(t))return t.call(this,e,n);if(qD.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=bM(e)){const n=qD.findKey(this,e);return!(!n||void 0===this[n]||t&&!_M(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=bM(e)){const i=qD.findKey(n,e);!i||t&&!_M(0,n[i],i,t)||(delete n[i],r=!0)}}return qD.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!_M(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return qD.forEach(this,((r,i)=>{const o=qD.findKey(n,i);if(o)return t[o]=yM(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=yM(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return qD.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&qD.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[vM]=this[vM]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=bM(e);t[r]||(!function(e,t){const n=qD.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return qD.isArray(e)?e.forEach(r):r(e),this}}xM.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),qD.reduceDescriptors(xM.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),qD.freezeMethods(xM);const wM=xM;function EM(e,t){const n=this||mM,r=t||n,i=wM.from(r.headers);let o=r.data;return qD.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function TM(e){return!(!e||!e.__CANCEL__)}function CM(e,t,n){VD.call(this,null==e?"canceled":e,VD.ERR_CANCELED,t,n),this.name="CanceledError"}qD.inherits(CM,VD,{__CANCEL__:!0});const kM=CM;const SM=pM.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];qD.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),qD.isString(r)&&a.push("path="+r),qD.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function OM(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const AM=pM.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=qD.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const jM=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];i||(i=l),n[o]=s,r[o]=l;let u=a,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),l-i<t)return;const p=c&&l-c;return p?Math.round(1e3*d/p):void 0}};function PM(e,t){let n=0;const r=jM(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-n,l=r(s);n=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const IM="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=wM.from(e.headers).normalize();let o,a,{responseType:s,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(qD.isFormData(r))if(pM.hasStandardBrowserEnv||pM.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(a=i.getContentType())){const[e,...t]=a?a.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const d=OM(e.baseURL,e.url);function p(){if(!u)return;const r=wM.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new VD("Request failed with status code "+n.status,[VD.ERR_BAD_REQUEST,VD.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:s&&"text"!==s&&"json"!==s?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),iM(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=p:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(p)},u.onabort=function(){u&&(n(new VD("Request aborted",VD.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new VD("Network Error",VD.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||aM;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new VD(t,r.clarifyTimeoutError?VD.ETIMEDOUT:VD.ECONNABORTED,e,u)),u=null},pM.hasStandardBrowserEnv&&(l&&qD.isFunction(l)&&(l=l(e)),l||!1!==l&&AM(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&SM.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&qD.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),qD.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),s&&"json"!==s&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",PM(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",PM(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{u&&(n(!t||t.type?new kM(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const h=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);h&&-1===pM.protocols.indexOf(h)?n(new VD("Unsupported protocol "+h+":",VD.ERR_BAD_REQUEST,e)):u.send(r||null)}))},LM={http:null,xhr:IM};qD.forEach(LM,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const RM=e=>"- ".concat(e),NM=e=>qD.isFunction(e)||null===e||!1===e,DM=e=>{e=qD.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!NM(n)&&(r=LM[(t=String(n)).toLowerCase()],void 0===r))throw new VD("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(RM).join("\n"):" "+RM(e[0]):"as no adapter specified";throw new VD("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function MM(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kM(null,e)}function BM(e){MM(e),e.headers=wM.from(e.headers),e.data=EM.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return DM(e.adapter||mM.adapter)(e).then((function(t){return MM(e),t.data=EM.call(e,e.transformResponse,t),t.headers=wM.from(t.headers),t}),(function(t){return TM(t)||(MM(e),t&&t.response&&(t.response.data=EM.call(e,e.transformResponse,t.response),t.response.headers=wM.from(t.response.headers))),Promise.reject(t)}))}const QM=e=>e instanceof wM?e.toJSON():e;function UM(e,t){t=t||{};const n={};function r(e,t,n){return qD.isPlainObject(e)&&qD.isPlainObject(t)?qD.merge.call({caseless:n},e,t):qD.isPlainObject(t)?qD.merge({},t):qD.isArray(t)?t.slice():t}function i(e,t,n){return qD.isUndefined(t)?qD.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!qD.isUndefined(t))return r(void 0,t)}function a(e,t){return qD.isUndefined(t)?qD.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(QM(e),QM(t),!0)};return qD.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,a=o(e[r],t[r],r);qD.isUndefined(a)&&o!==s||(n[r]=a)})),n}const FM="1.6.7",zM={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{zM[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const qM={};zM.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new VD(r(i," has been removed"+(t?" in "+t:"")),VD.ERR_DEPRECATED);return t&&!qM[i]&&(qM[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const HM={assertOptions:function(e,t,n){if("object"!==typeof e)throw new VD("options must be an object",VD.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new VD("option "+o+" must be "+n,VD.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new VD("Unknown option "+o,VD.ERR_BAD_OPTION)}},validators:zM},WM=HM.validators;class GM{constructor(e){this.defaults=e,this.interceptors={request:new oM,response:new oM}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=UM(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&HM.assertOptions(n,{silentJSONParsing:WM.transitional(WM.boolean),forcedJSONParsing:WM.transitional(WM.boolean),clarifyTimeoutError:WM.transitional(WM.boolean)},!1),null!=r&&(qD.isFunction(r)?t.paramsSerializer={serialize:r}:HM.assertOptions(r,{encode:WM.function,serialize:WM.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&qD.merge(i.common,i[t.method]);i&&qD.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=wM.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[BM.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let p=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{p=e(p)}catch(gh){t.call(this,gh);break}}try{c=BM.call(this,p)}catch(gh){return Promise.reject(gh)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return iM(OM((e=UM(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}qD.forEach(["delete","get","head","options"],(function(e){GM.prototype[e]=function(t,n){return this.request(UM(n||{},{method:e,url:t,data:(n||{}).data}))}})),qD.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(UM(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}GM.prototype[e]=t(),GM.prototype[e+"Form"]=t(!0)}));const VM=GM;class $M{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new kM(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new $M((function(t){e=t}));return{token:t,cancel:e}}}const KM=$M;const YM={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(YM).forEach((e=>{let[t,n]=e;YM[n]=t}));const ZM=YM;const JM=function e(t){const n=new VM(t),r=uD(VM.prototype.request,n);return qD.extend(r,VM.prototype,n,{allOwnKeys:!0}),qD.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(UM(t,n))},r}(mM);JM.Axios=VM,JM.CanceledError=kM,JM.CancelToken=KM,JM.isCancel=TM,JM.VERSION=FM,JM.toFormData=JD,JM.AxiosError=VD,JM.Cancel=JM.CanceledError,JM.all=function(e){return Promise.all(e)},JM.spread=function(e){return function(t){return e.apply(null,t)}},JM.isAxiosError=function(e){return qD.isObject(e)&&!0===e.isAxiosError},JM.mergeConfig=UM,JM.AxiosHeaders=wM,JM.formToJSON=e=>hM(qD.isHTMLForm(e)?new FormData(e):e),JM.getAdapter=DM,JM.HttpStatusCode=ZM,JM.default=JM;const XM=JM,eB=e=>{let{record:t,updateRecord:n,disabled:r}=e;const{taxa:o=[]}=t,a=n("taxa"),[s,l]=(0,i.useState)(0),[c,u]=(0,i.useState)(""),[d,p]=(0,i.useState)(""),[h,f]=(0,i.useState)([]),m=(0,i.useRef)(!1),g=(0,i.useRef)(!1),[v,b]=(0,i.useState)(o);x_(v,o)||b(o);const y=HC((e=>{const t={method:"get",url:"https://api.gbif.org/v1/species/suggest",params:{q:e}};g.current=!0,XM(t).then((e=>{m.current&&f([...e.data]),g.current=!1})).catch((e=>{console.error(e),g.current=!1}))}),500);(0,i.useEffect)((()=>(m.current=!0,c.length>2&&!d&&!g.current&&y(c),()=>{m.current=!1})),[c,d,y]);const _=t.noTaxa&&"false"!==t.noTaxa;return(0,Ap.jsxs)(e_,{children:[(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsx)(Pp,{children:"Taxonomic Coverage"}),(0,Ap.jsx)(Ip,{children:"Couverture taxonomique"}),(0,Ap.jsx)(ek,{passes:Mx(t,"taxa")}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Please enter the metadata about the taxonomic areas covered by the resource."}),(0,Ap.jsx)(Ip,{children:"Veuillez saisir les m\xe9tadonn\xe9es sur les domaines taxonomiques couverts par la ressource."})]})})]}),(0,Ap.jsx)(AC,{disabled:r,control:(0,Ap.jsx)(QC,{name:"noTaxa",checked:t.noTaxa,onChange:e=>{const{checked:t}=e.target;n("noTaxa")(t)}}),label:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"This dataset does not contain any taxonomic classification"}),(0,Ap.jsx)(Ip,{children:"Cet ensemble de donn\xe9es ne contient aucune classification taxonomique"})]})})]}),_?"":(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsx)(e_,{container:!0,direction:"column",spacing:0,children:(0,Ap.jsx)(_k,{inputValue:c,onInputChange:(e,t)=>{u(t)},getOptionLabel:e=>{var t;return null!==(t=e.scientificName&&"".concat(e.scientificName," (").concat(e.canonicalName,")"))&&void 0!==t?t:e},disabled:r,loading:!g.current,onChange:(e,t)=>{"object"===typeof t&&p(t)},value:d,freeSolo:!0,options:h,fullWidth:!0,renderInput:e=>(0,Ap.jsx)(CC,{...e,label:"GBIF taxa Search"})})}),(0,Ap.jsx)(e_,{item:!0,xs:3,children:(0,Ap.jsx)(c_,{disabled:r||!d&&!c,startIcon:(0,Ap.jsx)(dI,{}),onClick:()=>{d&&(a(o.concat(d)),l(o.length),p(""),u(""))},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Add"}),(0,Ap.jsx)(Ip,{children:"Ajouter"})]})})}),(0,Ap.jsxs)(e_,{container:!0,direction:"row",children:[(0,Ap.jsxs)(e_,{item:!0,xs:5,children:[(0,Ap.jsx)(e_,{style:{margin:"10px"},children:(0,Ap.jsx)(Or,{variant:"h6",children:"Taxa"})}),(0,Ap.jsx)(QT,{border:1,borderRadius:"4px",borderColor:"#ababab",margin:"10px",children:(0,Ap.jsx)(ki,{children:(0,Ap.jsx)(Wk.Container,{lockAxis:"y",onDrop:e=>function(e){let{removedIndex:t,addedIndex:n}=e;t===s?l(n):n<=s&&t>s&&l(s+1);const r=$k()(v,t,n);a(r)}(e),children:o.map(((e,t)=>(0,Ap.jsx)(Wk.Draggable,{children:(0,Ap.jsxs)(ko,{button:!0,onClick:()=>l(t),children:[(0,Ap.jsx)(Yo,{primary:(0,Ap.jsx)(Or,{style:{fontWeight:s===t?"bold":"",width:"80%"},children:e&&"".concat(e.scientificName," (").concat(e.canonicalName,")")})}),(0,Ap.jsx)(X_,{children:(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Remove from this record",fr:"Supprimer de cet enregistrement"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>{return e=t,a(o.filter(((t,n)=>n!==e))),void(o.length&&l(o.length-2));var e},edge:"end","aria-label":"clone",disabled:r,children:(0,Ap.jsx)(nx,{})})})})})]},t)},t)))})})})]}),(0,Ap.jsxs)(e_,{item:!0,xs:7,children:[(0,Ap.jsx)(e_,{style:{margin:"10px"},children:(0,Ap.jsx)(Or,{variant:"h6",children:"Details"})}),(0,Ap.jsx)(QT,{border:1,borderRadius:"4px",borderColor:"#ababab",margin:"10px",minHeight:"48px",children:o[s]?(0,Ap.jsx)(YN,{component:Xn,children:(0,Ap.jsx)(eD,{size:"small","aria-label":"simple table",children:(0,Ap.jsx)(oD,{children:Object.entries(function(){if(o[s]){const{rank:e,kingdom:t,phylum:n,class:r,order:i,family:a,genus:l,species:c,scientificName:u,canonicalName:d,parent:p}=o[s];return{rank:e,kingdom:t,phylum:n,Class:r,order:i,family:a,genus:l,species:c,scientificName:u,canonicalName:d,parent:p}}return{}}()).map((e=>{let[t,n]=e;return(0,Ap.jsxs)(sD,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,Ap.jsxs)(cD,{component:"th",scope:"row",variant:"head",align:"left",style:{width:"146px"},children:[(0,Zn.c)(t),":"]}),(0,Ap.jsx)(cD,{align:"left",children:n})]},t)}))})})}):""})]})]})]})]})},tB=e=>{let{value:t}=e;return(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Percentage of required fields filled in",fr:"Pourcentage de champs obligatoires remplis"}),children:(0,Ap.jsxs)(QT,{display:"flex",width:"90%",style:{margin:"auto"},children:[(0,Ap.jsx)(QT,{width:"100%",mr:1,children:(0,Ap.jsx)(FT,{variant:"determinate",value:t,style:{marginLeft:"-30px"}})}),(0,Ap.jsx)(QT,{minWidth:35,children:(0,Ap.jsx)(Or,{variant:"body2",color:"textSecondary",children:"".concat(Math.round(t),"%")})})]})})};function nB(e){let{children:t,value:n,index:r,...i}=e;return(0,Ap.jsx)("div",{role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r),...i,children:n===r&&(0,Ap.jsx)(QT,{children:t})})}class rB extends Ub{constructor(e){var t;super(e),t=this,this.toggleModal=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3?arguments[3]:void 0;t.setState({modalKey:r,[e]:n,modalUserID:i})},this.handleUpdateRecord=e=>t=>{const{value:n}=t.target,r={[e]:n};this.setState((e=>{let{record:t}=e;return{record:{...t,...r},saveDisabled:!1}}))},this.updateRecord=e=>t=>{const n={[e]:t};this.setState((e=>{let{record:t}=e;return{record:{...t,...n},saveDisabled:!1}}))},this.state={projects:[],record:O_(),userContacts:{},loading:!1,tabIndex:"start",saveDisabled:!0,highlightMissingRequireFields:!1,editorInfo:{email:"",displayName:""},loggedInUserCanEditRecord:!1,saveIncompleteRecordModalOpen:!1,doiUpdated:!1,doiError:!1}}componentDidMount(){const{match:e}=this.props;this.setState({loading:!0});const t=Bb(Cp);this.unsubscribe=nd(_p(Cp),(async n=>{if(n){const{region:r,recordID:i}=e.params,o=e.url.endsWith("new"),a=n.uid,s=o?a:e.params.userID,l=a===s,{isReviewer:c}=this.context;let u;this.setState({projects:await F_(r),loggedInUserID:n.uid});const d=wb(xb(t,"".concat(r,"/users")),a),p=wb(d,"userinfo");Pb(p,(e=>{u=e.toJSON(),this.setState({editorInfo:u})})),this.listenerRefs.push(p);const h=xb(t,"".concat(r,"/users/").concat(s)),f=wb(d,"contacts");Pb(f,(e=>{const t=e.toJSON();Object.entries(t||{}).forEach((e=>{let[t,n]=e;n.contactID=t})),this.setState({userContacts:t})})),this.listenerRefs.push(f);const m=wb(d,"instruments");Pb(m,(e=>{const t=e.toJSON();Object.entries(t||{}).forEach((e=>{let[t,n]=e;n.instrumentID=t})),this.setState({userInstruments:t})})),this.listenerRefs.push(m);const g=wb(d,"platforms");if(Pb(g,(e=>{const t=e.toJSON();Object.entries(t||{}).forEach((e=>{let[t,n]=e;n.instrumentID=t})),this.setState({userPlatforms:t})})),this.listenerRefs.push(g),o)this.setState({loading:!1,loggedInUserCanEditRecord:!0});else{const e=wb(h,"records/".concat(i));Pb(e,(e=>{const t=e.toJSON();if(!t)return void this.setState({loading:!1,record:null});const n=E_(t),r=n.sharedWith&&!0===n.sharedWith[a],o=c||l||r;this.setState({record:M_(n,null,null,i),loggedInUserCanEditRecord:o}),this.setState({loading:!1})})),this.listenerRefs.push(e)}}}))}saveUpdateContact(e){const{contactID:t}=e,{match:n}=this.props,{region:r}=n.params,i=xb(Bb(Cp),"".concat(r,"/users/").concat(Sp.currentUser.uid,"/contacts"));return t?(kb(wb(i,t),e),t):Eb(i,e).key}async handleUpdateDraftDOI(){const{match:e}=this.props,{region:t,language:n}=e.params,{record:r}=this.state,{datacitePrefix:i}=this.context;try{if(i&&r.datasetIdentifier){200===await JC(r,t,n,i)?this.state.doiUpdated=!0:this.state.doiError=!0}}catch(o){throw console.error("Error updating draft DOI: ",o),this.state.doiError=!0,o}}handleSaveUpdateInstrument(e){const{id:t}=e,{match:n}=this.props,{region:r}=n.params,i=xb(Bb(Cp),"".concat(r,"/users/").concat(Sp.currentUser.uid,"/instruments"));return t?(kb(wb(i,t),e),t):Eb(i,e).key}handleSaveUpdatePlatform(e){const{id:t}=e,{match:n}=this.props,{region:r}=n.params,i=xb(Bb(Cp),"".concat(r,"/users/").concat(Sp.currentUser.uid,"/platforms"));return t?(kb(wb(i,t),e),t):Eb(i,e).key}async handleSubmitRecord(){const{match:e}=this.props,{region:t,userID:n}=e.params,r=e.url.endsWith("new"),{record:i}=this.state,o=Sp.currentUser.uid,a=r?o:n,s=await this.handleSaveClick();return await this.handleUpdateDraftDOI(),Q_(t,a,s,"submitted",i)}async handleSaveClick(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{match:t,history:n}=this.props,{language:r,region:i}=t.params,o=t.params.userID||Sp.currentUser.uid,a=xb(Bb(Cp),"".concat(i,"/users/").concat(o,"/records")),{editorInfo:s}=this.state,l=(c=this.state.record,JSON.parse(JSON.stringify(c,T_)));var c;const u=1===Qx(l);if("published"===l.status&&!u){if(!e)return void this.toggleModal("saveIncompleteRecordModalOpen",!0);l.status=""}let d;if(l.created=(new Date).toISOString(),l.userID=o,l.region=i,l.lastEditedBy=s,l.recordID)d=l.recordID,await kb(wb(a,l.recordID),{...O_(),...l});else{const e=await Eb(a,l);await kb(e,l),d=e.key,this.setState({record:{...l,recordID:d}}),n.push("/".concat(r,"/").concat(i,"/").concat(o,"/").concat(d))}if(["submitted","published"].includes(l.status)){const{regenerateXMLforRecord:e}=this.context,t="".concat(i,"/").concat(o,"/").concat(d),{status:n,filename:r}=l;e({path:t,status:n,filename:r,region:i})}return this.setState({saveDisabled:!0}),d}render(){var e,t;const{match:n}=this.props,{language:r}=n.params,{isReviewer:i}=this.context,{userContacts:o,userInstruments:a,userPlatforms:s,tabIndex:l,record:c,saveDisabled:u,loading:d,highlightMissingRequireFields:p,loggedInUserCanEditRecord:h,saveIncompleteRecordModalOpen:f,projects:m,loggedInUserID:g}=this.state;if(!c)return(0,Ap.jsx)(fC,{});const{classes:v}=this.props,b=!h,y={highlightMissingRequireFields:p,disabled:b,record:c,handleUpdateRecord:this.handleUpdateRecord,updateRecord:this.updateRecord,userID:g},_=Math.round(100*Qx(c));return d?(0,Ap.jsx)(r_,{}):(0,Ap.jsxs)(e_,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",spacing:3,children:[(0,Ap.jsx)(V_,{open:f,modalQuestion:(0,Ap.jsx)(Lp,{en:"Record is missing required fields. Saving will demote it to draft. Do you want to do this?",fr:"Il manque des champs obligatoires dans l'enregistrement. L'enregistrement le r\xe9trogradera en brouillon. Est-ce que tu veux le faire ?"}),onClose:()=>{this.toggleModal("saveIncompleteRecordModalOpen",!1)},onAccept:()=>{this.handleSaveClick(!0),this.toggleModal("saveIncompleteRecordModalOpen",!1)}}),(0,Ap.jsx)(qT,{color:"primary","aria-label":"add",className:v.fab,disabled:u||!(c.title.en||c.title.fr)||b,onClick:()=>this.handleSaveClick(),children:(0,Ap.jsx)(ms,{placement:"right-start",title:u?"Dataset needs a title before it can be saved":"Save record.",children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(lC,{})})})}),(0,Ap.jsx)(e_,{container:!0,spacing:2,direction:"row",alignItems:"center",children:(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(oC,{scrollButtons:"auto",variant:"fullWidth",value:l,onChange:(e,t)=>this.setState({tabIndex:t}),"aria-label":"simple tabs example",children:[(0,Ap.jsx)(sC,{fullWidth:!0,classes:{root:v.tabRoot},label:GN.start[r],value:"start"}),(0,Ap.jsx)(sC,{fullWidth:!0,classes:{root:v.tabRoot},label:GN.dataID[r],value:"identification"}),(0,Ap.jsx)(sC,{fullWidth:!0,classes:{root:v.tabRoot},label:GN.taxa[r],value:"taxa"}),(0,Ap.jsx)(sC,{fullWidth:!0,classes:{root:v.tabRoot},label:GN.spatial[r],value:"spatial"}),(0,Ap.jsx)(sC,{fullWidth:!0,classes:{root:v.tabRoot},label:"Contact",value:"contact"}),(0,Ap.jsx)(sC,{fullWidth:!0,classes:{root:v.tabRoot},label:GN.resources[r],value:"distribution"}),!["model"].includes(c.metadataScope)&&(0,Ap.jsx)(sC,{fullWidth:!0,classes:{root:v.tabRoot},label:GN.platform[r],value:"platform"}),h&&(0,Ap.jsx)(sC,{fullWidth:!0,classes:{root:v.tabRoot},label:(0,Ap.jsx)(Lp,{en:"Submit",fr:"Soumettre"}),value:"submit",disabled:"submitted"===c.status||"published"===c.status})]}),(0,Ap.jsxs)("div",{style:{marginTop:"10px",textAlign:"center"},children:[(0,Ap.jsxs)(Or,{variant:"h5",children:[r&&(null===(e=c.title)||void 0===e?void 0:e[r])||(0,Ap.jsx)(Lp,{en:"New Record",fr:"Nouvel enregistrement"})," ",(0,Ap.jsx)(hC,{status:c.status})]}),(0,Ap.jsxs)(Or,{component:"div",children:[(0,Ap.jsxs)("i",{children:[(0,Ap.jsx)(YE,{dateStr:c.created}),(null===(t=c.lastEditedBy)||void 0===t?void 0:t.displayName)&&(0,Ap.jsxs)(Ap.Fragment,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"by "}),(0,Ap.jsx)(Ip,{children:"Par "})]}),c.lastEditedBy.displayName," ",i&&c.lastEditedBy.email]})]}),(0,Ap.jsx)(tB,{value:_})]})]})]})}),(0,Ap.jsx)(nB,{value:l,index:"start",children:(0,Ap.jsx)(kk,{...y})}),(0,Ap.jsx)(nB,{value:l,index:"identification",children:(0,Ap.jsx)(fI,{...y,projects:m})}),(0,Ap.jsx)(nB,{value:l,index:"taxa",children:(0,Ap.jsx)(eB,{...y})}),(0,Ap.jsx)(nB,{value:l,index:"spatial",children:(0,Ap.jsx)(WN,{...y})}),(0,Ap.jsx)(nB,{value:l,index:"platform",children:(0,Ap.jsx)(yI,{userInstruments:a,saveUpdateInstrument:e=>this.handleSaveUpdateInstrument(e),userPlatforms:s,saveUpdatePlatform:e=>this.handleSaveUpdatePlatform(e),...y})}),(0,Ap.jsx)(nB,{value:l,index:"distribution",children:(0,Ap.jsx)(dS,{...y})}),(0,Ap.jsx)(nB,{value:l,index:"submit",children:(0,Ap.jsx)($N,{...y,doiUpdated:this.state.doiUpdated,doiError:this.state.doiError,submitRecord:()=>this.handleSubmitRecord()})}),(0,Ap.jsx)(nB,{value:l,index:"contact",children:(0,Ap.jsx)(Zk,{userContacts:o,saveToContacts:e=>this.saveUpdateContact(e),...y})})]})}}rB.contextType=Fb;const iB=(0,Gn.c)((e=>({tabRoot:{minWidth:"115px"},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}})))(dn(rB));class oB extends i.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return console.error(e),{hasError:!0}}componentDidCatch(e,t){console.error(e,t),oe(e)}render(){const{hasError:e}=this.state,{children:t}=this.props;return e?(0,Ap.jsxs)("div",{children:[(0,Ap.jsx)("h1",{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Something went wrong!"}),(0,Ap.jsx)(Ip,{children:"Un probl\xe8me s'est produit!"})]})}),(0,Ap.jsx)("h5",{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"The developers have been notified and are working to resolve the issue."}),(0,Ap.jsx)(Ip,{children:"Les d\xe9veloppeurs ont \xe9t\xe9 avertis et s'effor\xe7ent de r\xe9soudre le probl\xe8me."})]})})]}):t}}const aB=oB;const sB=dn(class extends Ub{constructor(e){super(e),this.state={orgRor:"",orgName:"",orgEmail:"",orgURL:"",orgAdress:"",orgCity:"",orgCountry:"",indOrcid:"",indPosition:"",indEmail:"",givenNames:"",lastName:""};const{match:t}=e,{region:n}=t.params,r=Bb(Cp);this.contactsRef=xb(r,"".concat(n,"/users/").concat(Sp.currentUser.uid,"/contacts"))}async componentDidMount(){const{match:e}=this.props,{contactID:t}=e.params;if(Sp.currentUser&&t){this.setState({contactID:t});const e=wb(this.contactsRef,t);Pb(e,(e=>this.setState(e.toJSON()))),this.listenerRefs.push(e)}}handleChange(e){return t=>{this.setState({[e]:t.target.value})}}handleClear(e){this.setState({[e]:""})}updateOrgFromRor(){return e=>{this.setState({orgRor:e.id,orgName:e.name,orgURL:e.links.find((()=>!0))||"",orgCity:e.addresses.find((()=>!0)).city||"",orgCountry:e.country.country_name})}}updateIndFromOrcid(){return e=>{const{name:t,emails:n}=e.person,r=n.email.length>0?n.email[0].email:"",i=t["family-name"]?t["family-name"].value:"";this.setState({indOrcid:e["orcid-identifier"].uri,givenNames:t["given-names"].value,indEmail:r,lastName:i})}}handleCancelClick(){const{match:e,history:t}=this.props,{language:n,region:r}=e.params;t.push("/".concat(n,"/").concat(r,"/contacts"))}async handleSubmitClick(){const{history:e,match:t}=this.props,{region:n,language:r,contactID:i}=t.params;i?kb(wb(this.contactsRef,i),this.state):Eb(this.contactsRef,this.state),e.push("/".concat(r,"/").concat(n,"/contacts"))}render(){const{orgName:e,givenNames:t,lastName:n}=this.state,r=e||t&&n;return(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Hk,{value:this.state,handleClear:e=>this.handleClear(e),updateContactEvent:e=>this.handleChange(e),updateContactRor:this.updateOrgFromRor(),updateContactOrcid:this.updateIndFromOrcid()})}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(c_,{startIcon:(0,Ap.jsx)(lC,{}),variant:"contained",color:"primary",onClick:()=>this.handleSubmitClick(),disabled:!r,children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Save"}),(0,Ap.jsx)(Ip,{children:"Enregistrer"})]})}),(0,Ap.jsx)(c_,{style:{marginLeft:"10px"},variant:"contained",color:"secondary",onClick:()=>this.handleCancelClick(),children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Cancel"}),(0,Ap.jsx)(Ip,{children:"Annuler"})]})})]})]})}}),lB=e=>{let{value:t,disabled:n,paperClass:r,updateInstrumentEvent:i}=e;const o=(0,Ap.jsx)(Lp,{en:"Manufacturer",fr:"Fabricant"}),a=(0,Ap.jsx)(Lp,{en:"Version",fr:"Version"}),s=(0,Ap.jsx)(Lp,{en:"Type",fr:"Type"}),l=(0,Ap.jsx)(Lp,{en:"Description",fr:"Description"}),c={...I_(),...t};return(0,Ap.jsx)(e_,{container:!0,direction:"column",spacing:2,children:(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(e_,{container:!0,direction:"column",children:c&&(0,Ap.jsx)(Xn,{style:r,children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Instrument ID"}),(0,Ap.jsx)(Ip,{children:"L'ID de l'instrument"})]}),(0,Ap.jsx)(ek,{passes:c.id}),(0,Ap.jsx)(CC,{label:"ID",value:c.id,onChange:i("id"),fullWidth:!0,disabled:n})]}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(CC,{label:o,name:"manufacturer",value:c.manufacturer,onChange:i("manufacturer"),fullWidth:!0,disabled:n})," "]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{label:a,value:c.version,onChange:i("version"),fullWidth:!0,disabled:n})}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Instrument Type"}),(0,Ap.jsx)(Ip,{children:"Type d'instrument"})]})}),(0,Ap.jsx)(qC,{label:s,value:c.type,onChange:i("type"),disabled:n})]})," ",(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(Or,{children:"Description"}),(0,Ap.jsx)(qC,{label:l,value:c.description,onChange:i("description"),disabled:n})]})]})})})})})};const cB=dn(class extends Ub{constructor(e){super(e),this.state={id:"",manufacturer:"",version:"",type:{en:"",fr:""},description:{en:"",fr:""}};const{match:t}=e,{region:n}=t.params,r=Bb(Cp);this.instrumentsRef=xb(r,"".concat(n,"/users/").concat(Sp.currentUser.uid,"/instruments"))}async componentDidMount(){const{match:e}=this.props,{instrumentID:t}=e.params;if(Sp.currentUser&&t){this.setState({instrumentID:t});const e=wb(this.instrumentsRef,t);Pb(e,(e=>this.setState(e.toJSON()))),this.listenerRefs.push(e)}}handleChange(e){return t=>{this.setState({[e]:t.target.value})}}handleClear(e){this.setState({[e]:""})}handleCancelClick(){const{match:e,history:t}=this.props,{language:n,region:r}=e.params;t.push("/".concat(n,"/").concat(r,"/instruments"))}async handleSubmitClick(){const{history:e,match:t}=this.props,{region:n,language:r,instrumentID:i}=t.params;i?kb(wb(this.instrumentsRef,i),this.state):this.instrumentsRef.push(this.state),e.push("/".concat(r,"/").concat(n,"/instruments"))}render(){return(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(lB,{value:this.state,handleClear:e=>this.handleClear(e),updateInstrumentEvent:e=>this.handleChange(e),paperClass:ZC})}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(c_,{startIcon:(0,Ap.jsx)(lC,{}),variant:"contained",color:"primary",onClick:()=>this.handleSubmitClick(),disabled:!this.state.id,children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Save"}),(0,Ap.jsx)(Ip,{children:"Enregistrer"})]})}),(0,Ap.jsx)(c_,{style:{marginLeft:"10px"},variant:"contained",color:"secondary",onClick:()=>this.handleCancelClick(),children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Cancel"}),(0,Ap.jsx)(Ip,{children:"Annuler"})]})})]})]})}});var uB=n(3651);function dB(){return Math.round(20*Math.random())-10}function pB(){const e=50+dB(),t=50+dB();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}const hB=An((e=>({paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}})));function fB(e){let{open:t,onClose:n,onAccept:r,email:o,setEmail:a}=e;const[s,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1),d=hB(),[p]=i.useState(pB),h=Sx(o);return(0,Ap.jsx)("div",{children:(0,Ap.jsx)(ti,{open:t,onClose:n,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:(0,Ap.jsxs)("div",{style:p,className:d.paper,children:[(0,Ap.jsx)("h2",{id:"simple-modal-title",children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Transfer Record"}),(0,Ap.jsx)(Ip,{children:"Enregistrement de transfert"})]})}),c?(0,Ap.jsx)("h3",{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Transferring..."}),(0,Ap.jsx)(Ip,{children:"Transfert en cours..."})]})}):(0,Ap.jsxs)("div",{children:[!s&&(0,Ap.jsx)("h3",{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["User ",o," not found"]}),(0,Ap.jsxs)(Ip,{children:["L'utilisateur ",o," n'a pas \xe9t\xe9 trouv\xe9"]})]})}),(0,Ap.jsx)("div",{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Enter the email address of the user to transfer this record to. The user must have logged into this region at least once:"}),(0,Ap.jsx)(Ip,{children:"Entrez l'adresse e-mail de l'utilisateur vers lequel transf\xe9rer cet enregistrement. L'utilisateur doit s'\xeatre connect\xe9 \xe0 cette r\xe9gion au moins une fois:"})]})}),(0,Ap.jsx)("div",{children:(0,Ap.jsx)(CC,{helperText:!h&&(0,Ap.jsx)(Lp,{en:"Invalid email",fr:"E-mail non valide"}),error:!h,value:o,onChange:e=>{l(!0),a(e.target.value)},fullWidth:!0})}),(0,Ap.jsx)("button",{type:"button",disabled:!o||!h||c,onClick:async()=>{u(!0);const e=await r();l(e),u(!1),e&&n()},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Transfer"}),(0,Ap.jsx)(Ip,{children:"Transfert"})]})}),(0,Ap.jsx)("button",{type:"button",onClick:()=>{l(!0),n()},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Cancel"}),(0,Ap.jsx)(Ip,{children:"Annuler"})]})})]})]})})})}const mB=e=>{let{record:t,language:n,editRecord:r,toggleModal:i,handleCloneRecord:o}=e;const a={record:t,language:n,onViewEditClick:()=>r(t.recordID,t.userinfo.userID),onCloneClick:()=>o(t.recordID,t.userinfo.userID),onDeleteClick:()=>i("deleteModalOpen",!0,t.recordID,t.userinfo.userID),onTransferClick:()=>i("transferModalOpen",!0,t.recordID,t.userinfo.userID),showAuthor:!0,showTransferButton:!0,showDeleteAction:!0,showCloneAction:!0},s=()=>(0,Ap.jsx)(eT,{onSubmitClick:()=>i("submitModalOpen",!0,t.recordID,t.userinfo.userID),showSubmitAction:!0,showEditAction:!0,...a,showPercentComplete:!0}),l=()=>(0,Ap.jsx)(eT,{onSubmitClick:()=>i("publishModalOpen",!0,t.recordID,t.userinfo.userID),onUnSubmitClick:()=>i("unSubmitModalOpen",!0,t.recordID,t.userinfo.userID),showPublishAction:!0,showUnSubmitAction:!0,showEditAction:!0,showPercentComplete:!0,...a}),c=()=>(0,Ap.jsx)(eT,{onUnPublishClick:()=>i("unPublishModalOpen",!0,t.recordID,t.userinfo.userID),showUnPublishAction:!0,showViewAction:!0,showPercentComplete:!0,...a});return"submitted"===t.status?(0,Ap.jsx)(l,{}):"published"===t.status?(0,Ap.jsx)(c,{}):(0,Ap.jsx)(s,{})};const gB=class extends Ub{constructor(e){super(e),this.state={users:[],deleteModalOpen:!1,publishModalOpen:!1,unPublishModalOpen:!1,unSubmitModalOpen:!1,submitModalOpen:!1,transferModalOpen:!1,modalKey:"",modalUserID:"",loading:!1,showRecordTypes:["submitted","published"],showUsers:[],records:[],recordsFilter:"",recordCountsByStatus:{}}}async componentDidMount(){this.setState({loading:!0});const{match:e}=this.props,{region:t}=e.params;this.unsubscribe=nd(_p(Cp),(e=>{if(e){const e=xb(Bb(Cp),"".concat(t,"/users"));Pb(e,(e=>{const t=B_(e,["","submitted","published"]);this.setState({records:t,loading:!1});const n=k_(t.map((e=>e.userinfo.email)));this.setState({records:t,loading:!1,users:n,showUsers:n})})),this.listenerRefs.push(e)}}))}editRecord(e,t){const{history:n}=this.props,{language:r,region:i}=this.props.match.params;n.push("/".concat(r,"/").concat(i,"/").concat(t,"/").concat(e))}async handleTransferRecord(e,t){const{match:n}=this.props,{region:r}=n.params;return async function(e,t,n,r){const i=xb(Bb(Cp),"".concat(r,"/users")),o=(await Sb(i)).val(),a=Object.entries(o).map((e=>{var t;let[n,r]=e;return[n,null===r||void 0===r||null===(t=r.userinfo)||void 0===t?void 0:t.email]})).find((t=>{let[,n]=t;return n.toLowerCase().trim()===e.toLowerCase().trim()}));if(a){const[e]=a,r=wb(i,"".concat(n,")/records/").concat(t)),o=(await Sb(r)).val(),s=await wb(i,"".concat(e,"/records/").concat(o)),l=s.key;if(o.recordID=l,s.update(o),l)return await r.remove(),!0}return!1}(this.state.transferEmail,e,t,r)}handleCloneRecord(e,t){const{match:n}=this.props,{region:r}=n.params;Sp.currentUser&&N_(e,t,Sp.currentUser.uid,r)}async handleSubmitRecord(e,t,n){const{match:r}=this.props,{region:i}=r.params;e&&t&&(this.setState({loading:!0}),await Q_(i,t,e,n),this.setState({loading:!1}))}async deleteRecord(e,t){const{match:n}=this.props,{region:r}=n.params;e&&t&&(this.setState({loading:!0}),await U_(r,t,e),this.setState({loading:!1}))}toggleModal(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0;this.setState({modalKey:n,[e]:t,modalUserID:r})}render(){const{records:e,recordsFilter:t,showRecordTypes:n,showUsers:r,deleteModalOpen:i,transferModalOpen:o,transferEmail:a,transferUserNotFound:s,modalKey:l,modalUserID:c,unPublishModalOpen:u,publishModalOpen:d,unSubmitModalOpen:p,submitModalOpen:h,loading:f,users:m}=this.state,{match:g}=this.props,{language:v}=g.params;let b=e.filter((e=>r.includes(e.userinfo.email))).sort(((e,t)=>e.created<t.created));t&&(b=b.filter((e=>JSON.stringify([e.title||{},e.abstract||{}]).toUpperCase().includes(t.toUpperCase()))));const y={draft:(b.filter((e=>""===e.status))||[]).length,submitted:(b.filter((e=>"submitted"===e.status))||[]).length,published:(b.filter((e=>"published"===e.status))||[]).length};b=b.filter((e=>n.includes(e.status))),b=b.sort(((e,t)=>n.indexOf(e.status)>n.indexOf(t.status)));const _={draft:{en:"Draft",fr:"Brouillon"},submitted:{en:"Submitted",fr:"Soumis"},published:{en:"Published",fr:"Publi\xe9"}},x="fr"===v?"s\xe9lectionn\xe9s":"selected";return(0,Ap.jsxs)(e_,{container:!0,direction:"column",justifyContent:"space-between",alignItems:"stretch",spacing:3,children:[(0,Ap.jsx)(fB,{open:o,onClose:()=>{this.toggleModal("transferModalOpen",!1),this.setState({transferEmail:""})},onAccept:()=>this.handleTransferRecord(l,c),transferUserNotFound:s,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",email:a,setEmail:e=>this.setState({transferEmail:e})}),(0,Ap.jsx)(V_,{open:i,onClose:()=>this.toggleModal("deleteModalOpen",!1),onAccept:()=>this.deleteRecord(l,c),"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),(0,Ap.jsx)(V_,{open:h,onClose:()=>this.toggleModal("submitModalOpen",!1),onAccept:()=>this.handleSubmitRecord(l,c,"submitted"),"aria-labelledby":"simple-modal-title"}),(0,Ap.jsx)(V_,{open:d,onClose:()=>this.toggleModal("publishModalOpen",!1),onAccept:()=>this.handleSubmitRecord(l,c,"published"),"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),(0,Ap.jsx)(V_,{open:u,onClose:()=>this.toggleModal("unPublishModalOpen",!1),onAccept:()=>this.handleSubmitRecord(l,c,"submitted"),"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),(0,Ap.jsx)(V_,{open:p,onClose:()=>this.toggleModal("unSubmitModalOpen",!1),onAccept:()=>this.handleSubmitRecord(l,c,""),"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{variant:"h5",children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Review submissions"}),(0,Ap.jsx)(Ip,{children:"Examen des soumissions"})]})})}),f?(0,Ap.jsx)(r_,{}):(0,Ap.jsxs)(Ap.Fragment,{children:[(0,Ap.jsxs)(Xn,{style:{padding:"10px",margin:"10px",width:"100%"},children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsx)(Pp,{children:"Filters"}),(0,Ap.jsx)(Ip,{children:"Filtres"})]}),(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(sk,{value:n,onChange:e=>{this.setState({showRecordTypes:e})},options:["","submitted","published"],optionLabels:["draft","submitted","published"].map((e=>"".concat(_[e][v]," (").concat(y[e],")")))})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsxs)(Mk,{children:[(0,Ap.jsx)(Qk,{expandIcon:(0,Ap.jsx)(uB.c,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:(0,Ap.jsx)(Or,{children:r.length===m.length?(0,Ap.jsx)(Lp,{en:"Users (All users selected)",fr:"Utilisateurs (Tous les utilisateurs)"}):(0,Ap.jsx)(Lp,{en:"Users (".concat(r.length,"  ").concat(x,")"),fr:"Utilisateurs (".concat(r.length,"  ").concat(x,")")})})}),(0,Ap.jsx)(Fk,{children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(Pp,{children:"Select All / None"}),(0,Ap.jsx)(Ip,{children:"Tout s\xe9lectionner/Aucun"}),(0,Ap.jsx)(QC,{label:"Show All / None",onChange:e=>{this.setState({showUsers:e.target.checked?m:[]})}})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(sk,{value:r,onChange:e=>{this.setState({showUsers:e})},options:m,labelSize:null})})]})})]})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{fullWidth:!0,onChange:e=>{this.setState({recordsFilter:e.target.value})},label:(0,Ap.jsx)(Lp,{en:"Search title and abstract",fr:"Rechercher le titre et le r\xe9sum\xe9"})})})]})]}),b.length?(0,Ap.jsx)(Ap.Fragment,{children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"These are the submissions we have received from all users that have not yet been reviewed. To accept a record, click the 'Publish' button."}),(0,Ap.jsx)(Ip,{children:"Ce sont les soumissions que nous avons re\xe7ues de tous les utilisateurs qui n'ont pas encore \xe9t\xe9 examin\xe9es. Pour accepter un enregistrement, cliquez sur le bouton \xab Publier \xbb."})]})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(ki,{children:b.map((e=>(0,Ap.jsx)(mB,{record:e,toggleModal:this.toggleModal.bind(this),editRecord:this.editRecord.bind(this),handleCloneRecord:this.handleCloneRecord.bind(this)},e.recordID)))})})]})}):(0,Ap.jsx)(e_,{container:!0,direction:"column",children:(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"There are no records waiting to be reviewed."}),(0,Ap.jsx)(Ip,{children:"Aucun dossier n'attend d'\xeatre examin\xe9."})]})})})})]})]})}};var vB=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.disableTypography,s=void 0!==a&&a,l=(0,Yn.c)(e,["children","classes","className","disableTypography"]);return i.createElement("div",(0,at.c)({className:(0,kn.c)(r.root,o),ref:t},l),s?n:i.createElement(Or,{component:"h2",variant:"h6"},n))}));const bB=(0,Gn.c)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(vB);var yB=i.forwardRef((function(e,t){return i.createElement(Or,(0,at.c)({component:"p",variant:"body1",color:"textSecondary",ref:t},e))}));const _B=(0,Gn.c)({root:{marginBottom:12}},{name:"MuiDialogContentText"})(yB),xB=(0,In.c)(i.createElement("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");var wB=n(6212),EB=n(5140),TB=n(3344);const CB=e=>k_(e.map((e=>e.trim())).filter((e=>e)));class kB extends Ub{constructor(e){super(e),this.handleClickShowPassword=()=>this.setState((e=>({showPassword:!e.showPassword}))),this.handleMouseDownPassword=e=>{e.preventDefault()},this.handleToggleDoiCreation=()=>{const{isDoiCreationEnabled:e,credentialsStored:t}=this.state;e&&t?this.setState({showDeletionDialog:!0}):this.setState((e=>({isDoiCreationEnabled:!e.isDoiCreationEnabled})))},this.handleDisableDoiCreation=async()=>{const{region:e}=this.props.match.params;try{await async function(e){try{const t=Bb(Cp);return await Tb(xb(t,"admin/".concat(e,"/dataciteCredentials"))),{success:!0,message:"All Datacite credentials deleted successfully."}}catch(gh){throw new Error("Failed to delete Datacite credentials.: ".concat(gh))}}(e),this.setState({datacitePrefix:"",dataciteAccountId:"",datacitePass:"",credentialsStored:!1,isDoiCreationEnabled:!1,showDeletionDialog:!1})}catch(gh){throw new Error("Failed to delete DataCite credentials: ".concat(gh))}},this.handleChange=e=>{const{name:t,value:n}=e.target;this.setState({[t]:n},(()=>{"datacitePrefix"===t&&this.validateDatacitePrefix(n)}))},this.validateDatacitePrefix=e=>{const t=/^10\.\d+/.test(e);this.setState({datacitePrefixValid:t})},this.state={admins:[],projects:[],reviewers:[],datacitePrefix:"",datacitePrefixValid:!0,dataciteAccountId:"",datacitePass:"",loading:!1,showPassword:!1,isDoiCreationEnabled:!1,credentialsStored:!1,showDeletionDialog:!1,showCredentialsMissingDialog:!1}}async componentDidMount(){const{match:e}=this.props,{region:t}=e.params,{getCredentialsStored:n,getDatacitePrefix:r}=this.context,i=Bb(Cp);this.setState({loading:!0}),this.unsubscribe=nd(_p(Cp),(async e=>{if(e){const e=wb(xb(i,"admin"),t),o=wb(e,"permissions"),a=await F_(t),s=await r(t).then((e=>e.data)),l=await n(t).then((e=>e.data));Pb(o,(e=>{const t=e.toJSON(),n=t.admins.split(","),r=t.reviewers.split(",");this.setState({projects:a,admins:n,reviewers:r,loading:!1,datacitePrefix:s,credentialsStored:l,isDoiCreationEnabled:l})})),this.listenerRefs.push(o)}}))}componentDidUpdate(e,t){t.credentialsStored!==this.state.credentialsStored&&this.state.credentialsStored&&this.setState({isDoiCreationEnabled:!0})}save(){const{match:e}=this.props,{region:t}=e.params,{reviewers:n,admins:r,projects:i}=this.state,o=Bb(Cp);if(Sp.currentUser){const e=xb(o,"admin/".concat(t)),a=wb(e,"permissions"),s=wb(e,"projects");Cb(wb(a,"admins"),CB(r).join()),Cb(s,CB(i)),Cb(wb(a,"reviewers"),CB(n).join())}}saveDoiCredentials(){const{match:e}=this.props,{region:t}=e.params,{datacitePrefix:n,dataciteAccountId:r,datacitePass:i,isDoiCreationEnabled:o}=this.state,a=Bb(Cp),s=TB.Sn.from("".concat(r,":").concat(i),"utf8").toString("base64");if(!o||n&&r&&i){if(Sp.currentUser){const e=wb(xb(a,"admin/".concat(t)),"dataciteCredentials");Cb(wb(e,"prefix"),n),Cb(wb(e,"dataciteHash"),s),this.setState({datacitePass:"",credentialsStored:!0})}}else this.setState({showCredentialsMissingDialog:!0})}renderDeletionDialog(){return(0,Ap.jsxs)(CS,{open:this.state.showDeletionDialog,onClose:()=>this.setState({showDeletionDialog:!1}),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,Ap.jsx)(bB,{id:"alert-dialog-title",children:"Delete Datacite Credentials?"}),(0,Ap.jsx)(wS,{children:(0,Ap.jsx)(_B,{id:"alert-dialog-description",children:"Disabling DOI creation will delete the stored credentials. Are you sure you want to proceed?"})}),(0,Ap.jsxs)(_S,{children:[(0,Ap.jsx)(c_,{onClick:()=>this.setState({showDeletionDialog:!1}),color:"primary",children:"Cancel"}),(0,Ap.jsx)(c_,{onClick:()=>this.handleDisableDoiCreation(),color:"primary",autoFocus:!0,children:"Delete Credentials"})]})]})}renderCredentialsMissingDialog(){return(0,Ap.jsxs)(CS,{open:this.state.showCredentialsMissingDialog,onClose:()=>this.setState({showCredentialsMissingDialog:!1}),"aria-labelledby":"credentials-missing-dialog-title","aria-describedby":"credentials-=missing-dialog-description",children:[(0,Ap.jsx)(bB,{id:"credentials-missing-dialog-title",children:"Missing DataCite Credentials"}),(0,Ap.jsx)(wS,{children:(0,Ap.jsx)(_B,{id:"credentials-missing-dialog-description",children:"Please add DataCite credentials before saving."})}),(0,Ap.jsx)(_S,{children:(0,Ap.jsx)(c_,{onClick:()=>this.setState({showCredentialsMissingDialog:!1}),color:"primary",autoFocus:!0,children:"OK"})})]})}render(){const{loading:e,reviewers:t,admins:n,projects:r,showPassword:i,datacitePrefix:o,isDoiCreationEnabled:a,credentialsStored:s}=this.state;return(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:3,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(Or,{variant:"h5",children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Admin"}),(0,Ap.jsx)(Ip,{children:"Administrateurs"})]})}),(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Add each admin or reviewer's email address on it's own line"}),(0,Ap.jsx)(Ip,{children:"Ajouter l'adresse e-mail de chaque administrateur ou r\xe9viseur sur sa propre ligne"})]})})]}),e?(0,Ap.jsx)(r_,{}):(0,Ap.jsxs)(Ap.Fragment,{children:[(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Projects"}),(0,Ap.jsx)(Ip,{children:"Projets"})]})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{multiline:!0,fullWidth:!0,value:r.join("\n"),onChange:e=>this.setState({projects:e.target.value.split("\n")})})})]}),(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Admins"}),(0,Ap.jsx)(Ip,{children:"Administrateurs"})]})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{multiline:!0,fullWidth:!0,value:n.join("\n"),onChange:e=>this.setState({admins:e.target.value.split("\n")})})})]}),(0,Ap.jsxs)(Xn,{style:ZC,children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Reviewers"}),(0,Ap.jsx)(Ip,{children:"R\xe9viseurs"})]})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(CC,{multiline:!0,fullWidth:!0,value:t.join("\n"),onChange:e=>this.setState({reviewers:e.target.value.split("\n")})})})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(c_,{startIcon:(0,Ap.jsx)(lC,{}),variant:"contained",color:"primary",style:{margin:10},onClick:()=>this.save(),children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Save Admin Settings"}),(0,Ap.jsx)(Ip,{children:"Enregistrer"})]})})}),(0,Ap.jsx)(Xn,{style:ZC,children:(0,Ap.jsxs)(e_,{container:!0,spacing:2,children:[(0,Ap.jsx)(e_,{item:!0,xs:12,children:(0,Ap.jsx)(Or,{variant:"h5",children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"DOI Creation Settings"}),(0,Ap.jsx)(Ip,{children:"Param\xe8tres de cr\xe9ation de DOI"})]})})}),(0,Ap.jsxs)(e_,{item:!0,xs:12,container:!0,alignItems:"center",justifyContent:"space-between",children:[(0,Ap.jsx)(e_,{item:!0,children:(0,Ap.jsx)(AC,{control:(0,Ap.jsx)(QC,{checked:this.state.isDoiCreationEnabled||!1,onChange:this.handleToggleDoiCreation}),label:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Enable DOI Creation"}),(0,Ap.jsx)(Ip,{children:"Activer la cr\xe9ation de DOI"})]})})}),a&&s&&(0,Ap.jsx)(e_,{item:!0,container:!0,spacing:2,alignItems:"center",children:(0,Ap.jsx)(e_,{item:!0,children:(0,Ap.jsxs)(Or,{variant:"body1",children:[(0,Ap.jsx)(wB.c,{style:{color:"green",marginRight:4,fontSize:"1.4rem"}}),(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Credentials Stored"}),(0,Ap.jsx)(Ip,{children:"Identifiants Enregistr\xe9s"})]})]})})}),a&&!s&&(0,Ap.jsx)(e_,{item:!0,container:!0,spacing:2,alignItems:"center",children:(0,Ap.jsx)(e_,{item:!0,children:(0,Ap.jsxs)(Or,{variant:"body1",children:[(0,Ap.jsx)(EB.c,{style:{color:"red",marginRight:4,fontSize:"1.4rem"}}),(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Please Add DataCite Credentials"}),(0,Ap.jsx)(Ip,{children:"Identifiants Enregistr\xe9s"})]})]})})})]}),a&&(0,Ap.jsxs)(Ap.Fragment,{children:[(0,Ap.jsx)(e_,{item:!0,xs:12,children:(0,Ap.jsx)(CC,{name:"datacitePrefix",label:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"DataCite Prefix"}),(0,Ap.jsx)(Ip,{children:"Pr\xe9fixe DataCite"})]}),placeholder:"10.0000",value:o||"",onChange:this.handleChange,fullWidth:!0,error:!this.state.datacitePrefixValid,helperText:!this.state.datacitePrefixValid&&"Prefix must start with '10.' followed by numbers."})}),(0,Ap.jsx)(e_,{item:!0,xs:12,children:(0,Ap.jsx)(CC,{name:"dataciteAccountId",label:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Account ID"}),(0,Ap.jsx)(Ip,{children:"Identifiant du compte"})]}),onChange:this.handleChange,fullWidth:!0})}),(0,Ap.jsx)(e_,{item:!0,xs:12,children:(0,Ap.jsx)(CC,{name:"datacitePass",label:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Password"}),(0,Ap.jsx)(Ip,{children:"Mot de passe"})]}),type:i?"text":"password",onChange:this.handleChange,InputProps:{endAdornment:(0,Ap.jsx)(SC,{position:"end",children:(0,Ap.jsx)(Cr,{onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword,edge:"end",children:i?(0,Ap.jsx)(xB,{}):(0,Ap.jsx)(ex,{})})})},fullWidth:!0})})]}),this.state.isDoiCreationEnabled&&(0,Ap.jsx)(c_,{startIcon:(0,Ap.jsx)(lC,{}),variant:"contained",color:"primary",onClick:()=>this.saveDoiCredentials(),style:{margin:10},children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Save DOI Settings"}),(0,Ap.jsx)(Ip,{children:"Enregistrer les param\xe8tres DOI"})]})})]})})]}),this.renderDeletionDialog(),this.renderCredentialsMissingDialog()]})}}kB.contextType=Fb;const SB=kB,OB=()=>(oe(new Error("Testing sentry")),(0,Ap.jsx)("h1",{children:"Error notification sent"}));const AB=class extends Ub{constructor(e){super(e),this.state={platforms:{},modalOpen:!1,modalKey:"",loading:!1}}async componentDidMount(){this.setState({loading:!0});const{match:e}=this.props,{region:t}=e.params;this.unsubscribe=Sp.onAuthStateChanged((e=>{if(e){const n=xb(Bb(Cp),"".concat(t,"/users/").concat(e.uid,"/platforms"));Pb(n,(e=>this.setState({platforms:e.toJSON(),loading:!1}))),this.listenerRefs.push(n)}}))}handleDeletePlatform(e){const{match:t}=this.props,{region:n}=t.params;Sp.currentUser&&function(e,t,n){Tb(xb(Bb(Cp),"".concat(e,"/users/").concat(t,"/platforms/").concat(n)))}(n,Sp.currentUser.uid,e)}handleClonePlatform(e){const{match:t}=this.props,{region:n}=t.params;return!!Sp.currentUser&&async function(e,t,n){const r=xb(Bb(Cp),"".concat(e,"/users/").concat(t,"/platforms/")),i=(await Sb(wb(r,n))).val();i.id&&(i.id+=" (Copy)"),Eb(r,i)}(n,Sp.currentUser.uid,e)}addPlatform(){const{history:e,match:t}=this.props,{language:n,region:r}=t.params;Sp.currentUser&&async function(e,t){return Eb(xb(Bb(Cp),"".concat(e,"/users/").concat(t,"/platforms/")),{}).key}(r,Sp.currentUser.uid).then((t=>{e.push("/".concat(n,"/").concat(r,"/platforms/").concat(t))}))}editPlatform(e){const{history:t,match:n}=this.props,{language:r,region:i}=n.params;t.push("/".concat(r,"/").concat(i,"/platforms/").concat(e))}toggleModal(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.setState({modalKey:t,modalOpen:e})}render(){const{modalOpen:e,modalKey:t,loading:n,platforms:r}=this.state;return(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:3,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(V_,{open:e,onClose:()=>this.toggleModal(!1),onAccept:()=>this.handleDeletePlatform(t),"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"}),(0,Ap.jsx)(Or,{variant:"h5",children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Platforms"}),(0,Ap.jsx)(Ip,{children:"Platforms"})]})})]}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Create platforms here that you can reuse in multiple metadata records."}),(0,Ap.jsx)(Ip,{children:"Ajoutez ici les personnes ressources que vous d\xe9sirez r\xe9utiliser pour la saisie d\u2019autres m\xe9tadonn\xe9es."})]})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(c_,{startIcon:(0,Ap.jsx)(u_,{}),onClick:()=>this.addPlatform(),children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Add platform"}),(0,Ap.jsx)(Ip,{children:"ajouter un platform"})]})})}),n?(0,Ap.jsx)(r_,{}):(0,Ap.jsx)(Ap.Fragment,{children:(0,Ap.jsx)(e_,{item:!0,xs:!0,children:r&&Object.keys(r).length?(0,Ap.jsxs)("div",{children:[(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"These are your platforms"}),(0,Ap.jsx)(Ip,{children:"Ce sont vos platforms"})]})}),(0,Ap.jsx)(ki,{children:Object.entries(r).map((e=>{let[t,n]=e;return(0,Ap.jsxs)(ko,{button:!0,onClick:()=>this.editPlatform(t),children:[(0,Ap.jsx)(Z_,{children:(0,Ap.jsx)($o,{children:(0,Ap.jsx)(rT,{})})}),(0,Ap.jsx)(Yo,{primary:mI({platform:n})}),(0,Ap.jsxs)(X_,{children:[(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Edit",fr:"\xc9diter"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>this.editPlatform(t),children:(0,Ap.jsx)(tx,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Clone",fr:"Clone"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>this.handleClonePlatform(t),children:(0,Ap.jsx)(ox,{})})})}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Delete",fr:"Supprimer"}),children:(0,Ap.jsx)("span",{children:(0,Ap.jsx)(Cr,{onClick:()=>this.toggleModal(!0,t),children:(0,Ap.jsx)(nx,{})})})})]})]},t)}))})]}):(0,Ap.jsx)(Or,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"No platforms submitted yet"}),(0,Ap.jsx)(Ip,{children:"Aucun platforms n'a encore \xe9t\xe9 soumis"})]})})})})]})}},jB=e=>{let{value:t,disabled:n,paperClass:r,updatePlatformEvent:i}=e;const{language:o="en"}=mn(),a=Object.values(vI).sort(((e,t)=>e["label_".concat(o)].localeCompare(t["label_".concat(o)],o))),s={...R_(),...t};return(0,Ap.jsx)(e_,{container:!0,direction:"column",spacing:2,children:(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(e_,{container:!0,direction:"column",children:s&&(0,Ap.jsx)(Xn,{style:r,children:(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What type of platform is it?"}),(0,Ap.jsx)(Ip,{children:"De quel type de plateforme s'agit-il ?"})]}),(0,Ap.jsxs)($C,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Please select a platform from the "}),(0,Ap.jsx)(Ip,{children:"Veuillez s\xe9lectionner une plateforme dans la "})]}),(0,Ap.jsxs)("a",{href:"http://vocab.nerc.ac.uk/collection/L06/current/",target:"_blank",rel:"noopener noreferrer",children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"SeaVoX Platform Categories (NERC L06 Vocabulary)"}),(0,Ap.jsx)(Ip,{children:"SeaVoX Platform Categories (liste Vocabulaire NERC L06)"})]}),(0,Ap.jsx)(ms,{title:(0,Ap.jsx)(Lp,{en:"Open in new window",fr:"Ouvrir dans une nouvelle fen\xeatre"}),children:(0,Ap.jsx)(lx,{style:{verticalAlign:"middle"}})})]}),(0,Ap.jsx)(ek,{passes:s.type})]})]}),(0,Ap.jsx)(Ek,{value:s.type,onChange:i("type"),optionLabels:a.map((e=>"".concat(e["label_".concat(o)]))),optionTooltips:a.map((e=>"".concat(e["definition_".concat(o)]))),options:a.map((e=>e.label_en)),disabled:n,label:(0,Ap.jsx)(Lp,{en:"Platform",fr:"Plateforme"}),fullWidth:!1})]}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"What is the platform ID or code?"}),(0,Ap.jsx)(Ip,{children:"Quel est l'ID de la plateforme ?"})]}),(0,Ap.jsxs)($C,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsxs)(Pp,{children:["This is a unique identification of the platform. If the platform is registered with"," ",(0,Ap.jsx)("a",{href:"https://vocab.seadatanet.org/v_bodc_vocab_v2/search.asp?lib=C17",target:"_blank",rel:"noopener noreferrer",children:"ICES"}),", use that identifier"]}),(0,Ap.jsxs)(Ip,{children:["Il s'agit d'une identification unique de la plateforme. Si la plateforme est enregistr\xe9e aupr\xe8s du"," ",(0,Ap.jsx)("a",{href:"https://vocab.seadatanet.org/v_bodc_vocab_v2/search.asp?lib=C17",target:"_blank",rel:"noopener noreferrer",children:"CIEM"}),", utilisez cet identifiant"]})]}),(0,Ap.jsx)(ek,{passes:s.id})]})]}),(0,Ap.jsx)(CC,{label:(0,Ap.jsx)(Lp,{en:"Platform ID",fr:"ID de plateforme"}),value:s.id,onChange:i("id"),fullWidth:!0,disabled:n})]}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsxs)(KC,{children:[(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"More information about the platform"}),(0,Ap.jsx)(Ip,{children:"Plus d'informations sur la plateforme"})]}),(0,Ap.jsx)($C,{children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"You can also add aditional information about the platform."}),(0,Ap.jsx)(Ip,{children:"Vous pouvez \xe9galement ajouter des informations suppl\xe9mentaires sur la plateforme."})]})})]}),(0,Ap.jsx)(qC,{value:s.description,onChange:i("description"),multiline:!0,disabled:n})]})]})})})})})};const PB=dn(class extends Ub{constructor(e){super(e),this.state={id:"",type:"",description:{en:"",fr:""}};const{match:t}=e,{region:n}=t.params,r=Bb(Cp);this.platformsRef=xb(r,"".concat(n,"/users/").concat(Sp.currentUser.uid,"/platforms"))}async componentDidMount(){const{match:e}=this.props,{platformID:t}=e.params;if(Sp.currentUser&&t){this.setState({platformID:t});const e=wb(this.platformsRef,t);Pb(e,(e=>this.setState(e.toJSON()))),this.listenerRefs.push(e)}}handleChange(e){return t=>{this.setState({[e]:t.target.value})}}handleClear(e){this.setState({[e]:""})}handleCancelClick(){const{match:e,history:t}=this.props,{language:n,region:r}=e.params;t.push("/".concat(n,"/").concat(r,"/platforms"))}async handleSubmitClick(){const{history:e,match:t}=this.props,{region:n,language:r,platformID:i}=t.params;i?kb(wb(this.platformsRef,i),this.state):this.platformsRef.push(this.state),e.push("/".concat(r,"/").concat(n,"/platforms"))}render(){return(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(jB,{value:this.state,handleClear:e=>this.handleClear(e),updatePlatformEvent:e=>this.handleChange(e),paperClass:ZC})}),(0,Ap.jsxs)(e_,{item:!0,xs:!0,children:[(0,Ap.jsx)(c_,{startIcon:(0,Ap.jsx)(lC,{}),variant:"contained",color:"primary",onClick:()=>this.handleSubmitClick(),disabled:!this.state.id,children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Save"}),(0,Ap.jsx)(Ip,{children:"Enregistrer"})]})}),(0,Ap.jsx)(c_,{style:{marginLeft:"10px"},variant:"contained",color:"secondary",onClick:()=>this.handleCancelClick(),children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Cancel"}),(0,Ap.jsx)(Ip,{children:"Annuler"})]})})]})]})}}),IB=e=>{let{children:t}=e;const{language:n,region:r}=mn(),i="/cioos-".concat(r,"-").concat(n,".png");return(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)("img",{src:"/metadata-entry-form"+i,alt:r})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,style:{paddingLeft:"50px"},children:t})]})},LB=e=>{let{match:t}=e;const{loggedIn:n,authIsLoading:r,isReviewer:o,isAdmin:a}=(0,i.useContext)(Fb);return(0,Ap.jsx)(Ap.Fragment,{children:r?(0,Ap.jsx)(r_,{}):(0,Ap.jsx)(IB,{children:n?(0,Ap.jsx)(aB,{children:(0,Ap.jsxs)(un,{children:[(0,Ap.jsx)(rn,{path:"".concat(t.path,"/"),exact:!0,component:tT}),(0,Ap.jsx)(rn,{path:"".concat(t.path,"/new"),component:iB}),(0,Ap.jsx)(rn,{path:"".concat(t.path,"/contacts/:contactID"),component:sB}),(0,Ap.jsx)(rn,{path:"".concat(t.path,"/contacts/new"),component:sB}),(0,Ap.jsx)(rn,{path:"".concat(t.path,"/contacts"),component:oT}),(0,Ap.jsx)(rn,{path:"".concat(t.path,"/instruments/:instrumentID"),component:cB}),(0,Ap.jsx)(rn,{path:"".concat(t.path,"/instruments"),component:sT}),(0,Ap.jsx)(rn,{path:"".concat(t.path,"/platforms/:platformID"),component:PB}),(0,Ap.jsx)(rn,{path:"".concat(t.path,"/platforms"),component:AB}),(0,Ap.jsx)(rn,{path:"".concat(t.path,"/shared"),component:lT}),(0,Ap.jsx)(rn,{path:"".concat(t.path,"/:userID/:recordID"),component:iB}),(0,Ap.jsx)(rn,{path:"".concat(t.path,"/submissions"),component:tT}),(0,Ap.jsx)(rn,{path:"".concat(t.path,"/published"),component:nT}),(0,Ap.jsx)(rn,{path:"".concat(t.path,"/reviewer"),component:a||o?gB:fC}),(0,Ap.jsx)(rn,{path:"".concat(t.path,"/admin"),component:a||o?SB:fC}),(0,Ap.jsx)(rn,{path:"".concat(t.path,"/sentry-test"),component:OB}),(0,Ap.jsx)(rn,{path:"*",component:fC})]})}):(0,Ap.jsx)(cT,{})})})},RB=e=>{let{match:t}=e;const{region:n,language:r}=mn(),i=(0,i_.c)({overrides:{MuiTooltip:{tooltip:{fontSize:"1em"}},MuiFormControlLabel:{root:{"&.Mui-disabled":{"& .MuiCheckbox-root":{color:"#ababab"},"& .MuiTypography-root":{color:"#ababab"}}}},MuiInputBase:{input:{"&.Mui-disabled":{color:"#ababab"}}},MuiAccordionDetails:{root:{flexDirection:"column"}}},palette:{primary:{main:Cn[n].colors.primary},secondary:{main:Cn[n].colors.secondary}},props:{MuiTextField:{variant:"outlined"},MuiSelect:{variant:"outlined"},MuiButton:{variant:"outlined"}}}),o={en:"".concat(Cn[n].title[r]," Metadata Intake Form"),fr:"Formulaire de r\xe9ception des m\xe9tadonn\xe9es ".concat(Cn[n].title[r])};return(0,Ap.jsxs)(Ap.Fragment,{children:[(0,Ap.jsxs)($y,{children:[(0,Ap.jsx)("title",{children:o[r]}),(0,Ap.jsx)("link",{rel:"icon",type:"image/png",href:"".concat("/metadata-entry-form","/favicons/").concat(n,".ico"),sizes:"16x16"})]}),(0,Ap.jsx)(zb,{children:(0,Ap.jsx)(s_,{theme:i,children:(0,Ap.jsx)(Wb,{children:(0,Ap.jsx)(LB,{match:t})})})})]})};var NB=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.raised,a=void 0!==o&&o,s=(0,Yn.c)(e,["classes","className","raised"]);return i.createElement(Xn,(0,at.c)({className:(0,kn.c)(n.root,r),elevation:a?8:1,ref:t},s))}));const DB=(0,Gn.c)({root:{overflow:"hidden"}},{name:"MuiCard"})(NB);var MB=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.focusVisibleClassName,s=(0,Yn.c)(e,["children","classes","className","focusVisibleClassName"]);return i.createElement(Er,(0,at.c)({className:(0,kn.c)(r.root,o),focusVisibleClassName:(0,kn.c)(a,r.focusVisible),ref:t},s),n,i.createElement("span",{className:r.focusHighlight}))}));const BB=(0,Gn.c)((function(e){return{root:{display:"block",textAlign:"inherit",width:"100%","&:hover $focusHighlight":{opacity:e.palette.action.hoverOpacity},"&$focusVisible $focusHighlight":{opacity:.12}},focusVisible:{},focusHighlight:{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:e.transitions.create("opacity",{duration:e.transitions.duration.short})}}}),{name:"MuiCardActionArea"})(MB);var QB=i.forwardRef((function(e,t){var n=e.classes,r=e.className,o=e.component,a=void 0===o?"div":o,s=(0,Yn.c)(e,["classes","className","component"]);return i.createElement(a,(0,at.c)({className:(0,kn.c)(n.root,r),ref:t},s))}));const UB=(0,Gn.c)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(QB);var FB=["video","audio","picture","iframe","img"],zB=i.forwardRef((function(e,t){var n=e.children,r=e.classes,o=e.className,a=e.component,s=void 0===a?"div":a,l=e.image,c=e.src,u=e.style,d=(0,Yn.c)(e,["children","classes","className","component","image","src","style"]),p=-1!==FB.indexOf(s),h=!p&&l?(0,at.c)({backgroundImage:'url("'.concat(l,'")')},u):u;return i.createElement(s,(0,at.c)({className:(0,kn.c)(r.root,o,p&&r.media,-1!=="picture img".indexOf(s)&&r.img),ref:t,style:h,src:p?l||c:void 0},d),n)}));const qB=(0,Gn.c)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(zB),HB=An({root:{maxWidth:345},media:{height:400,"&:hover":{filter:"brightness( 100% ) contrast( 100% ) saturate( 200% ) blur( 0px ) hue-rotate( 197deg )"}}});function WB(e){let{region:t,regionSummary:n}=e;const r=hn(),{language:i}=mn(),o=HB(),a=Cn[t],s="/cioos-".concat(t,"-").concat(i,".png");return(0,Ap.jsx)(DB,{className:o.root,onClick:()=>r.push("/".concat(i,"/").concat(t)),style:{minHeight:"500px",minWidth:"400px"},children:(0,Ap.jsxs)(BB,{children:[(0,Ap.jsx)(qB,{className:o.media,image:"".concat("/metadata-entry-form","/map-").concat(t,".jpg"),title:a.title[i]}),(0,Ap.jsxs)(UB,{children:[(0,Ap.jsx)("div",{children:(0,Ap.jsx)("img",{src:"/metadata-entry-form"+s,alt:t,style:{margin:"10px",maxWidth:"300px",maxHeight:"80px"}})}),(0,Ap.jsx)(Or,{variant:"body2",color:"textSecondary",component:"p",children:n})]})]})})}function GB(){const{language:e}=mn();return(0,Ap.jsxs)(Ap.Fragment,{children:[(0,Ap.jsx)($y,{children:(0,Ap.jsx)("title",{children:{en:"Metadata Intake Form",fr:"Formulaire de r\xe9ception des m\xe9tadonn\xe9es"}[e]})}),(0,Ap.jsxs)(e_,{container:!0,direction:"column",spacing:2,children:[(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(Or,{variant:"h6",children:(0,Ap.jsxs)(Lp,{children:[(0,Ap.jsx)(Pp,{children:"Welcome to the CIOOS Metadata Entry Tool. To get started, please select the region where your data was collected."}),(0,Ap.jsx)(Ip,{children:"Bienvenue dans l'outil de saisie de m\xe9tadonn\xe9es du SIOOC. Pour commencer, veuillez s\xe9lectionner la r\xe9gion dans laquelle vos donn\xe9es ont \xe9t\xe9 collect\xe9es."})]})})}),(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(e_,{container:!0,direction:"row",justifyContent:"flex-start",alignItems:"stretch",children:Object.entries(Cn).map((t=>{let[n,r]=t;return r.showInRegionSelector?(0,Ap.jsx)(e_,{item:!0,xs:!0,children:(0,Ap.jsx)(WB,{region:n,regionSummary:r.introPageText[e]})},n):null}))})})]})]})}const VB=":language(en|fr)",$B=":region(".concat(Object.keys(Cn).join("|"),")"),KB=()=>(0,Ap.jsx)(gn,{basename:"/",children:(0,Ap.jsxs)(un,{children:[(0,Ap.jsx)(rn,{exact:!0,path:"/",children:(0,Ap.jsx)(Jt,{to:"/en/region-select"})}),(0,Ap.jsx)(rn,{path:"/".concat(VB,"/region-select"),exact:!0,component:()=>(0,Ap.jsx)(Wb,{children:(0,Ap.jsx)(GB,{})})}),(0,Ap.jsx)(rn,{path:"/".concat(VB,"/").concat($B),component:RB}),(0,Ap.jsx)(rn,{path:"*",children:(0,Ap.jsx)(Jt,{to:"/en/region-select"})})]})});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));(function(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=we),void 0===e.release){var t=(0,u.mm)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!1),function(e,t){!0===t.debug&&c.Q.enable();var n=(0,l.WS)(),r=new e(t);n.bindClient(r)}(fe,e),e.autoSessionTracking&&function(){var e=(0,u.mm)(),t=(0,l.WS)(),n="complete"===document.readyState,r=!1,i=function(){r&&n&&t.endSession()},o=function(){n=!0,i(),e.removeEventListener("load",o)};t.startSession(),n||e.addEventListener("load",o);try{var a=new PerformanceObserver((function(e,t){e.getEntries().forEach((function(e){"first-contentful-paint"===e.name&&e.startTime<s&&(t.disconnect(),r=!0,i())}))})),s="hidden"===document.visibilityState?0:1/0;document.addEventListener("visibilitychange",(function(e){s=Math.min(s,e.timeStamp)}),{once:!0}),a.observe({type:"paint",buffered:!0})}catch(c){r=!0,i()}}()})({dsn:"https://b21f672d78630938fcc78d26097dfece@o4505071053766656.ingest.us.sentry.io/4507704416796672",integrations:[new nt.BrowserTracing],tracesSampleRate:1}),o.render((0,Ap.jsx)(KB,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()})).catch((e=>{console.error(e.message)}))})()})();
//# sourceMappingURL=main.77c81a1e.js.map