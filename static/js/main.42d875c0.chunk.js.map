{"version":3,"sources":["regions.js","firebase.js","auth.js","components/I18n.jsx","providers/UserProvider.jsx","components/NavDrawer.jsx","components/FormComponents/StatusChip.jsx","utils/validate.js","utils/misc.js","components/FormComponents/LastEdited.jsx","components/FormComponents/SimpleModal.jsx","components/Pages/Submissions.jsx","components/FormComponents/ContactTitle.jsx","components/Pages/ContactsSaved.jsx","components/Pages/Login.jsx","components/Pages/NotFound.jsx","components/FormComponents/RequiredMark.jsx","components/FormComponents/QuestionStyles.jsx","components/Tabs/StartTab.jsx","components/FormComponents/CheckBoxList.jsx","isoCodeLists.js","components/FormComponents/ContactEditor.jsx","components/FormComponents/SelectInput.jsx","components/FormComponents/ContactLeftList.jsx","components/FormComponents/ApaPreview.jsx","components/Tabs/ContactTab.jsx","components/FormComponents/BilingualTextInput.jsx","components/FormComponents/Resources.jsx","components/Tabs/ResourcesTab.jsx","components/FormComponents/DateInput.jsx","keywordList.js","utils/i18nDictionaryFr.js","utils/i18n.js","components/FormComponents/KeywordsInput.jsx","utils/licenses.js","components/Tabs/IdentificationTab.jsx","components/FormComponents/Instruments.jsx","components/FormComponents/Platform.jsx","components/Tabs/PlatformTab.jsx","components/FormComponents/MapSelect.jsx","components/Tabs/SpatialTab.jsx","components/FormComponents/Regions.jsx","components/Tabs/SubmitTab.jsx","components/Pages/MetadataForm.jsx","components/FormComponents/EditSavedContact.jsx","components/FormComponents/MetadataRecordListItem.jsx","components/Pages/Reviewer.jsx","components/Pages/Admin.jsx","components/Pages/SentryTest.jsx","components/BaseLayout.jsx","components/FormComponents/RegionCard.jsx","components/Pages/RegionSelect.jsx","components/App.jsx","serviceWorker.js","index.jsx"],"names":["regions","pacific","title","en","fr","catalogueTitle","colors","primary","secondary","email","catalogueURL","introPageText","showInRegionSelector","stlaurent","atlantic","iys","hakai","config","apiKey","authDomain","databaseURL","process","REACT_APP_DEV_DEPLOYMENT","projectId","storageBucket","messagingSenderId","appId","firebase","initializeApp","provider","auth","GoogleAuthProvider","setCustomParameters","promt","spanInLanguage","lang","children","useParams","language","En","Fr","I18n","props","console","error","Array","isArray","length","UserContext","createContext","user","authIsLoading","UserProvider","componentDidMount","region","match","params","setState","unsubscribe","onAuthStateChanged","userAuth","displayName","uid","Sentry","category","message","level","Info","database","ref","child","update","on","permissionsFB","permissions","toJSON","admins","Object","values","reviewers","isAdmin","includes","isReviewer","loggedIn","state","this","translate","functions","httpsCallable","Provider","value","Component","withRouter","useStyles","makeStyles","theme","root","display","flexGrow","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","languageSelector","borderColor","color","spacing","hide","flexShrink","whiteSpace","drawerOpen","drawerClose","overflowX","breakpoints","up","toolbar","alignItems","justifyContent","padding","mixins","content","MiniDrawer","history","useHistory","classes","useTheme","useContext","userIsReviewer","userIsAdmin","keys","pathname","useLocation","pathWithoutLang","split","map","e","slice","join","baseURL","React","useState","Boolean","open","setOpen","translations","home","new","contacts","saved","review","admin","signIn","logout","topBarBackgroundColor","usingDevDatabase","className","CssBaseline","AppBar","position","clsx","Toolbar","style","backgroundColor","IconButton","aria-label","onClick","edge","Menu","Typography","variant","noWrap","marginBottom","flex","src","alt","verticalAlign","paddingRight","Select","onChange","push","target","MenuItem","Drawer","paper","direction","ChevronRight","ChevronLeft","ListItem","key","ListItemIcon","Avatar","photoURL","ListItemText","Divider","List","Tooltip","placement","disabled","button","a","signInWithPopup","AccountCircle","ListAlt","RateReview","SupervisorAccount","signOut","then","ExitToApp","StatusChip","status","chipText","Chip","label","submitted","published","validateLatitude","num","validateLongitude","polygonIsValid","polygon","obj1","obj2","coordinates","c","JSON","parse","stringify","filter","lat","lon","parseFloat","contactIsFilled","contact","role","orgName","indName","validators","validation","val","tab","abstract","keywords","eov","north","south","east","west","progress","distribution","dist","name","url","verticalExtentMin","verticalExtentMax","verticalExtentDirection","platformID","record","noPlatform","platformDescription","instruments","instrument","id","license","every","find","validateField","fieldName","valueToValidate","validationFunction","percentValid","fields","numTotal","field","camelToSentenceCase","text","result","replace","charAt","toUpperCase","deepCopy","obj","firebaseToJSObject","input","out","forEach","entries","LastEdited","timeAgo","dateStr","TimeAgo","addLocale","format","Date","rand","Math","round","random","getModalStyle","top","left","transform","palette","background","border","boxShadow","shadows","SimpleModal","onClose","onAccept","modalStyle","Modal","aria-labelledby","aria-describedby","type","Submissions","records","deleteModalOpen","submitModalOpen","withdrawModalOpen","modalKey","modalRecord","loading","currentUser","recordRef","set","filename","getRecordFilename","recordsRef","once","recordFirebase","recordID","lastEditedBy","created","toISOString","timeFirstPublished","identifier","uuidv4","remove","modalName","toggleModal","deleteRecord","submitRecord","withdrawRecord","CircularProgress","marginTop","Button","startIcon","Add","sort","b","percentValidInt","recordIsComplete","submitTooltip","withdrawTooltip","editRecord","ListItemAvatar","Description","ListItemSecondaryAction","cloneRecord","FileCopy","Visibility","Edit","Delete","Publish","Eject","trim","toLowerCase","ContactTitle","getContactTitleFromNames","Contacts","modalOpen","contactsRef","contactFirebase","Grid","container","item","xs","deleteContact","addContact","editContact","PermContactCalendar","cloneContact","Login","NotFound","RequiredMark","passes","fontSize","bottom","SupplementalText","component","QuestionText","paperClass","margin","StartTab","regionInfo","Paper","href","Save","CheckBoxList","options","optionLabels","optionTooltips","v","i","FormControlLabel","control","Checkbox","checked","ele","arr","newCheckedValuesArray","concat","eovList","roleCodes","custodian","owner","distributor","author","coAuthor","collaborator","contributor","editor","funder","mediator","originator","pointOfContact","principalInvestigator","processor","publisher","resourceProvider","rightsHolder","sponsor","stakeholder","progressCodes","onGoing","historicalArchive","completed","depthDirections","EditContact","showRolePicker","updateContact","updateContactEvent","expanded","setExpanded","selectOptionIsInExpandedList","indexOf","numSpecialRoles","Accordion","AccordionSummary","expandIcon","ExpandMore","aria-controls","AccordionDetails","marginleft","TextField","fullWidth","orgURL","orgAdress","orgCity","orgCountry","orgEmail","indPosition","indEmail","formControl","minWidth","selectEmpty","SelectInput","FormControl","displayEmpty","InputLabel","enterDelay","initial","ContactListLeft","updateContacts","activeContact","setActiveContact","userContacts","currentContacts","setItems","contactList","justify","dragHandleSelector","lockAxis","onDrop","removedIndex","addedIndex","reorderedContacts","arrayMove","contactItem","fontWeight","contactIndex","duplicatedContact","duplicateContact","itemIndex","index","height","labelId","APAPreview","ContactTab","updateRecord","ContactLeftList","newContacts","BilingualTextInput","multiline","translationButonDisabled","awaitingTranslation","setAwaitingTranslation","handleEvent","newData","languages","InputProps","startAdornment","InputAdornment","size","endIcon","alternateLanguage","fromLang","translatedText","translation","data","Resources","updateResources","resources","emptyResource","description","removeResource","nameLabel","descriptionLabel","handleResourceChange","newValue","ResourcesTab","formatDate","date","d","getDate","m","getMonth","y","getFullYear","DateInput","dateStart","dateEnd","utils","DateFnsUtils","minDate","maxDate","dateSelected","KeyboardButtonProps","keywordList","dictionary","oxygen","nutrients","nitrate","phosphate","silicate","inorganicCarbon","dissolvedOrganicCarbon","seaSurfaceHeight","seawaterDensity","potentialTemperature","potentialDensity","speedOfSound","seaIce","seaState","seaSurfaceSalinity","seaSurfaceTemperature","subSurfaceCurrents","subSurfaceSalinity","subSurfaceTemperature","surfaceCurrents","pressure","other","deprecated","proposed","withdrawn","notAccepted","accepted","valid","tentative","superseded","retired","pending","final","underDevelopment","required","planned","obsolete","farming","biota","boundaries","climatologyMeteorologyAtmosphere","economy","elevation","environment","geoscientificInformation","health","imageryBaseMapsEarthCover","intelligenceMilitary","inlandWaters","location","oceans","planningCadastre","society","structure","transportation","utilitiesCommunication","extraTerrestrial","disaster","watershed","crustacean","sampling","crayfish","mariculture","fluorescence","spawning","hydrocarbon","incidents","macroalgae","marsh","meteorology","wetlands","enhancement","mollusc","seabirds","phytoplankton","fish","radiation","salinity","sediment","taxonomy","sustainabilty","waves","wind","depthPositive","heightPositive","spatial","platform","toLang","enToFr","KeywordsInput","selectedKeyword","setKeyword","inputValue","setInputValue","selectedKeywordAltLang","setSelectedKeywordAltLang","reverse","altLanguage","cleanList","list","Autocomplete","onInputChange","event","newInputValue","keyword","freeSolo","renderOption","option","getOptionLabel","renderInput","userKeywordList","userKeywordListAlt","onDelete","deletedChipLang","licenses","CC0","IdentificationTab","handleUpdateRecord","CatalogueLink","rel","undefined","datePublished","dateRevised","datasetIdentifier","limitations","emptyInstrument","manufacturer","version","Instruments","updateInstruments","activeInstrument","setActiveInstrument","updateInstrumentField","instrumentsCopy","manufacturerLabel","versionLabel","typeLabel","instrumentItem","Platform","PlatformTab","withLeaflet","handleUpdateMap","updateMap","mapData","onMapClear","editableFG","setEditableFG","setLayerError","coordTest","polyTest","clearExtraLayers","drawnItems","layerid","leafletElement","_layers","layer","removeLayer","handleChange","limitDecimals","x","Number","toPrecision","L","EditToolbar","include","enable","featureGroup","clearLayers","bboxIsDrawn","fieldsAreEmpty","Map","center","zoom","TileLayer","attribution","FeatureGroup","featureGroupRef","onCreated","layerType","polygonStrings","getLatLngs","lng","bounds","getBounds","getNorthEast","wrap","getSouthWest","draw","marker","circle","polyline","circlemarker","edit","test_string","test","hasPolygon","positions","polygonList","coordList","matchAll","point","parsePolyString","test_n","test_s","test_e","test_w","hasBoundingBox","inputProps","inputMode","pattern","SpatialTab","paddingBottom","GetRegionInfo","SubmitTab","isSubmitting","setSubmitting","validationErrors","reduce","acc","getErrorsByTab","LinearProgressWithLabel","Box","mr","LinearProgress","TabPanel","hidden","MetadataForm","changes","saveDisabled","comment","organization","tabIndex","highlightMissingRequireFields","editorInfo","loggedInUserCanEditRecord","isNewRecord","endsWith","loggedInUserID","recordUserID","userID","loggedInUserOwnsRecord","context","userinfo","userDataRef","recordFireBase","recordFireBaseObj","newNode","tabProps","Fab","right","handleSaveClick","Tabs","scrollButtons","Tab","tabRoot","textAlign","contextType","withStyles","contactID","off","isFilledEnoughToSave","ContactEditor","handleSubmitClick","handleCancelClick","MetadataRecordListItem","onViewClick","onDeleteClick","onSubmitClick","showPublishAction","showUnPublishAction","showUnSubmitAction","onUnSubmitClick","onUnPublishClick","Reviewer","users","publishModalOpen","unPublishModalOpen","unSubmitModalOpen","modalUserID","recordsForReview","recordsPublished","unique","Set","Admin","permissionsFirebase","dbRef","updatePermissions","SentryTest","Error","RegionLogo","imgPath","paddingLeft","Pages","path","exact","BaseLayout","createMuiTheme","main","MuiTextField","MuiSelect","MuiButton","ThemeProvider","maxWidth","media","MediaCard","regionSummary","Card","minHeight","CardActionArea","CardMedia","image","CardContent","maxHeight","RegionSelect","regionCode","regionPath","App","basename","to","window","hostname","dsn","integrations","Integrations","BrowserTracing","tracesSampleRate","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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e,OAGtCC,oBAAqB,CACnB,aAAc,mB,oBCsDTC,GA5FK,CAClB,wBACA,aACA,kBACA,kBACA,qBACA,wBACA,oBACA,qBACA,eACA,YACA,2BACA,2BACA,iBACA,gBACA,wBACA,oBACA,eACA,aACA,mBACA,gBACA,0BACA,4BACA,WACA,WACA,cACA,kBACA,qBACA,mBACA,gBACA,eACA,WACA,uBACA,sBACA,wBACA,UACA,oBACA,oBACA,cACA,YACA,sBACA,qBACA,iBACA,aACA,qBACA,gBACA,QACA,cACA,WACA,mCACA,cACA,yBACA,UACA,YACA,WACA,iBACA,uBACA,yBACA,oBACA,gBACA,YACA,OACA,oBACA,uBACA,mBACA,qBACA,gBACA,YACA,qBACA,4BACA,oBACA,2BACA,sBACA,gBACA,eACA,WACA,WACA,gBACA,mBACA,mBACA,mBACA,WACA,iBACA,oBACA,cACA,WACA,gBACA,QACA,OACA,gBC4FaC,GArLI,CACjBC,OAAQ,aACRC,UAAW,aACXC,QAAS,UACTC,UAAW,YACXC,SAAU,WACVC,gBAAiB,qBACjBC,uBAAwB,8BACxBC,iBAAkB,kCAClBC,gBAAiB,0BACjBC,qBAAsB,6BACtBC,iBAAkB,yBAClBC,aAAc,iBACdC,OAAQ,eACRC,SAAU,oBACVC,mBAAoB,yBACpBC,sBAAuB,4BACvBC,mBAAoB,uBACpBC,mBAAoB,8BACpBC,sBAAuB,iCACvBC,gBAAiB,sBACjBC,SAAU,WACVC,MAAO,QACP9I,iBAAkB,4BAClBf,UAAW,iBACXC,MAAO,kBACPzX,KAAM,cACN0X,YAAa,eACbQ,WAAY,aACZC,eAAgB,mBAChBC,sBAAuB,2BACvBC,UAAW,iBACXC,UAAW,UACXX,OAAQ,SACRc,QAAS,UACTb,SAAU,YACVC,aAAc,gBACdE,OAAQ,aACRE,SAAU,eACVO,aAAc,cACdV,YAAa,eACbE,OAAQ,YACRU,YAAa,cACb4I,WAAY,cACZC,SAAU,aACVC,UAAW,YACXC,YAAa,iBACbC,SAAU,aACVC,MAAO,SACPC,UAAW,YACXC,WAAY,cACZC,QAAS,YACTC,QAAS,aACTC,MAAO,QACPC,iBAAkB,sBAClBC,SAAU,SACVC,QAAS,cACTvJ,QAAS,WACTwJ,SAAU,cACVvJ,kBAAmB,qBACnBC,UAAW,aACXuJ,QAAS,cACTC,MAAO,QACPC,WAAY,mBACZC,iCAAkC,mDAClCC,QAAS,cACTC,UAAW,kBACXC,YAAa,eACbC,yBAA0B,iCAC1BC,OAAQ,WACRC,0BAA2B,gCAC3BC,qBAAsB,6BACtBC,aAAc,sBACdC,SAAU,cACVC,OAAQ,YACRC,iBAAkB,+BAClBC,QAAS,gBACTC,UAAW,YACXC,eAAgB,aAChBC,uBAAwB,2BACxBC,iBAAkB,kBAClBC,SAAU,cACV,wBAAyB,wBACzB,aAAc,uBACd,kBAAmB,2BACnB,kBAAmB,wBACnB,wBAAyB,oCACzB,oBAAqB,+BACrB,qBAAsB,0BACtB,eAAgB,cAChBC,UAAW,iBACX,2BAA4B,kCAC5B,2BAA4B,+BAC5B,iBAAkB,wBAClB,gBAAiB,iBACjB,wBAAyB,8BACzB,oBAAqB,qBACrB,eAAgB,gBAChBC,WAAY,cACZ,mBAAoB,sBACpB,gBAAiB,iBACjB,0BAA2B,2BAC3B,4BAA6B,oCAC7BC,SAAU,qBACVC,SAAU,gBACVC,YAAa,8BACb,kBAAmB,0BACnB,qBAAsB,yBACtB,mBAAoB,0BACpB,gBAAiB,sBACjBC,aAAc,eACdC,SAAU,QACV,uBAAwB,wBACxB,sBAAuB,yBACvB,wBAAyB,yBACzB,UAAW,eACX,oBAAqB,mBACrB,oBAAqB,qBACrBC,YAAa,eACbC,UAAW,YACX,sBAAuB,+BACvB,qBAAsB,sBACtB,iBAAkB,qBAClBC,WAAY,aACZ,qBAAsB,uBACtB,gBAAiB,uBACjBC,MAAO,SACPC,YAAa,qBACbC,SAAU,kBACV,mCAAoC,mCACpCC,YAAa,iBACb,yBAA0B,8BAC1BC,QAAS,YACT,YAAa,aACbC,SAAU,iBACV,iBAAkB,qBAClB,uBAAwB,yBACxB,yBAA0B,8BAC1B,oBAAqB,iBACrBC,cAAe,gBACf,YAAa,oBACbC,KAAM,UACN,oBAAqB,0BACrB,uBAAwB,4BACxB,mBAAoB,0BACpB,qBAAsB,0BACtB,gBAAiB,iBACjBC,UAAW,YACX,qBAAsB,uBACtB,4BAA6B,kCAC7B,oBAAqB,yBACrB,2BAA4B,gCAC5B,sBAAuB,uBACvB,gBAAiB,qBACjB,eAAgB,mBAChBC,SAAU,cACVC,SAAU,cACV,gBAAiB,qBACjB,mBAAoB,eACpB,mBAAoB,uBACpB,mBAAoB,gBACpBC,SAAU,YACV,iBAAkB,yBAClB,oBAAqB,0BACrB,cAAe,gBACf,WAAY,4BACZC,cAAe,sBACfC,MAAO,SACPC,KAAM,QACN,eAAgB,qBAChBC,cAAe,sBACfC,eAAgB,mBAEhB,sBAAuB,gCACvBhH,UAAW,aACXiH,QAAS,UACTC,SAAU,YACV,yBAA0B,0BAC1Bze,SAAU,YC1KGzE,GANG,SAACkH,GAAwB,IAAnBic,EAAkB,uDAAT,KAC/B,MAAe,OAAXA,EAAwBjc,EAErBkc,GAAOlc,IAAQ,MCwKTmc,GA5JO,SAAC,GAKhB,IAJL7c,EAII,EAJJA,SAII,IAHJpG,aAGI,MAHI,CAAEvF,GAAI,GAAIC,GAAI,IAGlB,EAFJkQ,EAEI,EAFJA,KACArD,EACI,EADJA,SAEQ3K,EAAaD,cAAbC,SADJ,EAEkCkH,mBAAS,IAF3C,mBAEGof,EAFH,KAEoBC,EAFpB,OAGgCrf,mBAAS,IAHzC,mBAGGsf,EAHH,KAGeC,EAHf,OAIwDvf,mBAAS,IAJjE,mBAIGwf,EAJH,KAI2BC,EAJ3B,KAMExI,EAAY,CAAC,KAAM,MAER,OAAbne,GAAmBme,EAAUyI,UACjC,IAAMC,EAAc1I,EAAU,GAE9B,SAAS2I,EAAUC,GACjB,OAAOA,EACJngB,KAAI,SAACiP,GAAD,OAAWA,GAAQ,IAAIV,UAC3B1I,QAAO,SAACoJ,EAAM4B,EAAGM,GAAV,OAAkBlC,GAAQkC,EAAIoC,QAAQtE,KAAU4B,KAgD5D,OACE,kBAAC9B,GAAA,EAAD,CAAMC,WAAS,EAAC5Q,QAAS,EAAG8E,UAAU,UACpC,kBAAC6L,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAACkR,GAAA,EAAD,CACER,WAAYA,EACZS,cAAe,SAACC,EAAOC,GACrBV,EAAcU,IAEhBxc,SAAUA,EACVnB,SAAU,SAAC3C,EAAGugB,GAAJ,OACRT,EAA0B3jB,GAAUokB,EAASP,KAE/CzjB,MAAOkjB,GAAmB,GAC1Be,UAAQ,EACRC,aAAc,SAACC,GAAD,OAAYvkB,GAAUukB,EAAQvnB,IAAaunB,GACzDlQ,QAASqJ,GACT8G,eAAgB,SAACD,GAAD,OAAYvkB,GAAUukB,EAAQvnB,IAAaunB,GAC3D1M,WAAS,EACT4M,YAAa,SAACvmB,GAAD,OACX,kBAAC0Z,GAAA,EAAD,iBAEM1Z,EAFN,CAGEwK,MAAO1L,EAAS4P,qBAKxB,kBAAC+F,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAC8E,GAAA,EAAD,CACExX,MAAOsjB,GAA0B,GACjCld,SAAU,SAAC3C,GAAD,OAAO8f,EAA0B9f,EAAE6C,OAAOtG,QACpDyX,WAAS,EACTuD,WAAY,CACVC,eACE,kBAACC,GAAA,EAAD,CAAgBlW,SAAS,SACtBye,EAAYjX,mBAOvB,kBAAC+F,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACb,kBAAC/B,GAAA,EAAD,CACEpJ,SACEA,IACE2b,IAAoBI,IAA2BF,EAEnDxS,UAAW,kBAAC,KAAD,MACXrL,QA5ER,WACE,IAAMye,EAAUd,GAAmBE,EACnC,GAAIY,GAAWV,EAAwB,CACrC,IAAMnH,EAAW,CAAE1hB,GAAIuF,EAAMvF,GAAIC,GAAIsF,EAAMtF,IAErC4pB,EAAe,uBAAOtkB,EAAMpD,IAAb,CAAwBonB,IACvCO,EAAkB,uBACnBvkB,EAAMyjB,IADa,CAEtBH,IAGEU,IAAS7H,EAASvf,GAAY8mB,EAAUY,IACxChB,IACFnH,EAASsH,GAAeC,EAAUa,IAEpCne,EAAS,CACPE,OAAQ,CACNsE,OACA5K,MAAOmc,KAIbgH,EAAW,IACXI,EAA0B,IAC1BF,EAAc,MAsDR,kBAAC,GAAD,KACE,kBAACxmB,EAAD,YACA,kBAACC,EAAD,mBAKN,kBAACyV,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACVqI,EACE1R,QAAO,SAAC5M,GAAD,OAAUuD,EAAMvD,IAASuD,EAAMvD,GAAMY,UAC5CmG,KAAI,SAAC/G,GAAD,OACH,yBAAK0I,MAAO,CAAEuO,OAAQ,QAAU5M,IAAKrK,GAEjC,kBAACye,GAAA,EAAD,CAAgB/V,MAAO,CAAEuO,OAAQ,SAC9BjX,EAAK+P,eAGV,kBAAC+F,GAAA,EAAD,CAAMC,WAAS,EAAC9L,UAAU,OACxB,kBAAC6L,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,IACT1S,EAAMvD,IAAS,IAAI+G,KAAI,SAACwgB,GAAD,OACvB,kBAAC3b,GAAA,EAAD,CACEvB,IAAKkd,EACLzc,SAAUA,EACVe,MAAO0b,EACPQ,UAxHEpc,EAwHqB4b,EAxHXS,EAwHoBhoB,EAvH3C,WACL,IAAM0f,EAAQ,aACZ1hB,GAAIuF,EAAMvF,GACVC,GAAIsF,EAAMtF,IACT+pB,EAAkBzkB,EAAMykB,GAAiBpb,QACxC,SAAC2a,GAAD,OAAaA,IAAY5b,MAI7BhC,EAAS,CACPE,OAAQ,CACNsE,OACA5K,MAAOmc,OA4GKxa,MAAM,UACNwD,MAAO,CAAEuO,OAAQ,SA1HrC,IAAsBtL,EAAUqc,cC5BnBC,GAXE,CACf,YAAa,mCACbC,IAAK,qBACL,iCAAkC,mCAClC,sCACE,wCACF,uCACE,sDACF,aAAc,+BC8cDC,GA9bW,SAAC,GAKpB,IAJLrd,EAII,EAJJA,SACA2D,EAGI,EAHJA,OACA2Z,EAEI,EAFJA,mBACAxK,EACI,EADJA,aACI,EACyB1d,cAArBC,EADJ,EACIA,SAAUgB,EADd,EACcA,OACZgW,EAAatZ,EAAQsD,GAErBknB,EAAgB,SAACroB,GAAD,OACpB,uBACEqX,KAAMF,EAAW5Y,aAAayB,GAC9B6J,OAAO,SACPye,IAAI,uBAEHnR,EAAW5Y,aAAayB,KAI7B,OACE,6BACE,kBAACoX,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC5W,EAAD,mEACA,kBAACC,EAAD,oFAKF,kBAAC,GAAD,CAAcqW,OAAQxH,GAAcT,EAAQ,WAC5C,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACrO,EAAD,+IAGkB+W,EAAWjZ,eAAeF,GAH5C,KAKA,kBAACqC,EAAD,yLAGkC8W,EAAWjZ,eAAeD,GAH5D,QASN,kBAAC,GAAD,CACEsF,MAAOkL,EAAO1Q,MACd4L,SAAUye,EAAmB,SAC7Btd,SAAUA,KAId,kBAACsM,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC5W,EAAD,qDACA,kBAACC,EAAD,+DAEF,kBAAC,GAAD,CAAcqW,OAAQxH,GAAcT,EAAQ,eAE9C,kBAAC,GAAD,CACElL,MAAOkL,EAAOtO,SACdwJ,SAAUye,EAAmB,YAC7B5Q,QAAS,CAAC,KAAM,MAChBC,aAAc,CAAC,UAAW,eAC1B3M,SAAUA,KAId,kBAACsM,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC5W,EAAD,kFAIA,kBAACC,EAAD,0DAEF,kBAAC,GAAD,CAAcqW,OAAQxH,GAAcT,EAAQ,cAC5C,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACrO,EAAD,+FAE2B+W,EAAWjZ,eAAeF,GAFrD,0BAGc,kBAACqqB,EAAD,CAAeroB,KAAK,OAHlC,8PAQE,6BACA,6BATF,8BAWE,6BACE,4BACE,4BACE,mCADF,kCAGA,4BACE,mCADF,+EAIA,4BACE,oCADF,oFAIA,4BACE,kCADF,2DAIA,4BACE,kCADF,yBAGA,4BACE,kCADF,2EAON,kBAACK,EAAD,KACG,IADH,qHAGwC,IACrC8W,EAAWjZ,eAAeD,GAJ7B,wHAKiE,IAC/D,kBAACoqB,EAAD,CAAeroB,KAAK,OANtB,+IAcN,kBAAC,GAAD,CACEuD,MAAOkL,EAAOhB,SACd9D,SAAUye,EAAmB,YAC7Btd,SAAUA,EACVkT,WAAS,KAIb,kBAAC5G,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC5W,EAAD,4FAIA,kBAACC,EAAD,uHAKF,kBAAC,GAAD,CAAcqW,OAAQxH,GAAcT,EAAQ,SAC5C,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACrO,EAAD,qDACA,kBAACC,EAAD,sGAON,kBAAC,GAAD,CACEkD,MAAOkL,EAAOd,KAAO,GACrBhE,SAAUiU,EAAa,OACvBpG,QAASa,GACTZ,aAAcY,GAAQtR,KAAI,SAACC,GACzB,OAAO0I,GAAoBvM,GAAU6D,EAAG7G,OAE1C2K,SAAUA,KAGd,kBAACsM,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAClB,GAAA,EAAD,CAAMC,WAAS,EAAC5Q,QAAS,EAAG8E,UAAU,UACpC,kBAAC6L,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC7V,EAAD,mPAMA,kBAACC,EAAD,gQAOF,kBAAC,GAAD,CAAcqW,OAAQxH,GAAcT,EAAQ,cAC5C,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACrO,EAAD,yDACA,kBAACC,EAAD,wGAQR,kBAACyV,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAC,GAAD,CACE1S,MAAOkL,EAAOf,SACd/D,SAAUye,EAAmB,YAC7Btd,SAAUA,OAKlB,kBAACsM,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC5W,EAAD,4CACA,kBAACC,EAAD,qDAEF,kBAAC,GAAD,CAAcqW,OAAQxH,GAAcT,EAAQ,eAE9C,kBAAC,GAAD,CACElL,MAAOkL,EAAOT,UAAY,GAC1BrE,SAAUye,EAAmB,YAC7B5Q,QAAS9U,OAAOgE,KAAKgT,IACrBjC,aAAc/U,OAAOC,OAAO+W,IAAe3S,KACzC,qBAAGhJ,MAAkBoC,MAEvBuX,eAAgBhV,OAAOC,OAAO+W,IAAe3S,KAC3C,qBAAG4I,KAAgBxP,MAErB2K,SAAUA,EACVkQ,WAAW,EACXtS,MAAO,CAAE9D,MAAO,YAIpB,kBAACwS,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC5W,EAAD,8DACA,kBAACC,EAAD,yEAGJ,kBAAC,GAAD,CACEkD,MAAOkL,EAAO4R,WAAa,KAC3B1W,SAAUye,EAAmB,aAC7Btd,SAAUA,EACVwV,QAAS7R,EAAO6R,cAAWiI,IAE7B,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACnoB,EAAD,sGAIA,kBAACC,EAAD,8HAMJ,kBAAC,GAAD,CACEkD,MAAOkL,EAAO6R,SAAW,KACzB3W,SAAUye,EAAmB,WAC7Btd,SAAUA,EACVuV,UAAW5R,EAAO4R,gBAAakI,KAGnC,kBAACnR,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC5W,EAAD,oGAIA,kBAACC,EAAD,kKAMJ,kBAAC,GAAD,CACE8N,KAAK,gBACL5K,MAAOkL,EAAO+Z,eAAiB,KAC/B7e,SAAUye,EAAmB,iBAC7Btd,SAAUA,KAId,kBAACsM,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC5W,EAAD,4FAIA,kBAACC,EAAD,gKAMJ,kBAAC,GAAD,CACE8N,KAAK,cACL5K,MAAOkL,EAAOga,aAAe,KAC7B9e,SAAUye,EAAmB,eAC7Btd,SAAUA,KAId,kBAACsM,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC5W,EAAD,8CACA,kBAACC,EAAD,gEACM,IAJV,gCAQA,kBAAC0a,GAAA,EAAD,CACErS,MAAO,CAAEuL,UAAW,QACpB9F,KAAK,oBACL5K,MAAOkL,EAAOia,kBACd/e,SAAUye,EAAmB,qBAC7BpN,WAAS,KAIb,kBAAC5D,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC5W,EAAD,qCACA,kBAACC,EAAD,0DAEF,kBAAC,GAAD,CAAcqW,OAAQxH,GAAcT,EAAQ,aAC5C,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACrO,EAAD,KACE,4BACE,4BACE,iGAGK,IAJP,6HASA,4BACE,iDADF,2CAIA,4BACE,+DADF,mPASJ,kBAACC,EAAD,KACE,4BACE,4BACE,iGAEc,KAHhB,4LASA,4BACE,iDADF,4HAKA,4BACE,wEADF,kTAaV,kBAAC,GAAD,CACEkD,MAAOkL,EAAOM,QACdpF,SAAUye,EAAmB,WAC7B3Q,aAAc/U,OAAOC,OAAOslB,IAC5BzQ,QAAS9U,OAAOgE,KAAKuhB,IACrBnd,SAAUA,KAGd,kBAACsM,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC5W,EAAD,wDACA,kBAACC,EAAD,sEAEF,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACD,EAAD,oBAEE,2BACE,4BACE,yEACA,qEACA,uFAIN,kBAACC,EAAD,qBAEE,2BACE,4BACE,4EACA,+EACA,yHAUZ,kBAAC,GAAD,CACEkD,MAAOkL,EAAOka,YACdhf,SAAUye,EAAmB,eAC7BpK,WAAS,EACTlT,SAAUA,OC/bd8d,GAAkB,CACtB9Z,GAAI,GACJ+Z,aAAc,GACdC,QAAS,GACT5W,KAAM,CAAElU,GAAI,GAAIC,GAAI,IACpBohB,YAAa,CAAErhB,GAAI,GAAIC,GAAI,KAwKd8qB,GArKK,SAAC,GAKd,IAJLC,EAII,EAJJA,kBAII,IAHJpa,mBAGI,MAHU,GAGV,EAFJ9D,EAEI,EAFJA,SACAkM,EACI,EADJA,WACI,EAC4C3P,mBAAS,GADrD,mBACG4hB,EADH,KACqBC,EADrB,KAOJ,SAASC,EAAsB9e,GAC7B,OAAO,SAACrD,GACN,IAAMoiB,EAAe,aAAOxa,GAC5Bwa,EAAgBH,GAAkB5e,GAAOrD,EAAE6C,OAAOtG,MAClDylB,EAAkBI,IAUtB,IAAMC,EAAoB,kBAAC,GAAD,CAAMrrB,GAAG,eAAeC,GAAG,cAC/CqrB,EAAe,kBAAC,GAAD,CAAMtrB,GAAG,UAAUC,GAAG,YACrCsrB,EAAY,kBAAC,GAAD,CAAMvrB,GAAG,OAAOC,GAAG,SAC/BuhB,EAAmB,kBAAC,GAAD,CAAMxhB,GAAG,cAAcC,GAAG,gBAE7C4Q,EAAaD,EAAYhO,OAAS,GAAKgO,EAAYqa,GAEzD,OACE,kBAACnT,GAAA,EAAD,CAAMC,WAAS,EAAC9L,UAAU,MAAM9E,QAAS,GACvC,kBAAC2Q,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACb,kBAACH,GAAA,EAAD,CAAMC,WAAS,EAAC9L,UAAU,SAAS9E,QAAS,GAC1C,kBAAC2Q,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GAAb,eAEE,kBAACtL,EAAA,EAAD,KACGiE,EAAY7H,KAAI,SAACyiB,EAAgB5R,GAChC,OACE,kBAACxN,EAAA,EAAD,CACEC,IAAKuN,EACL7M,QAAM,EACNjC,QAAS,kBAAMogB,EAAoBtR,KAEnC,kBAACnN,EAAA,EAAD,CACErM,QACE,kBAAC6K,EAAA,EAAD,CACEP,MAAO,CACLwU,WAAY+L,IAAqBrR,EAAI,OAAS,KAG/CA,EAAI,EALP,KAKY4R,EAAe1a,YAUzC,kBAACgH,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAC/B,GAAA,EAAD,CACEpJ,SAAUA,EACVqJ,UAAW,kBAACC,GAAA,EAAD,MACXtL,QA5DZ,WACEkgB,EAAkBpa,EAAYwJ,OAAOpI,GAAS4Y,MAC9CM,EAAoBta,EAAYhO,SA2DtB8H,MAAO,CAAE8U,OAAQ,OAAQ7Y,WAAY,SAErC,kBAAC,GAAD,KACE,kBAACvE,EAAD,uBACA,kBAACC,EAAD,mCAMV,kBAACyV,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAACH,GAAA,EAAD,CAAMC,WAAS,EAAC9L,UAAU,UACvB4E,GACC,kBAACuI,GAAA,EAAD,CAAO1O,MAAOsO,GACZ,kBAAClB,GAAA,EAAD,CAAMC,WAAS,EAAC9L,UAAU,SAAS9E,QAAS,GAC1C,kBAAC2Q,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAC,GAAD,KACE,kBAAC7V,EAAD,kCACA,kBAACC,EAAD,yCAEF,kBAAC0a,GAAA,EAAD,CACElP,MAAM,KACNtI,MAAOsL,EAAWC,GAClBnF,SAAUwf,EAAsB,MAChCnO,WAAS,EACTlQ,SAAUA,KAGd,kBAACgL,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAC8E,GAAA,EAAD,CACElP,MAAOwd,EACPlb,KAAK,eACL5K,MAAOsL,EAAWga,aAClBlf,SAAUwf,EAAsB,gBAChCnO,WAAS,EACTlQ,SAAUA,IACT,KAEL,kBAACgL,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAC8E,GAAA,EAAD,CACElP,MAAOyd,EACP/lB,MAAOsL,EAAWia,QAClBnf,SAAUwf,EAAsB,WAChCnO,WAAS,EACTlQ,SAAUA,KAGd,kBAACgL,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAChN,EAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC7I,EAAD,wBACA,kBAACC,EAAD,4BAGJ,kBAAC,GAAD,CACEwL,MAAO0d,EACPhmB,MAAOsL,EAAWqD,KAClBvI,SAAUwf,EAAsB,QAChCre,SAAUA,KAEN,IACR,kBAACgL,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAChN,EAAA,EAAD,oBACA,kBAAC,GAAD,CACE4C,MAAO2T,EACPjc,MAAOsL,EAAWwQ,YAClB1V,SAAUwf,EAAsB,eAChCre,SAAUA,KAGd,kBAACgL,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAC/B,GAAA,EAAD,CACEC,UAAW,kBAACgB,GAAA,EAAD,MACXrK,SAAUA,EACVhC,QA5HlB,WACEkgB,EACEpa,EAAYhC,QAAO,SAAC5F,EAAGuW,GAAJ,OAAcA,IAAU0L,MAEzCra,EAAYhO,QAAQsoB,EAAoBta,EAAYhO,OAAS,KA0HjD,kBAAC,GAAD,KACE,kBAACR,EAAD,oBACA,kBAACC,EAAD,wCChGPopB,GAjEE,SAAC,GAAD,IAAGhb,EAAH,EAAGA,OAAQ2Z,EAAX,EAAWA,mBAAoBtd,EAA/B,EAA+BA,SAA/B,OACf,oCAEE,kBAACgL,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,EAACvN,MAAK,2BAAOsO,IAAP,IAAmB/C,UAAW,WAC/C,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC7T,EAAD,8BACA,kBAACC,EAAD,kCAEF,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACD,EAAD,yCACA,kBAACC,EAAD,uDAEF,kBAAC,GAAD,CAAcqW,OAAQxH,GAAcT,EAAQ,2BAGhD,kBAAC,GAAD,CACElL,MAAOkL,EAAOE,oBACdhF,SAAUye,EAAmB,uBAC7BpK,WAAS,EACTlT,SAAUA,KAId,kBAACgL,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,EAACvN,MAAOsO,IACnB,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC5W,EAAD,yCACA,kBAACC,EAAD,0CAEF,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACD,EAAD,sHAIA,kBAACC,EAAD,gHAEuC,IACrC,uBACEgX,KAAK,uBACLxN,OAAO,SACPye,IAAI,uBAHN,QAHF,kCAaF,kBAAC,GAAD,CAAc5R,OAAQxH,GAAcT,EAAQ,kBAIhD,kBAACsM,GAAA,EAAD,CACElP,MAAO,kBAAC,GAAD,CAAM7N,GAAG,cAAcC,GAAG,qBACjCsF,MAAOkL,EAAOD,WACd7E,SAAUye,EAAmB,cAC7BpN,WAAS,EACTlQ,SAAUA,OCgEH4e,GA1HK,SAAC,GAKd,IAJL5e,EAII,EAJJA,SACA2D,EAGI,EAHJA,OACA2Z,EAEI,EAFJA,mBACAxK,EACI,EADJA,aACI,EAC2BnP,EAAvBC,kBADJ,SAEJ,OACE,6BACE,kBAAC0I,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAClB,GAAA,EAAD,CAAMC,WAAS,EAAC9L,UAAU,SAAS9E,QAAS,GAC1C,kBAAC2Q,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,EAACvN,MAAOsO,IACnB,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC5W,EAAD,iGAGE,4BACE,sCACA,oCACA,oCACA,yCACA,wCACA,mCACA,wCAVJ,6IAgBA,kBAACC,EAAD,uJAIE,4BACE,4BACE,sCAEF,sCACA,wCACA,yCACA,uCACA,mCACA,yCAbJ,4LAsBJ,kBAACwX,GAAA,EAAD,CACE/M,SAAUA,EACVgN,QACE,kBAACC,GAAA,EAAD,CACE5J,KAAK,aACL6J,QAAStJ,EACT/E,SAAU,SAAC3C,GAAO,IACRgR,EAAYhR,EAAE6C,OAAdmO,QAER4F,EAAa,aAAbA,CAA2B5F,MAIjCnM,MACE,kBAAC,GAAD,KACE,kBAACzL,EAAD,6CACA,kBAACC,EAAD,uDAMR,kBAACyV,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,EAACvN,MAAOsO,IACjBtI,EAuBA,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACtO,EAAD,6DACA,kBAACC,EAAD,yEAzBJ,oCACE,kBAAC,GAAD,CACEoO,OAAQA,EACR2Z,mBAAoBA,EACpBtd,SAAUA,IAGZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC1K,EAAD,oEAIA,kBAACC,EAAD,oEAKF,kBAAC,GAAD,CAAcqW,OAAQxH,GAAcT,EAAQ,mBAelD,kBAAC,GAAD,CACEG,YAAaH,EAAOG,YACpBoa,kBAAmBpL,EAAa,eAChC9S,SAAUA,EACVkM,WAAYA,GACZtI,WAAYA,S,yFC+MXib,I,cAAAA,cArTG,SAAC,GAMZ,IALLC,EAKI,EALJA,gBACAC,EAII,EAJJA,UAII,IAHJC,eAGI,MAHM,GAGN,EAFJhf,EAEI,EAFJA,SACA2D,EACI,EADJA,OAGA,SAASsb,IASPH,EARqB,CACnBhc,MAAO,GACPC,MAAO,GACPC,KAAM,GACNC,KAAM,GACN3B,QAAS,KART,MAcgC/E,mBAAS,MAdzC,mBAcG2iB,EAdH,KAceC,EAdf,OAesB5iB,mBAAS,MAA1B6iB,EAfL,oBAiBEC,EAAY,cACZC,EAAW,kCAEjB,SAASC,EAAiBC,GAIpB5nB,OAAOgE,KAAK4jB,GAAY1pB,OAAS,GACnC8B,OAAOgE,KAAK4jB,GAAYja,SAAQ,SAACka,GAI/B,GAAuB,IAHA7nB,OAAOgE,KAAKsjB,EAAWQ,eAAeC,SAC1D7pB,OAEH,CAEA,IAAM8pB,EAAQJ,EAAWC,GAEzBP,EAAWQ,eAAeG,YAAYD,OAK5C,SAASE,EAAavgB,GACpB,OAAO,SAACrD,GAENqjB,EADmBL,EAAWQ,eAAeC,SAG7C,IAAMpM,EAAO,2BAAQyL,GAAR,kBAAkBzf,EAAMrD,EAAE6C,OAAOtG,QAE9CsmB,EAAUxL,IAYd,SAASwM,EAAcC,GACrB,OAAOC,OAAOhe,WAAW+d,GAAGE,YAAY,GA6E1CC,KAAEC,YAAY/V,OAAOgW,QAAQ,CAC3BC,OAD2B,WAGzBloB,KAAKsU,QAAQ6T,aAAaC,cAC1BvB,OAIJ,IAAMwB,EAAcjkB,QAClBwiB,EAAQlc,OAASkc,EAAQjc,OAASic,EAAQhc,MAAQgc,EAAQ/b,MAGtDyd,GAAkBD,IAAgBzB,EAAQ1d,QAEhD,OACE,6BACE,kBAACqf,GAAA,EAAD,CACE/iB,MAAO,CAAE9D,MAAO,OAAQ4Y,OAAQ,QAChCkO,OAAQ,CAAC,IAAK,KACdC,KAAM,GAIN,kBAACC,GAAA,EAAD,CACEC,YAAY,0EACZzd,IAAI,uDAEN,kBAAC0d,GAAA,EAAD,CACE5pB,IAAK,SAAC6pB,GA9BZ9B,EA+B4B8B,MAGR,IAAbjhB,GACC,kBAAC,KAAD,CACEvC,SAAS,UAETyjB,UA3EM,SAAChlB,GAAO,IAChB0jB,EAAqB1jB,EAArB0jB,MAAOuB,EAAcjlB,EAAdilB,UAMf,OAFA5B,EADmBL,EAAWQ,eAAeC,SAGrCwB,GACN,IAAK,UACH,IACMC,EADSxB,EAAMyB,aAAa,GACJplB,KAC5B,gBAAG8F,EAAH,EAAGA,IAAKuf,EAAR,EAAQA,IAAR,gBAAqBvB,EAAche,GAAnC,YAA2Cge,EAAcuB,OAErDhgB,EAAU8f,EAAe9T,OAAO8T,EAAe,IAAIhlB,KAAK,KAE9D2iB,EAAU,CAAEzd,YACZ,MAEF,QACA,IAAK,YACH,IAAMigB,EAAS3B,EAAM4B,YADvB,EAGkCD,EAAOE,eAAeC,OAA3C5e,EAHb,EAGQf,IAAiBiB,EAHzB,EAGoBse,IAHpB,EAIkCC,EAAOI,eAAeD,OAA3C3e,EAJb,EAIQhB,IAAiBkB,EAJzB,EAIoBqe,IAElBxe,EAAQid,EAAcjd,GACtBC,EAAQgd,EAAchd,GACtBC,EAAO+c,EAAc/c,GACrBC,EAAO8c,EAAc9c,GAGrB8b,EADiB,CAAEjc,QAAOC,QAAOC,OAAMC,WA8CjCgc,WAAYA,EACZ2C,KAAM,CACJC,QAAQ,EACRC,QAAQ,EACRC,UAAU,EACVC,cAAc,EACd1gB,SAAS,GAEX2gB,KAAM,CACJA,MAAM,KAzFD,WAAoC,IAAnCC,EAAkC,uDAApBlD,EAAQ1d,QACxC,OAAOge,EAAS6C,KAAKD,GA6FdE,IACC,kBAAC,KAAD,CAAgBC,UA9H1B,SAAyBC,GACvB,IAAIC,EAAY,aAAID,EAAYE,SAASlD,IAAWrjB,KAAI,SAAC3F,GACvD,OAAOA,EAAM,MAGf,IACEisB,EAAYA,EAAUtmB,KAAI,SAACwmB,GACzB,OAAOA,EAAMzmB,MAAM,KAAKC,IAAIgkB,WAE9B,MAAOtqB,GACPypB,EAAc,CAAEzpB,UAGlB,OAAO4sB,EAiH4BG,CAAgB1D,EAAQ1d,WA9GtC,WAKjB,IAJJqhB,EAIG,uDAJM3D,EAAQlc,MACjB8f,EAGG,uDAHM5D,EAAQjc,MACjB8f,EAEG,uDAFM7D,EAAQhc,KACjB8f,EACG,uDADM9D,EAAQ/b,KAEXkf,EACJ9C,EAAU8C,KAAKQ,IACftD,EAAU8C,KAAKS,IACfvD,EAAU8C,KAAKU,IACfxD,EAAU8C,KAAKW,GAEjB,OAAOX,EAqGAY,IACC,kBAAC,KAAD,CACExB,OAAQ,CACN,CAACvC,EAAQlc,MAAOkc,EAAQhc,MACxB,CAACgc,EAAQjc,MAAOic,EAAQ/b,WAMlC,6BACA,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC3N,EAAD,iCACA,kBAACC,EAAD,gEAEAkrB,GAAeC,IACf,kBAAC,GAAD,CAAc9U,OAAQxH,GAAcT,EAAQ,SAG9C,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACrO,EAAD,8IAKA,kBAACC,EAAD,wGAE6B,oDAF7B,QAON,kBAACyV,GAAA,EAAD,CAAMC,WAAS,EAAC9L,UAAU,MAAM9E,QAAS,GACvC,kBAAC2Q,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACb,kBAAC8E,GAAA,EAAD,CACElP,MAAO,kBAAC,GAAD,CAAM7N,GAAG,QAAQC,GAAG,SAC3BsF,MAAOumB,EAAQlc,OAAS,GACxBkgB,WAAY,CAAEC,UAAW,UAAWC,QAAS,UAC7CrkB,SAAUihB,EAAa,SACvB1Y,KAAK,SACLpH,SAAUA,GAAYxD,QAAQwiB,EAAQ1d,YAG1C,kBAAC0J,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACb,kBAAC8E,GAAA,EAAD,CACElP,MAAO,kBAAC,GAAD,CAAM7N,GAAG,QAAQC,GAAG,QAC3BsF,MAAOumB,EAAQjc,OAAS,GACxBlE,SAAUihB,EAAa,SACvB1Y,KAAK,SACLpH,SAAUA,GAAYxD,QAAQwiB,EAAQ1d,YAG1C,kBAAC0J,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACb,kBAAC8E,GAAA,EAAD,CACElP,MAAO,kBAAC,GAAD,CAAM7N,GAAG,OAAOC,GAAG,QAC1BsF,MAAOumB,EAAQhc,MAAQ,GACvBnE,SAAUihB,EAAa,QACvB1Y,KAAK,SACLpH,SAAUA,GAAYxD,QAAQwiB,EAAQ1d,YAG1C,kBAAC0J,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACb,kBAAC8E,GAAA,EAAD,CACExX,MAAOumB,EAAQ/b,MAAQ,GACvBlC,MAAO,kBAAC,GAAD,CAAM7N,GAAG,OAAOC,GAAG,UAC1B0L,SAAUihB,EAAa,QACvB1Y,KAAK,SACLpH,SAAUA,GAAYxD,QAAQwiB,EAAQ1d,aAK5C,kBAACnD,EAAA,EAAD,CAAYC,QAAQ,KAAKR,MAAO,CAAEuO,OAAQ,OAAQtS,WAAY,QAC5D,kBAAC,GAAD,KACE,kBAACvE,EAAD,WACA,kBAACC,EAAD,aAIJ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACD,EAAD,4BACA,kBAACC,EAAD,6CAECkrB,GAAeC,IAChB,kBAAC,GAAD,CAAc9U,OAAQxH,GAAcT,EAAQ,SAE9C,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACrO,EAAD,mGAIA,kBAACC,EAAD,6EAGM,IATV,oCAaF,kBAAC0a,GAAA,EAAD,CACExX,MAAOumB,EAAQ1d,SAAW,GAC1BzC,SArPN,SAA0B3C,GAExBqjB,EADmBL,EAAWQ,eAAeC,SAG7C,IAAMpM,EAAO,2BAAQyL,GAAR,IAAiB1d,QAASpF,EAAE6C,OAAOtG,QAChDsmB,EAAUxL,IAiPNnM,KAAK,OACL8I,WAAS,EACTlQ,SAAUA,GAAYygB,SCnLf0C,GA/HI,SAAC,GAA4D,IAA1DnjB,EAAyD,EAAzDA,SAAU2D,EAA+C,EAA/CA,OAAQ2Z,EAAuC,EAAvCA,mBAAoBxK,EAAmB,EAAnBA,aAClDzd,EAAaD,cAAbC,SAER,OACE,kBAAC2V,GAAA,EAAD,KACE,kBAACsB,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAC,GAAD,CAActO,MAAO,CAAEwlB,cAAe,SACpC,kBAAC,GAAD,KACE,kBAAC9tB,EAAD,mDACA,kBAACC,EAAD,gEACM,IACR,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACD,EAAD,wOAMA,kBAACC,EAAD,iXAWN,kBAAC,GAAD,CACEypB,QAASrb,EAAO1H,IAChB8iB,UAAWjM,EAAa,OACxBgM,gBAAiBxB,EAAmB,OACpCtd,SAAUA,EACV2D,OAAQA,KAGZ,kBAAC2I,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC5W,EAAD,8DACA,kBAACC,EAAD,8EAEF,kBAAC,GAAD,CACEqW,OACExH,GAAcT,EAAQ,4BACtBS,GAAcT,EAAQ,sBACtBS,GAAcT,EAAQ,uBAI1B,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAACrO,EAAD,KACE,0IAIA,mJAGE,6BAHF,gIASF,kBAACC,EAAD,KACE,uMAKA,mMASR,kBAACyV,GAAA,EAAD,CACEC,WAAS,EACT9L,UAAU,MACVwS,QAAQ,aACR5W,WAAW,aACXV,QAAS,GAET,kBAAC2Q,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACb,kBAAC,GAAD,CACE1S,MAAOkL,EAAOF,yBAA2B,GACzC5E,SAAUye,EAAmB,2BAC7B5Q,QAASsC,GACTrC,aAAcqC,GAAgB/S,KAAI,SAACC,GAAD,OAChC0I,GAAoBvM,GAAU6D,EAAG7G,OAEnC2K,SAAUA,KAGd,kBAACgL,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACb,kBAAC8E,GAAA,EAAD,CACExX,MAAOkL,EAAOJ,kBACd1E,SAAUye,EAAmB,qBAC7Bvc,MAAM,MACNmP,WAAS,EACT9I,KAAK,SACLpH,SAAUA,KAGd,kBAACgL,GAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GACb,kBAAC8E,GAAA,EAAD,CACExX,MAAOkL,EAAOH,kBACd3E,SAAUye,EAAmB,qBAC7Bvc,MAAM,MACNmP,WAAS,EACT9I,KAAK,SACLpH,SAAUA,SCjITqjB,OALf,WAA0B,IAChBhtB,EAAWjB,cAAXiB,OACR,OAAOtD,EAAQsD,IC+JFitB,GA7IG,SAAC,GAA8B,IAA5B3f,EAA2B,EAA3BA,OAAQqF,EAAmB,EAAnBA,aAAmB,EACRzM,oBAAS,GADD,mBACvCgnB,EADuC,KACzBC,EADyB,KAGtCnuB,EAAaD,cAAbC,SAOR,IAAMqU,EAA8D,MAA3CzD,KAAKC,MAA6B,IAAvB1B,GAAab,IAE3C8f,EnCwKsB,SAAC9f,GAQ7B,OAPe/L,OAAOgE,KAAK2G,IACET,QAAO,SAAC6C,GAAD,OAAYP,GAAcT,EAAQgB,MACjC1I,KAAI,SAAC0I,GAAW,IAAD,EAC3BpC,GAAWoC,GAClC,MAAO,CAAEhP,MAFyC,EAC1CA,MACQ+M,IAFkC,EACnCA,QAIKghB,QAAO,SAACC,EAAD,GAA0B,IAAlBhuB,EAAiB,EAAjBA,MAAO+M,EAAU,EAAVA,IAG1C,OAFKihB,EAAIjhB,KAAMihB,EAAIjhB,GAAO,IAC1BihB,EAAIjhB,GAAK5D,KAAKnJ,GACPguB,IACN,ImCpLsBC,CAAejgB,GAClC3C,EAA8B,cAAlB2C,EAAO/C,OACnByL,EAAagX,KAEnB,OACE,kBAAC/W,GAAA,EAAD,CAAO1O,MAAOsO,IACZ,kBAAClB,GAAA,EAAD,CAAMC,WAAS,EAAC9L,UAAU,SAAS9E,QAAS,GAC1C,kBAAC2Q,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAChN,EAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC7I,EAAD,mFAEkB+W,EAAWpZ,MAAMC,GAFnC,qIAI6C,IAC1CmZ,EAAWjZ,eAAeF,GAL7B,wKAUA,kBAACqC,EAAD,wGAEiC8W,EAAWpZ,MAAME,GAFlD,yJAK2BkZ,EAAWjZ,eAAeD,GALrD,qNAWM,IACR,uBAAGoZ,KAAI,iBAAYF,EAAW7Y,QAAU6Y,EAAW7Y,OAxBrD,MA2BDwN,EACC,kBAACgK,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAChN,EAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC7I,EAAD,yMAMA,kBAACC,EAAD,yPAUN,oCACGmU,EACC,oCACE,kBAACsB,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAChN,EAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC7I,EAAD,yFAIA,kBAACC,EAAD,wGAON,kBAACyV,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACVoY,EACC,kBAACra,GAAA,EAAD,MAEA,kBAACE,GAAA,EAAD,CAAQpL,QAnF1B,WACEwlB,GAAc,GACdxa,IAAevI,MAAK,kBAAM+iB,GAAc,OAiFCxjB,SAAUgB,GACjC,kBAAC,GAAD,KACE,kBAAC1L,EAAD,eACA,kBAACC,EAAD,sBAOV,oCACE,kBAACyV,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAChN,EAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC7I,EAAD,qHAIA,kBAACC,EAAD,0JASN,kBAACyV,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACVvT,OAAOgE,KAAK6nB,GAAkBxnB,KAAI,SAACyG,GAAD,OACjC,yBAAKnD,IAAKmD,GACR,kBAACvE,EAAA,EAAD,CAAYC,QAAQ,MACjBwG,GAAoBvM,GAAUqK,EAAKrN,KAEtC,kBAACwK,EAAA,EAAD,KACG4jB,EAAiB/gB,GAAKzG,KACrB,WAAwB6Q,GAAxB,IAAenX,EAAf,EAAIN,GAAJ,OACE,kBAACiK,EAAA,EAAD,CAAUC,IAAKuN,GACb,kBAACnN,EAAA,EAAD,CAAcrM,QAASqC,mBCjH/CkuB,GAA0B,SAAC,GAAD,IAAGprB,EAAH,EAAGA,MAAH,OAC9B,kBAACqH,EAAA,EAAD,CACE7M,MACE,kBAAC,GAAD,CACEC,GAAG,0CACHC,GAAG,gDAIP,kBAAC2wB,GAAA,EAAD,CAAK9qB,QAAQ,OAAOc,MAAM,MAAM8D,MAAO,CAAEuO,OAAQ,SAC/C,kBAAC2X,GAAA,EAAD,CAAKhqB,MAAM,OAAOiqB,GAAI,GACpB,kBAACC,GAAA,EAAD,CACE5lB,QAAQ,cACR3F,MAAOA,EACPmF,MAAO,CAAE/D,WAAY,YAGzB,kBAACiqB,GAAA,EAAD,CAAKnT,SAAU,IACb,kBAACxS,EAAA,EAAD,CAAYC,QAAQ,QAAQhE,MAAM,iBAAlC,UAAsD6L,KAAKC,MACzDzN,GADF,UAQR,SAASwrB,GAAT,GAAyD,IAArC9uB,EAAoC,EAApCA,SAAUsD,EAA0B,EAA1BA,MAAOga,EAAmB,EAAnBA,MAAU6E,EAAS,6CACtD,OACE,uCACElV,KAAK,WACL8hB,OAAQzrB,IAAUga,EAClBzO,GAAE,0BAAqByO,GACvBvL,kBAAA,qBAA+BuL,IAC3B6E,GAEH7e,IAAUga,GAAS,kBAACqR,GAAA,EAAD,KAAM3uB,IAKhC,IAKMgvB,G,oDACJ,WAAY1uB,GAAQ,IAAD,+BACjB,cAAMA,IAqIR6nB,mBAAqB,SAAC/d,GAAD,OAAS,SAACgd,GAAW,IAChC9jB,EAAU8jB,EAAMxd,OAAhBtG,MACF2rB,EAAO,eAAM7kB,EAAM9G,GAEzB,EAAKjC,UAAS,gBAAGmN,EAAH,EAAGA,OAAH,MAAiB,CAC7BA,OAAO,2BAAMA,GAAWygB,GACxBC,cAAc,QA5IC,EAkJnBvR,aAAe,SAACvT,GAAD,OAAS,SAAC9G,GACvB,IAAM2rB,EAAO,eAAM7kB,EAAM9G,GAEzB,EAAKjC,UAAS,gBAAGmN,EAAH,EAAGA,OAAH,MAAiB,CAC7BA,OAAO,2BAAMA,GAAWygB,GACxBC,cAAc,QApJhB,EAAKlsB,MAAQ,CACXwL,OAAQ,CACN1Q,MAAO,CAAEC,GAAI,GAAIC,GAAI,IACrBwP,SAAU,CAAEzP,GAAI,GAAIC,GAAI,IACxBuV,WAAYC,eACZ/F,SAAU,CAAE1P,GAAI,GAAIC,GAAI,IACxB0P,IAAK,GACLK,SAAU,GACVC,aAAc,GACdoS,UAAW,KACXC,QAAS,KACTvZ,IAAK,CAAE6G,MAAO,GAAIC,MAAO,GAAIC,KAAM,GAAIC,KAAM,GAAI3B,QAAS,IAC1DiC,kBAAmB,GACnBC,kBAAmB,GACnBka,cAAe,KACfC,YAAa,KACbtV,SAAU,GACVvE,YAAa,GACbJ,WAAY,GACZG,oBAAqB,GACrBxO,SAAU,GACV4O,QAAS,GACTnH,SAAU,GACV8D,OAAQ,GACR0jB,QAAS,GACTzG,YAAa,GACbtV,SAAS,IAAIxC,MAAOyC,cACpBF,aAAc,GACdvR,SAAU,GACV0M,wBAAyB,GACzBma,kBAAmB,GACnBha,YAAY,EACZoE,SAAU,GACVuc,aAAc,GACd9b,mBAAoB,IAKtB8I,aAAc,GAGd3J,SAAS,EACT4c,SAAU,QAGVH,cAAc,EAEdI,+BAA+B,EAE/BC,WAAY,CAAElxB,MAAO,GAAIoD,YAAa,IACtC+tB,2BAA2B,GAtDZ,E,iEA0DE,IAAD,OACVruB,EAAU8B,KAAK3C,MAAfa,MACR8B,KAAK5B,SAAS,CAAEoR,SAAS,IAEzBxP,KAAK3B,YAAc5B,EAAK6B,mBAAL,+BAAAwJ,EAAA,MAAwB,WAAOjK,GAAP,+BAAAiK,EAAA,sDACrCjK,IAAO,EACoBK,EAAMC,OAA3BF,EADA,EACAA,OAAQgS,EADR,EACQA,SACVuc,EAActuB,EAAMgN,IAAIuhB,SAAS,OAEjCC,EAAiB7uB,EAAKY,IACtBkuB,EAAeH,EAAcE,EAAiBxuB,EAAMC,OAAOyuB,OAC3DC,EAAyBH,IAAmBC,EAC1C9sB,EAAe,EAAKitB,QAApBjtB,WAGRvD,EACGyC,WACAC,IAAIf,GACJgB,MAAM,SACNA,MAAMytB,GACNztB,MAAM,YACNE,GAAG,SAAS,SAAC4tB,GACZ,EAAK3uB,SAAS,CAAEkuB,WAAYS,EAASztB,eAInC0tB,EAAc1wB,EACjByC,WACAC,IAAIf,GACJgB,MAAM,SACNA,MAAM0tB,IAGG1tB,MAAM,YAAYE,GAAG,SAAS,SAACuF,GACzC,EAAKtG,SAAS,CAAE+a,aAAczU,EAASpF,cAIrCktB,EACF,EAAKpuB,SAAS,CAAEoR,SAAS,EAAO+c,2BAA2B,IAE3DS,EACG/tB,MAAM,WACNA,MAAMgR,GACN9Q,GAAG,SAAS,SAAC8tB,GAEZ,IAAMC,EAAoBD,EAAe3tB,SACzC,GAAK4tB,EAAL,CAKA,IAAM3hB,EAASyB,GAAmBkgB,GAE5BX,GACH1sB,GAAcgtB,IACG,cAAlBthB,EAAO/C,OAET,EAAKpK,SAAS,CACZmN,OAAO,2BAAMA,GAAP,IAAe0E,aACrBsc,8BAEF,EAAKnuB,SAAS,CAAEoR,SAAS,SAdvB,EAAKpR,SAAS,CAAEoR,SAAS,EAAOjE,OAAQ,WA5CT,2CAAxB,yD,6CAmEfvL,KAAK3B,aAAa2B,KAAK3B,gB,8JA2BnBH,EAAU8B,KAAK3C,MAAfa,MACAD,EAAWC,EAAMC,OAAjBF,OACAsN,EAAWvL,KAAKD,MAAhBwL,OACA0E,EAAa1E,EAAb0E,UAEJxT,EAAKgT,cAAeQ,E,gCAChB3T,EACHyC,WACAC,IAAIf,GACJgB,MAAM,SACNA,MAAMxC,EAAKgT,YAAYhR,KACvBQ,MAAM,WACNA,MAAMgR,GACNhR,MAAM,UACN0Q,IAAI,a,2RAKkB3P,KAAK3C,MAAxBa,E,EAAAA,MAAO+E,E,EAAAA,Q,EACc/E,EAAMC,OAA3BlB,E,EAAAA,SAAUgB,E,EAAAA,OAEZ2uB,EAAS1uB,EAAMC,OAAOyuB,QAAUnwB,EAAKgT,YAAYhR,IAEjDqR,EAAaxT,EAChByC,WACAC,IAAIf,GACJgB,MAAM,SACNA,MAAM2tB,GACN3tB,MAAM,W,EAGsBe,KAAKD,MAA5BwL,E,EAAAA,OAAQ+gB,E,EAAAA,WAChB/gB,EAAO4E,SAAU,IAAIxC,MAAOyC,cAE5B7E,EAAO2E,aAAeoc,GAElB/gB,EAAO0E,S,kCACHH,EAAW7Q,MAAMsM,EAAO0E,UAAU/Q,OAAOqM,G,iDAGzBuE,EAAWpJ,KAAK6E,G,eAAhC4hB,E,iBAGAA,EAAQjuB,OAAOqM,G,QACf0E,EAAWkd,EAAQhmB,IACzBnH,KAAK5B,SAAS,CACZmN,OAAO,2BAAMA,GAAP,IAAe0E,eAEvBhN,EAAQyD,KAAR,WAAiBzJ,EAAjB,YAA6BgB,EAA7B,YAAuC2uB,EAAvC,YAAiD3c,I,QAGnDjQ,KAAK5B,SAAS,CAAE6tB,cAAc,I,sIAMtB,IAAD,OAEChvB,EADU+C,KAAK3C,MAAfa,MACmBC,OAAnBlB,SACA4C,EAAeG,KAAK8sB,QAApBjtB,WAHD,EAaHG,KAAKD,MAPPoZ,EANK,EAMLA,aACAiT,EAPK,EAOLA,SACA7gB,EARK,EAQLA,OACA0gB,EATK,EASLA,aACAzc,EAVK,EAULA,QACA6c,EAXK,EAWLA,8BACAE,EAZK,EAYLA,0BAGF,IAAKhhB,EACH,OAAO,kBAAC,GAAD,MAhBF,IAkBCpI,EAAYnD,KAAK3C,MAAjB8F,QAEFyE,GAAY2kB,EAEZa,EAAW,CACff,gCACAzkB,WACA2D,SACA2Z,mBAAoBllB,KAAKklB,mBACzBxK,aAAc1a,KAAK0a,cAEfrJ,EAAkBxD,KAAKC,MAA6B,IAAvB1B,GAAab,IAEhD,OAAOiE,EACL,kBAACsB,GAAA,EAAD,MAEA,kBAAC8B,GAAA,EAAD,CACEC,WAAS,EACT9L,UAAU,SACVwS,QAAQ,gBACR5W,WAAW,UACXV,QAAS,GAET,kBAACyF,EAAA,EAAD,CACEC,UAAU,aACV9M,MACEoxB,EACI,+CACA,gBAGN,8BACE,kBAACoB,GAAA,EAAD,CACErrB,MAAM,UACN2D,aAAW,MACXH,MAAO,CACL8nB,MAAO,GACP5Z,OAAQ,GACRrO,SAAU,SAEZuC,SACEqkB,KACE1gB,EAAO1Q,MAAMC,IAAMyQ,EAAO1Q,MAAME,KAClC6M,EAEFhC,QAAS,kBAAM,EAAK2nB,oBAEpB,kBAACnZ,GAAA,EAAD,SAIN,kBAACxB,GAAA,EAAD,CAAMC,WAAS,EAAC5Q,QAAS,EAAG8E,UAAU,MAAMpE,WAAW,UACrD,kBAACiQ,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAACya,GAAA,EAAD,CACEC,cAAc,OACdznB,QAAQ,YACR3F,MAAO+rB,EACP3lB,SAAU,SAAC3C,EAAG0Y,GAAJ,OAAiB,EAAKpe,SAAS,CAAEguB,SAAU5P,KACrD7W,aAAW,uBAEX,kBAAC+nB,GAAA,EAAD,CACE5V,WAAS,EACT3U,QAAS,CAAExC,KAAMwC,EAAQwqB,SACzBhlB,MAAO,kBAAC,GAAD,CAAM7N,GAAG,QAAQC,GAAG,YAC3BsF,MAAM,UAER,kBAACqtB,GAAA,EAAD,CACE5V,WAAS,EACT3U,QAAS,CAAExC,KAAMwC,EAAQwqB,SACzBhlB,MACE,kBAAC,GAAD,CACE7N,GAAG,sBACHC,GAAG,kCAGPsF,MAAM,mBAER,kBAACqtB,GAAA,EAAD,CACE5V,WAAS,EACT3U,QAAS,CAAExC,KAAMwC,EAAQwqB,SACzBhlB,MAAM,UACNtI,MAAM,YAER,kBAACqtB,GAAA,EAAD,CACE5V,WAAS,EACT3U,QAAS,CAAExC,KAAMwC,EAAQwqB,SACzBhlB,MAAM,UACNtI,MAAM,YAER,kBAACqtB,GAAA,EAAD,CACE5V,WAAS,EACT3U,QAAS,CAAExC,KAAMwC,EAAQwqB,SACzBhlB,MAAO,kBAAC,GAAD,CAAM7N,GAAG,YAAYC,GAAG,eAC/BsF,MAAM,iBAER,kBAACqtB,GAAA,EAAD,CACE5V,WAAS,EACT3U,QAAS,CAAExC,KAAMwC,EAAQwqB,SACzBhlB,MAAO,kBAAC,GAAD,CAAM7N,GAAG,WAAWC,GAAG,eAC9BsF,MAAM,aAEPksB,GACC,kBAACmB,GAAA,EAAD,CACE5V,WAAS,EACT3U,QAAS,CAAExC,KAAMwC,EAAQwqB,SACzBhlB,MAAO,kBAAC,GAAD,CAAM7N,GAAG,SAASC,GAAG,cAC5BsF,MAAM,SACNuH,SACoB,cAAlB2D,EAAO/C,QACW,cAAlB+C,EAAO/C,UAKf,yBAAKhD,MAAO,CAAEuL,UAAW,OAAQ6c,UAAW,WAC1C,kBAAC7nB,EAAA,EAAD,CAAYC,QAAQ,MAChB/I,GAAYsO,EAAO1Q,OAAS0Q,EAAO1Q,MAAMoC,IACzC,kBAAC,GAAD,CAAMnC,GAAG,aAAaC,GAAG,0BACxB,IACH,kBAAC,GAAD,CAAYyN,OAAQ+C,EAAO/C,UAE7B,kBAACzC,EAAA,EAAD,CAAY6N,UAAU,OACpB,2BACE,kBAAC,GAAD,CAAYrG,QAAShC,EAAO4E,UAC3B5E,EAAO2E,cAAgB3E,EAAO2E,aAAa1R,aAC1C,oCACE,kBAAC,GAAD,KACE,kBAACtB,EAAD,YACA,kBAACC,EAAD,cAEDoO,EAAO2E,aAAa1R,YAAa,IACjCqB,GAAc0L,EAAO2E,aAAa9U,QAIzC,kBAAC,GAAD,CAAyBiF,MAAOgR,QAKxC,kBAACwa,GAAD,CAAUxrB,MAAO+rB,EAAU/R,MAAM,SAC/B,kBAAC,GAAa+S,IAEhB,kBAACvB,GAAD,CAAUxrB,MAAO+rB,EAAU/R,MAAM,kBAC/B,kBAAC,GAAsB+S,IAEzB,kBAACvB,GAAD,CAAUxrB,MAAO+rB,EAAU/R,MAAM,WAC/B,kBAAC,GAAe+S,IAElB,kBAACvB,GAAD,CAAUxrB,MAAO+rB,EAAU/R,MAAM,YAC/B,kBAAC,GAAgB+S,IAEnB,kBAACvB,GAAD,CAAUxrB,MAAO+rB,EAAU/R,MAAM,gBAC/B,kBAAC,GAAiB+S,IAGpB,kBAACvB,GAAD,CAAUxrB,MAAO+rB,EAAU/R,MAAM,UAC/B,kBAAC,GAAD,iBAAe+S,EAAf,CAAyBxc,aAAc,kBAAM,EAAKA,oBAGpD,kBAACib,GAAD,CAAUxrB,MAAO+rB,EAAU/R,MAAM,WAE/B,kBAAC,GAAD,eAAYlB,aAAcA,GAAkBiU,U,GA3Y3B9sB,aAiZ3ByrB,GAAa8B,YAAclwB,GACZmwB,qBAvZA,iBAAO,CACpBH,QAAS,CACPpV,SAAU,YAqZCuV,CAAmBvtB,YAAWwrB,KCxdvClV,G,oDACJ,WAAYxZ,GAAQ,IAAD,wBACjB,cAAMA,IACD0C,MAAQ,CACXkK,QAAS,GACTkO,SAAU,GACVJ,OAAQ,GACRC,UAAW,GACXC,QAAS,GACTC,WAAY,GACZhO,QAAS,GACTkO,YAAa,GACbC,SAAU,IAXK,IAeTpa,EAFU,EAAKZ,MAAfa,MAEiBC,OAAjBF,OAfS,OAiBjB,EAAKyU,YAAcpW,EAChByC,WACAC,IAAIf,GACJgB,MAAM,SACNA,MAAMxC,EAAKgT,YAAYhR,KACvBQ,MAAM,YAtBQ,E,0LA0BTf,EAAU8B,KAAK3C,MAAfa,MAEA6vB,EAAc7vB,EAAMC,OAApB4vB,UAEJtxB,EAAKgT,aAAese,IACtB/tB,KAAK5B,SAAS,CAAE2vB,cAEhB/tB,KAAK0S,YACFzT,MAAM8uB,GACN5uB,GAAG,SAAS,SAAC4K,GAAD,OAAa,EAAK3L,SAAS2L,EAAQzK,c,mJAKhDU,KAAK0S,aAAa1S,KAAK0S,YAAYsb,IAAI,W,mCAGhC7mB,GAAM,IAAD,OAChB,OAAO,SAACgd,GACN,EAAK/lB,SAAL,eAAiB+I,EAAMgd,EAAMxd,OAAOtG,W,0CAInB,IAAD,EACSL,KAAK3C,MAAxBa,EADU,EACVA,MAAO+E,EADG,EACHA,QADG,EAEW/E,EAAMC,OAA3BlB,EAFU,EAEVA,SAAUgB,EAFA,EAEAA,OAElBgF,EAAQyD,KAAR,WAAiBzJ,EAAjB,YAA6BgB,EAA7B,gB,wKAK2B+B,KAAK3C,MAAxB4F,E,EAAAA,QAAS/E,E,EAAAA,M,EAEuBA,EAAMC,OAAtCF,E,EAAAA,OAAQhB,E,EAAAA,UAAU8wB,E,EAAAA,WAGX/tB,KAAK0S,YAAYzT,MAAM8uB,GAAW7uB,OAAOc,KAAKD,OAExDC,KAAK0S,YAAYhM,KAAK1G,KAAKD,OAEhCkD,EAAQyD,KAAR,WAAiBzJ,EAAjB,YAA6BgB,EAA7B,c,qIAGQ,IAAD,SACsB+B,KAAKD,MAA1BkK,EADD,EACCA,QAASC,EADV,EACUA,QACX+jB,EAAuBhkB,GAAWC,EACxC,OACE,kBAAC0I,GAAA,EAAD,CAAMC,WAAS,EAAC9L,UAAU,SAAS9E,QAAS,GAC1C,kBAAC2Q,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAACmb,GAAD,CACE7tB,MAAOL,KAAKD,MACZiX,mBAAoB,SAAC7P,GAAD,OAAS,EAAKugB,aAAavgB,OAKnD,kBAACyL,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAC/B,GAAA,EAAD,CACEC,UAAW,kBAACmD,GAAA,EAAD,MACXpO,QAAQ,YACRhE,MAAM,UACN4D,QAAS,kBAAM,EAAKuoB,qBACpBvmB,UAAWqmB,GAEX,kBAAC,GAAD,KACE,kBAAC/wB,EAAD,aACA,kBAACC,EAAD,sBAIJ,kBAAC6T,GAAA,EAAD,CACExL,MAAO,CAAE/D,WAAY,QACrBuE,QAAQ,YACRhE,MAAM,YACN4D,QAAS,kBAAM,EAAKwoB,sBAEpB,kBAAC,GAAD,KACE,kBAAClxB,EAAD,eACA,kBAACC,EAAD,wB,GA1GY+G,IAAM5D,WAmHjBC,eAAWsW,ICjBXwX,GAxFgB,SAAC,GAAD,IAC7B9iB,EAD6B,EAC7BA,OACAtO,EAF6B,EAE7BA,SACAqxB,EAH6B,EAG7BA,YACAC,EAJ6B,EAI7BA,cACAC,EAL6B,EAK7BA,cACAC,EAN6B,EAM7BA,kBACAC,EAP6B,EAO7BA,oBACAC,EAR6B,EAQ7BA,mBACAC,EAT6B,EAS7BA,gBACAC,EAV6B,EAU7BA,iBAV6B,OAY7B,kBAAC3nB,EAAA,EAAD,CAAUC,IAAKoE,EAAOpE,KACpB,kBAACuK,GAAA,EAAD,KACE,kBAACrK,EAAA,EAAD,KACE,kBAACsK,GAAA,EAAD,QAGJ,kBAACpK,EAAA,EAAD,CACE3B,QAAS0oB,EACTpzB,QAAS,yBAAKsK,MAAO,CAAE9D,MAAO,QAAU6J,EAAO1Q,MAAMoC,IACrD9B,UACE,yCACWoQ,EAAOwhB,SAASvuB,YAD3B,IACyC+M,EAAOwhB,SAAS3xB,MADzD,IACgE,6BAC9D,kBAAC,GAAD,CAAYmS,QAAShC,EAAO4E,UAC5B,6BAHF,SAIS5E,EAAO+E,WACd,gCAIN,kBAACsB,GAAA,EAAD,KACE,kBAAClK,EAAA,EAAD,CAAS7M,MAAO,kBAAC,GAAD,CAAMC,GAAG,OAAOC,GAAG,SACjC,8BACE,kBAAC2K,EAAA,EAAD,CAAYE,QAAS0oB,EAAazoB,KAAK,MAAMF,aAAW,eACrD+oB,EAAsB,kBAAC3c,GAAA,EAAD,MAAiB,kBAACC,GAAA,EAAD,SAK9C,kBAACtK,EAAA,EAAD,CAAS7M,MAAO,kBAAC,GAAD,CAAMC,GAAG,SAASC,GAAG,eACnC,8BACE,kBAAC2K,EAAA,EAAD,CAAYE,QAAS2oB,EAAe1oB,KAAK,MAAMF,aAAW,UACxD,kBAACsM,GAAA,EAAD,SAILwc,GACC,kBAAC/mB,EAAA,EAAD,CAAS7M,MAAO,kBAAC,GAAD,CAAMC,GAAG,UAAUC,GAAG,aACpC,8BACE,kBAAC2K,EAAA,EAAD,CAAYE,QAAS4oB,EAAe3oB,KAAK,MAAMF,aAAW,UACxD,kBAACuM,GAAA,EAAD,SAKPwc,GACC,kBAAChnB,EAAA,EAAD,CAAS7M,MAAO,kBAAC,GAAD,CAAMC,GAAG,aAAaC,GAAG,gBACvC,8BACE,kBAAC2K,EAAA,EAAD,CACEE,QAASipB,EACThpB,KAAK,MACLF,aAAW,UAEX,kBAACwM,GAAA,EAAD,SAKPwc,GACC,kBAACjnB,EAAA,EAAD,CACE7M,MAAO,kBAAC,GAAD,CAAMC,GAAG,kBAAkBC,GAAG,0BAErC,8BACE,kBAAC2K,EAAA,EAAD,CACEE,QAASgpB,EACT/oB,KAAK,MACLF,aAAW,UAEX,kBAACwM,GAAA,EAAD,YCkNC2c,G,oDA3Sb,WAAYzxB,GAAQ,IAAD,+BACjB,cAAMA,IACD0C,MAAQ,CACXgvB,MAAO,GACP5f,iBAAiB,EACjB6f,kBAAkB,EAClBC,oBAAoB,EACpBC,mBAAmB,EACnB5f,SAAU,GACV6f,YAAa,GACb3f,SAAS,GAVM,E,0LAejBxP,KAAK5B,SAAS,CAAEoR,SAAS,IACjBtR,EAAU8B,KAAK3C,MAAfa,MACAD,EAAWC,EAAMC,OAAjBF,OAER+B,KAAK3B,YAAc5B,EAAK6B,oBAAmB,SAACT,GACtCA,GACFvB,EACGyC,WACAC,IAAIf,GACJgB,MAAM,SACNE,GAAG,SAAS,SAAC4vB,GAAD,OACX,EAAK3wB,SAAS,CAAE2wB,MAAOA,EAAMzvB,SAAUkQ,SAAS,U,mJAOpDxP,KAAK3B,aAAa2B,KAAK3B,gB,iCAGlB8I,EAAKylB,GAAS,IAAD,EACK5sB,KAAK3C,MAAxBa,EADc,EACdA,MAAO+E,EADO,EACPA,QADO,EAEO/E,EAAMC,OAA3BlB,EAFc,EAEdA,SAAUgB,EAFI,EAEJA,OAClBgF,EAAQyD,KAAR,WAAiBzJ,EAAjB,YAA6BgB,EAA7B,YAAuC2uB,EAAvC,YAAiDzlB,M,4EAGhCA,EAAKylB,EAAQpkB,G,8EACtBtK,EAAU8B,KAAK3C,MAAfa,MACAD,EAAWC,EAAMC,OAAjBF,QAEJkJ,IAAOylB,E,wBACT5sB,KAAK5B,SAAS,CAAEoR,SAAS,IAEnBE,EAAYpT,EACfyC,WACAC,IAAIf,GACJgB,MAAM,SACNA,MAAM2tB,GACN3tB,MAAM,WACNA,MAAMkI,G,SAEHuI,EAAUzQ,MAAM,UAAU0Q,IAAInH,G,uBAC9BkH,EAAUzQ,MAAM,sBAAsB0Q,KAAI,IAAIhC,MAAOyC,e,OAE3DpQ,KAAK5B,SAAS,CAAEoR,SAAS,I,wLAIVrI,EAAKylB,G,4EACd1uB,EAAU8B,KAAK3C,MAAfa,MACAD,EAAWC,EAAMC,OAAjBF,QACJkJ,IAAOylB,E,uBACT5sB,KAAK5B,SAAS,CAAEoR,SAAS,I,SAEnBlT,EACHyC,WACAC,IAAIf,GACJgB,MAAM,SAENA,MAAM2tB,GACN3tB,MAAM,WACNA,MAAMkI,GACNqJ,S,OAEHxQ,KAAK5B,SAAS,CAAEoR,SAAS,I,2IAIjBiB,EAAW1Q,GAA0B,IAAD,EAAlBoH,EAAkB,uDAAZ,GAAIylB,EAAQ,uCAC9C5sB,KAAK5B,UAAL,GAAgBkR,SAAUnI,GAA1B,cAAgCsJ,EAAY1Q,GAA5C,4BAAgE6sB,GAAhE,M,+BAGQ,IAAD,OACCmC,EAAU/uB,KAAKD,MAAfgvB,MAGA9xB,EADU+C,KAAK3C,MAAfa,MACmBC,OAAnBlB,SAEFiS,EAAU,GAEhB1P,OAAO4N,QAAQ2hB,GAAO5hB,SAAQ,YAAqB,IAAD,mBAAlByf,EAAkB,KAAV/uB,EAAU,KAC5CA,EAAKqR,SACP1P,OAAO4N,QAAQvP,EAAKqR,SAAS/B,SAAQ,YAAoB,IAAD,mBAAjBhG,EAAiB,KAAZoE,EAAY,KACtD2D,EAAQxI,KAAR,2BACK6E,GADL,IAEEwhB,SAAS,2BAAMlvB,EAAKkvB,UAAZ,IAAsBH,WAC9BzlB,eAMR,IAAMioB,EAAmBlgB,EAAQxF,QAC/B,SAAC6B,GAAD,MAA8B,cAAlBA,EAAO/C,UAEf6mB,EAAmBngB,EAAQxF,QAC/B,SAAC6B,GAAD,MAA8B,cAAlBA,EAAO/C,UAxBd,EAkCHxI,KAAKD,MAPPoP,EA3BK,EA2BLA,gBACAG,EA5BK,EA4BLA,SACA6f,EA7BK,EA6BLA,YACAF,EA9BK,EA8BLA,mBACAD,EA/BK,EA+BLA,iBACAE,EAhCK,EAgCLA,kBACA1f,EAjCK,EAiCLA,QAGF,OACE,kBAACoD,GAAA,EAAD,CAAMC,WAAS,EAAC9L,UAAU,SAAS9E,QAAS,GAC1C,kBAACwM,GAAD,CACEpK,KAAM8K,EACNT,QAAS,kBAAM,EAAKgC,YAAY,mBAAmB,IACnD/B,SAAU,kBAAM,EAAKgC,aAAarB,EAAU6f,IAC5CrgB,kBAAgB,qBAChBC,mBAAiB,6BAEnB,kBAACN,GAAD,CACEpK,KAAM2qB,EACNtgB,QAAS,kBAAM,EAAKgC,YAAY,oBAAoB,IACpD/B,SAAU,kBAAM,EAAKiC,aAAatB,EAAU6f,EAAa,cACzDrgB,kBAAgB,qBAChBC,mBAAiB,6BAEnB,kBAACN,GAAD,CACEpK,KAAM4qB,EACNvgB,QAAS,kBAAM,EAAKgC,YAAY,sBAAsB,IACtD/B,SAAU,kBAAM,EAAKiC,aAAatB,EAAU6f,EAAa,cACzDrgB,kBAAgB,qBAChBC,mBAAiB,6BAEnB,kBAACN,GAAD,CACEpK,KAAM6qB,EACNxgB,QAAS,kBAAM,EAAKgC,YAAY,qBAAqB,IACrD/B,SAAU,kBAAM,EAAKiC,aAAatB,EAAU6f,EAAa,KACzDrgB,kBAAgB,qBAChBC,mBAAiB,6BAEnB,kBAAC6D,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAChN,EAAA,EAAD,CAAYC,QAAQ,MAClB,kBAAC,GAAD,KACE,kBAAC9I,EAAD,2BACA,kBAACC,EAAD,kCAILqS,EACC,kBAACsB,GAAA,EAAD,MAEA,oCACGse,EAAiB1xB,OAChB,oCACE,kBAACkV,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAChN,EAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC7I,EAAD,gNAMA,kBAACC,EAAD,oSAOM,IAfV,MAmBF,kBAACyV,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAACtL,EAAA,EAAD,KACG2nB,EAAiBvrB,KAAI,SAAC0H,GACrB,OACE,kBAAC,GAAD,CACEA,OAAQA,EACRpE,IAAKoE,EAAOpE,IACZlK,SAAUA,EACVqxB,YAAa,kBACX,EAAK7c,WAAWlG,EAAOpE,IAAKoE,EAAOwhB,SAASH,SAE9C2B,cAAe,kBACb,EAAK7d,YACH,mBACA,EACAnF,EAAOpE,IACPoE,EAAOwhB,SAASH,SAGpB4B,cAAe,kBACb,EAAK9d,YACH,oBACA,EACAnF,EAAOpE,IACPoE,EAAOwhB,SAASH,SAGpBgC,gBAAiB,kBACf,EAAKle,YACH,qBACA,EACAnF,EAAOpE,IACPoE,EAAOwhB,SAASH,SAGpB6B,mBAAiB,EACjBE,oBAAkB,UAQ9B,kBAAC/b,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAChN,EAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC7I,EAAD,qDACA,kBAACC,EAAD,wDAMPkyB,EAAiB3xB,OAChB,kBAACkV,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAChN,EAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC7I,EAAD,2BACA,kBAACC,EAAD,gCAGJ,kBAACsK,EAAA,EAAD,KACG4nB,EAAiBxrB,KAAI,SAAC0H,EAAQmJ,GAC7B,OACE,kBAAC,GAAD,CACEnJ,OAAQA,EACRpE,IAAKuN,EACLzX,SAAUA,EACVqxB,YAAa,kBACX,EAAK7c,WAAWlG,EAAOpE,IAAKoE,EAAOwhB,SAASH,SAE9C2B,cAAe,kBACb,EAAK7d,YACH,mBACA,EACAnF,EAAOpE,IACPoE,EAAOwhB,SAASH,SAGpBiC,iBAAkB,kBAChB,EAAKne,YACH,sBACA,EACAnF,EAAOpE,IACPoE,EAAOwhB,SAASH,SAGpB8B,qBAAmB,SAO7B,kBAAC9b,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAChN,EAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC7I,EAAD,wCACA,kBAACC,EAAD,2D,GAhSG+G,IAAM5D,WCIvBgvB,GAAS,SAACta,GAAD,oBAAa,IAAIua,IAAIva,KA8IrBwa,G,oDA3Ib,WAAYnyB,GAAQ,IAAD,+BACjB,cAAMA,IACD0C,MAAQ,CAEXR,OAAQ,GACRG,UAAW,GACX8P,SAAS,GANM,E,0LAWTtR,EAAU8B,KAAK3C,MAAfa,MACAD,EAAWC,EAAMC,OAAjBF,OAER+B,KAAK5B,SAAS,CAAEoR,SAAS,IAEzBxP,KAAK3B,YAAc5B,EAAK6B,oBAAmB,SAACT,GACtCA,GACFvB,EACGyC,WACAC,IAAIf,GACJgB,MAHH,eAIGE,GAAG,SAAS,SAACswB,GACZ,IAAMpwB,EAAcowB,EAAoBnwB,SAElCC,EAASC,OAAOC,OAAOJ,EAAYE,QAAU,IAC7CG,EAAYF,OAAOC,OAAOJ,EAAYK,WAAa,IAEzD,EAAKtB,SAAS,CACZmB,SACAG,YACA8P,SAAS,U,mJAQfxP,KAAK3B,aAAa2B,KAAK3B,gB,0CAGR,IAEXJ,EADU+B,KAAK3C,MAAfa,MACiBC,OAAjBF,OAFU,EAIY+B,KAAKD,MAA3BL,EAJU,EAIVA,UAAWH,EAJD,EAICA,OACnB,GAAI9C,EAAKgT,YAAa,CACpB,IAAMigB,EAAQpzB,EAASyC,WAAWC,IAAIf,GAAQgB,MAAM,eAEpDywB,EAAMzwB,MAAM,UAAU0Q,IAAI2f,GAAO/vB,IACjCmwB,EAAMzwB,MAAM,aAAa0Q,IAAI2f,GAAO5vB,O,+BAI9B,IAAD,SACgCM,KAAKD,MAApCyP,EADD,EACCA,QAAS9P,EADV,EACUA,UAAWH,EADrB,EACqBA,OAC5B,OACE,kBAACqT,GAAA,EAAD,CAAMC,WAAS,EAAC9L,UAAU,SAAS9E,QAAS,GAC1C,kBAAC2Q,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAChN,EAAA,EAAD,CAAYC,QAAQ,MAClB,kBAAC,GAAD,KACE,kBAAC9I,EAAD,cACA,kBAACC,EAAD,0BAGJ,kBAAC4I,EAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC7I,EAAD,oEAGA,kBAACC,EAAD,gGAQLqS,EACC,kBAACsB,GAAA,EAAD,MAEA,oCACE,kBAAC8B,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAChN,EAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC7I,EAAD,eACA,kBAACC,EAAD,2BAIN,kBAACyV,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAC8E,GAAA,EAAD,CACEiD,WAAS,EACThD,WAAS,EACTzX,MAAOd,EAAOyE,KAAK,MACnByC,SAAU,SAAC3C,GAAD,OACR,EAAK1F,SAAS,CAAEmB,OAAQuE,EAAE6C,OAAOtG,MAAMuD,MAAM,YAInD,kBAACgP,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAChN,EAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC7I,EAAD,kBACA,kBAACC,EAAD,wBAIN,kBAACyV,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAC8E,GAAA,EAAD,CACEiD,WAAS,EACThD,WAAS,EACTzX,MAAOX,EAAUsE,KAAK,MACtByC,SAAU,SAAC3C,GAAD,OACR,EAAK1F,SAAS,CAAEsB,UAAWoE,EAAE6C,OAAOtG,MAAMuD,MAAM,YAItD,kBAACgP,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAC/B,GAAA,EAAD,CACEC,UAAW,kBAACmD,GAAA,EAAD,MACXpO,QAAQ,YACRhE,MAAM,YACN4D,QAAS,kBAAM,EAAK+pB,sBAEpB,kBAAC,GAAD,KACE,kBAACzyB,EAAD,aACA,kBAACC,EAAD,6B,GAjIE+G,IAAM5D,WCRXsvB,GALI,WAEjB,OADAlxB,KAAwB,IAAImxB,MAAM,mBAC3B,wDCaHC,GAAa,SAAC,GAAkB,IAAhB/yB,EAAe,EAAfA,SAAe,EACNC,cAArBC,EAD2B,EAC3BA,SAAUgB,EADiB,EACjBA,OACZ8xB,EAAO,iBAAa9xB,EAAb,YAAuBhB,EAAvB,QACb,OACE,kBAAC2V,GAAA,EAAD,CAAMC,WAAS,EAAC9L,UAAU,SAAS9E,QAAS,GAC1C,kBAAC2Q,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,yBAAK3M,IAAKpK,uBAAyB+zB,EAAS1pB,IAAKpI,KAEnD,kBAAC2U,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,EAACvN,MAAO,CAAEwqB,YAAa,SACjCjzB,KAKHkzB,GAAQ,SAAC,GAAe,IAAb/xB,EAAY,EAAZA,MAAY,EACSmF,qBAAW1F,IAAvCmC,EADmB,EACnBA,SAAUhC,EADS,EACTA,cAElB,OACE,oCACGA,EACC,kBAACgT,GAAA,EAAD,MAEA,kBAAC,GAAD,KACGhR,EACC,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOowB,KAAI,UAAKhyB,EAAMgyB,KAAX,KAAoBC,OAAK,EAACvc,UAAW3E,KAChD,kBAAC,IAAD,CAAOihB,KAAI,UAAKhyB,EAAMgyB,KAAX,QAAuBtc,UAAWmY,KAC7C,kBAAC,IAAD,CACEmE,KAAI,UAAKhyB,EAAMgyB,KAAX,wBACJtc,UAAWiD,KAEb,kBAAC,IAAD,CACEqZ,KAAI,UAAKhyB,EAAMgyB,KAAX,iBACJtc,UAAWiD,KAEb,kBAAC,IAAD,CAAOqZ,KAAI,UAAKhyB,EAAMgyB,KAAX,aAA4Btc,UAAWpB,KAClD,kBAAC,IAAD,CACE0d,KAAI,UAAKhyB,EAAMgyB,KAAX,sBACJtc,UAAWmY,KAEb,kBAAC,IAAD,CACEmE,KAAI,UAAKhyB,EAAMgyB,KAAX,gBACJtc,UAAW3E,KAEb,kBAAC,IAAD,CAAOihB,KAAI,UAAKhyB,EAAMgyB,KAAX,aAA4Btc,UAAWkb,KAClD,kBAAC,IAAD,CAAOoB,KAAI,UAAKhyB,EAAMgyB,KAAX,UAAyBtc,UAAW4b,KAC/C,kBAAC,IAAD,CACEU,KAAI,UAAKhyB,EAAMgyB,KAAX,gBACJtc,UAAWgc,KAEb,kBAAC,IAAD,CAAOM,KAAK,IAAItc,UAAWN,MAG7B,kBAAC,GAAD,SA2CG8c,GApCI,SAAC,GAAe,IAAblyB,EAAY,EAAZA,MACZD,EAAWjB,cAAXiB,OAEFyC,EAAQ2vB,aAAe,CAC3BjiB,QAAS,CACPlT,QAAS,CACPo1B,KAAM31B,EAAQsD,GAAQhD,OAAOC,SAE/BC,UAAW,CACTm1B,KAAM31B,EAAQsD,GAAQhD,OAAOE,YAGjCkC,MAAO,CACLkzB,aAAc,CACZvqB,QAAS,YAEXwqB,UAAW,CACTxqB,QAAS,YAEXyqB,UAAW,CACTzqB,QAAS,eAKf,OACE,kBAAC,GAAD,KACE,kBAAC0qB,GAAA,EAAD,CAAehwB,MAAOA,GACpB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAOxC,MAAOA,Q,wCC/FlBsC,GAAYC,YAAW,CAC3BE,KAAM,CACJgwB,SAAU,KAEZC,MAAO,CACLtW,OAAQ,IACR,UAAW,CACT5Q,OACE,4FAMO,SAASmnB,GAAT,GAA+C,IAA1B5yB,EAAyB,EAAzBA,OAAQ6yB,EAAiB,EAAjBA,cACpC7tB,EAAUC,cACRjG,EAAaD,cAAbC,SACFkG,EAAU3C,KAEVyT,EAAatZ,EAAQsD,GACrB8xB,EAAO,iBAAa9xB,EAAb,YAAuBhB,EAAvB,QAEb,OACE,kBAAC8zB,GAAA,EAAD,CACE7rB,UAAW/B,EAAQxC,KACnBiF,QAAS,kBAAM3C,EAAQyD,KAAR,WAAiBzJ,EAAjB,YAA6BgB,KAC5CuH,MAAO,CAAEwrB,UAAW,QAASzY,SAAU,UAEvC,kBAAC0Y,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEhsB,UAAW/B,EAAQytB,MACnBO,MAAK,UAAKn1B,uBAAL,gBAAmCiC,EAAnC,QACLpD,MAAOoZ,EAAWpZ,MAAMoC,KAE1B,kBAACm0B,GAAA,EAAD,KACE,6BACE,yBACEhrB,IAAKpK,uBAAyB+zB,EAC9B1pB,IAAKpI,EACLuH,MAAO,CAAEuO,OAAQ,OAAQ4c,SAAU,QAASU,UAAW,WAI3D,kBAACtrB,EAAA,EAAD,CAAYC,QAAQ,QAAQhE,MAAM,gBAAgB4R,UAAU,KACzDkd,MCjDE,SAASQ,KAAgB,IAC9Br0B,EAAaD,cAAbC,SAER,OACE,kBAAC2V,GAAA,EAAD,CAAMC,WAAS,EAAC9L,UAAU,SAAS9E,QAAS,GAC1C,kBAAC2Q,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAAChN,EAAA,EAAD,CAAYC,QAAQ,MAClB,kBAAC,GAAD,KACE,kBAAC9I,EAAD,0HAIA,kBAACC,EAAD,wLAQN,kBAACyV,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,GACX,kBAACH,GAAA,EAAD,CACEC,WAAS,EACT9L,UAAU,MACVwS,QAAQ,aACR5W,WAAW,WAEVnD,OAAO4N,QAAQzS,GAASkJ,KAAI,YAA+B,IAAD,mBAA5B0tB,EAA4B,KAAhBtd,EAAgB,KACzD,OAAIA,EAAW1Y,qBAEX,kBAACqX,GAAA,EAAD,CAAME,MAAI,EAACC,IAAE,EAAC5L,IAAKoqB,GACjB,kBAAC,GAAD,CACEtzB,OAAQszB,EACRT,cAAe7c,EAAW3Y,cAAc2B,MAIzC,WC/BnB,IAEMu0B,GAAU,kBAAchyB,OAAOgE,KAAK7I,GAASqJ,KAAK,KAAxC,KAyBDytB,GAvBH,kBACV,kBAAC,IAAD,CAAQC,SAAS,KACf,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOvB,OAAK,EAACD,KAAK,KAChB,kBAAC,IAAD,CAAUyB,GAAG,uBAEf,kBAAC,IAAD,CACEzB,KAAI,WAXS,mBAWT,kBACJC,OAAK,EACLvc,UAAW,kBACT,kBAAC,GAAD,KACE,kBAAC0d,GAAD,UAIN,kBAAC,IAAD,CAAOpB,KAAI,WAnBI,mBAmBJ,YAAsBsB,IAAc5d,UAAWwc,KAC1D,kBAAC,IAAD,CAAOF,KAAK,KACV,kBAAC,IAAD,CAAUyB,GAAG,0BCtBDvtB,QACW,cAA7BwtB,OAAO9Q,SAAS+Q,UAEe,UAA7BD,OAAO9Q,SAAS+Q,UAEhBD,OAAO9Q,SAAS+Q,SAAS3zB,MACvB,2DCRJQ,IAAY,CACVozB,IACE,2EACFC,aAAc,CAAC,IAAIC,IAAaC,gBAIhCC,iBAAkB,IAGtBC,IAASC,OAAO,kBAAC,GAAD,MAASC,SAASC,eAAe,SD+G3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBpqB,MAAK,SAACqqB,GACLA,EAAaC,gBAEdC,OAAM,SAACr1B,GACND,QAAQC,MAAMA,EAAMqB,c","file":"static/js/main.42d875c0.chunk.js","sourcesContent":["// Copying how RA's use colors in their wordpress sites\nconst regions = {\n  pacific: {\n    title: { en: \"CIOOS Pacific\", fr: \"SIOOC Pacifique\" },\n    catalogueTitle: {\n      fr: \"Catalogue de donnes du SIOOC du Pacifique\",\n      en: \"CIOOS Pacific Data Catalogue\",\n    },\n    colors: { primary: \"#006e90\", secondary: \"#ffc857\" },\n    email: \"info@cioospacific.ca\",\n    catalogueURL: {\n      fr: \"https://catalogue.cioospacific.ca/fr/\",\n      en: \"https://catalogue.cioospacific.ca/\",\n    },\n    introPageText: {\n      en: \"CIOOS Pacific is focused on ocean data from Canadas West Coast\",\n      fr:\n        \"Le CIOOS Pacifique se concentre sur les donnes ocaniques de la cte ouest du Canada\",\n    },\n    showInRegionSelector: true,\n  },\n\n  stlaurent: {\n    title: { en: \"CIOOS St. Lawrence\", fr: \"SIOOC Saint-Laurent\" },\n    catalogueTitle: {\n      fr:\n        \"Catalogue de donnes de l'Observatoire global du Saint-Laurent (OGSL)\",\n      en: \"St. Lawrence Global Observatory Data Catalogue (SLGO)\",\n    },\n    colors: { primary: \"#00adef\", secondary: \"#00aeef\" },\n    email: \"info@ogsl.ca\",\n    catalogueURL: {\n      fr: \"https://catalogue.ogsl.ca\",\n      en: \"https://catalogue.ogsl.ca/en/\",\n    },\n    introPageText: {\n      en:\n        \"The St. Lawrence Global Observatory integrates multidisciplinary data and information about the St. Lawrences global system, from the Great Lakes to the Gulf.\",\n      fr:\n        \"L'Observatoire global du Saint-Laurent intgre des donnes et de l'information multidisciplinaires sur l'cosystme global du Saint-Laurent, des Grands Lacs au Golfe\",\n    },\n    showInRegionSelector: true,\n  },\n  atlantic: {\n    title: { en: \"CIOOS Atlantic\", fr: \"SIOOC Atlantique\" },\n    catalogueTitle: {\n      fr: \"Catalogue de donnes du SIOOC du Atlantic\",\n      en: \"CIOOS Atlantic Data Catalogue\",\n    },\n    colors: { primary: \"#19222b\", secondary: \"#e55162\" },\n    email: \"info@cioosatlantic.ca\",\n    catalogueURL: {\n      fr: \"https://cioosatlantic.ca/ckan/fr/\",\n      en: \"https://cioosatlantic.ca/ckan/\",\n    },\n    introPageText: {\n      en:\n        \"CIOOS Atlantic is focused on the integration of oceanographic data from the Atlantic seaboard, a region spanning from Labrador to the USA.\",\n      fr:\n        \"CIOOS Atlantique se concentre sur l'intgration des donnes ocanographiques depuis la cte atlantique, une rgion qui s'tend du Labrador au TATS-UNIS.\",\n    },\n    showInRegionSelector: true,\n  },\n\n  iys: {\n    title: { en: \"IYS\", fr: \"IYS\" },\n    catalogueTitle: {\n      fr: \"Catalogue de donnes du IYS\",\n      en: \"IYS Data Catalogue\",\n    },\n    colors: { primary: \"#006e90\", secondary: \"#ffc857\" },\n    email: \"info@yearofthesalmon.org\",\n    catalogueURL: {\n      fr: \"https://iys.hakai.org/dataset/\",\n      en: \"https://iys.hakai.org/dataset/\",\n    },\n    introPageText: { en: \"\", fr: \"\" },\n    showInRegionSelector: false,\n  },\n  hakai: {\n    title: { en: \"Hakai\", fr: \"Hakai\" },\n    catalogueTitle: {\n      fr: \"Catalogue de donnes du Hakai\",\n      en: \"Hakai Data Catalogue\",\n    },\n    colors: { primary: \"#aa2025\", secondary: \"#459be2\" },\n    email: \"info@hakai.org\",\n    catalogueURL: {\n      fr: \"https://catalogue.hakai.org\",\n      en: \"https://catalogue.hakai.org\",\n    },\n    introPageText: { en: \"\", fr: \"\" },\n    showInRegionSelector: false,\n  },\n};\n\nexport default regions;\n","import firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport \"firebase/auth\";\nimport \"firebase/functions\";\nimport \"firebase/firestore\";\n\nconst deployedOnTestSserver = process.env.REACT_APP_DEV_DEPLOYMENT;\n\nconst productionDB = \"https://cioos-metadata-form.firebaseio.com\";\nconst devDB = \"https://cioos-metadata-form-dev.firebaseio.com\";\n\nconst config = {\n  apiKey: \"AIzaSyAdlELZS5Lbea5NquotMT8amwO-Lc_7ogc\",\n  authDomain: \"cioos-metadata-form.firebaseapp.com\",\n  databaseURL:\n    process.env.NODE_ENV === \"production\" && !deployedOnTestSserver\n      ? productionDB\n      : devDB,\n  projectId: \"cioos-metadata-form\",\n  storageBucket: \"cioos-metadata-form.appspot.com\",\n  messagingSenderId: \"646114203434\",\n  appId: \"1:646114203434:web:bccceadc5144270f98f053\",\n};\n\nfirebase.initializeApp(config);\n\nexport default firebase;\n","import firebase from \"./firebase\";\n\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nprovider.setCustomParameters({ promt: \"select_account\" });\n\nexport const auth = firebase.auth();\n\nexport const signInWithGoogle = () => auth.signInWithPopup(provider);\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nconst spanInLanguage = (lang) => ({ children }) => {\n  const { language } = useParams();\n  return language === lang && <>{children}</>;\n};\n\nexport const En = spanInLanguage(\"en\");\nexport const Fr = spanInLanguage(\"fr\");\n\n/* \n  This component can be used with attributes only, eg\n  <I18n en=\"boat\" fr=\"bateau\"/>\n\n  Or as a container for the <En> and <Fr> tags\n\n  Eg:\n\n  <I18n>\n    <En>rabbit</En>\n    <Fr>lapin</Fr>\n  </I18n>\n*/\n\nexport const I18n = (props) => {\n  const { en, fr } = props;\n  const { language = \"en\" } = useParams();\n\n  // If this component used via attributes\n  if (en || fr) {\n    if (en && fr) return language === \"en\" ? en : fr;\n\n    console.error(\"Tag missing french or english!\");\n    return null;\n  }\n\n  if (Array.isArray(props.children) && props.children.length !== 2) {\n    console.error(props, \"Tag missing french or english!\");\n  }\n\n  return props.children;\n};\n","import React, { Component, createContext } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport * as Sentry from \"@sentry/react\";\nimport { auth } from \"../auth\";\nimport firebase from \"../firebase\";\n\nexport const UserContext = createContext({ user: null, authIsLoading: false });\n\nclass UserProvider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: null,\n      authIsLoading: false,\n      admins: [],\n      reviewers: [],\n      isReviewer: false,\n      loggedIn: false,\n    };\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  componentDidMount = () => {\n    const { match } = this.props;\n\n    const { region } = match.params;\n    this.setState({ authIsLoading: true });\n    this.unsubscribe = auth.onAuthStateChanged((userAuth) => {\n      if (userAuth) {\n        const { displayName, email, uid } = userAuth;\n\n        Sentry.addBreadcrumb({\n          category: \"auth\",\n          message: `Authenticated user ${email}`,\n          level: Sentry.Severity.Info,\n        });\n\n        firebase\n          .database()\n          .ref(region)\n          .child(`users`)\n          .child(uid)\n          .child(\"userinfo\")\n          .update({ displayName, email });\n\n        firebase\n          .database()\n          .ref(region)\n          .child(`permissions`)\n          .on(\"value\", (permissionsFB) => {\n            const permissions = permissionsFB.toJSON();\n\n            const admins =\n              permissions && Object.values(permissions.admins || {});\n            const reviewers =\n              permissions && Object.values(permissions.reviewers || {});\n\n            const isAdmin = admins && admins.includes(email);\n            const isReviewer = reviewers && reviewers.includes(email);\n\n            this.setState({\n              admins,\n              reviewers,\n              isAdmin,\n              isReviewer,\n              loggedIn: true,\n            });\n          });\n      } else {\n        this.setState({\n          loggedIn: false,\n          authIsLoading: false,\n        });\n      }\n      this.setState({ user: userAuth, authIsLoading: false });\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n    const translate = firebase.functions().httpsCallable(\"translate\");\n\n    return (\n      <UserContext.Provider value={{ ...this.state, translate }}>\n        {children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default withRouter(UserProvider);\n","import React, { useContext } from \"react\";\n\nimport { useParams, useLocation, useHistory } from \"react-router-dom\";\n\nimport clsx from \"clsx\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport {\n  ExitToApp,\n  Contacts,\n  ListAlt,\n  AccountCircle,\n  ChevronLeft,\n  ChevronRight,\n  RateReview,\n  SupervisorAccount,\n  Menu,\n} from \"@material-ui/icons\";\n\nimport {\n  Drawer,\n  Avatar,\n  AppBar,\n  Toolbar,\n  CssBaseline,\n  Typography,\n  Divider,\n  IconButton,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Select,\n  Tooltip,\n  MenuItem,\n} from \"@material-ui/core\";\nimport regions from \"../regions\";\nimport { auth, signInWithGoogle } from \"../auth\";\n\nimport { En, Fr, I18n } from \"./I18n\";\n\nimport { UserContext } from \"../providers/UserProvider\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexGrow: 1,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  languageSelector: {\n    \"&:before\": {\n      borderColor: \"white\",\n    },\n    \"&:hover:not(.Mui-disabled):before\": {\n      borderColor: \"white\",\n    },\n    color: \"white\",\n    borderColor: \"white\",\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: \"none\",\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n    whiteSpace: \"nowrap\",\n  },\n  drawerOpen: {\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerClose: {\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    overflowX: \"hidden\",\n    width: theme.spacing(7) + 1,\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9) + 1,\n    },\n  },\n  toolbar: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n}));\n\nexport default function MiniDrawer({ children }) {\n  const history = useHistory();\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const {\n    user,\n    isReviewer: userIsReviewer,\n    isAdmin: userIsAdmin,\n    authIsLoading,\n  } = useContext(UserContext);\n\n  let { language = \"en\", region = \"region-select\" } = useParams();\n\n  if (![\"en\", \"fr\"].includes(language)) language = \"en\";\n\n  // This component may be displayed before the region is selected\n  if (!Object.keys(regions).includes(region)) region = \"\";\n\n  const { pathname } = useLocation();\n\n  const pathWithoutLang = pathname\n    .split(\"/\")\n    .map((e) => e)\n    .slice(2)\n    .join(\"/\");\n\n  const baseURL = `/${language}/${region}`;\n\n  // if region not set, keep drawer closed\n  const [open, setOpen] = React.useState(Boolean(region));\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const translations = {\n    home: <I18n en=\"Home\" fr=\"Accueil\" />,\n    new: <I18n en=\"Metadata Editor\" fr=\"diteur de mta-donnes\" />,\n    contacts: <I18n en=\"Contacts\" fr=\"Contacts\" />,\n    saved: <I18n en=\"My Records\" fr=\"Enregistrements\" />,\n    review: <I18n en=\"Review submissions\" fr=\"Examen des soumissions\" />,\n    admin: <I18n en=\"Admin\" fr=\"Admin\" />,\n    signIn: <I18n en=\"Sign in\" fr=\"Se Connecter\" />,\n    logout: <I18n en=\"Logout\" fr=\"Dconnexion\" />,\n  };\n  const topBarBackgroundColor = region\n    ? regions[region].colors.primary\n    : // CIOOS national \"dominant colour\" from branding doc\n      \"#52a79b\";\n\n  // const regionText = region ? regions[region].title[language] : \"\";\n\n  const usingDevDatabase =\n    process.env.REACT_APP_DEV_DEPLOYMENT ||\n    process.env.NODE_ENV === \"development\";\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"fixed\"\n        className={clsx(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <Toolbar\n          style={{\n            backgroundColor: topBarBackgroundColor,\n            alignItems: \"end\",\n          }}\n        >\n          {region && (\n            <IconButton\n              aria-label=\"open drawer\"\n              onClick={handleDrawerOpen}\n              edge=\"start\"\n              className={clsx(classes.menuButton, {\n                [classes.hide]: open,\n              })}\n            >\n              <Menu />\n            </IconButton>\n          )}\n          <Typography\n            variant=\"h5\"\n            noWrap\n            style={{\n              marginLeft: \"10px\",\n              marginBottom: \"10px\",\n              flex: 1,\n              color: \"white\",\n            }}\n          >\n            <I18n>\n              <En>Metadata Entry Tool</En>\n              <Fr>Outil de saisie de mtadonnes</Fr>\n            </I18n>\n          </Typography>\n          <div style={{ marginLeft: \"auto\" }}>\n            <img\n              src={`${process.env.PUBLIC_URL}/cioos_website_top_banner_${language}.png`}\n              alt=\"CIOOS/SIOOC\"\n              width={350}\n              style={{ verticalAlign: \"bottom\", paddingRight: \"15px\" }}\n            />\n\n            <Select\n              color=\"primary\"\n              className={classes.languageSelector}\n              value={language}\n              onChange={(e) =>\n                history.push(`/${e.target.value}/${pathWithoutLang}`)\n              }\n            >\n              <MenuItem value=\"en\">EN</MenuItem>\n              <MenuItem value=\"fr\">FR</MenuItem>\n            </Select>\n          </div>\n        </Toolbar>\n      </AppBar>\n      {region && (\n        <Drawer\n          variant=\"permanent\"\n          className={clsx(classes.drawer, {\n            [classes.drawerOpen]: open,\n            [classes.drawerClose]: !open,\n          })}\n          classes={{\n            paper: clsx({\n              [classes.drawerOpen]: open,\n              [classes.drawerClose]: !open,\n            }),\n          }}\n        >\n          <div className={classes.toolbar}>\n            <IconButton onClick={handleDrawerClose}>\n              {theme.direction === \"rtl\" ? <ChevronRight /> : <ChevronLeft />}\n            </IconButton>\n          </div>\n\n          {user && (\n            <ListItem key=\"userInfo\">\n              <ListItemIcon>\n                <Avatar src={user.photoURL} />\n              </ListItemIcon>\n              <ListItemText primary={user.displayName} />\n            </ListItem>\n          )}\n          <Divider />\n          <List>\n            {!user && region && (\n              <Tooltip\n                placement=\"right-start\"\n                title={open ? \"\" : translations.signIn}\n              >\n                <ListItem\n                  disabled={authIsLoading}\n                  button\n                  key=\"Sign in\"\n                  onClick={async () => {\n                    await signInWithGoogle();\n                    history.push(pathname);\n                  }}\n                >\n                  <ListItemIcon>\n                    <AccountCircle />\n                  </ListItemIcon>\n                  <ListItemText primary={translations.signIn} />\n                </ListItem>\n              </Tooltip>\n            )}\n            {user && region && (\n              <>\n                <Tooltip\n                  placement=\"right-start\"\n                  title={open ? \"\" : translations.saved}\n                >\n                  <ListItem\n                    button\n                    key=\"My Records\"\n                    onClick={() => history.push(`${baseURL}/submissions`)}\n                  >\n                    <ListItemIcon>\n                      <ListAlt />\n                    </ListItemIcon>\n                    <ListItemText primary={translations.saved} />\n                  </ListItem>\n                </Tooltip>\n                {region && (\n                  <>\n                    <Tooltip\n                      placement=\"right-start\"\n                      title={open ? \"\" : translations.contacts}\n                    >\n                      <ListItem\n                        button\n                        key=\"Contacts\"\n                        onClick={() => history.push(`${baseURL}/contacts`)}\n                      >\n                        <ListItemIcon disabled>\n                          <Contacts />\n                        </ListItemIcon>\n                        <ListItemText primary={translations.contacts} />\n                      </ListItem>\n                    </Tooltip>\n\n                    {userIsReviewer && (\n                      <Tooltip\n                        placement=\"right-start\"\n                        title={open ? \"\" : translations.review}\n                      >\n                        <ListItem\n                          button\n                          key=\"Review\"\n                          onClick={() => history.push(`${baseURL}/reviewer`)}\n                        >\n                          <ListItemIcon>\n                            <RateReview />\n                          </ListItemIcon>\n                          <ListItemText primary={translations.review} />\n                        </ListItem>\n                      </Tooltip>\n                    )}\n                    {userIsAdmin && (\n                      <Tooltip\n                        placement=\"right-start\"\n                        title={open ? \"\" : translations.admin}\n                      >\n                        <ListItem\n                          button\n                          key=\"Admin\"\n                          onClick={() => history.push(`${baseURL}/admin`)}\n                        >\n                          <ListItemIcon>\n                            <SupervisorAccount />\n                          </ListItemIcon>\n                          <ListItemText primary={translations.admin} />\n                        </ListItem>\n                      </Tooltip>\n                    )}\n                  </>\n                )}\n              </>\n            )}\n            {user && (\n              <Tooltip\n                placement=\"right-start\"\n                title={open ? \"\" : translations.logout}\n              >\n                <ListItem\n                  button\n                  key=\"Logout\"\n                  onClick={() =>\n                    auth.signOut().then(() => history.push(baseURL))\n                  }\n                >\n                  <ListItemIcon>\n                    <ExitToApp />\n                  </ListItemIcon>\n                  <ListItemText primary={translations.logout} />\n                </ListItem>\n              </Tooltip>\n            )}\n          </List>\n          <Divider />\n          {usingDevDatabase && <h5>Connected to development database</h5>}\n        </Drawer>\n      )}\n      <main className={classes.content}>\n        <div className={classes.toolbar} />\n        {children}\n      </main>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport { Chip } from \"@material-ui/core\";\nimport { I18n } from \"../I18n\";\n\nconst StatusChip = ({ status }) => {\n  const statusColors = {\n    submitted: \"primary\",\n    published: \"secondary\",\n  };\n\n  let chipText = \"\";\n\n  if (status === \"submitted\") chipText = <I18n en=\"Submitted\" fr=\"Soumis\" />;\n  else if (status === \"published\")\n    chipText = <I18n en=\"Published\" fr=\"Publi\" />;\n  else chipText = <I18n en=\"Draft\" fr=\"Brouillon\" />;\n\n  return (\n    <Chip\n      label={chipText}\n      color={statusColors[status] || \"default\"}\n      variant=\"outlined\"\n    />\n  );\n};\n\nexport default StatusChip;\n","const validateLatitude = (num) => num >= -90 && num <= 90;\n\nconst deepCompare = (obj1, obj2) =>\n  JSON.parse(JSON.stringify(obj1) === JSON.stringify(obj2));\n\nconst validateLongitude = (num) => num >= -180 && num <= 180;\n\nconst polygonIsValid = (polygon) => {\n  // eg 48,-128 56,-133 56,-147 48,-128\n  const coordinates = polygon.split(\" \").map((c) => c.split(\",\"));\n  if (coordinates.length < 2) return false;\n  if (!deepCompare(coordinates[0], coordinates[coordinates.length - 1]))\n    return false;\n\n  return (\n    coordinates.filter(\n      ([lat, lon]) =>\n        validateLongitude(parseFloat(lon)) && validateLatitude(parseFloat(lat))\n    ).length === coordinates.length\n  );\n};\n\nconst contactIsFilled = (contact) =>\n  Boolean(\n    contact.role && contact.role.length && (contact.orgName || contact.indName)\n  );\n\n// required fields and  a function to validate each\nconst validators = {\n  title: {\n    validation: (val) => val && val.en && val.fr,\n    tab: \"data identification\",\n    error: {\n      en: \"Missing title in French or English\",\n      fr: \"Titre manquant en franais ou en anglais\",\n    },\n  },\n  abstract: {\n    validation: (val) => val && val.en && val.fr,\n    tab: \"data identification\",\n    error: {\n      en: \"Missing abstract in French or English\",\n      fr: \"Abrg manquant en franais ou en anglais\",\n    },\n  },\n  keywords: {\n    validation: (val) => val && (val.en.length || val.fr.length),\n    tab: \"data identification\",\n    error: {\n      en: \"At least one keyword is required\",\n      fr: \"Au moins un mot cl est requis\",\n    },\n  },\n  eov: {\n    validation: (val) => val && val.length,\n    tab: \"data identification\",\n    error: {\n      en: \"At least one EOV is required\",\n      fr: \"Au moins un EOV est requis\",\n    },\n  },\n  map: {\n    error: {\n      en: \"Spatial information is missing\",\n      fr: \"L'information spatiale est manquante\",\n    },\n    tab: \"spatial\",\n    validation: (val) => {\n      if (!val) return false;\n      const north = parseFloat(val.north);\n      const south = parseFloat(val.south);\n      const east = parseFloat(val.east);\n      const west = parseFloat(val.west);\n      const { polygon } = val;\n\n      return (\n        (north &&\n          south &&\n          east &&\n          west &&\n          north >= south &&\n          east >= west &&\n          validateLatitude(north) &&\n          validateLatitude(south) &&\n          validateLongitude(east) &&\n          validateLongitude(west)) ||\n        (polygon && polygonIsValid(polygon))\n      );\n    },\n  },\n  progress: {\n    tab: \"data identification\",\n    validation: (val) => val,\n    error: {\n      en: \"Please select a dataset status\",\n      fr: \"L'information spatiale est manquante\",\n    },\n  },\n  distribution: {\n    tab: \"resources\",\n    validation: (val) =>\n      Array.isArray(val) && val.filter((dist) => dist.name && dist.url).length,\n    error: {\n      en: \"Must have at least one resource\",\n      fr: \"Doit avoir au moins une ressource\",\n    },\n  },\n  verticalExtentMin: {\n    tab: \"spatial\",\n\n    validation: (val) => val,\n    error: {\n      en: \"Missing Vertical Extent Min\",\n      fr: \"tendue verticale manquante Min\",\n    },\n  },\n  verticalExtentMax: {\n    tab: \"spatial\",\n    validation: (val) => val,\n    error: {\n      en: \"Missing Vertical Extent Max\",\n      fr: \"tendue verticale manquante Max\",\n    },\n  },\n  verticalExtentDirection: {\n    tab: \"spatial\",\n    validation: (val) => val,\n    error: {\n      en: \"Missing Vertical Extent Direction\",\n      fr: \"Direction de l'tendue verticale manquante\",\n    },\n  },\n  platformID: {\n    tab: \"platform\",\n    validation: (val, record) => record.noPlatform || val,\n    error: {\n      en: \"Missing platform ID\",\n      fr: \"ID de plateforme manquant\",\n    },\n  },\n  platformDescription: {\n    tab: \"platform\",\n    validation: (val, record) => record.noPlatform || val,\n    error: {\n      en: \"Missing platform description\",\n      fr: \"Description de la plateforme manquante\",\n    },\n  },\n  instruments: {\n    tab: \"platform - instruments\",\n    validation: (val, record) =>\n      record.noPlatform ||\n      (val && val.filter((instrument) => instrument.id).length),\n    error: {\n      en: \"At least one instrument is required if there is a platform\",\n      fr: \"Au moins un instrument est requis s'il y a une plateforme\",\n    },\n  },\n  language: {\n    tab: \"data identification\",\n    validation: (val) => val,\n    error: {\n      en: \"Language field is missing\",\n      fr: \"Le champ de langue est manquant\",\n    },\n  },\n  license: {\n    tab: \"data identification\",\n    validation: (val) => val,\n    error: {\n      en: \"Please select a license for the dataset\",\n      fr: \"Veuillez slectionner une licence pour le jeu de donnes\",\n    },\n  },\n  // at least one contact has to have a role and a org or individual name\n  contacts: {\n    tab: \"contacts\",\n    validation: (val) =>\n      val &&\n      // every contact must have a role and name\n      val.every(contactIsFilled) &&\n      val\n        .filter(contactIsFilled)\n        .find((contact) => contact.role.includes(\"custodian\")) &&\n      val\n        .filter(contactIsFilled)\n        .find((contact) => contact.role.includes(\"owner\")),\n    error: {\n      en:\n        \"Every contact must have at least one role checked, and  'Data contact' or 'Metadata contact' must be added to at least one contact\",\n      fr:\n        \"Chaque contact doit avoir au moins un rle vrifi, et  Personne-contact pour les mtadonnes  ou  Personne-contact pour les donnes  doit tre ajout  au moins un contact\",\n    },\n  },\n};\nexport const validateField = (record, fieldName) => {\n  const valueToValidate = record[fieldName];\n  // if no validator funciton exists, then it is not a required field\n  const validationFunction =\n    (validators[fieldName] && validators[fieldName].validation) || (() => true);\n\n  return validationFunction && validationFunction(valueToValidate, record);\n};\n\nexport const getErrorsByTab = (record) => {\n  const fields = Object.keys(validators);\n  const invalidFields = fields.filter((field) => !validateField(record, field));\n  const fieldErrorInfo = invalidFields.map((field) => {\n    const { error, tab } = validators[field];\n    return { error, tab };\n  });\n\n  return fieldErrorInfo.reduce((acc, { error, tab }) => {\n    if (!acc[tab]) acc[tab] = [];\n    acc[tab].push(error);\n    return acc;\n  }, {});\n};\n\nexport const percentValid = (record) => {\n  const fields = Object.keys(validators);\n  const numTotal = fields.length;\n  const validFields = fields.filter((field) => validateField(record, field));\n\n  const numValid = validFields.length;\n\n  return numValid / numTotal;\n};\nexport const recordIsValid = (record) => {\n  return percentValid(record) === 1;\n};\n","export function camelToSentenceCase(text = \"\") {\n  if (!text) return \"\";\n  const result = text.replace(/([A-Z])/g, \" $1\");\n  return result.charAt(0).toUpperCase() + result.slice(1);\n}\nexport function deepCopy(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\nexport function deepEquals(obj1, obj2) {\n  return JSON.stringify(obj1) === JSON.stringify(obj2);\n}\n\nexport function firebaseToJSObject(input) {\n  if (!input) return null;\n  const out = deepCopy(input);\n  Object.keys(out).forEach((key) => {\n    if (typeof out[key] === \"object\" && Object.keys(out[key])[0] === \"0\") {\n      out[key] = Object.entries(out[key]).map(([, v]) => v);\n    }\n\n    //  special case\n    if (input.keywords)\n      out.keywords = {\n        en: Object.values(input.keywords.en || {}),\n        fr: Object.values(input.keywords.fr || {}),\n      };\n  });\n  if (out.contacts) {\n    Object.values(out.contacts).forEach((contact) => {\n      if (contact.role) {\n        // eslint-disable-next-line no-param-reassign\n        contact.role = Object.values(contact.role);\n      }\n    });\n  }\n\n  return out;\n}\n","import React from \"react\";\nimport TimeAgo from \"javascript-time-ago\";\nimport { useParams } from \"react-router-dom\";\n\nimport en from \"javascript-time-ago/locale/en\";\nimport fr from \"javascript-time-ago/locale/fr\";\nimport { En, Fr, I18n } from \"../I18n\";\n\nconst LastEdited = ({ dateStr }) => {\n  const { language } = useParams();\n\n  if (!dateStr) return null;\n\n  let timeAgo;\n\n  if (language === \"en\") {\n    TimeAgo.addLocale(en);\n    timeAgo = new TimeAgo(\"en-US\");\n  } else {\n    TimeAgo.addLocale(fr);\n    timeAgo = new TimeAgo(\"fr-FR\");\n  }\n\n  return (\n    <span>\n      <I18n>\n        <En>Last edited</En>\n        <Fr>Dernire modification</Fr>\n      </I18n>{\" \"}\n      {timeAgo.format(new Date(dateStr))}\n      {\". \"}\n    </span>\n  );\n};\n\nexport default LastEdited;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { En, Fr, I18n } from \"../I18n\";\n\nfunction rand() {\n  return Math.round(Math.random() * 20) - 10;\n}\n\nfunction getModalStyle() {\n  const top = 50 + rand();\n  const left = 50 + rand();\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default function SimpleModal({ open, onClose, onAccept }) {\n  const classes = useStyles();\n  // getModalStyle is not a pure function, we roll the style only on the first render\n  const [modalStyle] = React.useState(getModalStyle);\n\n  return (\n    <div>\n      <Modal\n        open={open}\n        onClose={onClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <h2 id=\"simple-modal-title\">\n            <I18n>\n              <En>Are you sure?</En>\n              <Fr>Vous tes sr ?</Fr>\n            </I18n>\n          </h2>\n          <button\n            type=\"button\"\n            onClick={() => {\n              onClose();\n              onAccept();\n            }}\n          >\n            <I18n>\n              <En>Yes</En>\n              <Fr>Oui</Fr>\n            </I18n>\n          </button>\n          <button type=\"button\" onClick={onClose}>\n            <I18n>\n              <En>No</En>\n              <Fr>Non</Fr>\n            </I18n>\n          </button>\n        </div>\n      </Modal>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport {\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  Avatar,\n  ListItemAvatar,\n  Tooltip,\n  ListItemSecondaryAction,\n  IconButton,\n  CircularProgress,\n  Button,\n} from \"@material-ui/core\";\n\nimport {\n  Delete,\n  Edit,\n  Publish,\n  Description,\n  FileCopy,\n  Visibility,\n  Add,\n  Eject,\n  // CloudDownload,\n  // Code,\n} from \"@material-ui/icons\";\nimport StatusChip from \"../FormComponents/StatusChip\";\n\nimport firebase from \"../../firebase\";\nimport { auth } from \"../../auth\";\nimport { percentValid } from \"../../utils/validate\";\n\nimport { Fr, En, I18n } from \"../I18n\";\nimport { firebaseToJSObject } from \"../../utils/misc\";\nimport LastEdited from \"../FormComponents/LastEdited\";\nimport SimpleModal from \"../FormComponents/SimpleModal\";\n\nimport regions from \"../../regions\";\n\n// const WAF_URL = \"https://pac-dev1.cioos.org/dev/metadata\";\n// function openInNewTab(url) {\n//   const newWindow = window.open(url, \"_blank\", \"noopener,noreferrer\");\n//   if (newWindow) newWindow.opener = null;\n// }\nclass Submissions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      records: {},\n      deleteModalOpen: false,\n      submitModalOpen: false,\n      withdrawModalOpen: false,\n      modalKey: \"\",\n      modalRecord: null,\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .child(user.uid)\n          .child(\"records\")\n          .on(\"value\", (records) =>\n            this.setState({ records: records.toJSON(), loading: false })\n          );\n      } else {\n        this.setState({ loading: false });\n      }\n    });\n  }\n\n  static getRecordFilename(record) {\n    return `${record.title[record.language].slice(\n      0,\n      30\n    )}_${record.identifier.slice(0, 5)}`\n      .trim()\n      .toLowerCase()\n      .replace(/[^a-zA-Z0-9]/g, \"_\");\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  editRecord(key) {\n    const { match, history } = this.props;\n    const { language, region } = match.params;\n    const { currentUser } = auth;\n    history.push(`/${language}/${region}/${currentUser.uid}/${key}`);\n  }\n\n  submitRecord(key, record) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser && key) {\n      const recordRef = firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"records\")\n        .child(key);\n\n      recordRef.child(\"status\").set(\"submitted\");\n\n      if (record && !record.filename) {\n        const filename = Submissions.getRecordFilename(record);\n        recordRef.child(\"filename\").set(filename);\n      }\n    }\n  }\n\n  // Make record a draft again\n  withdrawRecord(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser && key) {\n      firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"records\")\n        .child(key)\n        .child(\"status\")\n        .set(\"\");\n    }\n  }\n\n  cloneRecord(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser) {\n      const recordsRef = firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"records\");\n\n      recordsRef.child(key).once(\"value\", (recordFirebase) => {\n        const record = recordFirebase.toJSON();\n\n        // reset record details\n        record.recordID = \"\";\n        record.status = \"\";\n        record.lastEditedBy = {};\n        record.created = new Date().toISOString();\n        record.filename = \"\";\n        record.timeFirstPublished = \"\";\n\n        if (record.title.en) record.title.en = `${record.title.en} (Copy)`;\n        if (record.title.fr) record.title.fr = `${record.title.fr} (Copte)`;\n        record.identifier = uuidv4();\n        record.created = new Date().toISOString();\n\n        recordsRef.push(record);\n      });\n    }\n  }\n\n  deleteRecord(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser) {\n      firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"records\")\n        .child(key)\n        .remove();\n    }\n  }\n\n  toggleModal(modalName, state, key = \"\", record = null) {\n    this.setState({ modalKey: key, [modalName]: state, modalRecord: record });\n  }\n\n  render() {\n    const { match, history } = this.props;\n\n    const { language, region } = match.params;\n\n    const {\n      deleteModalOpen,\n      withdrawModalOpen,\n      modalKey,\n      modalRecord,\n      submitModalOpen,\n      records,\n      loading,\n    } = this.state;\n\n    const recordDateSort = (a, b) =>\n      new Date(b[1].created) - new Date(a[1].created);\n\n    return (\n      <div>\n        <SimpleModal\n          open={deleteModalOpen}\n          onClose={() => this.toggleModal(\"deleteModalOpen\", false)}\n          onAccept={() => this.deleteRecord(modalKey)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <SimpleModal\n          open={submitModalOpen}\n          onClose={() => this.toggleModal(\"submitModalOpen\", false)}\n          onAccept={() => this.submitRecord(modalKey, modalRecord)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <SimpleModal\n          open={withdrawModalOpen}\n          onClose={() => this.toggleModal(\"withdrawModalOpen\", false)}\n          onAccept={() => this.withdrawRecord(modalKey)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n\n        <Typography variant=\"h5\">\n          <I18n>\n            <En>My Records</En>\n            <Fr>Mes dossiers</Fr>\n          </I18n>\n        </Typography>\n\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <span>\n            <div>\n              <Typography>\n                <I18n>\n                  <En>\n                    To start a new record, click on \"New Record\" and begin\n                    adding information. To continue working on a record, select\n                    it from the list below. Once your record is completed and\n                    information has been provided for all mandatory fields, you\n                    can submit your record for review by clicking the \"Submit\n                    for review\" icon to the right of your record title. The\n                    record will not be published until it is reviewed and\n                    approved by {regions[region][\"title\"][language]} staff.\n                  </En>\n                  <Fr>\n                    Afin de soumettre un nouvel enregistrement, cliquez sur \n                    Nouvel enregistrement  et ajoutez-y les informations\n                    demandes. Si vous dsirez reprendre la soumission dun\n                    enregistrement entam, slectionnez-le dans la liste\n                    ci-dessous. Lorsque les informations sont saisies pour tous\n                    les champs obligatoires, vous pouvez soumettre votre\n                    enregistrement pour validation en cliquant sur licne \n                    soumettre pour validation . Lenregistrement sera publi\n                    lorsquil aura t valid et approuv par un membre du{\" \"}\n                    {regions[region][\"title\"][language]}.\n                  </Fr>\n                </I18n>\n              </Typography>\n\n              <div style={{ marginTop: \"10px\" }}>\n                <Button\n                  startIcon={<Add />}\n                  onClick={() => history.push(`/${language}/${region}/new`)}\n                >\n                  <I18n en=\"New Record\" fr=\"Nouvel enregistrement\" />\n                </Button>\n              </div>\n\n              <List>\n                {Object.entries(records || {})\n                  .sort(recordDateSort)\n                  .map(([key, recordFireBase]) => {\n                    const record = firebaseToJSObject(recordFireBase);\n                    const { status, title, created } = record;\n\n                    if (!title || (!title.en && !title.fr)) return null;\n\n                    const submitted = status === \"submitted\";\n                    const published = status === \"published\";\n\n                    const percentValidInt = Math.round(\n                      percentValid(record) * 100\n                    );\n                    const recordIsComplete = percentValidInt === 100;\n                    let submitTooltip = {\n                      en: \"Submit for review\",\n                      fr: \"Soumettre pour examen\",\n                    };\n                    const withdrawTooltip = {\n                      en: \"Return record to draft for editing\",\n                      fr:\n                        \"Retourner l'enregistrement au brouillon pour modification\",\n                    };\n\n                    if (!recordIsComplete)\n                      submitTooltip = {\n                        en: \"Can't submit incomplete record\",\n                        fr:\n                          \"Impossible de soumettre un enregistrement incomplet\",\n                      };\n                    else if (status === \"submitted\" || status === \"published\")\n                      submitTooltip = {\n                        en: \"Record has been submitted\",\n                        fr: \"L'enregistrement a t soumis\",\n                      };\n                    // const recordTitleShortened = `${record.title[\n                    //   language\n                    // ].slice(0, 30)}_${record.identifier.slice(0, 5)}`\n                    //   .trim()\n                    //   .toLowerCase()\n                    //   .replace(/[^a-zA-Z0-9]/g, \"_\");\n\n                    // let wafPath = `${WAF_URL}/${region}`;\n                    // if (status !== \"published\") wafPath += \"/unpublished\";\n                    // const recordURLXML = `${wafPath}/${recordTitleShortened}.xml`;\n                    // const recordURLERDDAP = `${wafPath}/${recordTitleShortened}_erddap.txt`;\n\n                    return (\n                      <ListItem\n                        key={key}\n                        button\n                        onClick={() => this.editRecord(key)}\n                      >\n                        <ListItemAvatar>\n                          <Avatar>\n                            <Description />\n                          </Avatar>\n                        </ListItemAvatar>\n                        <ListItemText\n                          primary={\n                            <div style={{ width: \"60%\" }}>\n                              {title[language]} <StatusChip status={status} />\n                            </div>\n                          }\n                          secondary={\n                            created && (\n                              <span>\n                                <LastEdited dateStr={created} />\n                                <I18n>\n                                  <En>{percentValidInt}% complete</En>\n                                  <Fr>{percentValidInt}% Acheve</Fr>\n                                </I18n>\n                              </span>\n                            )\n                          }\n                        />\n                        <ListItemSecondaryAction>\n                          <Tooltip title={<I18n en=\"Clone\" fr=\"Clone\" />}>\n                            <span>\n                              <IconButton\n                                onClick={() => this.cloneRecord(key)}\n                                edge=\"end\"\n                                aria-label=\"clone\"\n                              >\n                                <FileCopy />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          {published ? (\n                            <Tooltip title={<I18n en=\"View\" fr=\"Vue\" />}>\n                              <span>\n                                <IconButton\n                                  onClick={() => this.editRecord(key)}\n                                  edge=\"end\"\n                                >\n                                  <Visibility />\n                                </IconButton>\n                              </span>\n                            </Tooltip>\n                          ) : (\n                            <Tooltip title={<I18n en=\"Edit\" fr=\"diter\" />}>\n                              <span>\n                                <IconButton\n                                  onClick={() => this.editRecord(key)}\n                                  edge=\"end\"\n                                >\n                                  <Edit />\n                                </IconButton>\n                              </span>\n                            </Tooltip>\n                          )}\n                          <Tooltip title={<I18n en=\"Delete\" fr=\"Supprimer\" />}>\n                            <span>\n                              <IconButton\n                                onClick={() =>\n                                  this.toggleModal(\"deleteModalOpen\", true, key)\n                                }\n                                edge=\"end\"\n                                aria-label=\"delete\"\n                              >\n                                <Delete />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          <Tooltip\n                            title={\n                              <I18n\n                                en={submitTooltip.en}\n                                fr={submitTooltip.fr}\n                              />\n                            }\n                          >\n                            <span>\n                              <IconButton\n                                disabled={\n                                  submitted || published || !recordIsComplete\n                                }\n                                onClick={() =>\n                                  this.toggleModal(\n                                    \"submitModalOpen\",\n                                    true,\n                                    key,\n                                    record\n                                  )\n                                }\n                                edge=\"end\"\n                                aria-label=\"delete\"\n                              >\n                                <Publish />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          <Tooltip\n                            title={\n                              <I18n\n                                en={withdrawTooltip.en}\n                                fr={withdrawTooltip.fr}\n                              />\n                            }\n                          >\n                            <span>\n                              <IconButton\n                                disabled={!status}\n                                onClick={() =>\n                                  this.toggleModal(\n                                    \"withdrawModalOpen\",\n                                    true,\n                                    key\n                                  )\n                                }\n                                edge=\"end\"\n                                aria-label=\"delete\"\n                              >\n                                <Eject />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          {/* <Tooltip\n                            title={\n                              <I18n en=\"Download XML\" fr=\"Tlcharger XML\" />\n                            }\n                          >\n                            <span>\n                              <IconButton\n                                disabled={!status}\n                                onClick={() => openInNewTab(recordURLXML)}\n                                edge=\"end\"\n                                aria-label=\"delete\"\n                              >\n                                <CloudDownload />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          <Tooltip\n                            title={\n                              <I18n\n                                en=\"Download ERDDAP snippet\"\n                                fr={\"Tlcharger l'extrait ERDDAP\"}\n                              />\n                            }\n                          >\n                            <span>\n                              <IconButton\n                                disabled={!status}\n                                onClick={() => openInNewTab(recordURLERDDAP)}\n                                edge=\"end\"\n                                aria-label=\"delete\"\n                              >\n                                <Code />\n                              </IconButton>\n                            </span>\n                          </Tooltip> */}\n                        </ListItemSecondaryAction>\n                      </ListItem>\n                    );\n                  })}\n              </List>\n            </div>\n\n            {!records && (\n              <Typography>\n                <I18n>\n                  <En>You don't have any records.</En>\n                  <Fr>Vous n'avez pas d'enregistrements.</Fr>\n                </I18n>\n              </Typography>\n            )}\n          </span>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Submissions;\n","import React from \"react\";\n\nimport { I18n } from \"../I18n\";\n\nfunction getContactTitleFromNames(contact) {\n  const { orgName, indName } = contact;\n  const titleParts = [orgName, indName];\n\n  return titleParts\n    .filter((e) => e)\n    .map((e) => e.trim())\n    .filter((e) => e)\n    .join(\" - \");\n}\n\nfunction ContactTitle({ contact }) {\n  return (\n    getContactTitleFromNames(contact) || (\n      <I18n en=\"new contact\" fr=\"Nouveau contact\" />\n    )\n  );\n}\n\nexport default ContactTitle;\n","import React from \"react\";\nimport {\n  Typography,\n  IconButton,\n  Button,\n  List,\n  ListItem,\n  ListItemText,\n  Avatar,\n  Grid,\n  ListItemSecondaryAction,\n  ListItemAvatar,\n  CircularProgress,\n  Tooltip,\n} from \"@material-ui/core\";\nimport {\n  Add,\n  Edit,\n  Delete,\n  PermContactCalendar,\n  FileCopy,\n} from \"@material-ui/icons\";\nimport firebase from \"../../firebase\";\nimport { auth } from \"../../auth\";\nimport ContactTitle from \"../FormComponents/ContactTitle\";\nimport { I18n, En, Fr } from \"../I18n\";\nimport SimpleModal from \"../FormComponents/SimpleModal\";\n\nclass Contacts extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      contacts: {},\n      modalOpen: false,\n      modalKey: \"\",\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .child(user.uid)\n          .child(\"contacts\")\n          .on(\"value\", (records) =>\n            this.setState({ contacts: records.toJSON(), loading: false })\n          );\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  deleteContact(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser) {\n      firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"contacts\")\n        .child(key)\n        .remove();\n    }\n  }\n\n  cloneContact(key) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (auth.currentUser) {\n      const contactsRef = firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"contacts\");\n\n      contactsRef.child(key).once(\"value\", (contactFirebase) => {\n        const contact = contactFirebase.toJSON();\n        if (contact.indName) contact.indName += \" (Copy)\";\n        else contact.orgName += \" (Copy)\";\n        contactsRef.push(contact);\n      });\n    }\n  }\n\n  addContact() {\n    const { history, match } = this.props;\n    const { language, region } = match.params;\n    // render different page with 'save' button?\n\n    if (auth.currentUser) {\n      firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"contacts\")\n        .push({})\n        .then(({ key }) => {\n          history.push(`/${language}/${region}/contacts/${key}`);\n        });\n    }\n  }\n\n  editContact(key) {\n    const { history, match } = this.props;\n    const { language, region } = match.params;\n\n    // render different page with 'save' button?\n    history.push(`/${language}/${region}/contacts/${key}`);\n  }\n\n  toggleModal(state, key = \"\") {\n    this.setState({ modalKey: key, modalOpen: state });\n  }\n\n  render() {\n    const { modalOpen, modalKey, loading, contacts } = this.state;\n    return (\n      <Grid container direction=\"column\" spacing={3}>\n        <Grid item xs>\n          <SimpleModal\n            open={modalOpen}\n            onClose={() => this.toggleModal(false)}\n            onAccept={() => this.deleteContact(modalKey)}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n          />\n\n          <Typography variant=\"h5\">\n            <I18n>\n              <En>Contacts</En>\n              <Fr>Contacts</Fr>\n            </I18n>\n          </Typography>\n        </Grid>\n        <Grid item xs>\n          <Typography>\n            <I18n>\n              <En>\n                Create contacts here that you can reuse in multiple metadata\n                records.\n              </En>\n              <Fr>\n                Crez ici des contacts que vous pouvez rutiliser dans plusieurs\n                enregistrements de mtadonnes\n              </Fr>\n            </I18n>\n          </Typography>\n        </Grid>\n\n        <Grid item xs>\n          <Button startIcon={<Add />} onClick={() => this.addContact()}>\n            <I18n>\n              <En>Add contact</En>\n              <Fr>ajouter un contact</Fr>\n            </I18n>\n          </Button>\n        </Grid>\n\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <>\n            <Grid item xs>\n              {contacts && Object.keys(contacts).length ? (\n                <div>\n                  <Typography>\n                    <I18n>\n                      <En>These are your contacts</En>\n                      <Fr>Ce sont vos contacts</Fr>\n                    </I18n>\n                  </Typography>\n                  <List>\n                    {Object.entries(contacts).map(([key, val]) => (\n                      <ListItem\n                        key={key}\n                        button\n                        onClick={() => this.editContact(key)}\n                      >\n                        <ListItemAvatar>\n                          <Avatar>\n                            <PermContactCalendar />\n                          </Avatar>\n                        </ListItemAvatar>\n\n                        <ListItemText\n                          primary={<ContactTitle contact={val} />}\n                        />\n                        <ListItemSecondaryAction>\n                          <Tooltip title={<I18n en=\"Edit\" fr=\"diter\" />}>\n                            <span>\n                              <IconButton onClick={() => this.editContact(key)}>\n                                <Edit />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          <Tooltip title={<I18n en=\"Clone\" fr=\"Clone\" />}>\n                            <span>\n                              <IconButton\n                                onClick={() => this.cloneContact(key)}\n                              >\n                                <FileCopy />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                          <Tooltip title={<I18n en=\"Delete\" fr=\"Supprimer\" />}>\n                            <span>\n                              <IconButton\n                                onClick={() => this.toggleModal(true, key)}\n                              >\n                                <Delete />\n                              </IconButton>\n                            </span>\n                          </Tooltip>\n                        </ListItemSecondaryAction>\n                      </ListItem>\n                    ))}\n                  </List>\n                </div>\n              ) : (\n                <Typography>\n                  <I18n>\n                    <En>No contacts submitted yet</En>\n                    <Fr>Aucun contacts n'a encore t soumis</Fr>\n                  </I18n>\n                </Typography>\n              )}\n            </Grid>\n          </>\n        )}\n      </Grid>\n    );\n  }\n}\nexport default Contacts;\n","import React from \"react\";\n\nimport { Typography } from \"@material-ui/core\";\nimport { En, Fr, I18n } from \"../I18n\";\n\nconst Login = () => {\n  return (\n    <div>\n      <Typography>\n        <I18n>\n          <En>\n            Please sign in to access your metadata records. You will need a\n            Google account to login.\n          </En>\n          <Fr>\n            Connectez-vous pour accder  vos enregistrements de mtadonnes.\n            Vous aurez besoin d'un compte Google pour vous connecter.\n          </Fr>\n        </I18n>\n      </Typography>\n    </div>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\n\nconst NotFound = () => {\n  return (\n    <div>\n      <Typography variant=\"h5\">Not Found / Non trouv</Typography>\n    </div>\n  );\n};\n\nexport default NotFound;\n","import React from \"react\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { I18n } from \"../I18n\";\n\nfunction RequiredMark({ passes }) {\n  if (passes)\n    return (\n      <span\n        style={{\n          color: \"green\",\n          fontSize: \"x-large\",\n          position: \"relative\",\n          bottom: \"-4px\",\n        }}\n      >\n        {\" \"}\n        {\" \"}\n      </span>\n    );\n  return (\n    <Tooltip title={<I18n en=\"Required\" fr=\"Obligatoire\" />}>\n      <span\n        style={{\n          color: \"red\",\n          fontSize: \"large\",\n        }}\n      >\n        {\" \"}\n        {\" \"}\n      </span>\n    </Tooltip>\n  );\n}\nexport default RequiredMark;\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\n\nexport const SupplementalText = ({ children }) => (\n  <Typography variant=\"body2\" component=\"div\">\n    {children}\n  </Typography>\n);\nexport const QuestionText = ({ children }) => (\n  <Typography variant=\"body1\" component=\"div\" style={{ marginBottom: \"10px\" }}>\n    {children}\n  </Typography>\n);\nexport const paperClass = {\n  padding: \"10px\",\n  margin: \"20px\",\n  width: \"90%\",\n};\n","import React from \"react\";\n\nimport { Save } from \"@material-ui/icons\";\nimport { Typography, Paper, Grid } from \"@material-ui/core\";\nimport { useParams } from \"react-router-dom\";\n\nimport regions from \"../../regions\";\n\nimport { En, Fr, I18n } from \"../I18n\";\nimport RequiredMark from \"../FormComponents/RequiredMark\";\nimport { paperClass } from \"../FormComponents/QuestionStyles\";\n\nconst StartTab = ({ disabled, record }) => {\n  const { region } = useParams();\n  const regionInfo = regions[region];\n\n  return (\n    <Grid item xs>\n      <Paper style={paperClass}>\n        {disabled && (\n          <Typography>\n            <I18n>\n              <En>\n                <b>\n                  This form is locked because it has already been{\" \"}\n                  {record.status}.\n                </b>\n              </En>\n              <Fr>\n                <b>\n                  Ce formulaire est verrouill car il a dj t{\" \"}\n                  {record.status === \"submitted\" ? \"soumis\" : \"publi\"} .\n                </b>\n              </Fr>\n            </I18n>\n          </Typography>\n        )}\n        <Typography variant=\"body1\">\n          <I18n>\n            <En>\n              Welcome to the {regionInfo.title.en} Metadata Entry Tool, the\n              first step in making your data discoverable and accessible through\n              CIOOS. This information will be used to create a metadata profile\n              for your dataset that will allow it to be searchable through the{\" \"}\n              {regionInfo.catalogueTitle.en} Data Catalogue. Please fill out\n              each field with as much detail as possible. The metadata profile\n              will help describe this dataset for others to determine if it is\n              relevant for their work and ensure it is interoperable with other\n              databases and systems.\n              <br />\n              <br /> Questions regarding the form can be directed to{\" \"}\n            </En>\n            <Fr>\n              Bienvenue dans loutil de saisie de mtadonnes du{\" \"}\n              {regionInfo.title.fr}, la premire tape pour rendre vos donnes\n              accessibles et dcouvrables via notre plateforme. Ces\n              renseignements serviront  crer un profil de mtadonnes pour\n              votre jeu de donnes, facilitant ainsi sa dcouverte dans le{\" \"}\n              {regionInfo.catalogueTitle.fr} et le rendant interoprable avec\n              dautres systmes de diffusion. Veuillez remplir les champs requis\n              de la faon la plus exhaustive possible.\n              <br />\n              <br /> Les questions concernant le formulaire peuvent tre\n              adresses {\" \"}\n            </Fr>\n          </I18n>\n          <a href={`mailto:${regionInfo.email}`}>{regionInfo.email}</a>.\n        </Typography>\n\n        <ul>\n          <li>\n            <I18n>\n              <En>You can save the form once you have filled out a title.</En>\n              <Fr>\n                Vous pouvez enregistrer le formulaire une fois que vous avez\n                rempli un titre.\n              </Fr>\n            </I18n>\n          </li>\n          <li>\n            <En>\n              All fields marked with a <RequiredMark /> are mandatory.\n            </En>\n            <Fr>\n              Tous les champs marqus d'un <RequiredMark /> sont obligatoires.\n            </Fr>\n          </li>\n          <li>\n            <I18n>\n              <En>\n                The form can be saved and completed over time by clicking the{\" \"}\n                <Save /> icon in the bottom right corner. This icon will be\n                greyed out until you have filled in the dataset title in the\n                \"Identification\" section.\n              </En>\n              <Fr>\n                Le formulaire peut tre sauvegard et complt au fil du temps\n                en cliquant sur le bouton <Save /> dans le coin infrieur droit.\n                Cette icne sera grise jusqu' ce que vous ayez renseign le\n                titre du jeu de donnes dans la Section  Identification des\n                donnes .\n              </Fr>\n            </I18n>\n          </li>\n          <li>\n            <I18n>\n              <En>\n                Some fields can have text in both French and English, though\n                this is only required for the title and the abstract. There is a\n                'Translate' button that will automatically generate text in the\n                other language. This translation is more accurate when there is\n                more text to translate.\n              </En>\n              <Fr>\n                Certains champs peuvent avoir du texte  la fois en franais et\n                en anglais, bien que cette n'est requis que pour le titre et\n                l'abrg. Il y a un Bouton  Traduire  qui gnrera\n                automatiquement du texte dans l'autre langue. Cette traduction\n                est plus prcise quand il y a plus de texte  traduire.\n              </Fr>\n            </I18n>\n          </li>\n        </ul>\n      </Paper>\n    </Grid>\n  );\n};\n\nexport default StartTab;\n","import React from \"react\";\n\nimport { Checkbox, FormControlLabel, Grid, Tooltip } from \"@material-ui/core\";\n\nconst CheckBoxList = ({\n  onChange,\n  value = [],\n  name,\n  options,\n  optionLabels,\n  optionTooltips = [],\n  disabled,\n}) => {\n  // remove array element from array, by value\n  function toggleArrayElement(ele, arr) {\n    if (arr.includes(ele)) return arr.filter((v) => v !== ele);\n    return arr.concat(ele);\n  }\n\n  return (\n    <Grid container direction=\"row\">\n      {options.map((v, i) => {\n        return (\n          <Grid item xs={3} key={v}>\n            <Tooltip title={optionTooltips[i] || \"\"}>\n              <FormControlLabel\n                disabled={disabled}\n                control={\n                  <Checkbox\n                    value={v || []}\n                    name={name}\n                    checked={value.includes(v)}\n                    onChange={(e) => {\n                      const val = e.target.value;\n                      const newCheckedValuesArray = toggleArrayElement(\n                        val,\n                        value\n                      );\n\n                      onChange(newCheckedValuesArray);\n                    }}\n                  />\n                }\n                label={optionLabels[i]}\n              />\n            </Tooltip>\n          </Grid>\n        );\n      })}\n    </Grid>\n  );\n};\n\nexport default CheckBoxList;\n","export const eovList = [\n  \"dissolvedOrganicCarbon\",\n  \"inorganicCarbon\",\n  \"nitrate\",\n  \"nutrients\",\n  \"oxygen\",\n  \"phosphate\",\n  \"potentialDensity\",\n  \"potentialTemperature\",\n  \"pressure\",\n  \"seaIce\",\n  \"seaState\",\n  \"seaSurfaceHeight\",\n  \"seaSurfaceSalinity\",\n  \"seaSurfaceTemperature\",\n  \"seawaterDensity\",\n  \"silicate\",\n  \"speedOfSound\",\n  \"subSurfaceCurrents\",\n  \"subSurfaceSalinity\",\n  \"subSurfaceTemperature\",\n  \"surfaceCurrents\",\n  \"other\",\n];\n\nexport const roleCodes = {\n  custodian: {\n    title: {\n      en: \"Metadata Contact\",\n      fr: \"Personne-contact pour les mtadonnes\",\n    },\n    text: {\n      en:\n        \"Party that accepts accountability and responsibility for the resource and ensures appropriate care and maintenance of the resource \",\n      fr:\n        \"Partie qui accepte la reddition de comptes et la responsabilit de la ressource et assure le soin et l'entretien appropris de la ressource \",\n    },\n  },\n  owner: {\n    title: { en: \"Data Contact\", fr: \"Personne-contact pour les donnes\" },\n    text: {\n      en: \"Party that owns the resource\",\n      fr: \"Partie propritaire de la ressource\",\n    },\n  },\n  distributor: {\n    title: { en: \"Distributor\", fr: \"Distributeur\" },\n    text: {\n      en: \"Party who distributes the resource\",\n      fr: \"Partie qui distribue la ressource\",\n    },\n  },\n  author: {\n    title: { en: \"Author\", fr: \"Auteur\" },\n    text: { en: \"Party who authored the resource\" },\n  },\n  coAuthor: {\n    title: { en: \"Coauthor\", fr: \"Co-auteur\" },\n    text: { en: \"Parti qui est l'auteur de la ressource\" },\n  },\n\n  collaborator: {\n    title: { en: \"Collaborator\", fr: \"Collaborateur\" },\n    text: {\n      en:\n        \"Party who assists with the generation of the resource other than the principal investigator\",\n      fr:\n        \"Partie qui aide  la production de la ressource autre que le chercheur principal\",\n    },\n  },\n  contributor: {\n    title: { en: \"Contributor\", fr: \"Contributeur\" },\n    text: {\n      en: \"Party contributing to the resource\",\n      fr: \"Partie contribuant  la ressource\",\n    },\n  },\n  editor: {\n    title: { en: \"Editor\", fr: \"diteur\" },\n    text: {\n      en: \"Party who reviewed or modified the resource to improve the content\",\n      fr:\n        \"Partie qui a examin ou modifi la ressource pour amliorer le contenu\",\n    },\n  },\n  funder: {\n    title: { en: \"Funder\", fr: \"Fondateur\" },\n    text: {\n      en: \"Party providing monetary support for the resource\",\n      fr: \"Partie fournissant un soutien montaire pour la ressource\",\n    },\n  },\n  mediator: {\n    title: { en: \"Mediator\", fr: \"Mdiateur\" },\n    text: {\n      en:\n        \"A class of entity that mediates access to the resource and for whom the resource is intended or useful \",\n      fr:\n        \"Classe d'entit qui sert de mdiateur  l'accs  la ressource et pour laquelle la ressource est destine ou utile\",\n    },\n  },\n  originator: {\n    title: { en: \"Originator\", fr: \"Initiateur\" },\n    text: {\n      en: \"Party who created the resource\",\n      fr: \"Partie qui a cr la ressource\",\n    },\n  },\n  pointOfContact: {\n    title: { en: \"Point Of Contact\", fr: \"Point de contact\" },\n    text: {\n      en:\n        \"Party who can be contacted for acquiring knowledge about or acquisition of the resource\",\n      fr:\n        \"Partie qui peut tre contacte pour acqurir des connaissances sur la ressource ou l'acquisition de la ressource\",\n    },\n  },\n\n  principalInvestigator: {\n    title: { en: \"Principal Investigator\", fr: \"Responsable de recherche\" },\n    text: {\n      en:\n        \"Key party responsible for gathering information and conducting research\",\n      fr:\n        \"Partie cl responsable de la collecte de l'information et de la ralisation de la recherche\",\n    },\n  },\n  processor: {\n    title: { en: \"Processor\", fr: \"Transformateur\" },\n    text: {\n      en:\n        \"Party who has processed the data in a manner such that the resource has been modified\",\n      fr:\n        \"Partie qui a trait les donnes d'une manire telle que la ressource a t modifie\",\n    },\n  },\n  publisher: {\n    title: { en: \"Publisher\", fr: \"Editeur\" },\n    text: {\n      en: \"Party who published the resource\",\n      fr: \"Partie qui a publi la ressource\",\n    },\n  },\n  resourceProvider: {\n    title: { en: \"Resource Provider\", fr: \"Fournisseur de ressources\" },\n    text: {\n      en: \"Party that supplies the resource\",\n      fr: \"Partie qui fournit la ressource \",\n    },\n  },\n  rightsHolder: {\n    title: { en: \"Rights Holder\", fr: \"Ayant droit\" },\n    text: {\n      en: \"Party owning or managing rights over the resource \",\n      fr: \"Partie dtenant ou grant des droits sur la ressource\",\n    },\n  },\n  sponsor: {\n    title: { en: \"Sponsor\", fr: \"Commanditaire\" },\n    text: {\n      en: \"Party who speaks for the resource \",\n      fr: \"Parti qui parle pour la ressource\",\n    },\n  },\n  stakeholder: {\n    title: { en: \"Stakeholder\", fr: \"Actionnaire\" },\n    text: {\n      en:\n        \"Party who has an interest in the resource or the use of the resource \",\n      fr:\n        \"Partie qui a un intrt dans la ressource ou l'utilisation de la ressource\",\n    },\n  },\n  // This option doesn't seem appropriate to the form\n  // user: {\n  //   title: { en: \"User\", fr: \"Utilisateur\" },\n  //   text: {\n  //     en: \"Party who uses the resource\",\n  //     fr: \"Partie qui utilise la ressource\",\n  //   },\n  // },\n};\n\nexport const progressCodes = {\n  onGoing: {\n    title: { en: \"Ongoing\", fr: \"En cours\" },\n    text: {\n      en:\n        \"Data is continually being updated. e.g satellite dataset that continues to be augmented\",\n      fr:\n        \"Les donnes sont continuellement mises  jour, par exemple un ensemble de donnes satellite qui continue d'tre augment\",\n    },\n  },\n\n  historicalArchive: {\n    title: { en: \"Historical Archive\", fr: \"Archives historiques\" },\n    text: {\n      en:\n        \"Data has been stored in an offline storage facility. use to indicate data are archived\",\n      fr:\n        \"Les donnes ont t stockes dans une installation de stockage hors connexion. Utilisez pour indiquer que les donnes sont archives\",\n    },\n  },\n\n  completed: {\n    title: { en: \"Completed\", fr: \"Termin\" },\n    text: {\n      en:\n        \"Production of the data has been completed \te.g. raw data that is not ongoing, completed model\",\n      fr:\n        \"La production des donnes a t termine, p. ex. donnes brutes qui ne sont pas en cours, modle termin\",\n    },\n  },\n};\n\nexport const depthDirections = [\"depthPositive\", \"heightPositive\"];\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport {\n  TextField,\n  Typography,\n  Grid,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { ExpandMore } from \"@material-ui/icons\";\nimport CheckBoxList from \"./CheckBoxList\";\nimport RequiredMark from \"../FormComponents/RequiredMark\";\n\nimport { En, Fr, I18n } from \"../I18n\";\nimport { roleCodes } from \"../../isoCodeLists\";\n\nimport ContactTitle from \"./ContactTitle\";\nimport { QuestionText, SupplementalText } from \"./QuestionStyles\";\n\nconst EditContact = ({\n  value,\n  showRolePicker,\n  disabled,\n  updateContact,\n  updateContactEvent,\n}) => {\n  const { language } = useParams();\n  const options = Object.keys(roleCodes);\n  const optionLabels = Object.values(roleCodes).map(\n    ({ title }) => title[language]\n  );\n  const numSpecialRoles = 3;\n  const [expanded, setExpanded] = React.useState(false);\n\n  const selectOptionIsInExpandedList =\n    (value.role || []).filter(\n      (role) => options.indexOf(role) > numSpecialRoles - 1\n    ).length > 0;\n\n  // function updateContact() {}\n  // function updateContactEvent() {}\n  return (\n    <Grid container direction=\"column\" spacing={2}>\n      <Grid item xs>\n        <Typography variant=\"h6\">\n          <ContactTitle contact={value} />\n        </Typography>\n      </Grid>\n      <Grid item xs>\n        {showRolePicker && (\n          <Grid item xs>\n            <QuestionText>\n              <I18n>\n                <En>\n                  What is the role of this contact?{\" \"}\n                  {selectOptionIsInExpandedList}\n                </En>\n                <Fr>Quel est leur rle?</Fr>\n              </I18n>\n              <RequiredMark passes={value.role && value.role.length} />\n              <SupplementalText>\n                {\" \"}\n                <I18n>\n                  <En>\n                    At least one Metadata Contact and one Data Contact are\n                    required. Multiple roles can be selected for each contact.\n                    Expand the list below for additional role.\n                  </En>\n                  <Fr>\n                    Au moins une personne-contact pour les mtadonnes et une\n                    personne-contact pour les donnes sont requises. Plusieurs\n                    rles peuvent tre slectionns pour chaque contact. Si vous\n                    avez besoin de rles plus spcifiques, vous pouvez tendre\n                    la liste.\n                  </Fr>\n                </I18n>\n              </SupplementalText>\n            </QuestionText>\n\n            <CheckBoxList\n              value={value.role || []}\n              onChange={updateContact(\"role\")}\n              options={options.slice(0, numSpecialRoles)}\n              optionLabels={optionLabels.slice(0, numSpecialRoles)}\n              disabled={disabled}\n              optionTooltips={Object.values(roleCodes)\n                .map(({ text }) => text[language])\n                .slice(0, numSpecialRoles)}\n            />\n\n            <Accordion\n              onChange={() => setExpanded(!expanded)}\n              expanded={expanded || selectOptionIsInExpandedList}\n            >\n              <AccordionSummary\n                expandIcon={\n                  <Tooltip title=\"Show/Hide more options\">\n                    <ExpandMore />\n                  </Tooltip>\n                }\n                aria-controls=\"panel1a-content\"\n                id=\"panel1a-header\"\n              >\n                <I18n>\n                  <En>Show/Hide more role options</En>\n                  <Fr>Afficher/masquer les rles</Fr>\n                </I18n>\n              </AccordionSummary>\n              <AccordionDetails>\n                <CheckBoxList\n                  value={value.role || []}\n                  onChange={updateContact(\"role\")}\n                  options={options.slice(numSpecialRoles)}\n                  optionLabels={optionLabels.slice(numSpecialRoles)}\n                  disabled={disabled}\n                  optionTooltips={Object.values(roleCodes)\n                    .map(({ text }) => text[language])\n                    .slice(numSpecialRoles)}\n                />\n              </AccordionDetails>\n            </Accordion>\n          </Grid>\n        )}\n\n        <Grid\n          container\n          direction=\"column\"\n          spacing={1}\n          style={{ marginTop: \"10px\" }}\n        >\n          {/* Organization */}\n          <Grid item xs>\n            <QuestionText>\n              <I18n>\n                <En>Provide any information about the organization</En>\n                <Fr>Identification de l'organisation</Fr>\n              </I18n>\n            </QuestionText>\n          </Grid>\n          <Grid item xs style={{ marginleft: \"10px\" }}>\n            <TextField\n              label={<I18n en=\"Organization name\" fr=\"Nom de l'organisation\" />}\n              value={value.orgName}\n              onChange={updateContactEvent(\"orgName\")}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"URL\" fr=\"URL\" />}\n              value={value.orgURL}\n              onChange={updateContactEvent(\"orgURL\")}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Address\" fr=\"Adresse\" />}\n              value={value.orgAdress}\n              onChange={updateContactEvent(\"orgAdress\")}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"City\" fr=\"Ville\" />}\n              value={value.orgCity}\n              onChange={updateContactEvent(\"orgCity\")}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Country\" fr=\"Pays\" />}\n              value={value.orgCountry}\n              onChange={updateContactEvent(\"orgCountry\")}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Email\" fr=\"Courriel\" />}\n              value={value.orgEmail}\n              onChange={updateContactEvent(\"orgEmail\")}\n              fullWidth\n              disabled={disabled}\n            />{\" \"}\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item xs>\n        {/* Individual */}\n        <Typography>\n          <I18n>\n            <En>Provide any information about the individual</En>\n            <Fr>Identification de l'individu</Fr>\n          </I18n>\n        </Typography>\n\n        <Grid\n          container\n          direction=\"column\"\n          spacing={1}\n          style={{ marginTop: \"10px\" }}\n        >\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Individual Name\" fr=\"Nom de l'individu\" />}\n              value={value.indName}\n              onChange={updateContactEvent(\"indName\")}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Position\" fr=\"Position\" />}\n              value={value.indPosition}\n              onChange={updateContactEvent(\"indPosition\")}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n          <Grid item xs>\n            <TextField\n              label={<I18n en=\"Email\" fr=\"Courriel\" />}\n              value={value.indEmail}\n              onChange={updateContactEvent(\"indEmail\")}\n              disabled={disabled}\n              fullWidth\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default EditContact;\n","import React from \"react\";\nimport {\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel,\n  Typography,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { I18n } from \"../I18n\";\n\nconst useStyles = makeStyles(() => ({\n  formControl: {\n    minWidth: 200,\n  },\n  selectEmpty: {},\n}));\n\nconst SelectInput = ({\n  value = \"\",\n  name,\n  options,\n  optionLabels,\n  optionTooltips = [],\n  onChange,\n  disabled,\n  label,\n  fullWidth = true,\n}) => {\n  const classes = useStyles();\n\n  return (\n    <FormControl\n      fullWidth={fullWidth}\n      className={classes.formControl}\n      disabled={disabled}\n    >\n      <Select\n        className={classes.selectEmpty}\n        name={name}\n        fullWidth={fullWidth}\n        value={value}\n        disabled={disabled}\n        displayEmpty\n        onChange={onChange}\n      >\n        <MenuItem value=\"\">\n          <InputLabel id=\"demo-simple-select-label\">\n            <Typography>\n              {label || <I18n en=\"Choose\" fr=\"Choisir\" />}\n            </Typography>\n          </InputLabel>\n        </MenuItem>\n        {options.map((v, i) => (\n          <MenuItem key={v} value={v}>\n            <Tooltip\n              enterDelay={1}\n              title={optionTooltips[i] ? optionTooltips[i] : \"\"}\n            >\n              <div style={{ width: \"100%\" }}>{optionLabels[i]}</div>\n            </Tooltip>\n          </MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  );\n};\nexport default SelectInput;\n","import React, { useState } from \"react\";\n\nimport { Container, Draggable } from \"react-smooth-dnd\";\nimport arrayMove from \"array-move\";\nimport { Delete, DragHandle, FileCopy } from \"@material-ui/icons\";\nimport {\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  IconButton,\n  Typography,\n  Tooltip,\n  Grid,\n  Paper,\n  Button,\n} from \"@material-ui/core\";\nimport { deepCopy, deepEquals } from \"../../utils/misc\";\nimport { paperClass } from \"./QuestionStyles\";\nimport SelectInput from \"./SelectInput\";\nimport { En, Fr, I18n } from \"../I18n\";\n\nimport ContactTitle from \"./ContactTitle\";\n\nconst initial = {\n  role: [],\n  orgName: \"\",\n  orgEmail: \"\",\n  orgURL: \"\",\n  orgAdress: \"\",\n  orgCity: \"\",\n  orgCountry: \"\",\n  indName: \"\",\n  indPosition: \"\",\n  indEmail: \"\",\n};\n\nconst ContactListLeft = ({\n  contacts,\n  updateContacts,\n  activeContact,\n  setActiveContact,\n  disabled,\n  userContacts,\n}) => {\n  const [currentContacts, setItems] = useState(contacts);\n\n  if (!deepEquals(currentContacts, contacts)) {\n    setItems(contacts);\n  }\n  //  removedIndex is dragStart\n  //  addedIndex is dragEnd\n  function onDrop({ removedIndex, addedIndex }) {\n    if (removedIndex === activeContact) setActiveContact(addedIndex);\n    else if (addedIndex <= activeContact && removedIndex > activeContact)\n      setActiveContact(activeContact + 1);\n\n    const reorderedContacts = arrayMove(\n      currentContacts,\n      removedIndex,\n      addedIndex\n    );\n\n    updateContacts(reorderedContacts);\n  }\n\n  function removeItem(itemIndex) {\n    updateContacts(contacts.filter((e, index) => index !== itemIndex));\n    if (contacts.length) setActiveContact(contacts.length - 2);\n  }\n  function duplicateContact(contactIndex) {\n    const duplicatedContact = deepCopy(contacts[contactIndex]);\n\n    if (duplicatedContact.indName) duplicatedContact.indName += \" (Copy)\";\n    else duplicatedContact.orgName += \" (Copy)\";\n\n    updateContacts(contacts.concat(duplicatedContact));\n  }\n\n  const contactList = Object.values(userContacts || {});\n\n  function handleAddFromSavedContacts(e) {\n    const index = e.target.value;\n    updateContacts(contacts.concat(deepCopy(contactList[index])));\n    setActiveContact(contacts.length);\n  }\n\n  function handleAddNewContact() {\n    updateContacts(contacts.concat(deepCopy(initial)));\n    setActiveContact(contacts.length);\n  }\n\n  return (\n    <Paper style={paperClass}>\n      <Grid container direction=\"column\" justify={\"flex-start\"}>\n        <Grid item xs style={{ margin: \"10px\" }}>\n          <Typography>\n            {contacts.length ? (\n              <I18n>\n                <En>Contacts in this record:</En>\n                <Fr>Contacts dans cet enregistrement:</Fr>\n              </I18n>\n            ) : (\n              <I18n>\n                <En>There are no contacts in this record.</En>\n                <Fr>Il n'y a aucun contact dans cet enregistrement.</Fr>\n              </I18n>\n            )}\n          </Typography>\n        </Grid>\n        <Grid item xs>\n          <List>\n            <Container\n              dragHandleSelector=\".drag-handle\"\n              lockAxis=\"y\"\n              onDrop={onDrop}\n            >\n              {contacts.map((contactItem, i) => {\n                return (\n                  <Draggable key={i}>\n                    <ListItem\n                      key={i}\n                      button\n                      onClick={() => setActiveContact(i)}\n                    >\n                      <ListItemText\n                        primary={\n                          <Typography\n                            style={{\n                              fontWeight: activeContact === i ? \"bold\" : \"\",\n                              width: \"80%\",\n                            }}\n                          >\n                            <ContactTitle contact={contactItem} />\n                          </Typography>\n                        }\n                      />\n                      <ListItemSecondaryAction>\n                        <Tooltip\n                          title={\n                            <I18n\n                              en=\"Duplicate contact\"\n                              fr=\"Duplicate contact\"\n                            />\n                          }\n                        >\n                          <span>\n                            <IconButton\n                              onClick={() => duplicateContact(i)}\n                              edge=\"end\"\n                              aria-label=\"clone\"\n                            >\n                              <FileCopy />\n                            </IconButton>\n                          </span>\n                        </Tooltip>\n                        <Tooltip\n                          title={\n                            <I18n\n                              en=\"Remove from this record\"\n                              fr=\"Supprimer de cet enregistrement\"\n                            />\n                          }\n                        >\n                          <span>\n                            <IconButton\n                              onClick={() => removeItem(i)}\n                              edge=\"end\"\n                              aria-label=\"clone\"\n                            >\n                              <Delete />\n                            </IconButton>\n                          </span>\n                        </Tooltip>\n                        <Tooltip\n                          title={\n                            <I18n en=\"Drag to reorder\" fr=\"Duplicate contact\" />\n                          }\n                        >\n                          <span>\n                            <IconButton\n                              className=\"drag-handle\"\n                              edge=\"end\"\n                              aria-label=\"clone\"\n                            >\n                              <DragHandle />\n                            </IconButton>\n                          </span>\n                        </Tooltip>\n                      </ListItemSecondaryAction>\n                    </ListItem>\n                  </Draggable>\n                );\n              })}\n            </Container>\n          </List>\n        </Grid>\n        <Grid item xs style={{ margin: \"10px\" }}>\n          <Button\n            disabled={disabled}\n            onClick={handleAddNewContact}\n            fullWidth\n            style={{ height: \"56px\", justifyContent: \"initial\" }}\n          >\n            <Typography>\n              <I18n>\n                <En>Add new contact</En>\n                <Fr>Ajouter un contact</Fr>\n              </I18n>\n            </Typography>\n          </Button>\n        </Grid>\n        <Grid item xs style={{ margin: \"10px\" }}>\n          <SelectInput\n            value=\"\"\n            labelId=\"add-existing\"\n            onChange={handleAddFromSavedContacts}\n            optionLabels={contactList.map((contactItem) => (\n              <ContactTitle contact={contactItem} />\n            ))}\n            options={contactList.map((v, i) => i)}\n            disabled={!contactList.length || disabled}\n            label={<I18n en=\"ADD SAVED CONTACT\" fr=\"AJOUTER UN CONTACT\" />}\n          />\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\nexport default ContactListLeft;\n","import React from \"react\";\n\nimport Cite from \"citation-js\";\n\nfunction APAPreview({ record, language }) {\n  const {\n    title,\n    datasetIdentifier = \"\",\n    created,\n    contacts = [],\n    datePublished,\n  } = record;\n\n  const apaData = [\n    {\n      title: title[language],\n\n      author: contacts\n        .filter((contact) => contact.role && contact.role.includes(\"author\"))\n        .map((contact) => {\n          if (contact.indName) return { name: contact.indName };\n          return { family: contact.orgName };\n          // seems that only individuals gets cited\n        }),\n      date: { published: datePublished || created },\n      identifier: [\n        {\n          type: \"doi\",\n          id: datasetIdentifier.replace(/https?:\\/\\/doi\\.org\\//, \"\"),\n        },\n      ],\n      license: [\n        {\n          raw: record.license,\n        },\n      ],\n    },\n  ];\n\n  const data = Cite(apaData);\n\n  const html = data.format(\"bibliography\", {\n    format: \"html\",\n    template: \"apa\",\n    lang: \"en-US\",\n  });\n\n  return (\n    <div>\n      <div\n        dangerouslySetInnerHTML={{ __html: html }}\n        style={{ padding: \"5px\" }}\n      />\n    </div>\n  );\n}\n\nexport default APAPreview;\n","import React, { useState } from \"react\";\n\nimport { useParams } from \"react-router-dom\";\n\nimport { Paper, Grid } from \"@material-ui/core\";\nimport DragHandleIcon from \"@material-ui/icons/DragHandle\";\n\nimport EditContact from \"../FormComponents/ContactEditor\";\nimport ContactLeftList from \"../FormComponents/ContactLeftList\";\n\nimport {\n  QuestionText,\n  SupplementalText,\n  paperClass,\n} from \"../FormComponents/QuestionStyles\";\n\nimport { En, Fr, I18n } from \"../I18n\";\nimport RequiredMark from \"../FormComponents/RequiredMark\";\nimport { validateField } from \"../../utils/validate\";\n\nimport ApaPreview from \"../FormComponents/ApaPreview\";\n\nimport regions from \"../../regions\";\n\nconst ContactTab = ({ disabled, record, userContacts, updateRecord }) => {\n  const { language, region } = useParams();\n  const { contacts = [] } = record;\n\n  const updateContacts = updateRecord(\"contacts\");\n\n  const [activeContact, setActiveContact] = useState(0);\n\n  // Instead of updating record.<item> we are\n  // updating record.contacts[activeContact].<item>\n  function updateContactEvent(key) {\n    return (e) => {\n      const newContacts = [...contacts];\n      newContacts[activeContact][key] = e.target.value;\n      updateContacts(newContacts);\n    };\n  }\n  function updateContact(key) {\n    return (value) => {\n      const newContacts = [...contacts];\n      newContacts[activeContact][key] = value;\n\n      updateContacts(newContacts);\n    };\n  }\n\n  // const showApaBox =\n  //   record.title[language] &&\n  //   contacts.length &&\n  //   // contacts.some((contact) => contact.role.includes(\"author\")) &&\n  //   record.created;\n\n  const showApaBox = false;\n\n  const contact = contacts[activeContact];\n  return (\n    <Grid container spacing={3}>\n      <Paper style={paperClass}>\n        <Grid item xs>\n          <QuestionText>\n            <I18n>\n              <En>\n                Please enter at least one Metadata Contact <b>and</b> one Data\n                Contact for this dataset that can work with{\" \"}\n                {regions[region][\"title\"][language]} Staff to finalize this\n                Metadata Record.\n              </En>\n              <Fr>\n                Veuillez saisir au moins un contact pour les mtadonnes ET un\n                contact de donnes pour ce jeu de donnes. Ces personnes\n                pourraient tre appeles  collaborer avec le personnel de la{\" \"}\n                {regions[region][\"title\"][language]} pour finaliser cet\n                enregistrement.\n              </Fr>\n            </I18n>\n            <RequiredMark passes={validateField(record, \"contacts\")} />\n            <SupplementalText>\n              <I18n>\n                <En>\n                  It is important to include all individuals from the chain of\n                  attribution to ensure all involved parties are credited\n                  appropriately for their role in creating this dataset Saved\n                  contacts can be selected from the list below If you have any\n                  saved contacts you can select them from the list.\n                </En>\n                <Fr>\n                  Il est important d'inclure toutes les personnes ayant\n                  travaill sur le jeu de donnes afin de s'assurer que toutes\n                  les parties concernes soient crdites de faon approprie\n                  pour leur rle dans la cration de ce jeu de donnes. Les\n                  contacts sauvegards peuvent tre slectionns dans la liste\n                  ci-dessous. Si vous avez des contacts enregistrs, vous pouvez\n                  les slectionner dans la liste.\n                </Fr>\n              </I18n>\n            </SupplementalText>\n          </QuestionText>\n        </Grid>\n      </Paper>\n      {showApaBox && (\n        <Paper style={paperClass}>\n          <QuestionText>\n            <div>\n              <I18n>\n                <En>\n                  This is how your record citation will look in the catalogue.\n                  Only contacts with \"Cited Author\" checked apppear. To change\n                  the order, drag the{\" \"}\n                  <DragHandleIcon style={{ verticalAlign: \"middle\" }} /> symbol.\n                </En>\n                <Fr>\n                  Voici  quoi ressemblera votre citation dans le catalogue.\n                  Seuls les contacts dont la case Auteur cit est coche\n                  apparaissent. Pour changer le ordre, faites glisser le symbole{\" \"}\n                  <DragHandleIcon style={{ verticalAlign: \"middle\" }} />.\n                </Fr>\n              </I18n>\n            </div>\n          </QuestionText>\n          <SupplementalText>\n            <ApaPreview language={language} record={record} />\n          </SupplementalText>\n        </Paper>\n      )}\n\n      <Grid container direction=\"row\" style={{ marginLeft: \"5px\" }}>\n        <Grid item xs={5}>\n          <ContactLeftList\n            contacts={contacts}\n            updateContacts={updateContacts}\n            setActiveContact={setActiveContact}\n            activeContact={activeContact}\n            disabled={disabled}\n            userContacts={userContacts}\n          />\n        </Grid>\n        {contact && (\n          <Grid item xs>\n            <Grid container direction=\"column\">\n              <Paper style={paperClass}>\n                <Grid container direction=\"column\" spacing={3}>\n                  <Grid item xs>\n                    <EditContact\n                      showRolePicker\n                      value={contact}\n                      updateContactEvent={updateContactEvent}\n                      updateContact={updateContact}\n                      disabled={disabled}\n                    />\n                  </Grid>\n                </Grid>\n              </Paper>\n            </Grid>\n          </Grid>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default ContactTab;\n","import React, { useContext, useState } from \"react\";\nimport {\n  Button,\n  InputAdornment,\n  TextField,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport TranslateIcon from \"@material-ui/icons/Translate\";\nimport ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\nimport { useParams } from \"react-router-dom\";\nimport { En, Fr, I18n } from \"../I18n\";\nimport { UserContext } from \"../../providers/UserProvider\";\n\nconst BilingualTextInput = ({\n  onChange,\n  value,\n  name,\n  multiline,\n  disabled,\n  error,\n  translationButonDisabled = false,\n}) => {\n  const { translate } = useContext(UserContext);\n  const [awaitingTranslation, setAwaitingTranslation] = useState(false);\n\n  function handleEvent(e) {\n    const newData = { ...value, [e.target.name]: e.target.value };\n    const newDataEvent = { target: { name, value: newData } };\n    onChange(newDataEvent);\n  }\n  const { language } = useParams();\n  let languages;\n\n  if (language === \"en\") languages = [\"en\", \"fr\"];\n  else languages = [\"fr\", \"en\"];\n  return (\n    <div>\n      {languages.map((lang, i) => (\n        <div key={lang}>\n          <TextField\n            name={lang}\n            fullWidth\n            value={value && value[lang]}\n            onChange={handleEvent}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  {lang.toUpperCase()}\n                </InputAdornment>\n              ),\n            }}\n            multiline={multiline}\n            disabled={disabled}\n            error={error}\n          />\n          {i === 0 && !translationButonDisabled && (\n            <Button\n              style={{ margin: \"10px\" }}\n              startIcon={\n                awaitingTranslation ? (\n                  <CircularProgress size={20} />\n                ) : (\n                  <TranslateIcon />\n                )\n              }\n              endIcon={awaitingTranslation ? null : <ArrowDownwardIcon />}\n              disabled={\n                disabled || awaitingTranslation || !(value && value[lang])\n              }\n              onClick={() => {\n                const alternateLanguage = languages[1];\n                setAwaitingTranslation(true);\n\n                translate({ text: value[lang], fromLang: lang }).then(\n                  (translatedText) => {\n                    setAwaitingTranslation(false);\n                    const translation = translatedText.data;\n                    handleEvent({\n                      target: {\n                        name: alternateLanguage,\n                        value: translation,\n                      },\n                    });\n                  }\n                );\n              }}\n            >\n              <I18n>\n                <En>Translate</En>\n                <Fr>Traduire</Fr>\n              </I18n>\n            </Button>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default BilingualTextInput;\n","import React from \"react\";\nimport { Add, Delete } from \"@material-ui/icons\";\nimport { Button, Grid, Paper, TextField } from \"@material-ui/core\";\nimport { En, Fr, I18n } from \"../I18n\";\n\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport RequiredMark from \"./RequiredMark\";\nimport { deepCopy } from \"../../utils/misc\";\nimport { QuestionText, paperClass } from \"./QuestionStyles\";\n\nconst Resources = ({ updateResources, resources, disabled }) => {\n  const emptyResource = { url: \"\", name: \"\", description: { en: \"\", fr: \"\" } };\n\n  function addResource() {\n    updateResources(resources.concat(deepCopy(emptyResource)));\n  }\n\n  // removes the resource section from the list at index i\n  function removeResource(i) {\n    updateResources(resources.filter((e, index) => index !== i));\n  }\n  const nameLabel = <I18n en=\"Name\" fr=\"Titre\" />;\n  const descriptionLabel = <I18n en=\"Description\" fr=\"Description\" />;\n\n  return (\n    <div>\n      {resources.map((dist = deepCopy(emptyResource), i) => {\n        function handleResourceChange(key) {\n          return (e) => {\n            const newValue = [...resources];\n            newValue[i][key] = e.target.value;\n            updateResources(newValue);\n          };\n        }\n        return (\n          <Paper key={i} style={paperClass}>\n            <Grid container direction=\"column\" spacing={3}>\n              <Grid item xs>\n                <QuestionText>\n                  <I18n>\n                    <En>Enter a name for the resource</En>\n                    <Fr>Entrez un titre pour la ressource</Fr>\n                  </I18n>\n                  <RequiredMark passes={dist.name} />\n                </QuestionText>\n                <TextField\n                  label={nameLabel}\n                  value={dist.name}\n                  onChange={handleResourceChange(\"name\")}\n                  fullWidth\n                  disabled={disabled}\n                />\n              </Grid>\n              <Grid item xs>\n                <QuestionText>\n                  <I18n>\n                    <En>Enter the URL for the resource</En>\n                    <Fr>Entrez l'URL de la ressource</Fr>\n                  </I18n>\n                  <RequiredMark passes={dist.url} />\n                </QuestionText>\n\n                <TextField\n                  label=\"URL\"\n                  value={dist.url}\n                  onChange={handleResourceChange(\"url\")}\n                  fullWidth\n                  disabled={disabled}\n                />\n              </Grid>\n              <Grid item xs>\n                <QuestionText>\n                  <I18n>\n                    <En>Enter a description of the resource</En>\n                    <Fr>Entrez une description de la ressource</Fr>\n                  </I18n>\n                </QuestionText>{\" \"}\n                <BilingualTextInput\n                  name=\"description\"\n                  label={descriptionLabel}\n                  value={dist.description}\n                  onChange={handleResourceChange(\"description\")}\n                  disabled={disabled}\n                />\n              </Grid>\n              <Grid item xs>\n                <Button\n                  startIcon={<Delete />}\n                  disabled={disabled}\n                  onClick={() => removeResource(i)}\n                >\n                  <I18n>\n                    <En>Remove item</En>\n                    <Fr>Supprimer la ressource</Fr>\n                  </I18n>\n                </Button>\n              </Grid>\n            </Grid>\n          </Paper>\n        );\n      })}\n\n      <Paper style={paperClass}>\n        <Button startIcon={<Add />} disabled={disabled} onClick={addResource}>\n          <I18n>\n            <En>Add item</En>\n            <Fr>Ajouter une ressource</Fr>\n          </I18n>\n        </Button>\n      </Paper>\n    </div>\n  );\n};\n\nexport default Resources;\n","import React from \"react\";\n\nimport { Paper } from \"@material-ui/core\";\n\nimport Resources from \"../FormComponents/Resources\";\nimport { En, Fr, I18n } from \"../I18n\";\nimport RequiredMark from \"../FormComponents/RequiredMark\";\nimport {\n  paperClass,\n  QuestionText,\n  SupplementalText,\n} from \"../FormComponents/QuestionStyles\";\nimport { validateField } from \"../../utils/validate\";\n\nconst ResourcesTab = ({ disabled, record, updateRecord }) => {\n  const updateResources = updateRecord(\"distribution\");\n  return (\n    <div>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <En>Enter any links to information associated with this dataset.</En>\n          <Fr>\n            Entrez les liens vers les informations associes  ce jeu de\n            donnes.\n          </Fr>\n          <RequiredMark passes={validateField(record, \"distribution\")} />\n          <SupplementalText>\n            <I18n>\n              <En>\n                Some examples of resources are:\n                <ul>\n                  <li>supporting documentation (eg text or pdf files)</li>\n                  <li>CSV files</li>\n                  <li>ERDDAP datasets</li>\n                  <li>images</li>\n                </ul>\n                At least one item is required.\n              </En>\n              <Fr>\n                Voici quelques exemples de ressources :\n                <ul>\n                  <li>\n                    Documentation  l'appui (par exemple, fichiers texte ou pdf)\n                  </li>\n                  <li>Fichiers CSV</li>\n                  <li>Jeux de donnes ERDDAP</li>\n                  <li>Images</li>\n                </ul>\n                Au moins une ressource est requise.\n              </Fr>\n            </I18n>\n          </SupplementalText>\n        </QuestionText>\n      </Paper>\n      <Resources\n        paperClass={paperClass}\n        resources={record.distribution || []}\n        updateResources={updateResources}\n        disabled={disabled}\n      />\n    </div>\n  );\n};\n\nexport default ResourcesTab;\n","import {\n  KeyboardDatePicker,\n  MuiPickersUtilsProvider,\n} from \"@material-ui/pickers\";\n\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport React from \"react\";\n\nimport { I18n } from \"../I18n\";\n\nfunction formatDate(date) {\n  try {\n    const d = date.getDate();\n    const m = date.getMonth();\n    const y = date.getFullYear();\n    return new Date(y, m, d, 12, 0, 0, 0);\n  } catch (e) {\n    return null;\n  }\n}\nconst DateInput = ({ onChange, value, name, disabled, dateStart, dateEnd }) => {\n    return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils}>\n      <KeyboardDatePicker\n        disabled={disabled}\n        margin=\"normal\"\n        id=\"date-picker-dialog\"\n        label={<I18n en=\"Select date\" fr=\"Slectionner une date\" />}\n        format=\"yyyy-MM-dd\"\n        value={value}\n        minDate={dateStart}\n        maxDate={dateEnd}\n        onChange={(dateSelected) => {\n          return onChange({\n            target: { name, value: formatDate(dateSelected) },\n          });\n        }}\n        KeyboardButtonProps={{\n          \"aria-label\": \"change date\",\n        }}\n      />\n    </MuiPickersUtilsProvider>\n  );\n};\n\nexport default DateInput;\n","const keywordList = [\n  \"abundance and biomass\",\n  \"sea access\",\n  \"decision making\",\n  \"protected areas\",\n  \"maritime resources\",\n  \"knowledge improvement\",\n  \"land-use planning\",\n  \"water purification\",\n  \"striped bass\",\n  \"watershed\",\n  \"habitat characterization\",\n  \"coastal characterization\",\n  \"climate change\",\n  \"chlorophyll a\",\n  \"resource conservation\",\n  \"water consumption\",\n  \"sea currents\",\n  \"crustacean\",\n  \"fresh water flow\",\n  \"water density\",\n  \"sustainable development\",\n  \"ocean-atmosphere exchange\",\n  \"sampling\",\n  \"crayfish\",\n  \"mariculture\",\n  \"coastal erosion\",\n  \"endangered species\",\n  \"invasive species\",\n  \"coastal flora\",\n  \"fluorescence\",\n  \"spawning\",\n  \"community management\",\n  \"resource management\",\n  \"integrated management\",\n  \"sea ice\",\n  \"sensitive habitat\",\n  \"important habitat\",\n  \"hydrocarbon\",\n  \"incidents\",\n  \"general information\",\n  \"wildlife inventory\",\n  \"fish inventory\",\n  \"macroalgae\",\n  \"benthic macrofauna\",\n  \"marine mammal\",\n  \"marsh\",\n  \"meteorology\",\n  \"wetlands\",\n  \"natural environments of interest\",\n  \"enhancement\",\n  \"oceanographic missions\",\n  \"mollusc\",\n  \"sea level\",\n  \"seabirds\",\n  \"migrator birds\",\n  \"commercial fisheries\",\n  \"experimental fisheries\",\n  \"physical-chemical\",\n  \"phytoplankton\",\n  \"sea grass\",\n  \"fish\",\n  \"coastal pollution\",\n  \"atmospheric pressure\",\n  \"coast protection\",\n  \"habitat protection\",\n  \"water quality\",\n  \"radiation\",\n  \"maritime resources\",\n  \"ecological rehabilitation\",\n  \"shore restoration\",\n  \"experimental restoration\",\n  \"habitat restoration\",\n  \"coastal risks\",\n  \"citizen data\",\n  \"salinity\",\n  \"sediment\",\n  \"fishing sites\",\n  \"annual follow-up\",\n  \"species tracking\",\n  \"habitat tracking\",\n  \"taxonomy\",\n  \"remote sensing\",\n  \"water temperature\",\n  \"sea turtles\",\n  \"land-use\",\n  \"sustainabilty\",\n  \"waves\",\n  \"wind\",\n  \"coastal zone\",\n];\n\nexport default keywordList;\n","const dictionary = {\n  oxygen: \"Oxygne\",\n  nutrients: \"Nutriments\",\n  nitrate: \"Nitrate\",\n  phosphate: \"Phosphate\",\n  silicate: \"Silicate\",\n  inorganicCarbon: \"Carbone inoganique\",\n  dissolvedOrganicCarbon: \"carbone inorganique dissous\",\n  seaSurfaceHeight: \"Hauteur de la surface de la mer\",\n  seawaterDensity: \"Densit d'eau de mer\",\n  potentialTemperature: \"Temprature potentielle\",\n  potentialDensity: \"Densit potentielle\",\n  speedOfSound: \"Vitesse du son\",\n  seaIce: \"Glace de mer\",\n  seaState: \"tat de la mer\",\n  seaSurfaceSalinity: \"Salinit de surface\",\n  seaSurfaceTemperature: \"Temprature de surface\",\n  subSurfaceCurrents: \"Courants sous-marins\",\n  subSurfaceSalinity: \"Salinit sous la surface\",\n  subSurfaceTemperature: \"Temprature sous la surface\",\n  surfaceCurrents: \"Courants de surface\",\n  pressure: \"Pression\",\n  other: \"Autre\",\n  resourceProvider: \"Fournisseur de donnes\",\n  custodian: \"Dpositaire\",\n  owner: \"Propritaire\",\n  user: \"Utilisateur\",\n  distributor: \"Distributeur\",\n  originator: \"Initiateur\",\n  pointOfContact: \"Point de contact\",\n  principalInvestigator: \"Responsable de recherche\",\n  processor: \"Transformateur\",\n  publisher: \"Editeur\",\n  author: \"Auteur\",\n  sponsor: \"Sponsor\",\n  coAuthor: \"Co-auteur\",\n  collaborator: \"Collaborateur\",\n  editor: \"diteur\",\n  mediator: \"Mdiateur\",\n  rightsHolder: \"Ayant droit\",\n  contributor: \"Contributeur\",\n  funder: \"Fondateur\",\n  stakeholder: \"Actionnaire\",\n  deprecated: \"Obsolte\",\n  proposed: \"Propos\",\n  withdrawn: \"Retir\",\n  notAccepted: \"Non accept\",\n  accepted: \"Accept\",\n  valid: \"Valide\",\n  tentative: \"Tentative\",\n  superseded: \"Remplac\",\n  retired: \"retir\",\n  pending: \"En attente\",\n  final: \"final\",\n  underDevelopment: \"En dveloppement\",\n  required: \"Requis\",\n  planned: \"Planifi\",\n  onGoing: \"En cours\",\n  obsolete: \"Obsolte\",\n  historicalArchive: \"Archive historique\",\n  completed: \"Termin\",\n  farming: \"Agriculture\",\n  biota: \"Biote\",\n  boundaries: \"Dlimitations\",\n  climatologyMeteorologyAtmosphere: \"Climatologie / Mtorology / Atmosphre\",\n  economy: \"conomie\",\n  elevation: \"lvation\",\n  environment: \"Environement\",\n  geoscientificInformation: \"Information Goscientifique\",\n  health: \"Sant\",\n  imageryBaseMapsEarthCover: \"Imagerie Couverture terrestre\",\n  intelligenceMilitary: \"Renseignements / Militaire\",\n  inlandWaters: \"Eaux intrieures\",\n  location: \"Emplacement\",\n  oceans: \"Ocans\",\n  planningCadastre: \"Amnagement du territoire\",\n  society: \"Socit\",\n  structure: \"Structure\",\n  transportation: \"Transports\",\n  utilitiesCommunication: \"Services / Communication\",\n  extraTerrestrial: \"Extra terrestre\",\n  disaster: \"Dsastre\",\n  \"abundance and biomass\": \"abondance et biomasse\",\n  \"sea access\": \"accs  la mer\",\n  \"decision making\": \"aide  la dcision\",\n  \"protected areas\": \"aires protges\",\n  \"knowledge improvement\": \"amlioration des connaissances\",\n  \"land-use planning\": \"amnagement du territoire\",\n  \"water purification\": \"assainissement des eaux\",\n  \"striped bass\": \"bar ray\",\n  watershed: \"bassin versant\",\n  \"habitat characterization\": \"caractrisation des habitats\",\n  \"coastal characterization\": \"caractrisation des rives\",\n  \"climate change\": \"changement climatique\",\n  \"chlorophyll a\": \"chlorophylle a\",\n  \"resource conservation\": \"conservation des ressources\",\n  \"water consumption\": \"consommation d'eau\",\n  \"sea currents\": \"courant marin\",\n  crustacean: \"crustac\",\n  \"fresh water flow\": \"dbits eau douce\",\n  \"water density\": \"densit eau\",\n  \"sustainable development\": \"dveloppement durable\",\n  \"ocean-atmosphere exchange\": \"change ocan-atmosphre\",\n  sampling: \"chantillonnage\",\n  crayfish: \"crevisses\",\n  mariculture: \"entreprises de maricultures\",\n  \"coastal erosion\": \"rosion des ctes\",\n  \"endangered species\": \"espces en pril\",\n  \"invasive species\": \"espces envahissante\",\n  \"coastal flora\": \"flore ctire\",\n  fluorescence: \"fluorescence\",\n  spawning: \"fraie\",\n  \"community management\": \"gestion communautaire\",\n  \"resource management\": \"gestion des ressources\",\n  \"integrated management\": \"gestion intgre\",\n  \"sea ice\": \"glace de mer\",\n  \"sensitive habitat\": \"habitat sensible\",\n  \"important habitat\": \"habitats important\",\n  hydrocarbon: \"hydrocarbure\",\n  incidents: \"incidents\",\n  \"general information\": \"informations gnrales\",\n  \"wildlife inventory\": \"inventaire faunique\",\n  \"fish inventory\": \"inventaire poisson\",\n  macroalgae: \"macroalgue\",\n  \"benthic macrofauna\": \"macrofaune benthique\",\n  \"marine mammal\": \"mammifres marins\",\n  marsh: \"marais\",\n  meteorology: \"mtorologie\",\n  wetlands: \"milieux humides\",\n  \"natural environments of interest\": \"milieux naturels d'intrt\",\n  enhancement: \"mise en valeur\",\n  \"oceanographic missions\": \"missions ocanographique\",\n  mollusc: \"mollusque\",\n  \"sea level\": \"niveau eau\",\n  seabirds: \"oiseaux marins\",\n  \"migrator birds\": \"oiseaux migrateurs\",\n  \"commercial fisheries\": \"pches commerciales\",\n  \"experimental fisheries\": \"pches exprimentales\",\n  \"physical-chemical\": \"physico-chimie\",\n  phytoplankton: \"phytoplancton\",\n  \"sea grass\": \"plantes aquatique\",\n  fish: \"poisson\",\n  \"coastal pollution\": \"pollution ctire\",\n  \"atmospheric pressure\": \"pression atmosphrique\",\n  \"coast protection\": \"protection des ctes\",\n  \"habitat protection\": \"protection des habitats\",\n  \"water quality\": \"qualit eau\",\n  radiation: \"radiation\",\n  \"maritime resources\": \"ressources maritimes\",\n  \"ecological rehabilitation\": \"rhabilitation cologique\",\n  \"shore restoration\": \"restauration des rives\",\n  \"experimental restoration\": \"restauration exprimentale\",\n  \"habitat restoration\": \"restauration habitat\",\n  \"coastal risks\": \"risques ctiers\",\n  \"citizen data\": \"saisie citoyenne\",\n  salinity: \"salinit\",\n  sediment: \"sdiment\",\n  \"fishing sites\": \"sites de pches\",\n  \"annual follow-up\": \"suivi annuel\",\n  \"species tracking\": \"suivi des espces\",\n  \"habitat tracking\": \"suivi habitat\",\n  taxonomy: \"taxonomie\",\n  \"remote sensing\": \"tldtection\",\n  \"water temperature\": \"temprature de l'eau\",\n  \"sea turtles\": \"tortue de mer\",\n  \"land-use\": \"utilisation du territoire\",\n  sustainabilty: \"utilisation durable\",\n  waves: \"vagues\",\n  wind: \"vents\",\n  \"coastal zone\": \"zone ctire\",\n  depthPositive: \"Profondeur positive\",\n  heightPositive: \"Hauteur positive\",\n  // Submit section\n  \"data identification\": \"Identification des donnes\",\n  resources: \"Ressources\",\n  spatial: \"Spatial\",\n  platform: \"Platforme\",\n  \"platform - instruments\": \"Platforme - instruments\",\n  contacts: \"Contacts\",\n};\n\nexport default dictionary;\n","import enToFr from \"./i18nDictionaryFr\";\n\nconst translate = (key, toLang = \"en\") => {\n  if (toLang === \"en\") return key;\n\n  return enToFr[key] || null;\n};\n\nexport default translate;\n","import React, { useState } from \"react\";\n\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\n\nimport {\n  TextField,\n  Button,\n  Grid,\n  Chip,\n  InputAdornment,\n} from \"@material-ui/core\";\nimport { useParams } from \"react-router-dom\";\nimport { ArrowDownward } from \"@material-ui/icons\";\nimport keywordList from \"../../keywordList\";\nimport { En, Fr, I18n } from \"../I18n\";\nimport translate from \"../../utils/i18n\";\n\nconst KeywordsInput = ({\n  onChange,\n  value = { en: [], fr: [] },\n  name,\n  disabled,\n}) => {\n  const { language } = useParams();\n  const [selectedKeyword, setKeyword] = useState(\"\");\n  const [inputValue, setInputValue] = useState(\"\");\n  const [selectedKeywordAltLang, setSelectedKeywordAltLang] = useState(\"\");\n\n  const languages = [\"en\", \"fr\"];\n\n  if (language === \"fr\") languages.reverse();\n  const altLanguage = languages[1];\n\n  function cleanList(list) {\n    return list\n      .map((item) => (item || \"\").trim())\n      .filter((item, i, arr) => item && arr.indexOf(item) === i);\n  }\n\n  function handleDelete(chipText, deletedChipLang) {\n    return () => {\n      const newValue = {\n        en: value.en,\n        fr: value.fr,\n        [deletedChipLang]: value[deletedChipLang].filter(\n          (keyword) => keyword !== chipText\n        ),\n      };\n\n      onChange({\n        target: {\n          name,\n          value: newValue,\n        },\n      });\n    };\n  }\n  function handleHelperChange() {\n    const keyword = selectedKeyword || inputValue;\n    if (keyword || selectedKeywordAltLang) {\n      const newValue = { en: value.en, fr: value.fr };\n\n      const userKeywordList = [...value[language], keyword];\n      const userKeywordListAlt = [\n        ...value[altLanguage],\n        selectedKeywordAltLang,\n      ];\n\n      if (keyword) newValue[language] = cleanList(userKeywordList);\n      if (selectedKeywordAltLang)\n        newValue[altLanguage] = cleanList(userKeywordListAlt);\n\n      onChange({\n        target: {\n          name,\n          value: newValue,\n        },\n      });\n    }\n    setKeyword(\"\");\n    setSelectedKeywordAltLang(\"\");\n    setInputValue(\"\");\n  }\n\n  return (\n    <Grid container spacing={3} direction=\"column\">\n      <Grid item xs>\n        <Autocomplete\n          inputValue={inputValue}\n          onInputChange={(event, newInputValue) => {\n            setInputValue(newInputValue);\n          }}\n          disabled={disabled}\n          onChange={(e, keyword) =>\n            setSelectedKeywordAltLang(translate(keyword, altLanguage))\n          }\n          value={selectedKeyword || \"\"}\n          freeSolo\n          renderOption={(option) => translate(option, language) || option}\n          options={keywordList}\n          getOptionLabel={(option) => translate(option, language) || option}\n          fullWidth\n          renderInput={(params) => (\n            <TextField\n              // eslint-disable-next-line react/jsx-props-no-spreading\n              {...params}\n              label={language.toUpperCase()}\n            />\n          )}\n        />\n      </Grid>\n      <Grid item xs>\n        <TextField\n          value={selectedKeywordAltLang || \"\"}\n          onChange={(e) => setSelectedKeywordAltLang(e.target.value)}\n          fullWidth\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                {altLanguage.toUpperCase()}\n              </InputAdornment>\n            ),\n          }}\n        />\n      </Grid>\n\n      <Grid item xs={3}>\n        <Button\n          disabled={\n            disabled ||\n            (!selectedKeyword && !selectedKeywordAltLang && !inputValue)\n          }\n          startIcon={<ArrowDownward />}\n          onClick={handleHelperChange}\n        >\n          <I18n>\n            <En>Add</En>\n            <Fr>Ajouter</Fr>\n          </I18n>\n        </Button>\n      </Grid>\n\n      <Grid item xs>\n        {languages\n          .filter((lang) => value[lang] && value[lang].length)\n          .map((lang) => (\n            <div style={{ margin: \"15px\" }} key={lang}>\n              {true && (\n                <InputAdornment style={{ margin: \"10px\" }}>\n                  {lang.toUpperCase()}\n                </InputAdornment>\n              )}\n              <Grid container direction=\"row\">\n                <Grid item xs>\n                  {(value[lang] || []).map((keyword) => (\n                    <Chip\n                      key={keyword}\n                      disabled={disabled}\n                      label={keyword}\n                      onDelete={handleDelete(keyword, lang)}\n                      color=\"primary\"\n                      style={{ margin: \"5px\" }}\n                    />\n                  ))}\n                </Grid>\n              </Grid>\n            </div>\n          ))}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default KeywordsInput;\n","const licenses = {\n  \"CC-BY-4.0\": \"Creative Commons Attribution 4.0\",\n  CC0: \"Creative Commons 0\",\n  \"government-open-license-canada\": \"Open Government Licence - Canada\",\n  \"government-open-license-nova-scotia\":\n    \"Open Government Licence - Nova Scotia\",\n  \"government-open-license-newfoundland\":\n    \"Open Government Licence - Newfoundland and Labrador\",\n  \"Apache-2.0\": \"Apache License, Version 2.0\",\n};\n\nexport default licenses;\n","import React from \"react\";\nimport { Paper, TextField, Grid } from \"@material-ui/core\";\nimport { useParams } from \"react-router-dom\";\nimport { En, Fr, I18n } from \"../I18n\";\nimport { eovList, progressCodes } from \"../../isoCodeLists\";\n\nimport BilingualTextInput from \"../FormComponents/BilingualTextInput\";\nimport CheckBoxList from \"../FormComponents/CheckBoxList\";\nimport DateInput from \"../FormComponents/DateInput\";\nimport KeywordsInput from \"../FormComponents/KeywordsInput\";\nimport RequiredMark from \"../FormComponents/RequiredMark\";\nimport SelectInput from \"../FormComponents/SelectInput\";\nimport { camelToSentenceCase } from \"../../utils/misc\";\nimport translate from \"../../utils/i18n\";\nimport licenses from \"../../utils/licenses\";\nimport { validateField } from \"../../utils/validate\";\nimport {\n  QuestionText,\n  SupplementalText,\n  paperClass,\n} from \"../FormComponents/QuestionStyles\";\n\nimport regions from \"../../regions\";\n\nconst IdentificationTab = ({\n  disabled,\n  record,\n  handleUpdateRecord,\n  updateRecord,\n}) => {\n  const { language, region } = useParams();\n  const regionInfo = regions[region];\n\n  const CatalogueLink = (lang) => (\n    <a\n      href={regionInfo.catalogueURL[lang]}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      {regionInfo.catalogueURL[lang]}\n    </a>\n  );\n\n  return (\n    <div>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <I18n>\n            <En>What is the dataset title? Required in English and French.</En>\n            <Fr>\n              Quel est le titre du jeu de donnes? Obligatoire dans les deux\n              langues.\n            </Fr>\n          </I18n>\n          <RequiredMark passes={validateField(record, \"title\")} />\n          <SupplementalText>\n            <I18n>\n              <En>\n                Please refrain from using special characters in the dataset\n                title. This will appear as the title that is shown for this\n                dataset in the {regionInfo.catalogueTitle.en}.\n              </En>\n              <Fr>\n                Veuillez ne pas utiliser de caractres spciaux dans le titre du\n                jeu de donnes. Cela apparatra sous la forme du titre affich\n                pour ce jeu de donnes dans le {regionInfo.catalogueTitle.fr}.\n              </Fr>\n            </I18n>\n          </SupplementalText>\n        </QuestionText>\n\n        <BilingualTextInput\n          value={record.title}\n          onChange={handleUpdateRecord(\"title\")}\n          disabled={disabled}\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <I18n>\n            <En>What is the primary language of the dataset?</En>\n            <Fr>Quelle est la langue principale du jeu de donnes?</Fr>\n          </I18n>\n          <RequiredMark passes={validateField(record, \"language\")} />\n        </QuestionText>\n        <SelectInput\n          value={record.language}\n          onChange={handleUpdateRecord(\"language\")}\n          options={[\"en\", \"fr\"]}\n          optionLabels={[\"English\", \"Franais\"]}\n          disabled={disabled}\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <I18n>\n            <En>\n              Enter an abstract or summary for the dataset. Required in both\n              languages.\n            </En>\n            <Fr>Entrez un description pour le jeu de donnes.</Fr>\n          </I18n>\n          <RequiredMark passes={validateField(record, \"abstract\")} />\n          <SupplementalText>\n            <I18n>\n              <En>\n                This information will appear as the summary text that is shown\n                for this dataset in the {regionInfo.catalogueTitle.en}. Browsing\n                datasets at <CatalogueLink lang=\"en\" /> can help provide a sense\n                of the type of descriptions that are typically used for this\n                section of the profile. As a general rule, this section should\n                be worded with as little jargon as possible to give potential\n                users an understanding of your dataset.\n                <br />\n                <br />\n                Suggested abstract points -\n                <div>\n                  <ul>\n                    <li>\n                      <b>What</b>- variables that were measured\n                    </li>\n                    <li>\n                      <b>When</b>- temporal coverage of the data, frequency of\n                      the measurements/observations\n                    </li>\n                    <li>\n                      <b>Where</b>- spatial coverage of the data, sampling\n                      sites, sensor tracks, laboratory spaces\n                    </li>\n                    <li>\n                      <b>How</b>- equipment, procedures, protocols,\n                      calibrations, QA/QC\n                    </li>\n                    <li>\n                      <b>Who</b>- participants, staff\n                    </li>\n                    <li>\n                      <b>Why</b>- a high level statement on the outcome this\n                      data is meant to inform\n                    </li>\n                  </ul>\n                </div>\n              </En>\n              <Fr>\n                {\" \"}\n                Cette description constituera le texte rcapitulatif du jeu de\n                donnes lorsquil sera publi dans le{\" \"}\n                {regionInfo.catalogueTitle.fr}. Veuillez consulter dautres jeux\n                de donnes dj publis si vous dsirez consulter un exemple :{\" \"}\n                <CatalogueLink lang=\"fr\" />. Si possible, veuillez remplir ce\n                champ en utilisant un langage accessible pouvant tre bien\n                compris par dautres utilisateurs.\n              </Fr>\n            </I18n>\n          </SupplementalText>\n        </QuestionText>\n\n        <BilingualTextInput\n          value={record.abstract}\n          onChange={handleUpdateRecord(\"abstract\")}\n          disabled={disabled}\n          multiline\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <I18n>\n            <En>\n              Please select all the essential ocean variables that are contained\n              in this dataset.\n            </En>\n            <Fr>\n              Veuillez slectionner toutes les variables ocaniques essentielles\n              contenues dans ce jeu de donnes.\n            </Fr>\n          </I18n>\n          <RequiredMark passes={validateField(record, \"eov\")} />\n          <SupplementalText>\n            <I18n>\n              <En>If none of these apply you can select Other.</En>\n              <Fr>\n                Si aucun de ces lments ne s'applique, vous pouvez slectionner\n                 Autre .\n              </Fr>\n            </I18n>\n          </SupplementalText>\n        </QuestionText>\n        <CheckBoxList\n          value={record.eov || []}\n          onChange={updateRecord(\"eov\")}\n          options={eovList}\n          optionLabels={eovList.map((e) => {\n            return camelToSentenceCase(translate(e, language));\n          })}\n          disabled={disabled}\n        />\n      </Paper>\n      <Paper style={paperClass}>\n        <Grid container spacing={3} direction=\"column\">\n          <Grid item xs>\n            <QuestionText>\n              <I18n>\n                <En>\n                  Keywords are an important way to categorize your data that\n                  allow people and other systems to search for datasets that\n                  share some important characteristics. Choose the most specific\n                  keywords that apply to your data, or create your own.\n                </En>\n                <Fr>\n                  Les mots-cls permettent de catgoriser vos donnes et\n                  facilitent leur dcouvrabilit par dautres utilisateurs.\n                  Choisissez des mots-cls spcifiques qui sappliquent  vos\n                  donnes ou crez-en des nouveaux.\n                </Fr>\n              </I18n>\n              <RequiredMark passes={validateField(record, \"keywords\")} />\n              <SupplementalText>\n                <I18n>\n                  <En> Enter one at a time, clicking 'Add' after each.</En>\n                  <Fr>\n                    Entrez un mot-cl  la fois. Cliquez sur  Ajouter  aprs\n                    chaque entre.\n                  </Fr>\n                </I18n>\n              </SupplementalText>\n            </QuestionText>\n          </Grid>\n          <Grid item xs>\n            <KeywordsInput\n              value={record.keywords}\n              onChange={handleUpdateRecord(\"keywords\")}\n              disabled={disabled}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <I18n>\n            <En>What is the status of this dataset?</En>\n            <Fr>Quel est l'tat de ce jeu de donnes?</Fr>\n          </I18n>\n          <RequiredMark passes={validateField(record, \"progress\")} />\n        </QuestionText>\n        <SelectInput\n          value={record.progress || \"\"}\n          onChange={handleUpdateRecord(\"progress\")}\n          options={Object.keys(progressCodes)}\n          optionLabels={Object.values(progressCodes).map(\n            ({ title }) => title[language]\n          )}\n          optionTooltips={Object.values(progressCodes).map(\n            ({ text }) => text[language]\n          )}\n          disabled={disabled}\n          fullWidth={false}\n          style={{ width: \"200px\" }}\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <I18n>\n            <En>What is the start date when data was first collected?</En>\n            <Fr>Inscrivez la date de dbut de votre collecte de donnes.</Fr>\n          </I18n>\n        </QuestionText>\n        <DateInput\n          value={record.dateStart || null}\n          onChange={handleUpdateRecord(\"dateStart\")}\n          disabled={disabled}\n          dateEnd={record.dateEnd || undefined}\n        />\n        <QuestionText>\n          <I18n>\n            <En>\n              What is the end date when data was last collected? Leave blank if\n              data collection is ongoing.\n            </En>\n            <Fr>\n              Inscrivez la date de fin de votre collecte de donnes. L aissez\n              vide si la collecte des donnes est en cours.\n            </Fr>\n          </I18n>\n        </QuestionText>\n        <DateInput\n          value={record.dateEnd || null}\n          onChange={handleUpdateRecord(\"dateEnd\")}\n          disabled={disabled}\n          dateStart={record.dateStart || undefined}\n        />\n      </Paper>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <I18n>\n            <En>\n              What is the date when the data was published? Leave blank if\n              dataset hasn't been published.\n            </En>\n            <Fr>\n              Quelle est la date de dbut  laquelle les donnes ont t\n              publies ? Laissez vide si les donnes n'ont pas t publies.\n            </Fr>\n          </I18n>\n        </QuestionText>\n        <DateInput\n          name=\"datePublished\"\n          value={record.datePublished || null}\n          onChange={handleUpdateRecord(\"datePublished\")}\n          disabled={disabled}\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <I18n>\n            <En>\n              What is the date when data was revised? Leave blank if dataset\n              hasn't been revised.\n            </En>\n            <Fr>\n              Quelle est la date  laquelle les donnes ont t rvises ?\n              Laissez vide si le jeu de donnes n'a pas a t rvis.\n            </Fr>\n          </I18n>\n        </QuestionText>\n        <DateInput\n          name=\"dateRevised\"\n          value={record.dateRevised || null}\n          onChange={handleUpdateRecord(\"dateRevised\")}\n          disabled={disabled}\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <I18n>\n            <En>What is the DOI for this dataset? Eg,</En>\n            <Fr>Quel est le DOI de ce jeu de donnes ? Par exemple,</Fr>\n          </I18n>{\" \"}\n          https://doi.org/10.0000/0000\n        </QuestionText>\n\n        <TextField\n          style={{ marginTop: \"10px\" }}\n          name=\"datasetIdentifier\"\n          value={record.datasetIdentifier}\n          onChange={handleUpdateRecord(\"datasetIdentifier\")}\n          fullWidth\n        />\n      </Paper>\n\n      <Paper style={paperClass}>\n        <QuestionText>\n          <I18n>\n            <En>How is the dataset licensed?</En>\n            <Fr>Comment le jeu de donnes est-il sous licence</Fr>\n          </I18n>\n          <RequiredMark passes={validateField(record, \"license\")} />\n          <SupplementalText>\n            <I18n>\n              <En>\n                <ul>\n                  <li>\n                    <b>\n                      Creative Commons Attribution 4.0 International licence\n                      (CC-BY 4.0)\n                    </b>{\" \"}\n                    - CIOOS recommended. Allows for open sharing and adaptation\n                    of the data provided that the original creator is\n                    attributed.\n                  </li>\n                  <li>\n                    <b>Creative Commons 0</b> - imposes no restrictions of any\n                    kind.\n                  </li>\n                  <li>\n                    <b>Open Government Licence - Canada</b> - For datasets made\n                    available by Government of Canada departments and agencies,\n                    it is very similar to CC-BY as it allows for open sharing\n                    and adaptation of the data, provided that the original\n                    creator of the data is properly attributed.\n                  </li>\n                </ul>\n              </En>\n              <Fr>\n                <ul>\n                  <li>\n                    <b>\n                      Licence internationale Creative Commons Attribution 4.0\n                      (CC-BY 4.0){\" \"}\n                    </b>\n                    - Licence recommande par le SIOOC. Les donnes sont\n                    ouvertes, mais la licence exige que le jeu de donnes soit\n                    cit lorsquil est utilis par un autre utilisateur.\n                  </li>\n                  <li>\n                    <b>Creative Commons 0</b> - Nimpose aucune restriction\n                    particulire : le jeu de donnes peut tre utilis sans tre\n                    cit.\n                  </li>\n                  <li>\n                    <b>Licence pour gouvernement ouvert - Canada</b> - Pour les\n                    jeux de donnes rendus disponibles par les organisation et\n                    ministres fdraux. Cette licence est similaire  CC-BY 4.0\n                    : les donnes sont ouvertes mais le jeu de donnes doit tre\n                    cit lorsque utilis par un autre utilisateur. correctement\n                    attribues.\n                  </li>\n                </ul>\n              </Fr>\n            </I18n>\n          </SupplementalText>\n        </QuestionText>\n        <SelectInput\n          value={record.license}\n          onChange={handleUpdateRecord(\"license\")}\n          optionLabels={Object.values(licenses)}\n          options={Object.keys(licenses)}\n          disabled={disabled}\n        />\n      </Paper>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <I18n>\n            <En>What are the limitations affecting the dataset?</En>\n            <Fr>Quelles sont les limitations affectant le jeu de donnes?</Fr>\n          </I18n>\n          <SupplementalText>\n            <I18n>\n              <En>\n                For example:\n                <i>\n                  <ul>\n                    <li>Not to be used for navigational purposes.</li>\n                    <li>Instrument was not calibrated on day.</li>\n                    <li>Havent applied appropriate QC on the data yet.</li>\n                  </ul>\n                </i>\n              </En>\n              <Fr>\n                Par exemple :\n                <i>\n                  <ul>\n                    <li>Ne pas utiliser  des fins de navigation.</li>\n                    <li>L' instrument n'a pas t talonn.</li>\n                    <li>\n                      Un contrle de qualit na pas t effectu sur les\n                      donnes.\n                    </li>\n                  </ul>\n                </i>\n              </Fr>\n            </I18n>\n          </SupplementalText>\n        </QuestionText>\n        <BilingualTextInput\n          value={record.limitations}\n          onChange={handleUpdateRecord(\"limitations\")}\n          multiline\n          disabled={disabled}\n        />\n      </Paper>\n    </div>\n  );\n};\n\nexport default IdentificationTab;\n","import React, { useState } from \"react\";\nimport { Add, Delete } from \"@material-ui/icons\";\nimport {\n  TextField,\n  Grid,\n  Typography,\n  Button,\n  Paper,\n  List,\n  ListItem,\n  ListItemText,\n} from \"@material-ui/core\";\nimport { En, Fr, I18n } from \"../I18n\";\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport { deepCopy } from \"../../utils/misc\";\n\nconst emptyInstrument = {\n  id: \"\",\n  manufacturer: \"\",\n  version: \"\",\n  type: { en: \"\", fr: \"\" },\n  description: { en: \"\", fr: \"\" },\n};\n\nconst Instruments = ({\n  updateInstruments,\n  instruments = [],\n  disabled,\n  paperClass,\n}) => {\n  const [activeInstrument, setActiveInstrument] = useState(0);\n\n  function addInstrument() {\n    updateInstruments(instruments.concat(deepCopy(emptyInstrument)));\n    setActiveInstrument(instruments.length);\n  }\n  function updateInstrumentField(key) {\n    return (e) => {\n      const instrumentsCopy = [...instruments];\n      instrumentsCopy[activeInstrument][key] = e.target.value;\n      updateInstruments(instrumentsCopy);\n    };\n  }\n  function removeInstrument() {\n    updateInstruments(\n      instruments.filter((e, index) => index !== activeInstrument)\n    );\n    if (instruments.length) setActiveInstrument(instruments.length - 2);\n  }\n\n  const manufacturerLabel = <I18n en=\"Manufacturer\" fr=\"Fabricant\" />;\n  const versionLabel = <I18n en=\"Version\" fr=\"Version\" />;\n  const typeLabel = <I18n en=\"Type\" fr=\"Type\" />;\n  const descriptionLabel = <I18n en=\"Description\" fr=\"Description\" />;\n\n  const instrument = instruments.length > 0 && instruments[activeInstrument];\n\n  return (\n    <Grid container direction=\"row\" spacing={3}>\n      <Grid item xs={3}>\n        <Grid container direction=\"column\" spacing={2}>\n          <Grid item xs>\n            Instruments:\n            <List>\n              {instruments.map((instrumentItem, i) => {\n                return (\n                  <ListItem\n                    key={i}\n                    button\n                    onClick={() => setActiveInstrument(i)}\n                  >\n                    <ListItemText\n                      primary={\n                        <Typography\n                          style={{\n                            fontWeight: activeInstrument === i ? \"bold\" : \"\",\n                          }}\n                        >\n                          {i + 1}. {instrumentItem.id}\n                        </Typography>\n                      }\n                    />\n                  </ListItem>\n                );\n              })}\n            </List>\n          </Grid>\n\n          <Grid item xs>\n            <Button\n              disabled={disabled}\n              startIcon={<Add />}\n              onClick={addInstrument}\n              style={{ height: \"56px\", marginLeft: \"10px\" }}\n            >\n              <I18n>\n                <En>Add instrument</En>\n                <Fr>Ajouter un instrument</Fr>\n              </I18n>\n            </Button>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item xs>\n        <Grid container direction=\"column\">\n          {instrument && (\n            <Paper style={paperClass}>\n              <Grid container direction=\"column\" spacing={2}>\n                <Grid item xs>\n                  <I18n>\n                    <En>Instrument ID is required</En>\n                    <Fr>L'ID de l'instrument est requis</Fr>\n                  </I18n>\n                  <TextField\n                    label=\"ID\"\n                    value={instrument.id}\n                    onChange={updateInstrumentField(\"id\")}\n                    fullWidth\n                    disabled={disabled}\n                  />\n                </Grid>\n                <Grid item xs>\n                  <TextField\n                    label={manufacturerLabel}\n                    name=\"manufacturer\"\n                    value={instrument.manufacturer}\n                    onChange={updateInstrumentField(\"manufacturer\")}\n                    fullWidth\n                    disabled={disabled}\n                  />{\" \"}\n                </Grid>\n                <Grid item xs>\n                  <TextField\n                    label={versionLabel}\n                    value={instrument.version}\n                    onChange={updateInstrumentField(\"version\")}\n                    fullWidth\n                    disabled={disabled}\n                  />\n                </Grid>\n                <Grid item xs>\n                  <Typography>\n                    <I18n>\n                      <En>Instrument Type</En>\n                      <Fr>Type d'instrument</Fr>\n                    </I18n>\n                  </Typography>\n                  <BilingualTextInput\n                    label={typeLabel}\n                    value={instrument.type}\n                    onChange={updateInstrumentField(\"type\")}\n                    disabled={disabled}\n                  />\n                </Grid>{\" \"}\n                <Grid item xs>\n                  <Typography>Description</Typography>\n                  <BilingualTextInput\n                    label={descriptionLabel}\n                    value={instrument.description}\n                    onChange={updateInstrumentField(\"description\")}\n                    disabled={disabled}\n                  />\n                </Grid>\n                <Grid item xs>\n                  <Button\n                    startIcon={<Delete />}\n                    disabled={disabled}\n                    onClick={removeInstrument}\n                  >\n                    <I18n>\n                      <En>Remove item</En>\n                      <Fr>Supprimer l'instrument</Fr>\n                    </I18n>\n                  </Button>\n                </Grid>\n              </Grid>\n            </Paper>\n          )}\n          {/* <Paper style={paperClass}>\n            <Button startIcon={<Add />} disabled={disabled} onClick={addInstrument}>\n              <En>Add Instrument</En>\n              <Fr>Ajouter un article</Fr>\n            </Button>\n          </Paper> */}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n};\nexport default Instruments;\n","import React from \"react\";\n\nimport { TextField, Grid } from \"@material-ui/core\";\n\nimport BilingualTextInput from \"./BilingualTextInput\";\nimport { QuestionText, SupplementalText, paperClass } from \"./QuestionStyles\";\nimport RequiredMark from \"./RequiredMark\";\nimport { En, Fr, I18n } from \"../I18n\";\nimport { validateField } from \"../../utils/validate\";\n\nconst Platform = ({ record, handleUpdateRecord, disabled }) => (\n  <>\n    {/* TODO remove tacky negative margin */}\n    <Grid item xs style={{ ...paperClass, marginTop: \"-40px\" }}>\n      <QuestionText>\n        <I18n>\n          <En>Describe the platform</En>\n          <Fr>Dcrire la plateforme</Fr>\n        </I18n>\n        <SupplementalText>\n          <I18n>\n            <En>Eg, the name or type of platform</En>\n            <Fr>Par exemple, le nom ou le type de plateforme.</Fr>\n          </I18n>\n          <RequiredMark passes={validateField(record, \"platformDescription\")} />\n        </SupplementalText>\n      </QuestionText>\n      <BilingualTextInput\n        value={record.platformDescription}\n        onChange={handleUpdateRecord(\"platformDescription\")}\n        multiline\n        disabled={disabled}\n      />\n    </Grid>\n\n    <Grid item xs style={paperClass}>\n      <QuestionText>\n        <I18n>\n          <En>What is the platform ID or code?</En>\n          <Fr>Quel est l'ID de la plateforme ?</Fr>\n        </I18n>\n        <SupplementalText>\n          <I18n>\n            <En>\n              This is a unique identification of the platform. If the platform\n              is registered with ICES, use that identifier\n            </En>\n            <Fr>\n              Il s'agit d'une identification unique de la plateforme. Si la\n              plateforme est enregistre auprs du{\" \"}\n              <a\n                href=\"https://www.ices.dk/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                CIEM\n              </a>\n              , utilisez cet identificateur\n            </Fr>\n          </I18n>\n          <RequiredMark passes={validateField(record, \"platformID\")} />\n        </SupplementalText>\n      </QuestionText>\n\n      <TextField\n        label={<I18n en=\"Platform ID\" fr=\"ID de plateforme\" />}\n        value={record.platformID}\n        onChange={handleUpdateRecord(\"platformID\")}\n        fullWidth\n        disabled={disabled}\n      />\n    </Grid>\n  </>\n);\n\nexport default Platform;\n","import React from \"react\";\n\nimport { Paper, Grid, FormControlLabel, Checkbox } from \"@material-ui/core\";\nimport Instruments from \"../FormComponents/Instruments\";\n\nimport { QuestionText, paperClass } from \"../FormComponents/QuestionStyles\";\nimport RequiredMark from \"../FormComponents/RequiredMark\";\nimport Platform from \"../FormComponents/Platform\";\nimport { En, Fr, I18n } from \"../I18n\";\nimport { validateField } from \"../../utils/validate\";\n\nconst PlatformTab = ({\n  disabled,\n  record,\n  handleUpdateRecord,\n  updateRecord,\n}) => {\n  const { noPlatform = false } = record;\n  return (\n    <div>\n      <Paper style={paperClass}>\n        <Grid container direction=\"column\" spacing={0}>\n          <Grid item xs style={paperClass}>\n            <QuestionText>\n              <I18n>\n                <En>\n                  A platform is anything used in data collection that has\n                  instrument(s) attached to it. Eg:\n                  <ul>\n                    <li>Glider</li>\n                    <li>Ship</li>\n                    <li>Buoy</li>\n                    <li>Satellite</li>\n                    <li>Rossette</li>\n                    <li>ROV</li>\n                    <li>Mooring</li>\n                  </ul>\n                  It is strongly encouraged to fill out platform information. If\n                  there is no platform, you can enter instruments at the bottom\n                  of the page.\n                </En>\n                <Fr>\n                  Une plateforme est tout ce qui est utilis dans la collecte de\n                  donnes auquel un ou plusieurs instruments sont attachs. Par\n                  exemple :\n                  <ul>\n                    <li>\n                      <i>Glider</i>\n                    </li>\n                    <li>Navire</li>\n                    <li>Boue</li>\n                    <li>Satellite</li>\n                    <li>Rosette</li>\n                    <li>ROV</li>\n                    <li>Amarrage</li>\n                  </ul>\n                  Il est fortement encourag d'ajouter des informations sur une\n                  plateforme. S'il n'y a pas de plateformes, vous pouvez entrer\n                  des informations sur des instruments au bas de la page.\n                </Fr>\n              </I18n>\n            </QuestionText>\n\n            <FormControlLabel\n              disabled={disabled}\n              control={\n                <Checkbox\n                  name=\"noPlatform\"\n                  checked={noPlatform}\n                  onChange={(e) => {\n                    const { checked } = e.target;\n\n                    updateRecord(\"noPlatform\")(checked);\n                  }}\n                />\n              }\n              label={\n                <I18n>\n                  <En>This dataset doesn't have a platform</En>\n                  <Fr>Ce jeu de donnes n'a pas de plateforme</Fr>\n                </I18n>\n              }\n            />\n          </Grid>\n\n          <Grid item xs style={paperClass}>\n            {!noPlatform ? (\n              <>\n                <Platform\n                  record={record}\n                  handleUpdateRecord={handleUpdateRecord}\n                  disabled={disabled}\n                />\n\n                <QuestionText>\n                  <I18n>\n                    <En>\n                      At least one instrument is required if there is a\n                      platform.\n                    </En>\n                    <Fr>\n                      Au moins un instrument est requis s'il y a une plateforme.\n                    </Fr>\n                  </I18n>\n\n                  <RequiredMark passes={validateField(record, \"instruments\")} />\n                </QuestionText>\n              </>\n            ) : (\n              <QuestionText>\n                <I18n>\n                  <En>You can still enter an instrument without a platform</En>\n                  <Fr>\n                    Vous pouvez toujours entrer dans un instrument sans\n                    plateforme\n                  </Fr>\n                </I18n>\n              </QuestionText>\n            )}\n\n            <Instruments\n              instruments={record.instruments}\n              updateInstruments={updateRecord(\"instruments\")}\n              disabled={disabled}\n              paperClass={paperClass}\n              noPlatform={noPlatform}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </div>\n  );\n};\nexport default PlatformTab;\n","/* eslint-disable no-case-declarations */\n/* eslint-disable no-underscore-dangle */\nimport React, { useState } from \"react\";\n\nimport { TextField, Grid, Typography } from \"@material-ui/core\";\nimport L from \"leaflet\";\nimport {\n  Map,\n  TileLayer,\n  FeatureGroup,\n  withLeaflet,\n  Polygon as LeafletPolygon,\n  Rectangle as LeafletRectangle,\n} from \"react-leaflet\";\nimport { EditControl } from \"react-leaflet-draw\";\nimport \"leaflet/dist/leaflet.css\";\nimport \"leaflet-draw/dist/leaflet.draw.css\";\nimport { I18n, En, Fr } from \"../I18n\";\n\nimport { QuestionText, SupplementalText } from \"./QuestionStyles\";\nimport { validateField } from \"../../utils/validate\";\nimport RequiredMark from \"./RequiredMark\";\n\nconst MapSelect = ({\n  handleUpdateMap,\n  updateMap,\n  mapData = {},\n  disabled,\n  record,\n}) => {\n  // On map clear?\n  function onMapClear() {\n    const emptySpatial = {\n      north: \"\",\n      south: \"\",\n      east: \"\",\n      west: \"\",\n      polygon: \"\",\n    };\n\n    handleUpdateMap(emptySpatial);\n  }\n\n  const [editableFG, setEditableFG] = useState(null);\n  const [, setLayerError] = useState(null);\n\n  const coordTest = /-?\\d+\\.?\\d+/;\n  const polyTest = /-?\\d+\\.?\\d+,\\s*-?\\d+\\.?\\d+\\s*?/g;\n\n  function clearExtraLayers(drawnItems) {\n    // From https://stackoverflow.com/questions/61073568/delete-layer-before-creating-a-new-one-with-react-leaflet-draw-in-leaflet\n    // Only allow one box on the map at a time\n    // if the number of layers is bigger than 1 then delete the first\n    if (Object.keys(drawnItems).length > 1) {\n      Object.keys(drawnItems).forEach((layerid) => {\n        const existingLayers = Object.keys(editableFG.leafletElement._layers)\n          .length;\n\n        if (existingLayers === 1) return;\n\n        const layer = drawnItems[layerid];\n\n        editableFG.leafletElement.removeLayer(layer);\n      });\n    }\n  }\n  // update a mapData property using an event\n  function handleChange(key) {\n    return (e) => {\n      const drawnItems = editableFG.leafletElement._layers;\n      clearExtraLayers(drawnItems);\n\n      const newData = { ...mapData, [key]: e.target.value };\n\n      updateMap(newData);\n    };\n  }\n  // update the polygon property using an event\n  function handleChangePoly(e) {\n    const drawnItems = editableFG.leafletElement._layers;\n    clearExtraLayers(drawnItems);\n\n    const newData = { ...mapData, polygon: e.target.value };\n    updateMap(newData);\n  }\n\n  function limitDecimals(x) {\n    return Number.parseFloat(x).toPrecision(4);\n  }\n\n  function parsePolyString(polygonList) {\n    let coordList = [...polygonList.matchAll(polyTest)].map((match) => {\n      return match[0];\n    });\n\n    try {\n      coordList = coordList.map((point) => {\n        return point.split(\",\").map(Number);\n      });\n    } catch (error) {\n      setLayerError({ error });\n    }\n\n    return coordList;\n  }\n\n  const hasBoundingBox = (\n    test_n = mapData.north,\n    test_s = mapData.south,\n    test_e = mapData.east,\n    test_w = mapData.west\n  ) => {\n    const test =\n      coordTest.test(test_n) &&\n      coordTest.test(test_s) &&\n      coordTest.test(test_e) &&\n      coordTest.test(test_w);\n\n    return test;\n  };\n\n  const hasPolygon = (test_string = mapData.polygon) => {\n    return polyTest.test(test_string);\n  };\n\n  const onCreated = (e) => {\n    const { layer, layerType } = e;\n\n    // remove any existing shapes\n    const drawnItems = editableFG.leafletElement._layers;\n    clearExtraLayers(drawnItems);\n\n    switch (layerType) {\n      case \"polygon\":\n        const points = layer.getLatLngs()[0];\n        const polygonStrings = points.map(\n          ({ lat, lng }) => `${limitDecimals(lat)},${limitDecimals(lng)}`\n        );\n        const polygon = polygonStrings.concat(polygonStrings[0]).join(\" \");\n\n        updateMap({ polygon });\n        break;\n\n      default: // Assume rectangle\n      case \"rectangle\":\n        const bounds = layer.getBounds();\n\n        let { lat: north, lng: east } = bounds.getNorthEast().wrap();\n        let { lat: south, lng: west } = bounds.getSouthWest().wrap();\n\n        north = limitDecimals(north);\n        south = limitDecimals(south);\n        east = limitDecimals(east);\n        west = limitDecimals(west);\n\n        const newValue = { north, south, east, west };\n        updateMap(newValue);\n    }\n  };\n\n  const onFeatureGroupReady = (reactFGref) => {\n    // store the featureGroup ref for future access to content\n    setEditableFG(reactFGref);\n  };\n  L.EditToolbar.Delete.include({\n    enable() {\n      // eslint-disable-next-line react/no-this-in-sfc\n      this.options.featureGroup.clearLayers();\n      onMapClear();\n    },\n  });\n\n  const bboxIsDrawn = Boolean(\n    mapData.north || mapData.south || mapData.east || mapData.west\n  );\n\n  const fieldsAreEmpty = !bboxIsDrawn && !mapData.polygon;\n\n  return (\n    <div>\n      <Map\n        style={{ width: \"100%\", height: \"55vh\" }}\n        center={[50, -100]}\n        zoom={3}\n\n        // whenReady={loadExistingExtent}\n      >\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <FeatureGroup\n          ref={(featureGroupRef) => {\n            onFeatureGroupReady(featureGroupRef);\n          }}\n        >\n          {disabled === false && (\n            <EditControl\n              position=\"topleft\"\n              // onEdited={onEditPath}\n              onCreated={onCreated}\n              onMapClear={onMapClear}\n              draw={{\n                marker: false,\n                circle: false,\n                polyline: false,\n                circlemarker: false,\n                polygon: true,\n              }}\n              edit={{\n                edit: false,\n              }}\n            />\n          )}\n\n          {hasPolygon() && (\n            <LeafletPolygon positions={parsePolyString(mapData.polygon)} />\n          )}\n\n          {hasBoundingBox() && (\n            <LeafletRectangle\n              bounds={[\n                [mapData.north, mapData.east],\n                [mapData.south, mapData.west],\n              ]}\n            />\n          )}\n        </FeatureGroup>\n      </Map>\n      <br />\n      <QuestionText>\n        <I18n>\n          <En>Bounding Box Coordinates</En>\n          <Fr>Coordonnes de la zone de dlimitation minimale</Fr>\n        </I18n>\n        {(bboxIsDrawn || fieldsAreEmpty) && (\n          <RequiredMark passes={validateField(record, \"map\")} />\n        )}\n\n        <SupplementalText>\n          <I18n>\n            <En>\n              If you are providing a bounding box, please provide the\n              coordinates in decimal degrees (eg 58.66) and not in decimal\n              minutes seconds.\n            </En>\n            <Fr>\n              Si vous fournissez une zone de dlimitation minimale, veuillez\n              fournir les coordonnes en <b>degrs dcimaux</b>.\n            </Fr>\n          </I18n>\n        </SupplementalText>\n      </QuestionText>\n      <Grid container direction=\"row\" spacing={3}>\n        <Grid item xs={2}>\n          <TextField\n            label={<I18n en=\"North\" fr=\"Nord\" />}\n            value={mapData.north || \"\"}\n            inputProps={{ inputMode: \"numeric\", pattern: \"[0-9]*\" }}\n            onChange={handleChange(\"north\")}\n            type=\"number\"\n            disabled={disabled || Boolean(mapData.polygon)}\n          />\n        </Grid>\n        <Grid item xs={2}>\n          <TextField\n            label={<I18n en=\"South\" fr=\"Sud\" />}\n            value={mapData.south || \"\"}\n            onChange={handleChange(\"south\")}\n            type=\"number\"\n            disabled={disabled || Boolean(mapData.polygon)}\n          />\n        </Grid>\n        <Grid item xs={2}>\n          <TextField\n            label={<I18n en=\"East\" fr=\"Est\" />}\n            value={mapData.east || \"\"}\n            onChange={handleChange(\"east\")}\n            type=\"number\"\n            disabled={disabled || Boolean(mapData.polygon)}\n          />\n        </Grid>\n        <Grid item xs={2}>\n          <TextField\n            value={mapData.west || \"\"}\n            label={<I18n en=\"West\" fr=\"Ouest\" />}\n            onChange={handleChange(\"west\")}\n            type=\"number\"\n            disabled={disabled || Boolean(mapData.polygon)}\n          />\n        </Grid>\n      </Grid>\n\n      <Typography variant=\"h6\" style={{ margin: \"20px\", marginLeft: \"20%\" }}>\n        <I18n>\n          <En>OR</En>\n          <Fr>Ou</Fr>\n        </I18n>\n      </Typography>\n\n      <QuestionText>\n        <I18n>\n          <En>Polygon coordinates</En>\n          <Fr>Coordonnes du/des polygone(s)</Fr>\n        </I18n>\n        {(!bboxIsDrawn || fieldsAreEmpty) && (\n          <RequiredMark passes={validateField(record, \"map\")} />\n        )}\n        <SupplementalText>\n          <I18n>\n            <En>\n              If you are providing polygon coordinates, they must start and end\n              with the same point. Eg,\n            </En>\n            <Fr>\n              Doivent commencer et se terminer par le mme point. Par exemple,\n            </Fr>\n          </I18n>{\" \"}\n          48,-128 56,-133 56,-147 48,-128\n        </SupplementalText>\n      </QuestionText>\n      <TextField\n        value={mapData.polygon || \"\"}\n        onChange={handleChangePoly}\n        type=\"text\"\n        fullWidth\n        disabled={disabled || bboxIsDrawn}\n      />\n    </div>\n  );\n};\n\nexport default withLeaflet(MapSelect);\n","import { Paper, TextField, Grid } from \"@material-ui/core\";\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { En, Fr, I18n } from \"../I18n\";\nimport RequiredMark from \"../FormComponents/RequiredMark\";\n\nimport MapSelect from \"../FormComponents/MapSelect\";\nimport { camelToSentenceCase } from \"../../utils/misc\";\nimport SelectInput from \"../FormComponents/SelectInput\";\nimport { depthDirections } from \"../../isoCodeLists\";\nimport translate from \"../../utils/i18n\";\n\nimport {\n  QuestionText,\n  SupplementalText,\n  paperClass,\n} from \"../FormComponents/QuestionStyles\";\nimport { validateField } from \"../../utils/validate\";\n\nconst SpatialTab = ({ disabled, record, handleUpdateRecord, updateRecord }) => {\n  const { language } = useParams();\n\n  return (\n    <Grid>\n      <Paper style={paperClass}>\n        <QuestionText style={{ paddingBottom: \"15px\" }}>\n          <I18n>\n            <En>What is the spatial extent of the dataset?</En>\n            <Fr>Quelle est l'tendue spatiale du jeu de donnes?</Fr>\n          </I18n>{\" \"}\n          <SupplementalText>\n            <I18n>\n              <En>\n                You can draw a bounding box or polygon for the dataset using the\n                Polygon or Box buttons at the left side of them form.\n                Alternatively you can enter them using the fields below. Either\n                a bounding box or a Polygon is required.\n              </En>\n              <Fr>\n                Vous pouvez tracer un cadre ou un polygone pour situer\n                gographiquement votre jeu de donnes. Vous pouvez aussi\n                localiser laire gographique couverte par votre jeu de donnes\n                en inscrivant les coordonnes gographiques (degrs dcimaux)\n                dans les champs sous la carte. Cette section doit\n                obligatoirement tre complte.\n              </Fr>\n            </I18n>\n          </SupplementalText>\n        </QuestionText>\n        <MapSelect\n          mapData={record.map}\n          updateMap={updateRecord(\"map\")}\n          handleUpdateMap={handleUpdateRecord(\"map\")}\n          disabled={disabled}\n          record={record}\n        />\n      </Paper>\n      <Paper style={paperClass}>\n        <QuestionText>\n          <I18n>\n            <En>What is the vertical extent of the dataset in meters?</En>\n            <Fr>Quelle est l'tendue verticale du jeu de donnes en mtres?</Fr>\n          </I18n>\n          <RequiredMark\n            passes={\n              validateField(record, \"verticalExtentDirection\") &&\n              validateField(record, \"verticalExtentMin\") &&\n              validateField(record, \"verticalExtentMax\")\n            }\n          />\n\n          <SupplementalText>\n            <I18n>\n              <En>\n                <p>\n                  This captures the minimum and maximum depths (or height from\n                  sea floor) where the instrument recorded data.\n                </p>\n                <p>\n                  Depth positive: Depth is recorded with positive values (i.e. a\n                  maximum value of 150m implies 150m below the surface).\n                  <br />\n                  Heigth positive: Depth is the elevation from the sea floor\n                  (i.e. a maximum value of 150m implies 150m above the sea\n                  floor).\n                </p>\n              </En>\n              <Fr>\n                <p>\n                  Profondeur positive: La profondeur est enregistre avec des\n                  valeurs positives (c'est--dire une valeur maximale de 150 m\n                  implique 150 m au-dessous de la surface).\n                </p>\n                <p>\n                  Hauteur positive: La profondeur est l'lvation depuis le fond\n                  marin (c'est--dire une valeur maximale de 150 m implique 150\n                  m au-dessus du fond marin)\n                </p>\n              </Fr>\n            </I18n>\n          </SupplementalText>\n        </QuestionText>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-start\"\n          alignItems=\"flex-start\"\n          spacing={4}\n        >\n          <Grid item xs={5}>\n            <SelectInput\n              value={record.verticalExtentDirection || \"\"}\n              onChange={handleUpdateRecord(\"verticalExtentDirection\")}\n              options={depthDirections}\n              optionLabels={depthDirections.map((e) =>\n                camelToSentenceCase(translate(e, language))\n              )}\n              disabled={disabled}\n            />\n          </Grid>\n          <Grid item xs={2}>\n            <TextField\n              value={record.verticalExtentMin}\n              onChange={handleUpdateRecord(\"verticalExtentMin\")}\n              label=\"Min\"\n              fullWidth\n              type=\"number\"\n              disabled={disabled}\n            />\n          </Grid>\n          <Grid item xs={2}>\n            <TextField\n              value={record.verticalExtentMax}\n              onChange={handleUpdateRecord(\"verticalExtentMax\")}\n              label=\"Max\"\n              fullWidth\n              type=\"number\"\n              disabled={disabled}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </Grid>\n  );\n};\n\nexport default SpatialTab;\n","import { useParams } from \"react-router-dom\";\n\nimport regions from \"../../regions\";\n\nfunction GetRegionInfo() {\n  const { region } = useParams();\n  return regions[region];\n}\n\nexport default GetRegionInfo;\n","import React, { useState } from \"react\";\n\nimport {\n  Paper,\n  Grid,\n  List,\n  ListItem,\n  ListItemText,\n  Typography,\n  Button,\n  CircularProgress,\n} from \"@material-ui/core\";\n\nimport { useParams } from \"react-router-dom\";\nimport { camelToSentenceCase } from \"../../utils/misc\";\nimport translate from \"../../utils/i18n\";\n\nimport { paperClass } from \"../FormComponents/QuestionStyles\";\n\nimport { En, Fr, I18n } from \"../I18n\";\nimport { getErrorsByTab, percentValid } from \"../../utils/validate\";\n\nimport GetRegionInfo from \"../FormComponents/Regions\";\n\nconst SubmitTab = ({ record, submitRecord }) => {\n  const [isSubmitting, setSubmitting] = useState(false);\n\n  const { language } = useParams();\n\n  function submit() {\n    setSubmitting(true);\n    submitRecord().then(() => setSubmitting(false));\n  }\n\n  const recordIsComplete = Math.round(percentValid(record) * 100) === 100;\n\n  const validationErrors = getErrorsByTab(record);\n  const submitted = record.status === \"submitted\";\n  const regionInfo = GetRegionInfo();\n\n  return (\n    <Paper style={paperClass}>\n      <Grid container direction=\"column\" spacing={3}>\n        <Grid item xs>\n          <Typography>\n            <I18n>\n              <En>\n                Thank-you for completing this form. The information will be\n                reviewed and a {regionInfo.title.en} staff member will contact\n                you to request more information or provide an update on when\n                your dataset will be available through the{\" \"}\n                {regionInfo.catalogueTitle.en}. Your information will not be\n                published before you are contacted. If you have any questions or\n                would like to follow up on the status of your record, please\n                contact\n              </En>\n              <Fr>\n                Merci d'avoir rempli ce formulaire. L'information sera valide\n                par un membre du personnel du {regionInfo.title.fr}. Cette\n                personne pourrait vous contacter pour obtenir plus\n                d'informations ou pour vous indiquer quand votre jeu de donnes\n                sera disponible dans le {regionInfo.catalogueTitle.fr}. Vos\n                informations ne seront pas publies avant d'obtenir votre\n                approbation. Si vous avez des questions ou si vous dsirez\n                effectuer un suivi concernant l'tat de votre soumission,\n                veuillez contacter\n              </Fr>\n            </I18n>{\" \"}\n            <a href={`mailto:${regionInfo.email}`}>{regionInfo.email}</a>.\n          </Typography>\n        </Grid>\n        {submitted ? (\n          <Grid item xs>\n            <Typography>\n              <I18n>\n                <En>\n                  Thank you for your submission. A reviewer has been notified.\n                  You will receive an email when the record is published. You\n                  are still able to edit this record by saving it, until it is\n                  published.\n                </En>\n                <Fr>\n                  Merci pour votre soumission. Un examinateur a t avis. Vous\n                  recevrez un e-mail lors de la publication de l'enregistrement.\n                  Vous pouvez toujours modifier cet enregistrement en\n                  l'enregistrant, jusqu' ce qu'il soit publi.\n                </Fr>\n              </I18n>\n            </Typography>\n          </Grid>\n        ) : (\n          <>\n            {recordIsComplete ? (\n              <>\n                <Grid item xs>\n                  <Typography>\n                    <I18n>\n                      <En>\n                        You have completed all of the required fields, your\n                        record can be submitted now.\n                      </En>\n                      <Fr>\n                        Vous avez rempli tous les champs obligatoires, votre\n                        dossier peut tre soumis maintenant.\n                      </Fr>\n                    </I18n>\n                  </Typography>\n                </Grid>\n                <Grid item xs>\n                  {isSubmitting ? (\n                    <CircularProgress />\n                  ) : (\n                    <Button onClick={submit} disabled={submitted}>\n                      <I18n>\n                        <En>Submit</En>\n                        <Fr>Soumettre</Fr>\n                      </I18n>\n                    </Button>\n                  )}\n                </Grid>\n              </>\n            ) : (\n              <>\n                <Grid item xs>\n                  <Typography>\n                    <I18n>\n                      <En>\n                        You haven't completed all of the required fields. You\n                        will need to address the list below before submitting.\n                      </En>\n                      <Fr>\n                        Vous n'avez pas rempli tous les champs obligatoires.\n                        Veuillez renseigner les champs identifis ci-dessous\n                        avant de soumettre votre demande.\n                      </Fr>\n                    </I18n>\n                  </Typography>\n                </Grid>\n\n                <Grid item xs>\n                  {Object.keys(validationErrors).map((tab) => (\n                    <div key={tab}>\n                      <Typography variant=\"h6\">\n                        {camelToSentenceCase(translate(tab, language))}\n                      </Typography>\n                      <List>\n                        {validationErrors[tab].map(\n                          ({ [language]: error }, i) => (\n                            <ListItem key={i}>\n                              <ListItemText primary={error} />\n                            </ListItem>\n                          )\n                        )}\n                      </List>\n                    </div>\n                  ))}\n                </Grid>\n              </>\n            )}\n          </>\n        )}\n      </Grid>\n    </Paper>\n  );\n};\nexport default SubmitTab;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { Component } from \"react\";\nimport {\n  Box,\n  CircularProgress,\n  Grid,\n  Tab,\n  Tabs,\n  Fab,\n  Tooltip,\n  Typography,\n  LinearProgress,\n} from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { Save } from \"@material-ui/icons\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { withRouter } from \"react-router-dom\";\nimport { I18n, En, Fr } from \"../I18n\";\nimport StatusChip from \"../FormComponents/StatusChip\";\nimport LastEdited from \"../FormComponents/LastEdited\";\nimport NotFound from \"./NotFound\";\n\nimport StartTab from \"../Tabs/StartTab\";\nimport ContactTab from \"../Tabs/ContactTab\";\nimport ResourcesTab from \"../Tabs/ResourcesTab\";\nimport IdentificationTab from \"../Tabs/IdentificationTab\";\nimport PlatformTab from \"../Tabs/PlatformTab\";\nimport SpatialTab from \"../Tabs/SpatialTab\";\nimport SubmitTab from \"../Tabs/SubmitTab\";\n\nimport { auth } from \"../../auth\";\nimport firebase from \"../../firebase\";\nimport { firebaseToJSObject } from \"../../utils/misc\";\nimport { UserContext } from \"../../providers/UserProvider\";\nimport { percentValid } from \"../../utils/validate\";\n\nconst LinearProgressWithLabel = ({ value }) => (\n  <Tooltip\n    title={\n      <I18n\n        en=\"Percentage of required fields filled in\"\n        fr=\"Pourcentage de champs obligatoires remplis\"\n      />\n    }\n  >\n    <Box display=\"flex\" width=\"90%\" style={{ margin: \"auto\" }}>\n      <Box width=\"100%\" mr={1}>\n        <LinearProgress\n          variant=\"determinate\"\n          value={value}\n          style={{ marginLeft: \"-30px\" }}\n        />\n      </Box>\n      <Box minWidth={35}>\n        <Typography variant=\"body2\" color=\"textSecondary\">{`${Math.round(\n          value\n        )}%`}</Typography>\n      </Box>\n    </Box>\n  </Tooltip>\n);\n\nfunction TabPanel({ children, value, index, ...other }) {\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </div>\n  );\n}\n\nconst styles = () => ({\n  tabRoot: {\n    minWidth: \"115px\",\n  },\n});\nclass MetadataForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      record: {\n        title: { en: \"\", fr: \"\" },\n        abstract: { en: \"\", fr: \"\" },\n        identifier: uuidv4(),\n        keywords: { en: [], fr: [] },\n        eov: [],\n        progress: \"\",\n        distribution: [],\n        dateStart: null,\n        dateEnd: null,\n        map: { north: \"\", south: \"\", east: \"\", west: \"\", polygon: \"\" },\n        verticalExtentMin: \"\",\n        verticalExtentMax: \"\",\n        datePublished: null,\n        dateRevised: null,\n        recordID: \"\",\n        instruments: [],\n        platformID: \"\",\n        platformDescription: \"\",\n        language: \"\",\n        license: \"\",\n        contacts: [],\n        status: \"\",\n        comment: \"\",\n        limitations: \"\",\n        created: new Date().toISOString(),\n        lastEditedBy: {},\n        category: \"\",\n        verticalExtentDirection: \"\",\n        datasetIdentifier: \"\",\n        noPlatform: false,\n        filename: \"\",\n        organization: \"\",\n        timeFirstPublished: \"\",\n      },\n\n      // contacts saved by user (not the ones saved in the record)\n      // kept in firebase object format instead of array\n      userContacts: {},\n\n      // UI state:\n      loading: false,\n      tabIndex: \"start\",\n\n      // whether the 'save' icon button is greyed out or not\n      saveDisabled: true,\n\n      highlightMissingRequireFields: false,\n\n      editorInfo: { email: \"\", displayName: \"\" },\n      loggedInUserCanEditRecord: false,\n    };\n  }\n\n  componentDidMount() {\n    const { match } = this.props;\n    this.setState({ loading: true });\n\n    this.unsubscribe = auth.onAuthStateChanged(async (user) => {\n      if (user) {\n        const { region, recordID } = match.params;\n        const isNewRecord = match.url.endsWith(\"new\");\n        // could be viewer or reviewer\n        const loggedInUserID = user.uid;\n        const recordUserID = isNewRecord ? loggedInUserID : match.params.userID;\n        const loggedInUserOwnsRecord = loggedInUserID === recordUserID;\n        const { isReviewer } = this.context;\n\n        // get info of the person openeing the record\n        firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .child(loggedInUserID)\n          .child(\"userinfo\")\n          .on(\"value\", (userinfo) => {\n            this.setState({ editorInfo: userinfo.toJSON() });\n          });\n\n        // get info of the original author of record\n        const userDataRef = firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .child(recordUserID);\n\n        // get contacts\n        userDataRef.child(\"contacts\").on(\"value\", (contacts) => {\n          this.setState({ userContacts: contacts.toJSON() });\n        });\n\n        // if recordID is set then the user is editing an existing record\n        if (isNewRecord) {\n          this.setState({ loading: false, loggedInUserCanEditRecord: true });\n        } else {\n          userDataRef\n            .child(\"records\")\n            .child(recordID)\n            .on(\"value\", (recordFireBase) => {\n              // Record not found, eg a bad link\n              const recordFireBaseObj = recordFireBase.toJSON();\n              if (!recordFireBaseObj) {\n                this.setState({ loading: false, record: null });\n\n                return;\n              }\n              const record = firebaseToJSObject(recordFireBaseObj);\n\n              const loggedInUserCanEditRecord =\n                (isReviewer || loggedInUserOwnsRecord) &&\n                record.status !== \"published\";\n\n              this.setState({\n                record: { ...record, recordID },\n                loggedInUserCanEditRecord,\n              });\n              this.setState({ loading: false });\n            });\n        }\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    // fixes error Can't perform a React state update on an unmounted component\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  // genereric handler for updating state, used by most form components\n  // generic event handler\n  handleUpdateRecord = (key) => (event) => {\n    const { value } = event.target;\n    const changes = { [key]: value };\n\n    this.setState(({ record }) => ({\n      record: { ...record, ...changes },\n      saveDisabled: false,\n    }));\n  };\n\n  // a second genereric handler components that dont use onChange\n  // generic state updater creator\n  updateRecord = (key) => (value) => {\n    const changes = { [key]: value };\n\n    this.setState(({ record }) => ({\n      record: { ...record, ...changes },\n      saveDisabled: false,\n    }));\n  };\n\n  async submitRecord() {\n    const { match } = this.props;\n    const { region } = match.params;\n    const { record } = this.state;\n    const { recordID } = record;\n\n    if (auth.currentUser && recordID) {\n      await firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(auth.currentUser.uid)\n        .child(\"records\")\n        .child(recordID)\n        .child(\"status\")\n        .set(\"submitted\");\n    }\n  }\n\n  async handleSaveClick() {\n    const { match, history } = this.props;\n    const { language, region } = match.params;\n\n    const userID = match.params.userID || auth.currentUser.uid;\n\n    const recordsRef = firebase\n      .database()\n      .ref(region)\n      .child(\"users\")\n      .child(userID)\n      .child(\"records\");\n\n    // remove userContacts since they get saved elsewhere\n    const { record, editorInfo } = this.state;\n    record.created = new Date().toISOString();\n\n    record.lastEditedBy = editorInfo;\n\n    if (record.recordID) {\n      await recordsRef.child(record.recordID).update(record);\n    } else {\n      // new record\n      const newNode = await recordsRef.push(record);\n\n      // cheesy workaround to the issue of push() not saving dates\n      await newNode.update(record);\n      const recordID = newNode.key;\n      this.setState({\n        record: { ...record, recordID },\n      });\n      history.push(`/${language}/${region}/${userID}/${recordID}`);\n    }\n\n    this.setState({ saveDisabled: true });\n    // if (match.url.endsWith(\"new\")) {\n    // set the URL so its shareable\n    // }\n  }\n\n  render() {\n    const { match } = this.props;\n    const { language } = match.params;\n    const { isReviewer } = this.context;\n\n    const {\n      userContacts,\n      tabIndex,\n      record,\n      saveDisabled,\n      loading,\n      highlightMissingRequireFields,\n      loggedInUserCanEditRecord,\n    } = this.state;\n\n    if (!record) {\n      return <NotFound />;\n    }\n    const { classes } = this.props;\n\n    const disabled = !loggedInUserCanEditRecord;\n\n    const tabProps = {\n      highlightMissingRequireFields,\n      disabled,\n      record,\n      handleUpdateRecord: this.handleUpdateRecord,\n      updateRecord: this.updateRecord,\n    };\n    const percentValidInt = Math.round(percentValid(record) * 100);\n\n    return loading ? (\n      <CircularProgress />\n    ) : (\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"space-between\"\n        alignItems=\"stretch\"\n        spacing={3}\n      >\n        <Tooltip\n          placement=\"left-start\"\n          title={\n            saveDisabled\n              ? \"Dataset needs a title before it can be saved\"\n              : \"Save record.\"\n          }\n        >\n          <span>\n            <Fab\n              color=\"primary\"\n              aria-label=\"add\"\n              style={{\n                right: 20,\n                bottom: 20,\n                position: \"fixed\",\n              }}\n              disabled={\n                saveDisabled ||\n                !(record.title.en || record.title.fr) ||\n                disabled\n              }\n              onClick={() => this.handleSaveClick()}\n            >\n              <Save />\n            </Fab>\n          </span>\n        </Tooltip>\n        <Grid container spacing={2} direction=\"row\" alignItems=\"center\">\n          <Grid item xs>\n            <Tabs\n              scrollButtons=\"auto\"\n              variant=\"fullWidth\"\n              value={tabIndex}\n              onChange={(e, newValue) => this.setState({ tabIndex: newValue })}\n              aria-label=\"simple tabs example\"\n            >\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label={<I18n en=\"Start\" fr=\"Accueil\" />}\n                value=\"start\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label={\n                  <I18n\n                    en=\"Data Identification\"\n                    fr=\"Identification des donnes\"\n                  />\n                }\n                value=\"identification\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label=\"Spatial\"\n                value=\"spatial\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label=\"Contact\"\n                value=\"contact\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label={<I18n en=\"Resources\" fr=\"Ressources\" />}\n                value=\"distribution\"\n              />\n              <Tab\n                fullWidth\n                classes={{ root: classes.tabRoot }}\n                label={<I18n en=\"Platform\" fr=\"Plateforme\" />}\n                value=\"platform\"\n              />\n              {loggedInUserCanEditRecord && (\n                <Tab\n                  fullWidth\n                  classes={{ root: classes.tabRoot }}\n                  label={<I18n en=\"Submit\" fr=\"Soumettre\" />}\n                  value=\"submit\"\n                  disabled={\n                    record.status === \"submitted\" ||\n                    record.status === \"published\"\n                  }\n                />\n              )}\n            </Tabs>\n            <div style={{ marginTop: \"10px\", textAlign: \"center\" }}>\n              <Typography variant=\"h5\">\n                {(language && record.title && record.title[language]) || (\n                  <I18n en=\"New Record\" fr=\"Nouvel enregistrement\" />\n                )}{\" \"}\n                <StatusChip status={record.status} />\n              </Typography>\n              <Typography component=\"div\">\n                <i>\n                  <LastEdited dateStr={record.created} />\n                  {record.lastEditedBy && record.lastEditedBy.displayName && (\n                    <>\n                      <I18n>\n                        <En>by </En>\n                        <Fr>Par </Fr>\n                      </I18n>\n                      {record.lastEditedBy.displayName}{\" \"}\n                      {isReviewer && record.lastEditedBy.email}\n                    </>\n                  )}\n                </i>\n                <LinearProgressWithLabel value={percentValidInt} />\n              </Typography>\n            </div>\n          </Grid>\n        </Grid>\n        <TabPanel value={tabIndex} index=\"start\">\n          <StartTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"identification\">\n          <IdentificationTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"spatial\">\n          <SpatialTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"platform\">\n          <PlatformTab {...tabProps} />\n        </TabPanel>\n        <TabPanel value={tabIndex} index=\"distribution\">\n          <ResourcesTab {...tabProps} />\n        </TabPanel>\n\n        <TabPanel value={tabIndex} index=\"submit\">\n          <SubmitTab {...tabProps} submitRecord={() => this.submitRecord()} />\n        </TabPanel>\n\n        <TabPanel value={tabIndex} index=\"contact\">\n          {/* userContacts are the ones the user has saved, not necessarily part of the record */}\n          <ContactTab userContacts={userContacts} {...tabProps} />\n        </TabPanel>\n      </Grid>\n    );\n  }\n}\nMetadataForm.contextType = UserContext;\nexport default withStyles(styles)(withRouter(MetadataForm));\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { Grid, Button } from \"@material-ui/core\";\nimport { Save } from \"@material-ui/icons\";\nimport firebase from \"../../firebase\";\nimport { auth } from \"../../auth\";\n\nimport { En, Fr, I18n } from \"../I18n\";\n\nimport ContactEditor from \"./ContactEditor\";\n\nclass EditContact extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orgName: \"\",\n      orgEmail: \"\",\n      orgURL: \"\",\n      orgAdress: \"\",\n      orgCity: \"\",\n      orgCountry: \"\",\n      indName: \"\",\n      indPosition: \"\",\n      indEmail: \"\",\n    };\n    const { match } = this.props;\n\n    const { region } = match.params;\n\n    this.contactsRef = firebase\n      .database()\n      .ref(region)\n      .child(\"users\")\n      .child(auth.currentUser.uid)\n      .child(\"contacts\");\n  }\n\n  async componentDidMount() {\n    const { match } = this.props;\n\n    const { contactID } = match.params;\n\n    if (auth.currentUser && contactID) {\n      this.setState({ contactID });\n\n      this.contactsRef\n        .child(contactID)\n        .on(\"value\", (contact) => this.setState(contact.toJSON()));\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.contactsRef) this.contactsRef.off(\"value\");\n  }\n\n  handleChange(key) {\n    return (event) => {\n      this.setState({ [key]: event.target.value });\n    };\n  }\n\n  handleCancelClick() {\n    const { match, history } = this.props;\n    const { language, region } = match.params;\n\n    history.push(`/${language}/${region}/contacts`);\n  }\n\n  // Create or update contact\n  async handleSubmitClick() {\n    const { history, match } = this.props;\n\n    const { region, language, contactID } = match.params;\n\n    // update\n    if (contactID) this.contactsRef.child(contactID).update(this.state);\n    // create\n    else this.contactsRef.push(this.state);\n\n    history.push(`/${language}/${region}/contacts`);\n  }\n\n  render() {\n    const { orgName, indName } = this.state;\n    const isFilledEnoughToSave = orgName || indName;\n    return (\n      <Grid container direction=\"column\" spacing={2}>\n        <Grid item xs>\n          <ContactEditor\n            value={this.state}\n            updateContactEvent={(key) => this.handleChange(key)}\n            // updateContact\n          />\n        </Grid>\n\n        <Grid item xs>\n          <Button\n            startIcon={<Save />}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => this.handleSubmitClick()}\n            disabled={!isFilledEnoughToSave}\n          >\n            <I18n>\n              <En>Save</En>\n              <Fr>Enregistrer</Fr>\n            </I18n>\n          </Button>\n\n          <Button\n            style={{ marginLeft: \"10px\" }}\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={() => this.handleCancelClick()}\n          >\n            <I18n>\n              <En>Cancel</En>\n              <Fr>Annuler</Fr>\n            </I18n>\n          </Button>\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nexport default withRouter(EditContact);\n","import React from \"react\";\nimport {\n  ListItem,\n  ListItemText,\n  Avatar,\n  ListItemAvatar,\n  Tooltip,\n  ListItemSecondaryAction,\n  IconButton,\n} from \"@material-ui/core\";\nimport {\n  Delete,\n  Publish,\n  Description,\n  Edit,\n  Eject,\n  Visibility,\n} from \"@material-ui/icons\";\nimport { I18n } from \"../I18n\";\nimport LastEdited from \"./LastEdited\";\n\nconst MetadataRecordListItem = ({\n  record,\n  language,\n  onViewClick,\n  onDeleteClick,\n  onSubmitClick,\n  showPublishAction,\n  showUnPublishAction,\n  showUnSubmitAction,\n  onUnSubmitClick,\n  onUnPublishClick,\n}) => (\n  <ListItem key={record.key}>\n    <ListItemAvatar>\n      <Avatar>\n        <Description />\n      </Avatar>\n    </ListItemAvatar>\n    <ListItemText\n      onClick={onViewClick}\n      primary={<div style={{ width: \"80%\" }}>{record.title[language]}</div>}\n      secondary={\n        <span>\n          Author: {record.userinfo.displayName} {record.userinfo.email} <br />\n          <LastEdited dateStr={record.created} />\n          <br />\n          UUID: {record.identifier}\n          <br />\n        </span>\n      }\n    />\n    <ListItemSecondaryAction>\n      <Tooltip title={<I18n en=\"View\" fr=\"Vue\" />}>\n        <span>\n          <IconButton onClick={onViewClick} edge=\"end\" aria-label=\"view record\">\n            {showUnPublishAction ? <Visibility /> : <Edit />}\n          </IconButton>\n        </span>\n      </Tooltip>\n\n      <Tooltip title={<I18n en=\"Delete\" fr=\"Supprimer\" />}>\n        <span>\n          <IconButton onClick={onDeleteClick} edge=\"end\" aria-label=\"delete\">\n            <Delete />\n          </IconButton>\n        </span>\n      </Tooltip>\n      {showPublishAction && (\n        <Tooltip title={<I18n en=\"Publish\" fr=\"Publier\" />}>\n          <span>\n            <IconButton onClick={onSubmitClick} edge=\"end\" aria-label=\"delete\">\n              <Publish />\n            </IconButton>\n          </span>\n        </Tooltip>\n      )}\n      {showUnPublishAction && (\n        <Tooltip title={<I18n en=\"Un-publish\" fr=\"De-Publier\" />}>\n          <span>\n            <IconButton\n              onClick={onUnPublishClick}\n              edge=\"end\"\n              aria-label=\"delete\"\n            >\n              <Eject />\n            </IconButton>\n          </span>\n        </Tooltip>\n      )}\n      {showUnSubmitAction && (\n        <Tooltip\n          title={<I18n en=\"Return to draft\" fr=\"Revenir au brouillon\" />}\n        >\n          <span>\n            <IconButton\n              onClick={onUnSubmitClick}\n              edge=\"end\"\n              aria-label=\"delete\"\n            >\n              <Eject />\n            </IconButton>\n          </span>\n        </Tooltip>\n      )}\n    </ListItemSecondaryAction>\n  </ListItem>\n);\n\nexport default MetadataRecordListItem;\n","import React from \"react\";\nimport { Typography, List, Grid, CircularProgress } from \"@material-ui/core\";\n\nimport firebase from \"../../firebase\";\nimport { auth } from \"../../auth\";\nimport { Fr, En, I18n } from \"../I18n\";\n\nimport SimpleModal from \"../FormComponents/SimpleModal\";\nimport MetadataRecordListItem from \"../FormComponents/MetadataRecordListItem\";\n\nclass Reviewer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: {},\n      deleteModalOpen: false,\n      publishModalOpen: false,\n      unPublishModalOpen: false,\n      unSubmitModalOpen: false,\n      modalKey: \"\",\n      modalUserID: \"\",\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: true });\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(\"users\")\n          .on(\"value\", (users) =>\n            this.setState({ users: users.toJSON(), loading: false })\n          );\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  editRecord(key, userID) {\n    const { match, history } = this.props;\n    const { language, region } = match.params;\n    history.push(`/${language}/${region}/${userID}/${key}`);\n  }\n\n  async submitRecord(key, userID, status) {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    if (key && userID) {\n      this.setState({ loading: true });\n\n      const recordRef = firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        .child(userID)\n        .child(\"records\")\n        .child(key);\n\n      await recordRef.child(\"status\").set(status);\n      await recordRef.child(\"timeFirstPublished\").set(new Date().toISOString());\n\n      this.setState({ loading: false });\n    }\n  }\n\n  async deleteRecord(key, userID) {\n    const { match } = this.props;\n    const { region } = match.params;\n    if (key && userID) {\n      this.setState({ loading: true });\n\n      await firebase\n        .database()\n        .ref(region)\n        .child(\"users\")\n        // this can be any user id\n        .child(userID)\n        .child(\"records\")\n        .child(key)\n        .remove();\n\n      this.setState({ loading: false });\n    }\n  }\n\n  toggleModal(modalName, state, key = \"\", userID) {\n    this.setState({ modalKey: key, [modalName]: state, modalUserID: userID });\n  }\n\n  render() {\n    const { users } = this.state;\n\n    const { match } = this.props;\n    const { language } = match.params;\n\n    const records = [];\n\n    Object.entries(users).forEach(([userID, user]) => {\n      if (user.records) {\n        Object.entries(user.records).forEach(([key, record]) => {\n          records.push({\n            ...record,\n            userinfo: { ...user.userinfo, userID },\n            key,\n          });\n        });\n      }\n    });\n\n    const recordsForReview = records.filter(\n      (record) => record.status === \"submitted\"\n    );\n    const recordsPublished = records.filter(\n      (record) => record.status === \"published\"\n    );\n    const {\n      deleteModalOpen,\n      modalKey,\n      modalUserID,\n      unPublishModalOpen,\n      publishModalOpen,\n      unSubmitModalOpen,\n      loading,\n    } = this.state;\n\n    return (\n      <Grid container direction=\"column\" spacing={3}>\n        <SimpleModal\n          open={deleteModalOpen}\n          onClose={() => this.toggleModal(\"deleteModalOpen\", false)}\n          onAccept={() => this.deleteRecord(modalKey, modalUserID)}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <SimpleModal\n          open={publishModalOpen}\n          onClose={() => this.toggleModal(\"publishModalOpen\", false)}\n          onAccept={() => this.submitRecord(modalKey, modalUserID, \"published\")}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <SimpleModal\n          open={unPublishModalOpen}\n          onClose={() => this.toggleModal(\"unPublishModalOpen\", false)}\n          onAccept={() => this.submitRecord(modalKey, modalUserID, \"submitted\")}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <SimpleModal\n          open={unSubmitModalOpen}\n          onClose={() => this.toggleModal(\"unSubmitModalOpen\", false)}\n          onAccept={() => this.submitRecord(modalKey, modalUserID, \"\")}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        />\n        <Grid item xs>\n          <Typography variant=\"h5\">\n            <I18n>\n              <En>Review submissions</En>\n              <Fr>Examen des soumissions</Fr>\n            </I18n>\n          </Typography>\n        </Grid>\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <>\n            {recordsForReview.length ? (\n              <>\n                <Grid item xs>\n                  <Typography>\n                    <I18n>\n                      <En>\n                        These are the submissions we have received from all\n                        users that have not yet been reviewed. To accept a\n                        record, click the 'Publish' button. Once a record is\n                        published, you can download the xml or yaml\n                      </En>\n                      <Fr>\n                        Ce sont les soumissions que nous avons reues de tous\n                        les utilisateurs qui n'ont pas encore t examines.\n                        Pour accepter un enregistrement, cliquez sur le bouton \n                        Publier . Une fois qu'un enregistrement est publi,\n                        vous pouvez tlcharger le xml ou yaml\n                      </Fr>\n                    </I18n>{\" \"}\n                    .\n                  </Typography>\n                </Grid>\n                <Grid item xs>\n                  <List>\n                    {recordsForReview.map((record) => {\n                      return (\n                        <MetadataRecordListItem\n                          record={record}\n                          key={record.key}\n                          language={language}\n                          onViewClick={() =>\n                            this.editRecord(record.key, record.userinfo.userID)\n                          }\n                          onDeleteClick={() =>\n                            this.toggleModal(\n                              \"deleteModalOpen\",\n                              true,\n                              record.key,\n                              record.userinfo.userID\n                            )\n                          }\n                          onSubmitClick={() =>\n                            this.toggleModal(\n                              \"publishModalOpen\",\n                              true,\n                              record.key,\n                              record.userinfo.userID\n                            )\n                          }\n                          onUnSubmitClick={() =>\n                            this.toggleModal(\n                              \"unSubmitModalOpen\",\n                              true,\n                              record.key,\n                              record.userinfo.userID\n                            )\n                          }\n                          showPublishAction\n                          showUnSubmitAction\n                        />\n                      );\n                    })}\n                  </List>\n                </Grid>\n              </>\n            ) : (\n              <Grid item xs>\n                <Typography>\n                  <I18n>\n                    <En>There are no records waiting to be reviewed.</En>\n                    <Fr>Aucun dossier n'attend d'tre examin.</Fr>\n                  </I18n>\n                </Typography>\n              </Grid>\n            )}\n\n            {recordsPublished.length ? (\n              <Grid item xs>\n                <Typography>\n                  <I18n>\n                    <En>Published records:</En>\n                    <Fr>Documents publis:</Fr>\n                  </I18n>\n                </Typography>\n                <List>\n                  {recordsPublished.map((record, i) => {\n                    return (\n                      <MetadataRecordListItem\n                        record={record}\n                        key={i}\n                        language={language}\n                        onViewClick={() =>\n                          this.editRecord(record.key, record.userinfo.userID)\n                        }\n                        onDeleteClick={() =>\n                          this.toggleModal(\n                            \"deleteModalOpen\",\n                            true,\n                            record.key,\n                            record.userinfo.userID\n                          )\n                        }\n                        onUnPublishClick={() =>\n                          this.toggleModal(\n                            \"unPublishModalOpen\",\n                            true,\n                            record.key,\n                            record.userinfo.userID\n                          )\n                        }\n                        showUnPublishAction\n                      />\n                    );\n                  })}\n                </List>\n              </Grid>\n            ) : (\n              <Grid item xs>\n                <Typography>\n                  <I18n>\n                    <En>There are no published records.</En>\n                    <Fr>Il n'y a pas d'enregistrements publis</Fr>\n                  </I18n>\n                </Typography>\n              </Grid>\n            )}\n          </>\n        )}\n      </Grid>\n    );\n  }\n}\n\nexport default Reviewer;\n","import React from \"react\";\nimport {\n  Typography,\n  Button,\n  CircularProgress,\n  TextField,\n  Grid,\n} from \"@material-ui/core\";\nimport { Save } from \"@material-ui/icons\";\n\nimport firebase from \"../../firebase\";\nimport { auth } from \"../../auth\";\nimport { En, Fr, I18n } from \"../I18n\";\n\nconst unique = (arr) => [...new Set(arr)];\n\nclass Admin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // array of strings which are email addresses or reviewers, admins\n      admins: [],\n      reviewers: [],\n      loading: false,\n    };\n  }\n\n  async componentDidMount() {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    this.setState({ loading: true });\n\n    this.unsubscribe = auth.onAuthStateChanged((user) => {\n      if (user) {\n        firebase\n          .database()\n          .ref(region)\n          .child(`permissions`)\n          .on(\"value\", (permissionsFirebase) => {\n            const permissions = permissionsFirebase.toJSON();\n\n            const admins = Object.values(permissions.admins || {});\n            const reviewers = Object.values(permissions.reviewers || {});\n\n            this.setState({\n              admins,\n              reviewers,\n              loading: false,\n            });\n          });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.unsubscribe) this.unsubscribe();\n  }\n\n  updatePermissions() {\n    const { match } = this.props;\n    const { region } = match.params;\n\n    const { reviewers, admins } = this.state;\n    if (auth.currentUser) {\n      const dbRef = firebase.database().ref(region).child(\"permissions\");\n\n      dbRef.child(\"admins\").set(unique(admins));\n      dbRef.child(\"reviewers\").set(unique(reviewers));\n    }\n  }\n\n  render() {\n    const { loading, reviewers, admins } = this.state;\n    return (\n      <Grid container direction=\"column\" spacing={3}>\n        <Grid item xs>\n          <Typography variant=\"h5\">\n            <I18n>\n              <En>Admin</En>\n              <Fr>Administrateurs</Fr>\n            </I18n>\n          </Typography>\n          <Typography>\n            <I18n>\n              <En>\n                Add each admin or reviewer's email address on it's own line\n              </En>\n              <Fr>\n                Ajouter l'adresse e-mail de chaque administrateur ou rviseur\n                sur sa propre ligne\n              </Fr>\n            </I18n>\n          </Typography>\n        </Grid>\n\n        {loading ? (\n          <CircularProgress />\n        ) : (\n          <>\n            <Grid item xs>\n              <Typography>\n                <I18n>\n                  <En>Admins</En>\n                  <Fr>Administrateurs</Fr>\n                </I18n>\n              </Typography>\n            </Grid>\n            <Grid item xs>\n              <TextField\n                multiline\n                fullWidth\n                value={admins.join(\"\\n\")}\n                onChange={(e) =>\n                  this.setState({ admins: e.target.value.split(\"\\n\") })\n                }\n              />\n            </Grid>\n            <Grid item xs>\n              <Typography>\n                <I18n>\n                  <En>Reviewers</En>\n                  <Fr>Rviseurs</Fr>\n                </I18n>\n              </Typography>\n            </Grid>\n            <Grid item xs>\n              <TextField\n                multiline\n                fullWidth\n                value={reviewers.join(\"\\n\")}\n                onChange={(e) =>\n                  this.setState({ reviewers: e.target.value.split(\"\\n\") })\n                }\n              />\n            </Grid>\n            <Grid item xs>\n              <Button\n                startIcon={<Save />}\n                variant=\"contained\"\n                color=\"secondary\"\n                onClick={() => this.updatePermissions()}\n              >\n                <I18n>\n                  <En>Save</En>\n                  <Fr>Enregistrer</Fr>\n                </I18n>\n              </Button>\n            </Grid>\n          </>\n        )}\n      </Grid>\n    );\n  }\n}\n\nexport default Admin;\n","import React from \"react\";\nimport * as Sentry from \"@sentry/react\";\n\nconst SentryTest = () => {\n  Sentry.captureException(new Error(\"Testing sentry\"));\n  return <h1>Error notification sent</h1>;\n};\n\nexport default SentryTest;\n","import React, { useContext } from \"react\";\nimport { Route, Switch, useParams } from \"react-router-dom\";\n\nimport { CircularProgress, Grid } from \"@material-ui/core\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport Submissions from \"./Pages/Submissions\";\nimport Contacts from \"./Pages/ContactsSaved\";\nimport Login from \"./Pages/Login\";\nimport NavDrawer from \"./NavDrawer\";\nimport MetadataForm from \"./Pages/MetadataForm\";\nimport EditContact from \"./FormComponents/EditSavedContact\";\nimport Reviewer from \"./Pages/Reviewer\";\nimport Admin from \"./Pages/Admin\";\nimport NotFound from \"./Pages/NotFound\";\nimport SentryTest from \"./Pages/SentryTest\";\nimport UserProvider, { UserContext } from \"../providers/UserProvider\";\nimport regions from \"../regions\";\n\nconst RegionLogo = ({ children }) => {\n  const { language, region } = useParams();\n  const imgPath = `/cioos-${region}-${language}.png`;\n  return (\n    <Grid container direction=\"column\" spacing={2}>\n      <Grid item xs>\n        <img src={process.env.PUBLIC_URL + imgPath} alt={region} />\n      </Grid>\n      <Grid item xs style={{ paddingLeft: \"50px\" }}>\n        {children}\n      </Grid>\n    </Grid>\n  );\n};\nconst Pages = ({ match }) => {\n  const { loggedIn, authIsLoading } = useContext(UserContext);\n\n  return (\n    <>\n      {authIsLoading ? (\n        <CircularProgress />\n      ) : (\n        <RegionLogo>\n          {loggedIn ? (\n            <Switch>\n              <Route path={`${match.path}/`} exact component={Submissions} />\n              <Route path={`${match.path}/new`} component={MetadataForm} />\n              <Route\n                path={`${match.path}/contacts/:contactID`}\n                component={EditContact}\n              />\n              <Route\n                path={`${match.path}/contacts/new`}\n                component={EditContact}\n              />\n              <Route path={`${match.path}/contacts`} component={Contacts} />\n              <Route\n                path={`${match.path}/:userID/:recordID`}\n                component={MetadataForm}\n              />\n              <Route\n                path={`${match.path}/submissions`}\n                component={Submissions}\n              />\n              <Route path={`${match.path}/reviewer`} component={Reviewer} />\n              <Route path={`${match.path}/admin`} component={Admin} />\n              <Route\n                path={`${match.path}/sentry-test`}\n                component={SentryTest}\n              />\n              <Route path=\"*\" component={NotFound} />\n            </Switch>\n          ) : (\n            <Login />\n          )}\n        </RegionLogo>\n      )}\n    </>\n  );\n};\nconst BaseLayout = ({ match }) => {\n  const { region } = useParams();\n\n  const theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: regions[region].colors.primary,\n      },\n      secondary: {\n        main: regions[region].colors.secondary,\n      },\n    },\n    props: {\n      MuiTextField: {\n        variant: \"outlined\",\n      },\n      MuiSelect: {\n        variant: \"outlined\",\n      },\n      MuiButton: {\n        variant: \"outlined\",\n      },\n    },\n  });\n\n  return (\n    <UserProvider>\n      <ThemeProvider theme={theme}>\n        <NavDrawer>\n          <Pages match={match} />\n        </NavDrawer>\n      </ThemeProvider>\n    </UserProvider>\n  );\n};\n\nexport default BaseLayout;\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\n\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\n\nimport Typography from \"@material-ui/core/Typography\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport regions from \"../../regions\";\n\nconst useStyles = makeStyles({\n  root: {\n    maxWidth: 345,\n  },\n  media: {\n    height: 400,\n    \"&:hover\": {\n      filter:\n        \"brightness( 100% ) contrast( 100% ) saturate( 200% ) blur( 0px ) hue-rotate( 197deg )\",\n      /*  */\n    },\n  },\n});\n\nexport default function MediaCard({ region, regionSummary }) {\n  const history = useHistory();\n  const { language } = useParams();\n  const classes = useStyles();\n\n  const regionInfo = regions[region];\n  const imgPath = `/cioos-${region}-${language}.png`;\n\n  return (\n    <Card\n      className={classes.root}\n      onClick={() => history.push(`/${language}/${region}`)}\n      style={{ minHeight: \"500px\", minWidth: \"400px\" }}\n    >\n      <CardActionArea>\n        <CardMedia\n          className={classes.media}\n          image={`${process.env.PUBLIC_URL}/map-${region}.jpg`}\n          title={regionInfo.title[language]}\n        />\n        <CardContent>\n          <div>\n            <img\n              src={process.env.PUBLIC_URL + imgPath}\n              alt={region}\n              style={{ margin: \"10px\", maxWidth: \"300px\", maxHeight: \"80px\" }}\n            />\n          </div>\n\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            {regionSummary}\n          </Typography>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n}\n","import React from \"react\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { En, Fr, I18n } from \"../I18n\";\nimport RegionCard from \"../FormComponents/RegionCard\";\nimport { useParams } from \"react-router-dom\";\n\nimport regions from \"../../regions\";\nexport default function RegionSelect() {\n  const { language } = useParams();\n\n  return (\n    <Grid container direction=\"column\" spacing={2}>\n      <Grid item xs>\n        <Typography variant=\"h6\">\n          <I18n>\n            <En>\n              Welcome to the CIOOS Metadata Entry Tool. To get started, please\n              select the region where your data was collected.\n            </En>\n            <Fr>\n              Bienvenue dans l'outil de saisie de mtadonnes CIOOS. Pour\n              commencer, veuillez slectionner la rgion dans laquelle vos\n              donnes ont t collectes.\n            </Fr>\n          </I18n>\n        </Typography>\n      </Grid>\n      <Grid item xs>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-start\"\n          alignItems=\"stretch\"\n        >\n          {Object.entries(regions).map(([regionCode, regionInfo]) => {\n            if (regionInfo.showInRegionSelector)\n              return (\n                <Grid item xs key={regionCode}>\n                  <RegionCard\n                    region={regionCode}\n                    regionSummary={regionInfo.introPageText[language]}\n                  />\n                </Grid>\n              );\n            return null;\n          })}\n        </Grid>\n      </Grid>\n    </Grid>\n  );\n}\n","import React from \"react\";\nimport {\n  Route,\n  HashRouter as Router,\n  Redirect,\n  Switch,\n} from \"react-router-dom\";\nimport regions from \"../regions\";\nimport NavDrawer from \"./NavDrawer\";\n\nimport BaseLayout from \"./BaseLayout\";\nimport RegionSelect from \"./Pages/RegionSelect\";\n\nconst languagePath = \":language(en|fr)\";\n// eg :region(pacific|atlantic..)\nconst regionPath = `:region(${Object.keys(regions).join(\"|\")})`;\n\nconst App = () => (\n  <Router basename=\"/\">\n    <Switch>\n      <Route exact path=\"/\">\n        <Redirect to=\"/en/region-select\" />\n      </Route>\n      <Route\n        path={`/${languagePath}/region-select`}\n        exact\n        component={() => (\n          <NavDrawer>\n            <RegionSelect />\n          </NavDrawer>\n        )}\n      />\n      <Route path={`/${languagePath}/${regionPath}`} component={BaseLayout} />\n      <Route path=\"*\">\n        <Redirect to=\"/en/region-select\" />\n      </Route>\n    </Switch>\n  </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as Sentry from \"@sentry/react\";\nimport { Integrations } from \"@sentry/tracing\";\n\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nif (process.env.NODE_ENV === \"production\")\n  Sentry.init({\n    dsn:\n      \"https://8fd4b6885cc447c0b11aa0cb3009b0e3@o56764.ingest.sentry.io/5493983\",\n    integrations: [new Integrations.BrowserTracing()],\n\n    // We recommend adjusting this value in production, or using tracesSampler\n    // for finer control\n    tracesSampleRate: 1.0,\n  });\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}